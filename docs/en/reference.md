# Workspace

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

You can use **Workspace** to manage entities, scripts, and images more efficiently.

##### Reference Guide

[Entity, Component, Property](/docs?postId=54) [Model](/docs?postId=55)

# Introducing Workspace

**Workspace** is where you can manage your resources in a folder type. In order to create a World more efficiently, you should be able to find what you need via **Workspace**. By default, the **Workspace** panel is located at the center right. Creators can choose to move its location. **Workspace** consists of **BaseEnvironment**, which saves models and scripts provided by the maker, and **MyDesk**, which saves resources created by the creator. Also, for more convenience, it offers **DefaultPlayer**.

> **Tip.** In the Maker, when you cannot find the **Workspace** panel, click **Panels - Workspace**.

![Workspace](https://mod-file.dn.nexoncdn.co.kr/bbs/16970914230526448d81201d64b46ace8099e009114fc.png)

**Workspace's** parent folder (entry) is as follows.

| Icon | Name | Description |
| --- | --- | --- |
| ![workspace_MyAvatar](https://mod-file.dn.nexoncdn.co.kr/bbs/16346008379922a9b756c3912461db7195808cb554abd.png) | DefaultPlayer | It refers information of Player from NativeModel. The player avatar entity that is actually created belongs to the World.<br>Upon the start of the game, player avatar is created at the starting point. |
| ![workspace_NativeFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/1634598960433b8c2accd227347b29b0efb94f1320156.png) | BaseEnviroment | Basic Component, Service, Logic, and Event provided by Maker are saved. |
| ![workspace_UserFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/1634600723422190820861d63456fa40e21031bd5ffa2.png) | MyDesk | **Resources added by creator, Models and Components expanded or duplicated from BaseEnvironment will be added.**<br>You can change the World's setting in WorldConfig. <br> Newly added resources are saved under the MyDesk folder. You can add folders when necessary to manage resources efficiently. |

# Searching Workspace

![Common_search01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634538429925640e864de1094ea8a4df3109e38dbb7d.png)Search from the search box to look for resources or models quickly.

- The search criterion is the name of the resource/model.
- The search scope is all of **Workspace**.
- When you enter a search term, only results that match the criteria are displayed. ![workspace007](https://mod-file.dn.nexoncdn.co.kr/bbs/16607022459523d659807533b45bd80d145f3d879a9fe.png)

# WorldConfig

Modifies the World's configuration. There may be more settings in WorldConfig after future updates. If you click WorldConfig, the property editor window will show settings that can be modified. For more information on WorldConfig, please refer to the [WorldConfig](/docs?postId=1101) guide.

- **LegacyAnimation**: Applies movement and animations from previous MapleStory Worlds to your character.
- **PlayerEntityAuthorityCheck**: Changes the Server functions of Components belonging to the Player entity to prevent them from being called from any Client other than the local Client. Enabling this setting provides a higher level of security.
- **ServiceAuthorityCheck**: Changes all Server functions of Service operating in Native to work as ServerOnly functions. Enabling this setting provides a higher level of security.
- **SourceLanguage**: If a player uses auto-translation feature in the World, use the language of SourceLanguage as the translation subject. Currently, you can use Korean and English as the original language. More languages may be available after future updates.

# BaseEnvironment

They are folders with Maker's basic features. It consists of two folders.

- **NativeScripts**
- **NativeModel**

You cannot change the order of **BaseEnvironment** or move sublists. All layers of **NativeScripts** cannot be duplicated/deleted. To modify the properties of **NativeScripts** and use them as desired, you need to extend the respective script. In addition, **NativeModel** can be duplicated or extended for utilization.

The main entries of **BaseEnvironment** are as follows.

| Icon | Name | Description |
| --- | --- | --- |
| ![workspace_LockedNativeFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/163459994812299d7858eb2d142a9a57caaec1f0a09a7.png) | NativeScripts | Component, Service, Logic, Event, Misc are saved as subfolders. <br>Scripts in this folder cannot be deleted. <br>Component can be expanded, and expanded components will be saved to the MyDesk folder. |
| ![workspace_LockedNativeFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/163459994812299d7858eb2d142a9a57caaec1f0a09a7.png) | Component | This is the folder that saves basic components that cannot be modified or deleted. <br> You can extend Component to use. |
| ![workspace_LockedNativeFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/163459994812299d7858eb2d142a9a57caaec1f0a09a7.png) | Service | This is the folder that saves basic services that cannot be modified or deleted. |
| ![workspace_LockedNativeFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/163459994812299d7858eb2d142a9a57caaec1f0a09a7.png) | Logic | This is the folder that saves basic logic that cannot be modified or deleted. |
| ![workspace_LockedNativeFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/163459994812299d7858eb2d142a9a57caaec1f0a09a7.png) | Event | This is the folder that saves basic events that cannot be modified or deleted. |
| ![workspace_LockedNativeFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/163459994812299d7858eb2d142a9a57caaec1f0a09a7.png) | Misc | This is the folder where other scripts are saved. |
| ![workspace_NativeFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/1634598960433b8c2accd227347b29b0efb94f1320156.png) | NativeModel | This is the folder that saves basic models from Maker. You can place models in Scene to use them right away. <br>Although you cannot move to a different folder or create models, you can still utilize them by cloning or extending as needed.<br>The extended models are stored in the MyDesk folder. |

# MyDesk

**MyDesk** collects and manages music, script, image files, and extended components added by the creator. **MyDesk** is like storage that adds new items in the same hierarchy. You need to create a new folder in **MyDesk** to save and manage them in the same location.

> **Tip** **Workspace** is like storage, while **Hierarchy** is the concept for the current operation. Place a resource added to **MyDesk** into the World, and it will create the entity in **Hierarchy**. Deleting the original file from **MyDesk** will delete the information from the entity referring that file, but the entity created will not be removed. If the entity was placed directly from **MyDesk**, **Missing** is added to the name of the entity (resource), and it turns red. ![workspace002](https://mod-file.dn.nexoncdn.co.kr/bbs/16359122256435b2c3432bf4e40b69b2cfe2175942941.png)

**UIPopup** and **UIToast** are logics that can be modified or deleted at the creator's choosing. Depending on the production, you can choose to delete them anytime. You can also choose to extend or duplicate them as is necessary.

| Icon | Name | Description |
| --- | --- | --- |
| ![workspace_logic](https://mod-file.dn.nexoncdn.co.kr/bbs/163459925288465e2645e5e334c0e96f20e740f8d8e5d.png) | UIPopup | It's a pop-up message logic. You can modify the original logic or delete it. |
| ![workspace_logic](https://mod-file.dn.nexoncdn.co.kr/bbs/163459925288465e2645e5e334c0e96f20e740f8d8e5d.png) | UIToast | It's a toast message logic. You can modify the original logic or delete it. |

#### Adding Resource to MyDesk

1. Click the **[+]** button on the right side of the search box to open the Context menu.
2. Choose an item.
3. The new item will be added under **Workspace's** **MyDesk**.

> **Tip** Since resources added by the creator can all be changed, they are created within **MyDesk** .

![workspace05](https://mod-file.dn.nexoncdn.co.kr/bbs/16874792631302293c55974c04671a6aa795ca68ae9d2.png)

#### Deleting MyDesk Folder

You can delete empty folders immediately. Deleting the folder that contains resources will delete all the resources in the folder. To prevent mistakes, when deleting a folder containing resources, press **Delete** and then click the **[Yes]** button in the warning window to delete it.

![workspace04](https://mod-file.dn.nexoncdn.co.kr/bbs/1656904249966670999d9056642848204c30fdfa8d219.png)

# Workspace Context Menu

The context menu list is composed of the following.

#### DefaultPlayer Major Context Menu

| List | Description |
| --- | --- |
| Duplicate | Create a model by duplicating DefaultPlayer. |
| Open | It is used to check the status or changes of the player. |
| Add Component | Add components to DefaultPlayer. |
| Add New Component | Create a new component and add it to DefaultPlayer. |
| Extend | Create an extended model of DefaultPlayer. |
| Copy Entry ID | Copy the ModelID of DefaultPlayer. |

#### BaseEnvironment Major Context Menu

You cannot access the context menu from a locked folder.

| List | Description |
| --- | --- |
| Duplicate | Clones NativeModel. |
| Open | Open selected item. |
| Add Component | Add components to NativeModel. |
| Add New Component | Add a new component to NativeModel. |
| Place to Hierarchy | Place selected model in Scene. |
| Extend | Create an extended model of the selected model. |
| Copy Entry ID | Copies ID of selected model. |

#### MyDesk Context Menu

| List | Sub-list | Description |
| --- | --- | --- |
| Create Folder | - | Creates a new folder. |
| Create Scripts | Create Component | Create a new script component. |
| Create EventType | Creates a new event type. |
| Create ItemType | Creates a new item type. |
| Create BTNodeType | Create a new BTNode type. |
| Create StateType | Create a new StateType type. |
| Create StructType | Create a new StructType type. |
| Create Logic | Creates a new logic. |
| Create Script | Creates a top-level script where you can start composing from scratch. |
| Create DataSet | - | Create a new DataSet. |
| Create TileDataSet | - | Create a new TileDataSet. |
| Create AtlasBlueprint | - | Create a new AtlasBlueprint. |
| Create Material | - | Create a new material. |
| Create Model | - | Create a new empty model. Manually add a new component. |
| Copy Entry ID | - | Copy the ID of the selected entry. |
| Import From | Import Scripts | Imports script from PC. |
| Import Image | Imports image file from PC. |
| Import Sound | Imports sound file from PC. |
| Import Package | Loads package from PC. |

Update 2025-11-20 PM 02:03


# WorldConfig

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

MapleStory Worlds provides various world setting functions in WorldConfig. The features of WorldConfig have an overall impact on the world you create.

##### Reference Guide

- [Execution Space Control](/docs/?postId=210)
- [Effective MSW 2](/docs/?postId=560)
- [Preparation for Packet Change](/docs?postId=1102)
- [Server Verification Example](/docs?postId=1084)

# Introduce WorldConfig

You can customize a variety of settings in your world through the WorldConfig menu.

- Press **Edit - WorldConfig**.
- Detailed settings appear in the **Property Editor window** when you select **Workspace - WorldConfig**.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17114447139367ac91d0b1e984ea3bba1d2ee1e30882e.png)

# LegacyAnimation

On March 23, 2023, the avatar movements and animations in MapleStory Worlds were changed to behave similarly to the original MapleStory. If the creator's World was created before the update date, enable LegacyAnimation to apply the avatar movements and animations from the previous MapleStory Worlds. However, we do not recommend applying LegacyAnimation to the Worlds created after the update date, as the current avatar movements are similar to the original MapleStory. The previous and current movements are as follows.

| true | false |
| --- | --- |
| ![legacy](https://mod-file.dn.nexoncdn.co.kr/bbs/16957010690636f2b8b04e7494501a3765817083d211d.gif) | ![animation](https://mod-file.dn.nexoncdn.co.kr/bbs/1695701089240b13b2ad54232422582e9fd9f8b9c8e04.gif) |

# PlayerEntityAuthorityCheck

Calls the server functions of components belonging to the player entity only by the <span style="color: #dc9656">**local client**. Enabling this setting can increase the security of the World. For example, the `MoveToMapPosition()` function of a component belonging to DefaultPlayer whose execution space is server cannot be called by any client other than the local client. When you execute the function, an error message appears in the console window.

```
Method:
[client only]
void NewFunction ()
{
    local targetEntity = nil
    for key, value in pairs(_UserService.UserEntities) do
    	if key ~= _UserService.LocalPlayer.Name then
    		targetEntity = value
    		break
    	end
    end
    
    if targetEntity ~= nil then
    	targetEntity.PlayerComponent:MoveToMapPosition("map01", Vector2(0, 3))
    end
}
```

![PlayerEntity](https://mod-file.dn.nexoncdn.co.kr/bbs/169571933009917b0b6c1d9994fe9a9e71fa7ff2dacbd.png)

# ServiceAuthorityCheck

Changes all Server functions of the service to behave as <span style="color: #dc9656">**ServerOnly functions**. Enabling this setting can increase the security of the World. For example, if you run a function whose execution space is server in the client only function as shown below, an error message appears in the console window when it is executed.

```
Method:
[client only]
void OnMapEnter (Entity enteredMap)
{
    _TeleportService:TeleportToMapPosition(me, currentPosition + Vector3(0, 2, 0), currentMapName)
}
```

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/169570858853819399808907c4a219ad5a93aa6dcab19.png)

# RestrictedPlayerEntitySync

Sets the **Sync** property of the native component belonging to the player entity to prevent the values changed on the client from being synchronized to the server. Enabling this setting can increase the security of the World. For example, if you type a message in `ChatBalloonComponent.Message` on the client, the chat balloon will not appear on other players' screens, since it is not synchronized to the server.

```
[client only]
void ShowChatBalloon ()
{
    local chatBalloon = self.Entity.ChatBalloonComponent
    chatBalloon.ChatModeEnabled = false
    chatBalloon.AutoShowEnabled = true
    chatBalloon.Message = "MapleStory Worlds"
}
```

However, the following components are not affected by the RestrictedPlayerEntitySync. Note that if you belong to the player entity, synchronization from client to server is always performed.

- MovementComponent
- PlayerControllerComponent
- StateComponent
- TransformComponent

# SourceLanguage

If the player uses the [Automatic Translation](/docs/?postId=1072) feature in the World, it uses the language of SourceLanguage as the translation target. Currently, you can use Korean and English as the original language. More languages may be available after future updates.

# LocalWorkspace

This allows you to download a creator's World data to the creator's desktop (Local). You can save various entries and data from the World as files on your desktop. For more information, please refer to the [LocalWorkspace](/docs/?postId=1165) guide.

Update 2025-11-17 PM 06:29


# Hierarchy

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

You can check the production status through the **Hierarchy** and use it to increase production efficiency.

# About Hierarchy

The **Hierarchy** tab is a panel where you can see the production status in **hierarchy structure (parent-child)**. It's useful to quickly find entities in a complex map or to manage entities in a systematic manner. Under the top **World** hierarchy, there are **common**, **maps**, and **ui** entries. The **maps** and **ui** entries have their own sub-entries.

| Icon | Name | Explanation |
| --- | --- | --- |
| ![workspace_world](https://mod-file.dn.nexoncdn.co.kr/bbs/1634520188174b448bb50e5c64320bb3c882a5b438d6d.png) | World | The top class is where you'll find entities that were actually used in production.<br>There are sub-entries, common, maps, and ui.<br> You can see and edit the configuration of the game currently being created. |
| ![icon_asset](https://mod-file.dn.nexoncdn.co.kr/bbs/163451962580666b43144ad504f8e9e4a7cc01771207a.png) | common | You can create a rule that applies to the whole game.<br>You can also add and use components. |
| ![workspace_maps](https://mod-file.dn.nexoncdn.co.kr/bbs/16345995071559181085e7c2544278d4418375d12ca2e.png) | maps | Entities placed in maps are located at the sub-level of map entries.<br>There is map01 as the basic sub-entry. |
| ![workspace_ui](https://mod-file.dn.nexoncdn.co.kr/bbs/1634520137460bf156bbec2ef452c9a5a31d9cbec5a61.png) | ui | Entities added from the UI Editor go to the sub-entry.<br>There are DefaultGroup, PopupGroup, ToastGroup as basic sub-entries. |

# Hierarchy Structure

In a hierarchy structure, the top list (entry) is the parent, and the sub-list is the child. In a **parent-child** structure, parent is the broader category, and things in child belong to the parent. Hierarchical classification is useful when multiple entities have the same property, or when you want to put multiple entities into a group. Especially if you classify a number of entities by a certain standard, you can manage them in a systematic manner. You can make the parent-child structure using **drag and drop**. Drag and drop an entity that you'd like to set as child under another entity—the dragged entity will become the child. The child entities are affected by the parent entity. For example, if you change **TransformComponent** of the parent entity, the child entity will change automatically.

> **Tip** The impact goes one way. (Parent → Child)

You can drag and drop to create a parent-child structure, then make another parent-child structure within that structure. Let's look at an example where objects that were in the same class turn into a parent-child structure. Box3 became the child of Box2, which is the child of Box1, to make a double hierarchy structure (parent-child).

![scenemaker03](https://mod-file.dn.nexoncdn.co.kr/bbs/16595015512015162cbdf29594207ad7fb9c0f51c75b2.gif)

You can use such a structure to move multiple entities at once, or to change only the parents in the higher level. The following example shows 3 actions.

- Select Box1 to move the rest of the objects at once.
- Select Box2 to rotate the object together with Box3 and zoom in.
- Select Box4 only to move it separately.

All 3 actions above used characteristics of the hierarchy structure. Selecting the parent will affect the child even in the double structure, but since child class cannot affect the parent class, you can change the child's status by selecting the child.

![box1](https://mod-file.dn.nexoncdn.co.kr/bbs/1661498040265eebb1ccae6574916b97afdfe7fb3a202.gif)

Such a structure is especially useful when you use several entities to make a particular UI or construction. For example, let's say you're making a confirmation message window. If you set the overall background as parent and use the parent-child structure for button background and text, changing the button will not affect entities in another message window.

# Hierarchy Search Function

The search window is right below the tab title. Different result values appear depending on the search criteria, so select and search as needed. There are two search criteria: **Name** and **Component**, and they are used as follows.

- **Name** : Use when searching for matching values through the entire area of **Workspace**.
- **Component**: Looks up the value with input component from all entities.

| Search Name "chat" | Search Component "chat" |
| --- | --- |
| ![hierachy01](https://mod-file.dn.nexoncdn.co.kr/bbs/166149753085952e43e90e24240fabe1c43f54d182c4a.png) | ![hierachy02](https://mod-file.dn.nexoncdn.co.kr/bbs/16614975572003bbd30ba3f0c45c19ec477a6e1e22b77.png) |

# Context Menu by Entry

Context menus of **Hierarchy**'s high entries are as follows. For child entities, a separate list will be activated depending on their characteristic.

| Entry Name | Menu List | Explanation |
| --- | --- | --- |
| World | Create Entity | Creates a new entity. |
| Create Entity as Child | Creates a new child entity. |
| Property | Opens the world's Property Editor window. |
| Go To Entity | Moves to selected entity. |
| Copy Entity ID | Copies entity ID. |
| common | Create Entity | Creates a new entity. |
| Create Entity as Child | Creates a new child entity. |
| Property | Opens common's Property Editor window. |
| Go To Entity | Moves to selected entity. |
| Add Component | Adds a component to common. |
| Add New Component | Adds a new component to common. |
| Copy Entity Path | Copies entity path. |
| Copy Entity ID | Copies entity ID. |
| maps | Create New Map | Creates a new map. |
| Create Entity | Creates a new entity. |
| Create Entity as Child | Creates a new child entity. |
| Property | Opens maps' Property Editor window. |
| Go To Entity | Moves to selected entity. |
| Copy Entity Path | Copies entity path. |
| Copy Entity ID | Copies entity ID. |
| map01 | Create New Map | Creates a new map. |
| Create Entity | Creates a new entity. |
| Create Entity as Child | Creates a new child entity. |
| Switch To RectTileMap | Convert to RectTileMape. |
| Switch To SideViewRectTileMap | Convert to SideViewRectTileMap. |
| Duplicate | Copies map. |
| Rename | Changes name of map01. |
| Property | Opens map01's Property Editor window. |
| Go To Entity | Moves to selected entity. |
| Add Component | Adds a component to map01. |
| Add New Component | Adds a new component to map01. |
| Copy Entity Path | Copies entity path. |
| Copy Entity ID | Copies entity ID. |
| ui | Create Entity | Creates a new entity. |
| Create Entity as Child | Creates a new child entity. |
| Property | Opens the ui's Property Editor window. |
| Go To Entity | Moves to selected entity. |
| Copy Entity Path | Copies entity path. |
| Copy Entity ID | Copies entity ID. |

Update 2025-11-17 PM 08:14


# Scene

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

Scene is a required window that is ued to create and test a world and its UI. Let's look at the various functions it provides.

##### Reference Guide

- [Workspace](/docs/?postId=121)
- [Hierarchy](/docs/?postId=453)
- [Property Editor](/docs/?postId=1087)
- [Utilizing and Controlling UI Editor](/docs/?postId=120)

# Scene

The Scene is a window where you can see all of your UI screens, maps, and the state of the Worlds you're testing. It will be switched to the UI Editor and the test screen according to the creator's choice. *For the map, the maps selected in **Hierarchy** will be displayed.

- Press the **[UI]** button to enter the UI Edit window, and the Scene window will switch to the Editor.
- The Scene screen will change to the test edit screen screen upon pressing the **[Start]** button to test a created world. It will return to the Scene creation screen when the test is over. Entity information edited during the world test is only valid during the test.

#### Scene's Functions

You can use various functions based on the Scene status. The icon will be visible on the menu above.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1737097069972da535f8e4e944afdb42c571b35b73088.png)

| Icon | Name | Description |
| --- | --- | --- |
| - | Scale | You can zoom in and out of the Scene. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_reset.png) | Reset | Restores the adjusted zoom in/out values to its default value. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_grid.png) | Grid Info | Shows gridlines over the grid scene. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_foothold.png) | Foothold | Shows the foothold of the entity with FootholdComponent. The foothold is shown as a red line. |
| ![StartingMap](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_starting_map.png) | Playing on the Start Map | When testing the World you created, you will start testing on the start map. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_plus.png) | Cursor Location | Shows the cursor location in Scene. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_scene_maximize.png) | Maximize Scene | Change the Scene to fullscreen mode. Press [Minimize] to return to the previous size. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_ui_snap.png) | UI Snap | This function helps with UI alignment. It makes it so that the outlines of UI don't overlap. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_play_here.png) | Play Here | The starting location of the test can be set by the creator. |

#### Scene's Functions When Testing

The functions available in Scene changes for testing. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/173745185491329d2287c7cbd4506bdbbc1c9144c56db.png)

| Icon | Name | Description |
| --- | --- | --- |
| - | Scale | The Scale can be zoomed in and out. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_reset.png) | Reset | Returns the adjusted zoom in/out values to the default value. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_plus.png) | Cursor Location | Shows the cursor's location in Scene. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_scene_maximize.png) | Maximize Scene | Change Scene to full screen mode. Press the [Minimize] button to return to its previous size. |

Update 2025-11-17 PM 08:14


# Play

# Course Introduction

Let's learn about the Play window where you can test created worlds.

#### Reference Guide

- [Scene](/docs/?postId=1152)
- [Workspace](/docs/?postId=121)
- [Hierarchy](/docs/?postId=453)
- [Property Editor](/docs/?postId=1087)
- [Utilizing and Controlling the UI Editor](/docs/?postId=120)

# Play

The Play window is used when testing created worlds. It only activates when you start the playtest by pressing the **[Start]** button. It operates with a camera separate from the Scene window where the world is edited, so screen movement during testing isn't synchronized. However, when the client is changed from Scene, it will be reflected on the Play window. The test screen ratio can be set before testing, and a virtual client can be added during testing to initiate multi-testing.

#### Play's Function

You can use a variety of functions that suit the Play window's status. The icon is visible on the top.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17370970458165d802f305fde434d9020a4eac96ab265.png)

| Icon | Name | Desc |
| --- | --- | --- |
| - | Simulator | You can set the test screen ratio. The default value is PC.<ul><li>PC: Functions with FHD Resolution (1920x1080) as the default. The screen ratio is fixed to 16:9.</li><li>Mobile: The size of Scene and Play size can be adjusted for various mobile screen sizes. The screen ratio is kept even when testing. A Safe Area can be set.</li><li>Free: The simulator's screen ratio can be set freely. The screen ratrio is set based on the Play window size.</li></ul> |
| - | Test Play Language | Set the language that will be tested. The language can't be changed during testing. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_latency_01.png) | Function Stats | Shows the FPS and memory info of the world that is currently being played. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_scene_maximize.png) | Maximize Window | Converts the Play window to fullscreen. Revert to the previous size by pressing the **[Minimize]** button. |

#### Play when Testing

The function that can be used in the Play window when testing has been changed. ![play01](https://mod-file.dn.nexoncdn.co.kr/bbs/1737452078994c0fb1a6973394aa4b20d64ba20768447.png)

| Icon | Name | Desc |
| --- | --- | --- |
| - | Simulator | Displays the screen ratio info that is being tested. |
| - | Test Play Language | Displays the language setting currently tested. The language can't be changed while testing. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_latency_01.png) | Function Stats | Shows the FPS and memory info of the world that is currently being played. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_scene_maximize.png) | Maximize Window | Converts the Play window into fullscreen. Revert to the previous size by pressing the **[Minimize]** button. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_multiplayer.png) | Adding Virtual Players | Activated while testing. Multiple virtual clients can be open. |
| - | Number of Virtual Players | You can open multiple clients by setting the number of virtual players that will be added. You can open up to 10 virtual clients. All of them close when the test ends. |

Update 2025-11-17 PM 08:14


# Set Background

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's set up the map's background using **Preset List** and **BackgroundComponent**.

# Setting a Template Background

You can select various backgrounds of MapleStory from **Preset List - Background**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1660872151969aea4b5e0f90c4c2ab1c556a2ea900127.png)

After selecting a preset background, you can adjust the speed at which it moves (i.e. **ScrollRate**). ![1a](https://mod-file.dn.nexoncdn.co.kr/bbs/1676524214491fd465cd70f484b7baa55a9c7cceb1a78.png)

The higher the **ScrollRate** value, the faster the background will move. A negative ScrollRate will cause the background to move in the opposite direction.

| ScrollRate | Image |
| :---: | :---: |
| 1 | ![s1](https://mod-file.dn.nexoncdn.co.kr/bbs/1676524614371f682d76a305e4987aa04507430a3f891.gif) |
| 10 | ![s2](https://mod-file.dn.nexoncdn.co.kr/bbs/1676524628557d5e56dce60f74ab59a962793a594b408.gif) |
| -10 | ![s3](https://mod-file.dn.nexoncdn.co.kr/bbs/16765246400798c2f36ddf63a47bc92883f9d493b22d6.gif) |

# Setting Solid Background

You can set a solid background from **Preset List - Solid Background**. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1660872533050bd027ce1934b47669a0f3d3f82994180.png)

If you want to set different colors from those provided as presets, press the **[+]** button to open the color selector and set the color you want. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1660872694830338c5a59114a46aa9d41eeecbfae1203.png)

# Setting a Gradient Background

Select **Hierarchy - Current Map - Background** and change **Type** to **Gradient** in **BackgroundComponent** of the Property Editor to set a gradient background. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1675686701848d25aebc9b2b645519a894cb17489b07a.png) Select the top, middle top, middle bottom, and bottom colors for gradation from the color palette. In addition, use the **MiddleTopRatio, MiddleBottomRatio** properties to decide where to place the middle top and middle bottom colors. Likewise, you can easily create a gradient background in the desired style by using **Gradient** Type.

# Setting Image Background

## Setting the Background with a Saved Image

In **Preset List - Image Background**, you can set the background using an image you have saved. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/166242041253011d9fd857ab84531a074ed6982123704.png)

## Setting Web Image Background

You can set images from the web as the background.

1. Copy the image link that you want to set as the background. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1662420478272932b474fef2c4e7589e49f76d4ce4b4f.png)
2. After setting the Type of BackgroundComponent to Web, paste the copied address into WebURL. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1662419129189d4b5d5fb2028458baa10f740ecfbac45.png)
3. Let's press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) Start and test. You can see that the image on the web has been set as the background as below. ![bg](https://mod-file.dn.nexoncdn.co.kr/bbs/166241921017719b68e8cb4674133892283180eb6a3e2.gif)

Update 2025-11-17 PM 08:14


# Property Editor

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

You can use the Property Editor window to view and modify the properties of the component.

#### Reference Guide

- [Entity, Component, Property](/docs/?postId=54)
- [Workspace](/docs/?postId=121)
- [Hierarchy](/docs/?postId=453)
- [Utilizing Model](/docs?/postId=461)
- [Adding and Deleting Components](/docs/?postId=58)

# About Property Editor

The Properties panel is an editor to view and change the properties of entities and components in the model. Among the components provided by MSW, property with the HideFromInspector Attribute does not appear in the editor and is only accessible from the script. To hide properties generated by the creator from the editor, select the Hide option in the Attribute Settings. In the Property Editor window, you can add, delete, and disable components of models and entities.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1722919835240d375b04a5ca8460aa0b70afe977333b8.png)

| Numbers | Name | Description |
| --- | --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Adding Components | You can add a component by clicking the **+** button next to the search window. Please refer to [Adding and Deleting Components](docs/?postId=58). You can also add a component by clicking the Add Component button at the bottom of the Property Editor. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Search Window | The search window is right below the tab title. Different search criteria will yield different search results. You can use the function as necessary. There are two search criteria: **Component** and **Property**. They can be used as follows.<ul><li>Component: Used to find components that match the search term.</li><li>Property: Used to find components that contain a property that match the search term.</li></ul> |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Model Property | This is a bookmarked collection of properties that belong to each model or entity included in a component. You can rename entities and models created by the creator by clicking the Name area. |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Model Extension Info | You can view information about the model you're referencing or the hierarchy of the extended model. |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | Property of Component | Shows the component's property information. Components are sorted in the order they were added. |
| ![[6]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) | Hamburger Menu | Collapse or open the complete list of components included in the entity. |

# Property Editor Feature

#### Enable/Disable the Checkbox

You can enable/disable the component itself by clicking the checkbox to the left of the component name. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1692601186919c8ee674ef7054b5b88e3325a085e3853.png)

#### Edit Button

When you are setting up a collision area, you can adjust the collision zone in the Scene by clicking the Edit button. Please refer to the [Entity Collision](docs/?postId=175) guide.

#### Increase/Decrease Cursor

When changing a Vector, Number, or integer-type value, you can use the mouse to change the value. When the cursor moves near the value, it changes to the ![cursor](https://mod-file.dn.nexoncdn.co.kr/storage/icons/Cursor/cursor_scale_02.png) shape, so you can change the value. ![PlusMinus](https://mod-file.dn.nexoncdn.co.kr/bbs/16956247765542533d53ec25841009cb68f6d39ab1b8f.gif)

#### Entering a Formula

In the Property Editor, items with a value of Vector, number type can use formulas.

- `+`,`-`,`/`,`*` operations are available.
- If the operation fails, the old value will be applied.
- For types that only support integers, the decimal point in the result will be discarded.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1692583022446085bd548f1af4126b5e9e64653081457.gif)

#### Selecting Multiple Entities

When multiple entities are selected at the same time, only the properties of the component in common are displayed. When you change a specific value, the value is applied to all selected entities. If the selected entities have the same number of lists, they can be edited together. For example, you can change values from a list type such as edgeLists for CustomFootholdComponent to the same value if the Size number is the same.

![4](https://mod-file.dn.nexoncdn.co.kr/bbs/169260611101535f49fc4f0084a35a65869a08f4548ab.gif)

Update 2025-11-20 PM 03:53


# Model Editor

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# # Course Introduction

You can create a world more efficiently by using a model's properties. Let's learn about the model editor you can use to edit a model.

# Intro to Model Editor

You can create and edit models more efficiently using the model editor. You can isolate and edit models in a space separate from the map or UIGroup by entering the model editor. Map editing and test play becomes unavailable while using the model editor.

#### Entering the Model Editor

The Scene panel changes, and the Hierarchy window changes to display the hierarchical structure of the model being edited when entering the model editor. There are two ways to enter the model editor.

1. **Entering from Workspace**
  1. Create a new model from **Workspace**.
  2. Open the model editor by double-clicking.
2. **Entering from Hierarchy** 1.Create an entity in **Hierarchy** and open the context menu, select **Create Model from Entity**, and turn the entity into a model. 2. Select the created model and select **context menu - Edit Model**.

#### Screen Intro

Activating the model editor changes the Scene panel to the model editing screen, and the main button's function changes. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/175211224021236c5261d9da34c7d8f44febbb48c0e14.png)

| Number | Name | Description |
| --- | --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Scene | Save the model that's being created and return to Scene. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | NewModel | The name of the model that is being edited. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Discard | Discard the edits made before saving. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Save | Save the edited model. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | UI Button | Used when making a UI model. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) | Property Window | Add and delete components within the model that's being edited and change the property value. You can view the extension information for extended models.<br><ul><li>**Model Extension Info**: View a model's extension structure at a glance. When you need to edit a model that's on another level from the one being worked on, you can access it by selecting **Context Menu - Find Model**.</li></ul> |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_07.jpg) | Hierarchy Window | View a model's hierarchical structure from this window. You can add new child entities or change the hierarchical structure. |

# Editing Models

You can edit 3 types of models from the model editor.

1. Models created by the creator
2. Models with extended native models
3. DefaultPlayer

#### Adding/Deleting Components

You can add or delete new components from the property window.

#### Adding Child Entities/Changing Hierarchical Structures

You can create models with a hierarchal structure from the model editor. You can drag parent-child relationships in the **Hierarchy** window to set them. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17521081010150fea6ccf5f314ccea8df8b2181341c3e.png)

> **Learn More** You can change hierarchal structure from a scene that's being edited and use Create Model From Entity to create a model with a hierarchal structure. Please confirm from Hierarchy.

#### Notes for Editing

Models placed in a Scene are treated as individual entities. Placed entities aren't dependant on models, which must be noted. Therefore, entities that are placed on a map aren't affected even when the original model is edited and has its content changed. If you want to apply the edited model to the model-based entity that has been placed, you can **Revert** the entity to apply it in the same way.

If a created model is being edited after being placed, newly added entities and changed hierarchal structures aren't applied to the placed model-based entity. Only the added/deleted components and property values from the model editor are changed.

> **Tip** You can delete components of a model placed in a Scene or change its hierarchal structure only from the model editor.

Update 2025-11-17 PM 08:14


# Adding and Deleting Components

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

You can use components to add identities to entities. Let's examine how to use components and the Property Editor window.

# Component Classification

Components determine the identity of entities. You can add or delete several components from a pre-existing model to create an entity that looks the same, but operates in a different way.

In the Property Editor window, components are classified into four categories: **Map, UI, Player, Etc.**. Each category contains corresponding categories, and the icons indicate the component's characteristics. For more detail on each component, please refer to [API Reference](/apiReference?postId=317).

| Icon | Component |
| --- | --- |
| ![avatar](https://mod-file.dn.nexoncdn.co.kr/bbs/1636357080473d55d20344b90435a823e542b11829a0e.png) | Avatar Components |
| ![ui](https://mod-file.dn.nexoncdn.co.kr/bbs/1636357498603c3f1666fb49d43f2a8a35ab4921b118b.png) | UI Components |
| ![AI](https://mod-file.dn.nexoncdn.co.kr/bbs/16363570539712866386877bf4ee885533554c4398352.png) | AI Components |
| ![etc](https://mod-file.dn.nexoncdn.co.kr/bbs/163635714752051801c9ae8b24113a2a0cbe18dd96bb6.png) | Other Components<br>Creator Component |
| ![camera](https://mod-file.dn.nexoncdn.co.kr/bbs/1636357093244b60a272cb7fb490eb5770df741becff3.png) | Camera Components |
| ![player](https://mod-file.dn.nexoncdn.co.kr/bbs/1636357430620486e701f5b2d4d1599e7c72705e23f50.png) | Player Components |
| ![sprite](https://mod-file.dn.nexoncdn.co.kr/bbs/1636357473313e6e6178c7e9f4a10a65949eb0b391541.png) | Sprite Components |
| ![move](https://mod-file.dn.nexoncdn.co.kr/bbs/1636357387379505d66dc8dbf4770a32b9817b213ea39.png) | Movement Components |
| ![map](https://mod-file.dn.nexoncdn.co.kr/bbs/16363573741458fe0e51a246b4ae5898d1c2fefe92710.png) | Map Components |
| ![sound](https://mod-file.dn.nexoncdn.co.kr/bbs/16363574605286d5c7249c6344b829d3efe1b34d9eb51.png) | Sound Components |
| ![item](https://mod-file.dn.nexoncdn.co.kr/bbs/16363571792923152ba595bf340ed9f87583aeb7d3868.png) | Item Components |
| ![control](https://mod-file.dn.nexoncdn.co.kr/bbs/1636357117698b48ce0db38bc432e97e40269c8545180.png) | Control Components |
| ![collision](https://mod-file.dn.nexoncdn.co.kr/bbs/163635710557194c1304e88c34552b0a68d2b30eb3568.png) | Collision Components |

# Adding Components

1. Click **Add Component** at the bottom of the Property Editor. ![component10](https://mod-file.dn.nexoncdn.co.kr/bbs/1634619180422b0c8ea84e18648749cd9d6642ff0b8d1.png)
2. Search and click the component you'd like to add. ![component11](https://mod-file.dn.nexoncdn.co.kr/bbs/1634619277305f8cc364cb0b7421eb3bad22bfdbbd4c6.png)
3. See if the component has been added to the Property Editor window. ![component12](https://mod-file.dn.nexoncdn.co.kr/bbs/1634619296245c4904b69ee43474b9ec416bd7e652521.png)

# Component Reset

Resets a set component value to its default value.

- Open the context menu and click **Reset All Properties** to reset the component's property value. ![component13](https://mod-file.dn.nexoncdn.co.kr/bbs/1634619750943da28f727fc4548fa859cb322bf88dbe7.png)

# Changing Component Status

Components are automatically activated when they are added. You can easily enable or disable components by ticking the checkbox.

- Click the checkbox between the icon and the component name to change its status. ![Editbox_Check](https://mod-file.dn.nexoncdn.co.kr/bbs/16346176407708cb3de01eaaf48a68ab2dd6fe1b1183f.png) : Component enabled ![Editbox_Visible](https://mod-file.dn.nexoncdn.co.kr/bbs/16346176985962dcc6fd403f34978b50521f0a8329013.png) : Component disabled

![component14](https://mod-file.dn.nexoncdn.co.kr/bbs/1634619923114e5669c9d06f14fbba2355f32e99f00a1.png)

- Open the context menu by the component name and click **Disable Component** to disable components.

# Deleting Components

Open the context menu and click **Remove Component** to delete components. ![component15](https://mod-file.dn.nexoncdn.co.kr/bbs/16346199801992f5684c3b2e44bf194317e3efda34a18.png)

Update 2025-11-17 PM 08:14


# Editing Initial Character Properties

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

If a game is about climbing stairs, it would be unfair if someone could climb four steps at a time when others could climb only two. In any game, it's important that all players start from even footing. Let's learn how to edit properties using model properties.

# Editing the Player's Basic Properties

You can change basic properties in the **Player** model.

1. Select **Workspace - BaseEnvironment - NativeModel - Player**.
2. Change the property value of **Player**.
3. Press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** to see the changes.

The properties of the **Player** model are shown below. In cases where the original property names match, some model property names have been changed.

![player](https://mod-file.dn.nexoncdn.co.kr/bbs/16357503109659b1496c0a9e84d899b57ed7a46c12439.png)

| Model Property Name | Original Component  Original Property Name | Explanation |
| --- | --- | --- |
| speed | MovementComponent<ul><li>InputSpeed</li></ul> | Sets the player's default movement speed. The bigger the value, the faster the movement.<br>The default value is 1.2. |
| jumpForce | MovementComponent<ul><li>JumpForce</li></ul> | Sets the player's default jump height. The bigger the value, the higher the jump.<br>The default value is 1. |
| walkAcceleration | RIgidbodyComponent<ul><li>WalkAcc</li></ul> | Sets movement acceleration and deceleration values. The higher the value, the faster the player will reach maximum speed.<br>Default value is 1. |
| gravity | RIgidbodyComponent<ul><li>Gravity</li></ul> | Gravity value applied to the player. The higher the value, the faster the fall.<br>Default value is 1. |
| cameraDeadZone | CameraComponent<ul><li>DeadZone</li></ul> | If the player avatar moves within the input value range, the camera stays still.<br>If the value for X or Y is 0, the camera will move to match all movement of player avatar. |
| cameraSoftZone | CameraComponent<ul><li>SoftZone</li></ul> | Sets SoftZone area. If target enters the frame area, the camera will shift direction to DeadZone. |
| cameraDamping | CameraComponent<ul><li>Damping</li></ul> | Camera will follow player avatar moving out of the DeadZone.<br>In that case, the camera's movement will be more natural and smooth.<br>The higher the value, the smoother the movement. |
| cameraScreen | CameraComponent<ul><li>ScreenOffset</li></ul> | Sets the centerpoint location of the DeadZone on the screen.<br>X and Y values can range from (0,0) to (1,1).. |
| cameraDutch | CameraComponent<ul><li>DutchAngle</li></ul> | Sets the rotation angle of the camera.<br>The higher the value, the more the screen will rotate clockwise.<br>The camera can also rotate counterclockwise depending on the input value. |
| cameraOffset | CameraComponent<ul><li>CameraOffset</li></ul> | Adjusts camera location according to input value.<br>X and Y coordinates are absolute values. The camera will move according to the input value to track the player avatar. |
| message | ChatBalloonComponent<ul><li>Message</li></ul> | Contains the content of the chat balloon for the player avatar. |
| chatModeEnabled | ChatBalloonComponent<ul><li>ChatModeEnaled</li></ul> | Text entered into the chat window is simultaneously displayed in a chat balloon. <br>The function is disabled by default. |
| nameTag | NameTagComponent<ul><li>Name</li></ul> | You can attach or detach the player's name tag.<br>Disable by unticking the Enable checkbox of NameTagComponent. |
| damageSkinId | DamageSkinSettingComponent<ul><li>DamageSkinld</li></ul> | Enter the ID value to determine the damage skin type. |
| damageDelayPerAttack | DamageSkinSettingComponent<ul><li>DelayPerAttack</li></ul> | Enter the delay speed (in seconds) between damage values when they are displayed multiple times. |
| triggerBodyBoxsize | TriggerComponent<ul><li>BoxSize</li></ul> | Set coordinates to indicate the size of the box where the player senses shock. |
| triggerbodyBoxOffset | TriggerComponent<ul><li>Offset</li></ul> | Set coordinates to indicate the location of the box where the player senses shock. |
| maxHp | PlayerComponent<ul><li>MaxHP</li></ul> | Sets player's maximum HP.<br>Default value is 1,000. |

# Deactivating Model Property

A creator can choose to deactivate unnecessary model properties. For example, if you'd like to deactivate **NameTag**, find **NameTagComponent** from the Property Editor and uncheck **Enable**.

![player01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634115527034a6cafbd8f68a4de49a827121df6f7a9c.png)

# Deleting DefaultPlayer's Basic Components

If you'd like to extend an existing component to use it, you need to delete the basic components of **DefaultPlayer**. It is recommended that you use a single component, as multiple components with the same foundation often lead to malfunctions.

> **Tip** You can use multiple extended components depending on the component property.
> **Tip** Please refrain from just deactivating it, as different components operate in different ways. Though there is a slim chance for malfunction, it may lead to confusion between components or errors when writing scripts.

1. Select **Workspace - BaseEnvironment - NativeModel - Player**.
2. In the Model Property window, choose the components to delete.
3. Open the context menu and click **Remove Component**.

![player09](https://mod-file.dn.nexoncdn.co.kr/bbs/1659574418759c11cbf083bd3472893c15be435fbe1f5.png)

# Summary

You can adjust model property values to create all kinds of fun. Try comparing basic settings and your own settings to come up with the best player properties for your game.

Update 2025-11-20 PM 02:03


# Setting Game Start Position

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Here's how to set the starting position of the **Player Avatar**. Let's look into the setting of the game's starting position, respawn, and test location during production.

# Default Position of Player Avatar

Default position of player avatar is the center of the screen. In X and Y coordinates, both values are 0. Basically, the game starting position and respawn position follow the same settings. You can check the basic position at ![workspace_MyAvatar](https://mod-file.dn.nexoncdn.co.kr/bbs/16346008379922a9b756c3912461db7195808cb554abd.png)**DefaultPlayer's TransformComponent**. ![transformcomponent](https://mod-file.dn.nexoncdn.co.kr/bbs/163515895824953612927a52740079e54f5fff52a4db3.png)

# Setting Starting Position with SpawnLocation

If you've placed it in a starting map, 'SpawnLocation' is where the player avatar first appears. IIf you've placed it in another map, 'SpawnLocation' can be used where the avatar is respawned or where it appears upon map entrance.

1. Click **Special Model** from the Preset List.
2. Place **SpawnLocation model** in ![TabScene](https://mod-file.dn.nexoncdn.co.kr/bbs/163452458863504f49c7a23aa4a41af56b5b4611a6daf.png)Scene.![spawn80](https://mod-file.dn.nexoncdn.co.kr/bbs/1656036546711155b8385c0fb4001bda8ec16387d412e.png)

# Respawn Location during Play

You can place multiple SpawnLocations in each map as necessary. If there are several SpawnLocations in one map,**the distance between SpawnLocation and player avatar**will be used to determine the respawn position. In the example below, the player avatar died between the two spawn locations. Even though the avatar had been moving to the left, it will reappear at the SpawnLocation on the right, as it's closer. ![spawn01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634957591109e98512448cae4044ae9a75e96b22221a.png) Place SpawnLocation appropriately to make a few checkpoints in the game. It will encourage users to replay, as they won't have to start the game over from the beginning.

# Setting Starting Position for Test

You might want to check a certain part of the game during production several times. In this case, it would be much more efficient to start from a desired position, rather than starting from the beginning. You can use ![Common_PlayHere](https://mod-file.dn.nexoncdn.co.kr/bbs/1634538307569eec2919eb0d84163aa7be63651bd165d.png) **Play Here** to set the starting position for the test.

1. ![TabScene](https://mod-file.dn.nexoncdn.co.kr/bbs/163452458863504f49c7a23aa4a41af56b5b4611a6daf.png)Located below the Scene tab ![Common_PlayHere](https://mod-file.dn.nexoncdn.co.kr/bbs/1634538307569eec2919eb0d84163aa7be63651bd165d.png)**Play Here** button is selected. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17617248549680bd501dfcee840dbb7eb05c1fed935eb.png)
2. Place it by moving to the position where the test will start (above a tile or platform).![spawn9](https://mod-file.dn.nexoncdn.co.kr/bbs/1740551251453a53f6916f5d6499e86c8c453f7304fdc.png)
3. Press Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) to test.
4. The player avatar will appear in the set location.

> **Tip** For the test, "Play Here" takes priority over SpawnLocation.
> **Tip** If you set the starting point without any foothold or tile, the character will appear in the middle of the screen. Place the character above a foothold area if you want it to appear in a particular spot.

##### Reference Guide

[Editing Initial Character Properties](/docs?postId=48)

Update 2025-11-17 PM 08:14


# Change Game Thumbnail

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

The game thumbnail is an important element to grab user interest and desire to play. In this lesson, we'll discuss how to assign and delete a thumbnail for your World.

# Assigning a Thumbnail

1. Select the world you'd like to update the thumbnail of from the world list in the **Create** menu. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/168748683084347cfb5dc36aa4c9597944a878ceda9cb.png)
2. Click the **[Import Image]** button in the **Image** tab and choose the image from your computer to be used as the new thumbnail. Each world can have up to five images. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/1656419445968e529f08dcdbb4eff884af8da02763615.png)
3. You can see the assigned image as below. ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/165641957009531948326616541ef8c103863f54c4606.png)

# Assigning a YouTube Video

1. Select the **Video** tab and click the **[YouTube URL]** button. ![04](https://mod-file.dn.nexoncdn.co.kr/bbs/16564194570613db9ed134a4f48a7871ab5745f72cc62.png)
2. Enter **YouTube URL** and click the **[Confirm]** button. ![05](https://mod-file.dn.nexoncdn.co.kr/bbs/16564195299220c15641a73214067b35fb6e480e164a1.png)
3. You can see the video playing. ![06](https://mod-file.dn.nexoncdn.co.kr/bbs/165641954482276d4bdf1f7ef45b391a2254f3a290668.png)

# Deleting Thumbnails and Videos

To delete a thumbnail, select the image tab and click the **[Delete]** button while the thumbnail you'd like to delete is shown. ![07](https://mod-file.dn.nexoncdn.co.kr/bbs/16577788188247860cf4258964caba3d6baf4a0e3a2c0.png)

To delete a video, select the video tab and click the **[Delete]** button. ![08](https://mod-file.dn.nexoncdn.co.kr/bbs/16564194692848d856eb3e81e46ac9f07ada4ce076c5f.png)

# Updating Thumbnails and Videos for Released Worlds

You can assign, update, and delete thumbnails or videos even after your world has been published. Select **File - Release**. ![04](https://mod-file.dn.nexoncdn.co.kr/bbs/16841147126563e8e10fa3cbf402fb4a4a2cdb1a338d1.png)

In the **Release** window, you can manage thumbnails or videos. There are three ways to register a thumbnail.

| Image | Screenshot | Auto-Generate |
| :---: | :---: | :---: |
| ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/168411672690591413e49be5c4157a620a6554ae24c82.png)<br>Upload an image from my computer to use a thumbnail | ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1684116746646d6f3675349f144cf9cb27043ca5cb844.png)<br>Use the current contents of the Maker screen as a thumbnail | ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/16841167765654b478ebf40394a4ba271ff9963d079b5.png)<br>Auto-generate a thumbnail image |

To register a video, select the video tab and click the **[YouTube URL]** button to put the video address. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/165641951186438eed54ada5a47fb862d4bef2fa8fd80.png)

We've learned how to assign game thumbnails and videos. Choose some cool media to show off your world!

Update 2025-11-17 PM 08:14


# Loading and Managing Your Worlds

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

We will learn how to load a created World and how to manage it.

# Loading World in Production

1. Click the **[Create]** button in the menu. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1685699078924e29ff21396614c3d8f1efcb8b84f7e99.png)
2. Select the World you want to load from the list. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/17271621059070a0ef5aca21f44baac90b278907d30da.png)
3. Click the **[Edit]** button in the World information to load the World being created. ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/172906902884778aa8b98c0ec4ea5b78023381c2b129f.png)

# Revision management

When you create a World, you need to create and manage revisions. Creating a revision whenever you make a significant change keeps your work safe because you can revert your World to a previous revision when you need to. It's also a convenient way to track and manage previous versions.

##### Create Revision

Go to **File - Revisions** menu to create a revision. ![revision](https://mod-file.dn.nexoncdn.co.kr/bbs/16892261674937e4332ad952c4bfba92ca79c12271eb4.png)

In the **Revisions** window, click the **[Create Revision]** button to save the revision with a simple memo. ![revision](https://mod-file.dn.nexoncdn.co.kr/bbs/17271578271160e214b1d91564e0da34e90f6211d2d1d.png)

##### Revision Management Feature

In the **Revisions** window, you can use the following features. ![revision](https://mod-file.dn.nexoncdn.co.kr/bbs/1727157901202ce9c5e26c6da404cb0bfc6aa4f85009a.png)

| Numbers | Function | Description |
| --- | --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541272181b5c1a55fcf3d49b19734d25913c38583.jpg) | Modify memo | Modify revision memos. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541300837cb541c2f44e046a79bb1901a885aa8ac.jpg) | Download | Download mod file of the revision. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/163454131465069e090278448490f965207e9a4a10348.jpg) | Restore | Restore to the revision. <br>Individual Worlds can revert revisions immediately, but group Worlds can revert revisions only after turning on the recovery mode. For more information, refer to **Recovery Mode** in [Coproduction](/docs/?postId=670) Guide. |
| ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541326353d8628c1473944497bf376acb7a65ca45.jpg) | Remove | Remove revisions. |

> **Learn more** You can also manage revisions by clicking the **[⋯] - [Revision]** button in the World Info. ![Revision](https://mod-file.dn.nexoncdn.co.kr/bbs/17271609155899f9db5cc2797418faffd464c8f8c1c0e.png) ![revision2](https://mod-file.dn.nexoncdn.co.kr/bbs/172716186989383aa3b535ba542dd91843e7ee2c3a52a.png)

# Delete World

Only unreleased Worlds can be deleted. You cannot delete a World that has already been released.

1. Select the World you want to delete from the list. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/17271621059070a0ef5aca21f44baac90b278907d30da.png)
2. Click the **[⋯]** button. ![04](https://mod-file.dn.nexoncdn.co.kr/bbs/172906927536113ef61a34a204469923fa8fa470ffa30.png)
3. In the **WORLD MENU** pop-up window, click the **[Delete World]** button to delete the World. ![05](https://mod-file.dn.nexoncdn.co.kr/bbs/1727157958421e8faeb5b3eff42b082d0241cedfff299.png)

> **Learn more** You cannot delete a World that has already been released. Only the **[Revision] and [Critical Report]** buttons are visible in the **WORLD MENU** pop-up window of a released World.

Update 2025-11-17 PM 08:14


# Release World

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Let's look into what needs to be prepared for the world release.

# World Release

The final goal of the world release is to reveal the world to all users. However, it's dangerous to reveal the world in production to everyone right away, so we recommend releasing in stages. The release in MapleStory Worlds can be divided into 3 stages. First, the world being produced will be released as **Private** and checked to see if implemented functions such as data saving, world warp, and more work properly. If the world is completed over several private releases and testing, the second stage is the **Public Soon** release. This Public Soon release stage can be skipped based on the world. Finally, if all preparations are ready, the world is released to all MapleStory Worlds users as **Public**.

The time it takes to complete a world release varies depending on capacity. When the release is complete, a completion message appears in the lower right. After release, world modifications aren't reflected in the released world until the creator releases the world again. Please be mindful of this when planning the world release, especially if there are modifications that need to be revealed in order or on a specific date. For effective world management, use a separate world for production to prevent modification from being reflected.

# Release World

The world must be saved before release. After saving the world, release the world following the order below.

1. Press **File - Release**. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1749445127392c3d69f1deb444fc3a58b3cb40a00fbeb.png)
2. Write the world's **Basic Info, Notice, Social, Release Region**.
3. Press the **Release** button. When the world release is complete, a notification appears.

# Required Field

You must fill in the following field(s) for world release.

## Basic Info

Provides basic info about the world.

#### Images, Videos

Images and videos are features to introduce the world to users in advance. 5 images and 1 video can be added.

- **Image**: Uploads images prepared by the creator.
- **Screenshot**: Captures and shows what's visible in the current Scene.
- **AI**: Combines the image(s) provided in MapleStory Worlds and the title input by the creator to create a new image. A new image is created each time the AI button is pressed.
- **YouTube URL**: Input the URL of the video uploaded to YouTube.

![2](https://mod-file.dn.nexoncdn.co.kr/bbs/17494451432855f88ae7f0dc744b2a7d344072d252c8e.png)

#### Title, Description, Genre

- **Title**: Write the produced world title. You can write up to 50 characters.
- **Description**: Write information about the world. You can write up to 1,000 characters.
- **Genre**: Select the created world's main genre. Select from Action, Adventure, Casual, Simulation, Quiz, Puzzle, Strategy, Racing, Sports, Social, Education, and Tycoon.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/174909874880630f9882bd5fe47ac9534c7d472ff08c3.png)

#### Max Number of Players, Playable Devices

- **Playable Devices**: Default value has both PC and mobile selected. If made with only specific devices in mind, only those devices are selected.
- **Max Number of Players**: Sets the number of players that can enter one world instance, from minimum 1 person up to 100. The max number of players varies based on the world's size and design. We recommend setting the max number of players so it isn't a burden in executing the world.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1750764172878a52446a929e44288b6017e0f592c9e0c.png)

#### Playable Range

Can set the playable range based on the world's personality. During world production, if you need to check to see if works in the intended manner in the release environment, it can be released as **Private** and can be tested between group members. If you'd like to play the world, including some test participants among actual users, it can be released as **Public Soon** to see if the world runs smoothly. The world's playable range is divided into 3: Private, Public Soon, Public.

- **Private**: Can only be played by the creator or creator group.
- **Public Soon**: Is shown in the Play screen, but can only be played by the creator and group members. If under maintenance, it will say it's under maintenance.
- **Public**: All players can play the world.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1749098823710d6644e1475514b14903c0fe91df6de99.png)

# Select Input

When releasing the world, the following can be selectively input. Enter the required items based on the characteristics of the world created by the creator, and release the world. If the world is released as **Public**, reading the [Production Compliance](/docs/?postId=665) contents and doing a final review to ensure the creator's world can be released without issue is recommended.

## Basic Info

#### Recommended Age and World Survey

The creator cannot temporarily set the world's recommended age. The recommended age is determined after through the **World Survey** responses after the world is released. If World Survery responses were not done, it's automatically set to the highest age. Based on the world's recommended age, the world is not exposed to players below the standard age.

- **For All Ages**: The world is appropriate for all ages.
- **Ages 9 and Up**: The world is appropriate for players ages 9 and up.
- **Ages 13 and Up**: The world is appropriate for players ages 13 and up. If there's no response to the World Survey, it will automatically be assigned to age 13.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17491002805601b9a9c3093694e02b57d6eca5924559d.png)

#### Languages and Source Language Settings

Set the language provided in the world. Can be set to English, Korean, Spanish, Simplified Chinese, or Traditional Chinese. Source language settings are set in **WorldConfig - SourceLanguage**. Refer to [Automatic Translation](/docs?postId=1072) for information on source language settings.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17491003710998205aa29fbf6416e9ffa7d3e2a23e3e2.png)

#### Remake Permissions

Remake and comment permissions can be changed at any time according to world circumstances. If remake is permitted, other creators can remake the world to utilize in world production.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/174962398396121b5b7c1fdfc4bb9b68769662222bb8c.png)

#### Comment Permissions

Decides world comment permissions. If a world that permitted comments is changed to 'Not Permitted', existing comments are hidden.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/174962397318505fe84606b194addade01ff00a5d5788.png)

#### Representative Resource IP

MapleStory Worlds provides a variety of resources. You can set the most used game resource IP in the world.

- **Resource IP Type**: MapleStory, Nexus, Quiz, Durango

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1749103470496667114d3e3cc42c98e8fcbb938d980e9.png)

#### Label

Creators set labels themselves. Labels will be provided in the future to enable creators to view comprehensive metrics for multiple worlds they've created under a single label. Labels are made up of a combination of 2 - 20 upper and lowercase alphanumeric characters without spaces. Labels can only be checked by the creator that produced the world.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1750818528527347f577a6a704a9ebaa1c0cad8aab020.png)

## Notices and Updates

Notices and updates can both be modified in the client and official website. Both can be modified in **MapleStory Worlds Official Website - Create World - World in Production - World Info Management** . Notices and updates are implemented immediately after pressing the Confirm button, so be careful.

- **Notices**: Can be used to write notes players should know, or to notify them regarding rates.
- **Updates**: Used to write about new functions given to players, or to write information about fixed bugs.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/174909886716594015be6defc4c908d849dc0ce539a3e.png)

## Social Media Registration

Can be provided by adding to the world's official social media account. Input the **Facebook, YouTube, Twitch, Discord** URL and write an introduction. Introductions ca be up to 30 characters long. Can also be modified in **MapleStory Worlds Official Website - Create World - World in Production - World Info Management**. Modifications are implemented immediately after pressing the Confirm button, so be careful.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1749693246976915c5733fcdf4123b81582df27fcecca.png)

## Release Region

Select the region to release the world. The world isn't shown in regions that aren't selected as Release Regions, and connecting isn't possible. If the results of the World Survey indicate that certain regions do not meet the release criteria, we recommend excluding them from the release countries. **Can also be modified in MapleStory Worlds Official Website - Create World - World in Production - World Info Management**. Modifications are implemented immediately after pressing the Confirm button, so be careful.

![9](https://mod-file.dn.nexoncdn.co.kr/bbs/17491036297776e5b57b4ccd94fc29857cc029c5d0f7b.png)

Update 2025-11-17 PM 08:14


# User Feedback Settings

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

User feedback notifications allow creators to periodically receive positive feedback on the worlds they have created. In this course, we'll learn how to set up user feedback notifications.

# User Feedback Notifications

## Notification Settings

You can set up the user feedback notifications in both Pro and Design Modes.

| Pro Mode | Design Mode |
| :---: | :---: |
| **File - User Feedback Setting**<br>![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1684311904185def4420d2f0e48c18facb47c8e4771b3.png) | **Menu - User feedback settings**<br>![02](https://mod-file.dn.nexoncdn.co.kr/bbs/172717940567833e02d006ca54a0586cb2b26081cccc7.png) |

The User Feedback Notification Settings window contains the following items: ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/1727179447229b13d3d4b60e345b889a24464b2fbe5d4.png)

| Item | Desc |
| --- | --- |
| Plays | Shows the names and number of users who have played your world. |
| Likes | Shows the names and number of users who have liked your world. |
| Favorites | Shows the names and number of users who have favorited your world. |
| Frequency | Sets the notification frequency.<br>The notification frequency is calculated starting from the time you press the Apply button. |

## Notification Display

User feedback notifications are printed in both PC and mobile environments. For example, when playing MapleStory Worlds on a mobile device, the following message will appear. ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/16843874714860fd65aedc9fb425ca6d030881d8b0d72.gif)

> **Learn More** Notifications delivered while the MapleStory Worlds app on mobile devices is inactive will be displayed as background push notifications.

Update 2025-11-17 PM 08:14


# Finding Resources

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

You can use whatever resources you need from the extensive pool provided by MapleStory Worlds. You can also add your own resources and use them during creation.

# Finding Resources by Map Theme

MapleStory Worlds provides a **Preset List** to help creators easily create worlds. You can find resources by scrolling down the **Preset List** or entering a search term, but it might be difficult to find one in particular because there are many **Preset** resources provided.  Let's use the map filter function to select only the resources of a specific region theme in MapleStory. By pressing the **[Filter]** button next to the **Preset List** search bar, you can select only the map theme you want. For instance, if you select only the **Henesys** checkbox, you can select only the resources used in MapleStory's Henesys map. ![09](https://mod-file.dn.nexoncdn.co.kr/bbs/1667265939482af81e9c62a65457b9b84c9bae0adaee3.png)  You can find the map you want faster by searching by map name in the **[Filter]** search bar. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/166726618416700408ad1050e4696a77509b4c3eb5ffe.png)

You can find not only objects, but also other resources such as monsters, NPCs, tiles, and music in the same way. Use this feature when decorating a map with a specific regional theme.

# Introducing Resource Storage

MapleStory Worlds provides many resources in the **Preset List**, but not all resources are in the **Preset List**. You can take advantage of **Resource Storage** to find the resources you want from larger amounts of data. The default location of **Resource Storage** is next to the **Scene** tab.

When the window is closed, you can open it by clicking on **Panels - Resource Storage** in the top navigation menu. ![resource01](https://mod-file.dn.nexoncdn.co.kr/bbs/1659526566918ff053800d1c4414e97be1069f5a27e5d.png)

**Resource Storage** includes **My Resources, MSW Resources, and Favorites**.

- **My Resources**
  - You can save a resource file that has been imported.
  - Click ![Common_plus](https://mod-file.dn.nexoncdn.co.kr/bbs/16345383307314ccbb85e4ebd48cf92648ca740ae490a.png) on the left side of the search box to add a resource. Added resources will be given a RUID value.![resource05](https://mod-file.dn.nexoncdn.co.kr/bbs/1636364332540dc322ca03197488eb39d1f4fe58c7463.png)
- **MSW Resources**
  - Resources provided by MapleStory Worlds are saved by category.
  - You cannot save a MapleStory Worlds resource per se. You just use the RUID value for production.![resource06](https://mod-file.dn.nexoncdn.co.kr/bbs/16896610762011742faa49d6a4ce0a887623fb6b90bdd.png)
- **Favorites**
  - Register the searched resources to your favorites to find its RUID more quickly.
  - You can easily add to favorites by pressing the star button.
  - You can save up to 5,000 resources to your favorites.![bookmark](https://mod-file.dn.nexoncdn.co.kr/bbs/168966116335254375853975a48c983e8a44c2f6e57b5.png)

#### Resource Categorization

Resources have 4 main categories, **Sprite, AnimationClip, AudioClip, AvatarItem**, and some sub-categories. Among the 4 categories, click the one you're looking for before searching.

| Category | Explanation |
| --- | --- |
| Sprite | Sprites are classified by category.<br>Sub-category: object, foothold, monster, npc, trap, item, skill, ladder, rope, portal, etc. |
| Animation Clip | Animation sprites that include movement are classified by category.<br>Sub-category: object, monster, npc, trap, item, skill, background, portal, etc. |
| Audio Clip | Audio clips are classified by category.<br>Sub-category: monster, item, skill, music, etc. |
| Avatar Item | Items for avatars are classified by category.<br>Sub-category: hair, face, hat, cape, coat, glove, longcoat, pants, shoes, faceaccessory, eyeaccessory, onehandweapon, twohandweapon, subweapon, ears, body |

# Using Resource Storage

#### Search by Text

1. Enter a search keyword in **MSW Resources**. Example keyword: chick![resource03](https://mod-file.dn.nexoncdn.co.kr/bbs/1689661232181f847d4618b3b4bb28494e746bbbeeb88.png)
2. Extend categories to find the resource you are looking for. Click the **[Copy RUID]** button to copy the value and use it where needed. Double-click the image to see more information. ![resource04](https://mod-file.dn.nexoncdn.co.kr/bbs/16607158840817c7e50f4a6574df2903c295330ab2ba9.png)

#### Search by Image

Only sprites can be searched by image. Searching by image will find and display similar images. It's useful when you can't think of a term that describes what you're looking for.

1. Click the Choose Image button and click the image you'd like to search with.  ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1656398948267d1f7bb7854d04d3eb505e189592b36cc.png)
2. Extend categories to find the resource you are looking for. Click the **[Copy RUID]** button to copy the value and use it where needed. Double-click the image to see more information.  ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/1660719300227515dede090904b019fc2ec342c078221.png)

> **Tip** [MapleStory Worlds](https://maplestoryworlds.nexon.com/) You can also search the same on the official website. ![200](https://mod-file.dn.nexoncdn.co.kr/bbs/1676443027155685ae13bc8f84a498469a3ffb00d6236.png)
> **Learn more** **Resource Picker** allows you to see and pick a resource from a particular category in the Property Editor window. Click the button next to the RUID value input window. ![001](https://mod-file.dn.nexoncdn.co.kr/bbs/16808611577257e6386a234774c2ab198aa23662ad8c5.png)

# Managing Resource Version

Creators can add resources directly to **Resource Storage** or the **Workspace - MyDesk** folder. If you're going to allow the remaking of your world upon release, you should consider where your resource should be added. The location of the resources determines the extent of resource updates and remakes.

If you add your resource to **Workspace - MyDesk**, you can modify the resource after release without affecting remade worlds. However, if you modify your resource from Resource Storage, it will affect all remade worlds. It won't matter if you're not planning to modify your resource, but if you are planning a modification, you are recommended to add your resource to Workspace only.

Update 2025-11-17 PM 08:14


# Managing Resources

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Let's learn how to manage the resources registered by the user in the maker.

# Resource Classification

Resources in MapleStory Worlds can be used in the Property Editor or scripts. There is also a RUID for each resource. Resources can be divided into **MapleStory Worlds Resources** and **User Resources** according to the provider. ![resource](https://mod-file.dn.nexoncdn.co.kr/bbs/1663573480762b03715161bb34fed8cc0827095d2eecb.png)

## MapleStory Worlds Resources

MapleStory Worlds resources literally refer to the resources provided by MapleStory Worlds. You can check in Maker's **Resource Storage** and on the [MapleStory Worlds Official Website](https://maplestoryworlds.nexon.com/)'s **MSW Resource** page.

| MAKER | Official Website |
| :---: | :---: |
| ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1663572349099eb3cd0d27a594ba7a20a42d42b8b7556.png) | ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/1675133031455e24cf07840e34bceb6f213e7b0263b1e.png) |

## User Resource

It refers to the registration of images and audio files owned by the user to the maker. User resources can be categorized as **Workspace Resources** and **Resource Storage Resources** depending on the location registered on the Maker.

### Workspace Resource

Users can register (Import) image files (Sprite) and sound files (Audio Clip) in **Workspace**. ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/1687485897578727af760113a444395d417a01539f4c5.png) The resources registered in **Workspace** **belong to** the World to use freely within that World. If you plan to use a resource only in the World you are currently creating, register and use it in **Workspace**.

### Resource Storage Resource

Users can directly register resources in **Resource Storage** or copy MSW resources to their own resources and edit meta information to use them.

#### Direct registration

In **Resource Storage**, **Sprite, Animation Clip, Audio Clip, and Avatar Item** can be registered. ![04](https://mod-file.dn.nexoncdn.co.kr/bbs/1678782648494d9b3ec872bc64123891a3fd1a1559312.png)

**Sprite and Audio Clip** can be registered as files owned by users. **Animation Clip and Avatar Item** can be created and registered with an exclusive editor.

> **Learn more** To learn more about how to register an Animation Clip, please refer to the guide below! [Making Animations](/docs/?postId=595) To learn more about how to register an Avatar Item, check out the guide below! [Registering Avatar Items](/docs/?postId=590)

#### Duplicate MSW resource

After duplicating the MSW resource, you can use it by editing the meta information (name, description, pivot, etc.). Selecting **Duplicate** from the context menu of the desired MSW resource creates a duplicate in the **duplicated sprite** folder at the bottom of the My Resources tab. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1678782789197b58ddbfda81346a7a7411c4f44b86624.png)

You can edit information such as name and description in the duplicate's details page. You can also change information such as pivots by pressing the **[Edit]** button on the sprite slice. ![34](https://mod-file.dn.nexoncdn.co.kr/bbs/1678782834334f32fee7df67249ebb27af62bf01c0af6.png)

The resources registered in the **individual World**'s **Resource Storage** **belong to the account**. The resources registered by an account can be used freely in multiple Worlds created with that account. The resources registered in the **group World**'s **Resource Storage** belong to the **group** to freely use in multiple Worlds created with that group. Therefore, if it is a resource that is commonly used in multiple Worlds, , it is convenient to register it in **Resource Storage** and use it.

# Resource Permissions

Permissions vary depending on the resource type.

| Resource Classification | Permissions |
| :---: | --- |
| MapleStory Worlds Resources | All creators are free to use it. |
| Workspace Resource | It can only be used in that World. |
| Resource Storage Resource | The World creator and the Resource Storage owner must be the same to use it. <br>However, setting the sharing function in Resource Storage makes it freely available to all users. |

## Personal Resources - Group Resources Migration

Resource Storage resources can be moved and used as group resources.

| Migrating from details | Migrating to the context menu |
| :---: | --- |
| ![transfer](https://mod-file.dn.nexoncdn.co.kr/bbs/1663573050112304b69a370bc49819c51aed9ab3a960e.png) | ![transfer2](https://mod-file.dn.nexoncdn.co.kr/bbs/1663573160211616209bae24b41e592cb2fe8c002ac33.png) |

By making the above selections, you can decide to which group to transfer ownership. ![transfer3](https://mod-file.dn.nexoncdn.co.kr/bbs/166009761623858710a6f359944a08c2e8083f1b9b6a4.png)

> **Learn more** To learn more about how to coproduce as a group, check out the guide below! [Coproduction](/docs/?postId=670)

## Resource Sharing

You can set the sharing function for Resource Storage resources as shown below. ![resourcesharing](https://mod-file.dn.nexoncdn.co.kr/bbs/1663573280416035106d46d18409e86f429c841a8189e.png) Let's say that **World A** that the original author allowed someone else to remake was launched. For **World A**, **the Resource a** was used. If another creator remakes **World A**, they will be able to use **Resource a** freely in the Remake World as well. However, it is important to note that if the original creator disables sharing of the original **Resource a** in the future, **Resource a** will not be available in the Remake World.

# Resource Version

Depending on whether it is a Workspace resource or a Resource Storage resource, the extent to which resource updates and remakes are affected will vary. So, if you're thinking about allowing remakes when releasing your World, you should also consider where to add resources to, **Workspace** or **Resource Storage**.

## Workspace Resource Version

If you import a file with the same name into **Workspace**, the version of the resource will be upgraded. Since the Workspace resources for the derived Worlds are copies of the source, they will be updated per each World. So, even if the resource of the original World changes, the Workspace resource for the derived Worlds will not be affected.

> **Learn more** Derived Worlds refer to the Worlds like the ones listed below. - Remake World - A World newly created by Importing after Exporting the source World

## Resource Storage Resource Version

When the Resource Storage resource is replaced, their version will be upgraded. ![details](https://mod-file.dn.nexoncdn.co.kr/bbs/16602681940820f541f49e7924e6d81a5d81f7eac38f3.png) When a Resource Storage resource is replaced, the derived Worlds that are using that resource will also be affected by the resource replacement. As such, it doesn't matter where you add the resource to when you allow remakes, if you don't plan to change the original resource. But if there's a chance of changing it, we recommend adding the resource only to **Workspace**.

Update 2025-11-17 PM 08:14


# Searching for Effects

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Searching Resources

At the moment, you can search for resources on both the web and in the Maker.

- [MSW Resources](https://maplestoryworlds.nexon.com/resource)![resource02](https://mod-file.dn.nexoncdn.co.kr/bbs/16751334115260cc58291b0c846748ebae5c0e994c7d3.png)
- Maker's **Resource Storage** panel ![resource01](https://mod-file.dn.nexoncdn.co.kr/bbs/165957603963230101d3cac97480285f5496cd808cd84.png)

# Finding Resources by Skill Name

The Search Creation Resources page offers various tags, but the function needs improvements in accuracy. The keyword with the highest search accuracy is the **skill's unique name**.

For instance, if you search for **Warrior Leap**, a unique skill name, you'll find exactly what you are looking for. ![skill](https://mod-file.dn.nexoncdn.co.kr/bbs/167636060338538409298c06b4eb98587e1aa33d56821.png)

> If you do not know the exact skill name, you can get help from [Link](https://maplestory.nexon.com/Guide/GameInformation/Skill/4thPromotionAndHyperSkill). Please use as reference. You can check for names from creator communities or by playing MapleStory.

When you search for resources from the Sprite category, there will be more hits than in the Animation category, making it difficult to find the resource you want. That's why we recommend using tags to find animation and narrow down the result first, before searching by unique names to find sprites.

# Finding Resources Using Tags

You can find most resources with tags. For example, let's see how to find resources using tags, while looking at resources related to **Piercing Arrow**, a skill of Bowmen in MapleStory.

1. First, search **Piercing Arrow** to find the resource. ![tag01](https://mod-file.dn.nexoncdn.co.kr/bbs/1675135197113573e4d6451c0470f932a9515d4543df8.png)
2. If you found the resource you were looking for, click on it to see the details, and then check the **#resource type#unique ID(#skillname#3221017)** among the related tags. ![tag02](https://mod-file.dn.nexoncdn.co.kr/bbs/16753183379266aec5741cb224e13947d6f2080216440.png) Searching by clicking on this tag only returns results associated with the unique ID, making it easy to find resources.
3. Perform a secondary search by skill-specific ID tag and find the desired resource. ![tag03](https://mod-file.dn.nexoncdn.co.kr/bbs/167531860314011c6b60710bc432b9d4753738df23526.png)

# Utilizing Skill Resources

All resources offered by MapleStory Worlds have their own unique **32-digit-RUID**. Creators can use this RUID to utilize resources from components or scripts. ![ruid](https://mod-file.dn.nexoncdn.co.kr/bbs/167531879574349dcb3bda0374ab093c179dbed6ce541.png)

Representatively, RUID is used for **SpriteRendererComponent, SpriteGUIRendererComponent, and EffectService**. Pressing the ![copy](https://mod-file.dn.nexoncdn.co.kr/bbs/16747829119867539c98fe77f4fabba798c44bc837130.png) **[Copy]** button next to RUID allows you to copy RUID easily.

#### SpriteRendererComponent

Most entities placed in the world and with images have **SpriteRendererComponent**. If you assign the found resource's RUID to the value of the **SpriteRUID** property from **SpriteRendererComponent**, the image will change. If the input **RUID** is an animation, it will loop on after playing to **EndFrameIndex** at the speed of the **PlayRate** property. You can see the detailed information in [SpriteRendererComponent](/apiReference?postId=385).

![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1637746312852d02d7530fb0e4a4496989389875caa14.png)

#### SpriteGUIRendererComponent

Most entities placed in the UI and with images have **SpriteGUIRendererComponent**. If you assign the found resource's RUID to **SpriteGUIRendererComponent**'s **ImageRUID** property, the image will change. You can use it in a similar way as **SpriteRendererComponent**, but you need to change the **PreserveSprite** property's value to **NativeSize** to use it in its original size and ratio. If you set the **PreserveSprite** property value as **NativeSize**, you can adjust the effect's size and offset with the **LocalScale** and **LocalPosition** property. You can see the detailed information in [SpriteGUIRendererComponent](/apiReference?postId=387).

![8](https://mod-file.dn.nexoncdn.co.kr/bbs/163774632551686f93d4782234199ae25cd8b6b55a4a8.png)

#### EffectService

You can use **EffectService** to call a resource with a script. For the more detailed example, see [EffectService's Examples](/apiReference?postId=304).

The example of use is as follows.

```
_EffectService:PlayEffect("f396262ddb6e4d5581360496bb4e9f86",self.Entity,Vector3(x,y,0), 0, Vector3(1,1,1))
```

##### Checking the Animation frame You'd Like to Use

To implement an attack determination at a specific timing when using an animation effect, you can use `SpriteAnimPlayerChangeFrameEvent`.

The example of use is as follows.

```
Event Handler:
[self]
HandleSpriteAnimPlayerChangeFrameEvent(SpriteAnimPlayerChangeFrameEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ClimbableSpriteRendererComponent
    -- Space: Client
    ---------------------------------------------------------
    -- Sender: SpriteRendererComponent
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    -- local FrameIndex = event.FrameIndex
    -- local ReversePlaying = event.ReversePlaying
    -- local TotalFrameCount = event.TotalFrameCount
    -- local AnimPlayer = event.AnimPlayer
    ---------------------------------------------------------
    
    if FrameIndex == 7 then
        log("Triggers attack detection at frame 7.")
    end
}
```

##### Reference Guide

[Let's Sparkle with Skill Effects!](/docs?postId=70)

Update 2025-11-20 PM 02:03


# Universal Resource Collection

MapleStory Worlds provides abundant resources of the original work. Creators can use various resources in the **Preset List**, **Resource Storage**, and **Search MSW Resource page**. It is often difficult to find the resources you want because the amount of original work resources is so vast. This guide introduces a collection of resources that creators often look for.

> **Learn More** The MapleStory Worlds team is constantly working to create a more convenient environment for using resources. The resources introduced here will be improved to make it easier for you to search in the future. Please refer to this guide first before improvement.

# Sprites

### Standard

| Item | Image | RUID |
| --- | --- | --- |
| Level Up | ![lvup](https://mod-file.dn.nexoncdn.co.kr/bbs/1675646215203e3c07f2cf18a43f5a742377ef739fa3b.gif) | 486a0ba11a6c474a81d13641876f8808 |
| Bronze Meso | ![meso1](https://mod-file.dn.nexoncdn.co.kr/bbs/1675646291147076c767c53de4a868d7e37da81a134cd.gif) | a724200c454c4fcf878b0a3cdbb706d6 |
| Silver Meso | ![meso5](https://mod-file.dn.nexoncdn.co.kr/bbs/1675821760863b3d9738df32b41349bd9f79ab5c50770.gif) | 7b417b1a1b0b40469077a4a261b00cbf |
| Gold Meso | ![meso2](https://mod-file.dn.nexoncdn.co.kr/bbs/16756463753016df288e4ea5844e6bbde89758406e362.gif) | b60c3cbbf52c40709f2fd886d98fe2d9 |
| Bill | ![meso3](https://mod-file.dn.nexoncdn.co.kr/bbs/167564643296447042df3012846e7b4c99f060bccff4d.gif) | c3fe3ffa606f41069ce8b36278e9e7e8 |
| Moneybag | ![meso4](https://mod-file.dn.nexoncdn.co.kr/bbs/16756464700154c6b1db7f41a4125b9d371b685e486c9.gif) | f0aa7764ff5344848d59accafa2dbf6e |
| quest | ![quest](https://mod-file.dn.nexoncdn.co.kr/bbs/1675919811873e0712b9bad70458f8ebd3cec068113ca.gif) | 0f945fc42f6d41548f9a62570e5307df |
| ![quest2](https://mod-file.dn.nexoncdn.co.kr/bbs/16759199274378ca68916aab544bda8a449b6cb99a45d.png) | a4f20dac165944faa255198e9f0b7064 |
| ![bulb1](https://mod-file.dn.nexoncdn.co.kr/bbs/167564728648033530577f62847d694c450882a8dd00a.png) | 002246ff6e3f4a20832ceae8c908dc47 |
| Bulb | ![bulb2](https://mod-file.dn.nexoncdn.co.kr/bbs/1675647317292d3e3e3e1837840dcb8ee2d31e6e751b0.gif) | 4b1bb95e5da64a3a898401e653acea2f |

### Arrows and Guides

| Item | Image | RUID |
| --- | --- | --- |
| Up Arrow | ![a1](https://mod-file.dn.nexoncdn.co.kr/bbs/167564650741316c0558cba1e47ca8aeb41cdff1318d3.gif) | 621d0abe16e84a79a4e2cd3df1fad1a0 |
| Down Arrow | ![a2](https://mod-file.dn.nexoncdn.co.kr/bbs/16756465428386f48e7cbd791474580fc43d6a3b83b4c.gif) | 69701c2acf63415ea922119c25f40982 |
| Left Arrow | ![a3](https://mod-file.dn.nexoncdn.co.kr/bbs/1675646578167db8c1f1ff41a4667915898ce00609841.gif) | cdfde5ae11d34639b727210bac3ec56f |
| Down Arrow | ![a4](https://mod-file.dn.nexoncdn.co.kr/bbs/167564661312775de2609ccce4493b9ced016548a0afd.gif) | 13266cc409e645ba8502c8e467eefdb5 |
| Portal Guide | ![portal](https://mod-file.dn.nexoncdn.co.kr/bbs/1675646655538d8028bcc8c5b4adfab27a081a9c7dd22.gif) | d6811607f46c42f892bbf9fc4944f3d0 |
| Jump Guide | ![jump](https://mod-file.dn.nexoncdn.co.kr/bbs/16756466929657f5d51bf59494f09850ac62f623f3862.gif) | 9bf47489799f4ccd8fe25ae10800a347 |
| Downward Jump Guide | ![jump2](https://mod-file.dn.nexoncdn.co.kr/bbs/1675646736426b31c6f751b85440890e5c6db13a8dd48.gif) | 2a3efcde699842d791a52c7894df0134 |
| Space Bar Guide | ![space](https://mod-file.dn.nexoncdn.co.kr/bbs/1675646770950b6d2a969799c487d9c1ecb5b6ee90d7e.gif) | 89db1177f546474791bc98f294c71edb |
| Attack Guide | ![ctrl](https://mod-file.dn.nexoncdn.co.kr/bbs/16756468130729bc19ada914b46f6a6c2a0e758af1d5d.gif) | 4ba7043bf2b545939dffb80aca529f2e |
| X Guide | ![x](https://mod-file.dn.nexoncdn.co.kr/bbs/1675646845045ef54696149ef4c8495950c2683e98397.gif) | 5b4ba503367b4bdf88f956d75df5fe1f |
| click | ![click](https://mod-file.dn.nexoncdn.co.kr/bbs/167564688906825e70a64164049c3ab8e675b38f5eba0.gif) | 52e1bebc009f471aa2760e7fb41c552c |
| ![c2](https://mod-file.dn.nexoncdn.co.kr/bbs/16756469352683449caba111843fcafe26df482292689.gif) | d8a422e1d9084f75af9387e26943b62f |
| ![c3](https://mod-file.dn.nexoncdn.co.kr/bbs/167564697108930a0308ef6184f3ca047b5be406545b6.gif) | 71e3d860dfab47f5a0fc929e2c318c23 |
| MapleStory cursor | ![c1](https://mod-file.dn.nexoncdn.co.kr/bbs/16756470769279d546931328847cc828d7223b1941ddc.png) | 3930c5d2e85b4bff8467aada64fda7f5 |
| ![c2](https://mod-file.dn.nexoncdn.co.kr/bbs/16756471255777e7532a3e1ec4ee4abb7247edbcaad2d.png) | 093dd313030e48a28371b68227ba280c |
| ![c3](https://mod-file.dn.nexoncdn.co.kr/bbs/1675647164035baed7724152a4254b15fc4bdea19fa9a.png) | 0783db1be0e54f74ba7824b3a7685fad |
| ![c4](https://mod-file.dn.nexoncdn.co.kr/bbs/16756471943681c565e1f07324c8ba6be637d0cda43a7.png) | 1188b31c01db4af18b269dcd02020d88 |
| ![c5](https://mod-file.dn.nexoncdn.co.kr/bbs/167564722561430c5b54f807b445a84fa96714bd38480.png) | 444a6c0115fd4703a83ad50f31661154 |

### Other

| Item | Image | RUID |
| --- | --- | --- |
| Perfect | ![perfect](https://mod-file.dn.nexoncdn.co.kr/bbs/1675909921375a5bbb49032a84dc080bede7206bbafc1.gif) | 5765fbb4eeaa4d7d89b66d42b22b729c |
| Miss | ![miss](https://mod-file.dn.nexoncdn.co.kr/bbs/167591001450402e9713523344827a42d57290b9ffc56.gif) | 5076d53f3a7441779d9f50ba5d47339d |
| Great | ![great](https://mod-file.dn.nexoncdn.co.kr/bbs/16759100278990ab49e0786224ec39f76204e390a5bce.gif) | 45aa7a057bb4458590b6196796b98817 |
| HIT | ![hit](https://mod-file.dn.nexoncdn.co.kr/bbs/1675648835475a3826ddd5470438db09f3208c01323ba.png) | 12c848efca964eaf953022d13c1c365b |
| Barrier | ![s](https://mod-file.dn.nexoncdn.co.kr/bbs/1675648890434ff9695de378041bfb26a5cf08818a204.gif) | bb9087a155c048af9fd2833352c6604a |

# Audio

| Item | Description | RUID |
| --- | --- | --- |
| jump SFX | Basic jump SFX | d881a73a0700404a91bcf753474274c3 |
| Cute Basic Jump SFX | dfca55f443464fd5801952efeb50d819 |
| button SFX | Basic button SFX | 7eda004ded944e459f1fbb16c7f0f3f4 |
| Basic Button SFX 2 | cd0bd46d7f454640b82c9dfff0c6677b |
| Button Click SFX | 972843e759204d3e9ad84e7d3fa94f83 |
| Keyboard Input SFX | de344b5f1bb444189d57dc52fca2bb14 |
| countdown SFX | Basic countdown | 7ca9fa1a7b384c1caae2449eee77d3ba |
| Tick Tock SFX | d2aa7ffc04c64c97be26de31dcf3cb2c |
| level up SFX | MapleStory Level up | c198d87b06b24707864b1ac73345cca8 |
| Level Up SFX1 | 85009f4dcc7d4536b732aa54b76d05c9 |
| Level Up SFX2 | dd47946756f341538f6874dbfc4ce340 |
| Level Up SFX3 | 4b0b169b519a42e8803e596911d9f96f |
| Win SFX | - | 713eb3fa83e14498b012d6466977989a |
| Lose SFX | - | e64a2dfc09f6447a947652d68eaeb047 |
| Draw SFX | - | 3a3e72a1b5fa422490f529bbbb6e07bc |
| Start SFX | - | 04ca8c287bad49e286bc0feb17cb8824 |
| Game Over SFX | - | 27d957fce5214fc5ba7f948661361887 |
| Gain SFX | - | 205510b33adf4509b1565ccd4c77d98b |
| Coin SFX | - | 21600ec9d3a04cfeb69c6fe0c50e197c |
| Death SFX | - | 8727e134756141c58bf2f525a1598eee |
| Login BGM | - | 877280f8701844378acfa6cee83dfede |

# Avatars

| Item | Image | RUID |
| --- | --- | --- |
| Basic Damage Skin | ![d](https://mod-file.dn.nexoncdn.co.kr/bbs/167565054213232e3bf7b4e614706bd834fd7a4db36d1.gif) | 3271c3e79bf04ecba9a107d55495970d |

Update 2025-11-17 PM 08:14


# Utilization of Packages

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

MapleStory Worlds provides a package function through which model, script components, and Workspace data sets can be distributed and shared externally as a file. You will learn how to export an entry from Workspace as a package file or import a package file into the World.

# About Package

Packages are files that bundled certain entries. You can share a portion of the created world with others or use packages shared by others in your world through package files. You can view the folder structure and heirarchy structure from the share and load package window.

- Folder Structure: Shows entries sorted according to the Workspace structure.
- Hierarchy Structure: Shows entries according to type.

| Folder | Hierarchy |
| --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17271629209637ae72caa69ec40dd93fe2106ba2fdfa7.png) | ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/172716296091145b02203ddb7478a876b6a32fc498978.png) |

# Export Package

1. In **Workspace - MyDesk**, select the entries to export as a package.
2. Click **Export To Package** in the context menu to open the Export window. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1710308131839b0ccc1f6757d4c8497b97b6558157c70.png)
3. After selecting the entries, click the **[Export]** button at the bottom. Change the name if necessary, and click the **[Save]** button. ![export](https://mod-file.dn.nexoncdn.co.kr/bbs/17271631294426b9c5d722e0a4858a4d87302041183ad.png)

# Rules for Exporting

#### Resource Exporting

To include resource entries like images and sound in the package, first you must save the World. Resources included in resource entries are uploaded to the server when the world is saved, and only resource entries uploaded to the server work properly as a package. This is because RUIDs are saved to resource entries, and when the package is imported from other worlds, RUIDs are used to import the resources saved to the server.

#### Entry Inheritance Relationship

If you export entries in a parent-child relationship as a package, the parent-child relationship is maintained. If you select only the expanded entries and export them as a package, the parent entries are automatically included in the package. For example, imagine that you created a Model_EmptyEntity_child that extends its parent Model_EmptyEntity. If you select only the Model_EmptyEntity_child and export it as a package, its parent is included too.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1711441490696cf0346c49cc348d7abd73a5fff97de99.png)

#### Limitations with Native Entries

**The native scripts and native models** provided by MapleStory Worlds cannot be exported as a package. Also, if you add a new component to the native model itself and extend that native model, it cannot be exported as a package. This is because not all information can be imported when the package is imported. For example, imagine that you added ComponentA in the native model and created its extended model. This extended model will inherit ComponentA. When ModelB is imported from another World, it cannot be exported as a package, since the new World does not have a native model that contains ComponentA and ModelB may be added differently from the creator's intention.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1711520919542cc7ecbdb36ed4388a710eccb0248ac79.png)

Expanded native entries can be exported as packages. Expanded entries have native entry information, so they automatically look for native models to inherit in new Worlds.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17115264454698f2775b2d21349e2adf74871b0d2cda5.png)

If you want to add new functions to a model that inherits from a native model and turn it into a package, we recommend adding a component to the extended model or placing them in the native model scene, editing them, and then creating them as Create Model From Entity and using them that way.

![3](https://mod-file.dn.nexoncdn.co.kr/bbs/171152096321699e779d3b6e14078be21089b366ed7f3.png)

# Import Packages

1. Select **Import Package**, then select the package to import. There are two ways to import a package.
  - Click **Create - Import Package** and select the package you want to import.
  - Click **Workspace - Import From - Import Package** and select the package you want to import.
2. Select the entry you want to import and click the **[Import]** button. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/176164724148389e267f1087f479291a389c266bfb9a0.png)
  > **Tip** When you import a package, the World automatically saves its previous state. You can see the automatically saved Worlds in **File - Rivisions**. ![revisions](https://mod-file.dn.nexoncdn.co.kr/bbs/17290697579923fd444be363345a8afa0da8586ead6b1.png)

# Rules Related to Importing

When importing a package into your World, icons will appear based on changes to entries. Entry contents of the existing World may change, so check the package's entry status before importing the package.

| Icon | Description |
| --- | --- |
| ![equal](https://mod-file.dn.nexoncdn.co.kr/bbs/17049520316499abe1ca8a9944aafa17e610f838fd71c.png) | The entry does not contain changes from the existing World content. |
| ![update](https://mod-file.dn.nexoncdn.co.kr/bbs/170495172860025bc9882ab1844618b4839224af7afb5.png) | Content is different in this entry. Content will be overwritten upon import. |
| ![moved](https://mod-file.dn.nexoncdn.co.kr/bbs/1704952016010a8122bcebacc4831a18be2b30c2f6e21.png) | The entry contains different paths from the current World. The current World's paths will be kept. |
| ![rename](https://mod-file.dn.nexoncdn.co.kr/bbs/1704951745392fd9a4eef1a2a44beb5a7e7f811782655.png) | The name of the entry has been changed. The existing entry name will be changed upon import. |
| ![NameConflict](https://mod-file.dn.nexoncdn.co.kr/bbs/17049517636351f8489cf0bdc424a8066cf85f6207987.png) | The names of the entry are the same, but it may be a different type or created by a different creator, resulting in different content. The entry can't be imported. |
| ![IdConflict](https://mod-file.dn.nexoncdn.co.kr/bbs/170495199953619842ee2757d465faee85fa3e285b1c3.png) | The IDs of the entry are the same, but it may be a different type or created by a different creator, resulting in different content. The entry can't be imported. |

Update 2025-11-17 PM 08:14


# Package Storage

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's learn about Package Storage, where you can store and manage packages provided by MapleStory Worlds and packages created by creators.

##### Reference Guide

- [Utilization of Packages](/docs?postId=647)

# Package Categories

Package storage is a repository for storing packages created by individuals, groups, and MapleStory Worlds. Packages are divided into two types.

- **My Packages**: If it is an individual-created world, only packages created by the individual are visible. If it is a group-created world, only packages created by the group are visible.
- **MSW Packages**: These are official packages provided by MapleStory Worlds. You can download these packages and freely modify their contents to suit your world. Official packages will be added continuously.

![[1]](https://mod-file.dn.nexoncdn.co.kr/bbs/custom/1328/Docs_1328_1_ko.png)

| Number | Name | Description |
| --- | --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Category | Distinguishes the type of package. Categorized as my packages and MSW packages. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Upload button | Uploads a new package to your package storage. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Search bar | A window where you can search for a package name. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Package Information | <ul><li>Status icon: This icon indicates the status of the package.</li><li>Details: You can view and edit the details of the package.</li><li>Apply button: You can download the package to the world or update the package contents.</li></ul> |

# Managing Packages

The contents of a package can be managed on the edit screen.

![[2]](https://mod-file.dn.nexoncdn.co.kr/bbs/custom/1328/Docs_1328_3_ko.png)

| Number | Name | Description |
| --- | --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Add Image | You can add an image to use as a thumbnail. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Package Information | Enter the package name and description. The name can be up to 50 characters and the description can be up to 1000 characters. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Core Version | The core version of MapleStory World when the package was uploaded or last upgraded. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Date Registered | The date the package was last upgraded. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | Upgrade Log | The package's upgrade history. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) | Uninstall | Allows you to install or uninstall the package. |

# Core Version

Core version refers to the version of MapleStory World Maker. When you save a package, the core version is saved with it. You can check the core version in **Edit - Preferences - Create - Version**. If the core version of the package and the core version of the world you are creating are not the same, the Maker may not work properly.

# Registering a Package

1. Select **Panels - Package Storage**.
2. Press the **[+]** button to open the **Package Uploader**.
3. Select the entries you want to include in the package, and write a name and description. ![[2]](https://mod-file.dn.nexoncdn.co.kr/bbs/custom/1328/Docs_1328_2_ko.png)
4. Enter the package version. Whenever you modify the contents of a package, change the version so that the package recognizes that it has been modified.

# Installing a Package

1. Select the package, and press the **[Update]** button.
2. In the **Import Package** window, select the entries in the package that you want to apply to the world you are creating.
3. Verify that the package has been successfully applied to **Workspace - MyDesk**.

# Updating a Package

Updating is the ability to import a modified package into your world. If the contents of a downloaded package have changed, you can use Update to import the modified contents. You can only select and update entries in the world that differ from the contents of the package. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1761566355082f5d996c6d87e4334895c2b3880ac1993.png)

# Upgrade a package

You can use **Upgrade** when you want to modify a package that you have added to your package storage. When you upgrade a package, it is recommended that you modify the package version as well. If you started with version 1.0, you may want to label it as version 1.1, 2.0, etc. so that other users are aware that the contents of the package have changed.

1. Select the package you want to upgrade in Package Storage, and select **Context Menu - Upgrade Package**. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17615660365688a967a6de44f48edaa10038960ef6ff4.png)
2. In the **Import Package** window, select the entries to upgrade.
3. Enter the **Upgrade Log** and the **Package Version**.
4. Press the [Upgrade] button.

# Uninstalling a Package

If you no longer need a package, you can utilize a package in Package Storage to delete the entries contained in the package at once. Once deleted, the package cannot be restored. If entries based on the package's entries remain, the world may not function properly, so you should verify that the world does not experience any problems after deletion.

1. Click the **Edit Screen ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_info_02.png)** window button on the thumbnail of the package to be deleted.
2. Click the **Uninstall** button.
3. Verify that the package's entries have been removed in **Workspace - MyDesk**.

Update 2025-11-17 PM 08:14


# Coproduction

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

Using the coproduction feature, you can produce Worlds simultaneously with the team members you like. If you cooperate with your team members, you can concentrate on what you are good at, and you may come across new inspiration coincidentally. Let's find someone we can **make a beautiful and interesting World with**, and invite them to the group.

# Group Management Introduction

You can create groups and manage members from the MapleStory Worlds official client and [official website](https://maplestoryworlds.nexon.com/).

#### Create Group

As a group leader, you can make groups of up to 10, and there is no limit to the number of members in each group. Once you create a group, you cannot delete it.

1. Click the **[Create World] - [+Group]** button.
2. Enter a **group name** and press **[Next]**. ![Group](https://mod-file.dn.nexoncdn.co.kr/bbs/167513379650406311e8f72c0493a86951a6e935da33a.png)

#### Manage Member Grade

1. Select a group and enter **[Manage Members]** menu. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1727174076420d57018417c0e4b4f93c2cfe292799716.png)
2. Adjust the grade of a member you want. When the grade is changed, it will be reflected in the member status at the top. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17531767509424ea689a4dd0c4ae9843932825a33b5c3.png)

> **Learn More** For more information on member grades and permissions, please refer to the [Coproduction Group Member's Level and Permission](/docs/?postId=1077) guide.

#### Transfer Group Leader Role

1. In **[Manage Members]**, select a member you want, then click **[⋮]**.
2. Click the **[Transfer Group Leader Role]** button. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/172717609363590f8c533a23441f6977fe8215ff09eb3.png)
3. Confirm the contents of the pop-up window and click the **[Transfer]** button to complete the transfer of the group leader role. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1727175648637ad9c1a0ff3b34f5eb9a177016b245b3d.png)

#### Export Member

The group leader can withdraw members from the group. The members whom the group leader withdrew will lose the right to edit from all Worlds of the group.

1. In **[Manage Members]**, select a member you want to delete, then click **[⋮]**.
2. Click the **[Export]** button. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/17271761900545ff4e27da12e494fb76a57641ae15a19.png)

# Apply to Join a Group

If you find a group you'd like to join, you can apply to join the group. When you apply to join, the group leader or manager can decide whether to accept you.

1. Click the name of the group you want to join. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1727177359609639ecf225b55453d81b2fa435b4952c3.png)
2. On the group information page, click the **[Apply for Membership]** button. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/17271773971956e90e83b7e2046bcb486cac9f2820e77.png)

# Group Worlds

You can see the Worlds released by the group you belong to in **Play - Group Creation World**. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1657243801514b9c779d467544b7baf3b32c1dbd21d37.png)

# See Online Members

Click on **Panels - Cooperation** from the group's World. You can see the usernames and the maker IDs of the people connecting to the World together. ![CooperationPanel](https://mod-file.dn.nexoncdn.co.kr/bbs/1656652152957d88e3a917e4a44b984a825324ca881f1.png)

# See the Editing Situation

You can see the work situation with the icon created from the right side of the entry from **Workspace** and **Hierarchy**. You can see the working members if you put the mouse cursor on the icon. The icon will be shown as below depending on you and other members.

#### Editing Status Icon

- ![my](https://mod-file.dn.nexoncdn.co.kr/storage/icons/Cooperation/icon_checkout_my.png): This is shown in the entry you're working on. Other members can access the entry when you **Check-In** after finishing the work.![MyCheckIn](https://mod-file.dn.nexoncdn.co.kr/bbs/165951264937121b4736a686643cdb826e73f0ee16ad7.png)
- ![others](https://mod-file.dn.nexoncdn.co.kr/storage/icons/Cooperation/icon_checkout_others.png): This refers to the status wherein other members are progressing the work influencing the entry, and it's not applied to you. You cannot access it until the **working members Check-In**. ![OthersCheckOut](https://mod-file.dn.nexoncdn.co.kr/bbs/16595126827450aa46fce85ec4a80a07b1c04ae7471d3.png)

#### Set Up the Right to Edit

In case you select an object of the scene or select it to edit the script, it will automatically **Check Out**. However, the worker must manually **Check In** after all the edits are done.

1. Select the entity's entry from **Workspace** and **Hierarchy**.
2. Open Context Menu and press **Check Out** or **Check In**.

| Type | Description |
| --- | --- |
| Check Out | Once you select an entity and start the work, others cannot access it. It shares the working status with others with **Locked by username**. |
| Check In | When you complete the work, it shares the working status and allows other members access. |
| Bulk Check Out | The work can be started by selecting several or all entries from the high entry to the low entry. Once you start the work, others cannot access it. It shares the working status with others with **Locked by username**. |
| Bulk Check In | Simultaneously share work details with all members at once that the work is done or the high entry is done by selecting several entities. It allows other members access. |

#### Precautions

1. If more than two members press the same entity simultaneously, only one can access it. The members who couldn't access it will see the failure window. ![FailureMessage](https://mod-file.dn.nexoncdn.co.kr/bbs/172913165188960af9f9550d64232bd99feec9de6632e.png)
2. If you change the name of one entity or the function name, all the entities that will be affected will automatically **Check Out**, and other members cannot modify it.

> **Tip** If you don't check in the entity you're modifying and leave the World, the modifications won't be applied to all members. We recommend making it a habit to **Check In** whenever you finish your work.

# Local Changes

In this window, you can see all items checked out by the worker in the group World. You can check what you've changed in Hierarchy, Workspace, and can **Check In** all items at once.

1. Click **Panels - Cooperation - Local Changes** to open the window. ![localChanges](https://mod-file.dn.nexoncdn.co.kr/bbs/170590776515736a73b5b5bad493086a242f33a677bb5.png)
2. When the worker goes to **Check Out**, the entries, components, etc. that the worker worked on will be reflected in the window.
3. Select the entries you want to reflect the changed state, and then select **Check In** to reflect the changes in the coproduction World. ![LocalCheckIn](https://mod-file.dn.nexoncdn.co.kr/bbs/1705907944580466f84660f7043cfa4aad482c7887ac3.png)

> **Tip** If you load another map without checking-in the changes, a prompt will appear.. ![PopUpMessage](https://mod-file.dn.nexoncdn.co.kr/bbs/172912969483648123293d5d148be8cdde59942fbe611.png)

# Recovery Mode

Reverting the revision of a group World or using the **Import from File** feature will have a significant impact on the entire World. It's safer to do this task while all other members have closed the Maker. This means that you can revert a revision or import a mod file only after turning on recovery mode.

#### Turn on Recovery Mode

Recovery mode can only be turned on by the group leader or manager. There are two ways to turn on recovery mode.

| Turn on Recovery Mode in the WORLD MENU Window | Turn on Recovery Mode in the Cooperation Window |
| --- | --- |
| Lobby - Create - Click [⋯] button - WORLD MENU - Turn on recovery mode<br>![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1727178369778127c20cb26c74be89225d49e37ce4922.png) | Maker - Panels - Cooperation - Turn on recovery mode<br>![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16891480873844fa6bec1cabb4523886225fe0ad53f7e.png) |

If you turn on recovery mode, any work not checked in will be discarded, and you will not be able to edit the group World until recovery mode is turned off. If you turn on recovery mode while any member is still connected to the Maker, they'll have to leave the lobby, abandoning any changes they didn't Check In yet. So it's best to make sure that no members are connected to the Maker before turning on recovery mode.

> **Learn More** For more information on how to create and revert a revision, please refer to **Revision Management** in the [Loading and Managing World You Created](/docs/?postId=213) guide.

Update 2025-11-28 PM 03:09


# Coproduction Group Member's Level and Permissions

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

The group leader of coproduction can manage the group members and refine their grades. Let's take a closer look at the group member grades and the permissions for each grade.

##### Reference Guide

[Coproduction](/docs/?postId=670) [Coproduction Tips](/docs/?postId=766)

# Group Members Grade

The grades of group members are divided as follows.

| Grade | Description |
| --- | --- |
| Group Leader | <ul><li>Grade given to the member who created the group.</li><li>Only one member in the group can have this grade.</li><li>Has full permissions to manage the group. However, the group leader can't leave the group.</li><li>Group leaders can transfer their rank to another member, and when the other member becomes a group leader, the existing group leader automatically becomes a manager.</li></ul> |
| Manager | <ul><li>Sub-admin of the group.</li><li>Can use general permissions other than the exclusive permissions of the group leader.</li></ul> |
| Creator | <ul><li>You can use most of the Maker features related to world production in the group.</li></ul> |
| Admin | <ul><li>View inquiries from users of the world and respond to them.</li></ul> |
| General Member | <ul><li>This grade is granted when a member first joins the group.</li><li>Can play private worlds the group is creating. Can act as a closed beta tester.</li></ul> |

For more information on how to set the member grades, see **"Manage Member Grades"** in the [Coproduction](/docs/?postId=670) guide.

# Permissions for Each Grade

The permissions for each group member grade are as follows. Group leaders can use the following content as a guide to set each member's grade appropriately.

| Feature Description | Group Leader | Manager | Developer | Admin | Normal | Reference Guide |
| --- | :---: | :---: | :---: | :---: | :---: | :---: |
| Kick Member | O | O | X | X | X | [Coproduction](/docs/?postId=670) |
| Approve / Decline Join Request | O | O | X | X | X |
| Adjust Group Member Grade Below Manager | O | O | X | X | X |
| Set / Delete Manager Permissions | O | X | X | X | X |
| Leave Group | X | O | O | O | O |
| Create Group's New World | O | O | X | X | X |
| Delete Group Affiliated World Before Release | O | O | X | X | X |
| View, Play Groups' Unreleased / Hidden Worlds | O | O | O | O | O |
| Edit Groups Worlds with Maker | O | O | O | X | X |
| View, Add, Edit Group-Owned Resources from Resource Storage | O | O | O | X | X | [Managing Resources](/docs/?postId=690) |
| Change Share Settings of Group-Owned Resources | O | O | X | X | X |
| Remove Group-Owned Resources | O | O | X | X | X |
| Release / Un-release Worlds, <br>Change Public / Hidden Status | O | O | X | X | X | - |
| Change and Add World Name, Descriptions, Notices | O | O | X | X | X |
| Create, Edit, Delete, Check-Out, Check-In Entries and Entities | O | O | O | X | X |
| Turn On World Recovery Mode | O | O | X | X | X | [Coproduction](/docs/?postId=670) |
| Turn Off World Recovery Mode <br>(Not Set by Me) | O | X | X | X | X |
| Import/Export MOD File | O | O | X | X | X | [Coproduction Tips](/docs/?postId=766) |
| Manually Leave Revisions or Edit Memos | O | O | O | X | X | [Loading and Managing Your Worlds](/docs/?postId=213) |
| View Revision List | O | O | O | X | X |
| Delete Revision | O | O | X | X | X |
| Rollback to a Specific Revision | O | O | X | X | X |
| Access to World Translation Page | O | O | O | X | X | [Translating World Information, Badges, and Products](/docs/?postId=971) |
| LocaleDataSet Synchronization Permission | O | O | O | X | X | [LocaleDataSet](/docs/?postId=1120) |
| View World-Exclusive Product List | O | O | O | X | X | [Registering Products](/docs/?postId=581) <br>[Product Management](/docs/?postId=658) |
| Register / Edit World-Exclusive Product | O | O | X | X | X |
| View World Badge List | O | O | O | X | X | [Badge Registration](/docs/?postId=656) <br>[Badge Management](/docs/?postId=663) |
| Register World Badges | O | O | X | X | X |
| World Migration | O | O | X | X | X | - |
| Activate Local Workspace | O | O | X | X | X | [LocalWorkspace](/docs/?postId=1165) |
| Deactivate Local Workspace | O | O | X | X | X |
| Synchronize to Remote Workspace | O | O | X | X | X |
| Local Workspace Release | O | O | X | X | X |
| View World CS Inquiry List | O | O | X | O | X | - |
| Read/Answer World CS Inquiries | O | O | X | O | X |
| View World Progress Metrics | O | O | X | X | X |

Update 2025-11-17 PM 08:14


# LocalWorkspace

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=25m&amp;color=green)

##### **LocalWorkspace is a preview function that is subject to change following the official release.**

# Course Introduction

Local Workspace allows you to download a creator's World data to your desktop. Let's find out how to use the local Workspace, synchronize it with the Maker, and create a World.

##### Reference Guide

- [Coproduction](/docs/?postId=670)
- [Coproduction Group Member's Level and Permission](/docs/?postId=1077)
- [WorldConfig](/docs/?postId=1101)
- [Using LocalWorkspace](/docs/?postId=1166)

# Introducing Local Workspace

**Local Workspace** allows you to download a creator's World data to your desktop (Local). You can save various entries and data of the World as files in your desktop. Files that have been saved on the computer can be used in various ways based on creator creations using the local workspace function. You can save them as back-up files in case of an emergency, manage shared files as a group, or even manage files in conjuction with shape management tools.

> **Caution!** **LocalWorkspace is a preview feature, and it may not be stable. There may be unintended bugs, and the feature may be removed via future updates. Therefore, it is advised that you make backup files and a backup World, so you can create your World without LocalWorkspace.**

# Activating a Personal Local Workspace

1. Activates **Workspace - WorldConfig - LocalWorkspace**. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1718943333689397acd2763cb44bba91abfa9a163d1e4.png)
2. Select the path the file will be saved to from the folder selection window.
3. Check if the world's file has been downloaded by opening the selected folder. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/172914247719117cb875a22f64dbcbb83f754e5fc4b57.png)
4. Change the world from Maker or add a new script entry to save to the selected folder.

# Activate the Group's Local Workspace

Only the **group leader and manager** can enable the Local Workspace feature for the first time. Group members are only allowed to designate the path of the Local Workspace.

#### Group Leader and Manager

Local Workspace is available on Coproduction Worlds and can only be enabled by the group leader and manager. You will download the world's data to the path the creator has seleceted upon activating LocalWorkspace. You can activate the LocalWorkspace in the following way.

1. Turn on the recovery mode via **Panels - Cooperation - Members**. In recovery mode, group members are not allowed to modify the World. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1718943320876d4fdf86c67f2483e974e5e0cef47768a.png)
  > **Tip** All group members must check in their work before turning on the recovery mode. It is advised that you save your work as a separate file as backup.
2. Select **Workspace - WorldConfig - LocalWorkspace** to enable. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1718943333689397acd2763cb44bba91abfa9a163d1e4.png)
3. In the folder selection window, designate the path where the files will be saved. Once downloaded, coproduction will be disabled.
4. Open the designated path to confirm the files were successfully downloaded. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/172914247719117cb875a22f64dbcbb83f754e5fc4b57.png)
5. Share the World files with your group members.
6. If you modify the World in the Maker or add a new script entry, changes will be saved in the designated folder.

#### Group Member

Once the group leader or manager shares the World file, group members can download it to their local desktop. Then, if group members enter the World with Local Workspace enabled, the folder selection window will appear. They can designate the path on their desktop for the Local Workspace and modify the World in the Maker.

1. Download the World data shared among the group.
2. Designate the folder where the World data will be downloaded.

# Using the Local Workspace

#### Local Workspace Folder

Once LocalWorkspace is enabled, the World data will be downloaded in four different folders.

| Name | Description |
| --- | --- |
| Global | The folder containing the various entries in the world. |
| map | This is the Hierarchy's map entry folder. |
| RootDesk | A folder containing Workspace - MyDesk's entries. |
| ui | This is the Hierarchy's ui entity folder. |

#### Local Workspace and Remote Workspace

Once Local Workspace is enabled, there are two separate storage locations for Local and Remote Workspace. Creators can synchronize the Local Workspace and Maker as needed to create their World. When they need to record revisions or release their World, they will synchronize their Remote Workspace and Local Workspace.

#### Synchronizing Maker to Local

After saving the World, any changes made in the Maker will be synchronized as local files at the designated path.

> **Warning!** When the workspace's entry or folder name is set as rules that aren't allowed by OS, there may be issues when saving to local. The issue must be fixed by checking if the names that fall under the conditions below exist before activating the local workspace. - **`<` (Less-than Sign), `>` (Greater-than Sign), `:` (Colon), `"` (Double Quotation Mark), `/` (Slash), `\` (Back Slash), `|` (Vertical Bar), `?` (Question Mark), `*` (Asterisk)**- Use of reserved words **CON, PRN, AUX, NUL, COM1~COM9, LPT1~LPT9**- There is a **period or space** at the start or end of a file or folder name - **Exceeded 255 characters** including total path

#### Synchronizing Local to Maker

You can use **Refresh, Reimport, ReimportAll** in the right situation through the context menu from Hierarchy and Workspace. Exit MapleStory World, download the World file, and then load the World in the Maker to import local files and synchronize with them. If you've downloaded the World's metadata file using the configuration management tools while using the Maker, you may need to synchronize the local data with your Maker manually.

| Name | Description |
| --- | --- |
| Refresh | Refresh and load files in the Maker that were only modified in Local Workspace. |
| Reimport | Reflect local changes in individual scripts or Dataset entries. |
| Reimport All | Applies all of the files in Hierarchy, Workspace from the local workspace. If you run into issues when loading individual files, you can try Reimport All to solve the issue. Re-loads the world after loading all files. |

> **Warning!** **Files downloaded to a local workspace have unique information, so we don't recommed directly copying or editing files from local. Doing so may cause synchronization errors due to randomly edited files.** **However, mLua files can be edited safely by using the mlua VS Code Extension, and CSV files can be freely edited.**

#### Synchronizing to a Remote Workspace

Creators can save world data to MapleStory World's DB for LocalDataset synchronization, recording Revisions, etc. Select **File - Sync to Remote Workspace** to synchronize local files to the Remote Workspace. Revisions will be recorded based on the data of the Maker before the synchronization. Only the **group leader and manager** can synchronize group worlds to the remote workspace.

#### Release of World

When a world is released, the latest local workspace content from the point of release is synchronized to the remote workspace. If changes made on maker were not saved on local, you must first synchronize maker to local, and then local to Remote Workspace before releasing the World. For group worlds that use a local workspace, only the **group leader and manager** can release the world.

# Deactivating Personal Local Workspace

If you're no longer using a local workspace or if you enabled it by accident, you can disable the feature. Before disabling the feature, you need to save the data in a local workspace to remote workspace and then deactivate the local workspace.

- Deactivate **Workspace - WorldConfig - LocalWorkspace**.

# Deactivating a Group's Local Workspace

When a group's local workspace is deactivated, the maker will be changed back to coproduction mode.

1. Disable the feature via **Workspace - WorldConfig - LocalWorkspace**.
2. Check if the maker has been changed to coproduction mode.

# Local Workspace and File Sharing Tools

You can more efficiently create worlds by using separate file sharing tools alongside the local workspace. Since group worlds will no longer support coproduction features when the local workspace is activated, group members won't be able to synchronize changes in maker. So you will need a shared storage space where files can be shared to and downloaded from. Using cloud storage or configuration management tools (svn, git) will allow all members to keep track of changes made in the World data and conduct individual tests by applying only necessary files on the Maker.

# Linking Local Workspace and VS Code

The mLua file of the selected item from the maker will automatically open in VS Code when the VS Code link function is activated. The **LocalWorkspace** item is added to **File - Setting - Create** when **LocalWorkspace** and **UseExtendedScriptFormat** are activated. The VS Code can be linked by activating this item. The VS Code link option is only supported on **Windows**. You can create the `.vscode` folder, `.code-workspace` file, and `launch.json` file under the local workspace by linking the VS Code.

> **Tip** The line numbers of **log messages** from the **Console, Build Console** triggered while linked will display as the VS Code's line numbers.
> **Tip** The `launch.json` file is needed when using the VS Code Debugger. You can view details in [Debugger for mLua] (/docs?postId=1323{"target":"_blank"}).

#### Activating VS Code Link

1. You can activate the VS Code link from **File - Setting - Create - LocalWorkspace**. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1753841640003ea80d3ce3b164791a4229e6dadcd42bb.png)
2. When the VS Code is linked, the VS Code's `Code.exe` path will be set automatically. If the path isn't set, then it can be set directly by using the **[Path Settings]** button. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/17538416870989b42bb936b2e4076a5a993e78a4af7ee.png)

#### View from the Script Maker

Worlds that are linked with the VS Code will have all items changed to **read-only**, making it impossible to directly edit the script from the maker. If you want to view scripts from the maker, you can do so by pressing **Context menu - Open In Script Editor (Read Only)**.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17496310661647421ad7e3f2b40c799cbfbb98ca75a0d.png)

Update 2025-11-19 AM 09:35


# ExtendedScriptFormat

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=25m&amp;color=green)

##### **ExtendedScriptFormat is a preview function that is subject to change following the official release.**

# Course Introduction

Let's find out how to use extended script format and about the mlua file format.

##### Reference Guide

- [Coproduction](/docs/?postId=670)
- [Coproduction Group Member's Level and Permission](/docs/?postId=1077)
- [WorldConfig](/docs/?postId=1101)
- [LocaWorkspace](/docs/?postId=1165)

# Extended Script Format Introduction

If you enable **Extended Script Format**(UseExtendedScriptFormat) from your Local Workspace, an **mlua file** that pairs with the metadata file will be created. Since the extended script format is plain text, it would be easier for you to find the source of the problem if a collision occurs when merging files.

> **Caution!** **UseExtendedScriptFormat is a preview feature, and it may not be stable. There may be unintended bugs, and the feature may be removed via future updates. It is advised that you create a backup file or a backup World.**

# Enabling Extended Script Format

1. Activate the feature via **WorldConfig - LocalWorkspace - UseExtendedScriptFormat**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1718965223446aece1d91f1aa4b5289f10318668c8d55.png)
2. Check if the Environment folder and mlua file have been created in the LocalWorkspace folder. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/172717900378801c962c5094344a8b3ae9802c6c9168a.png)

# Disabling Extended Script Format

Once you activate UseExtendedScriptFormat, you cannot deactivate it. Instead, you'll need to disable Local Workspace. You can disable Local Workspace as follows.

1. Revert the local file to the version where the problem had not occurred yet.
2. Select **ReimportAll** in MapleStory World Maker.
3. Select **File - Sync To Remote Workspace** to synchronize the current local files to Remote Workspace.
4. Open **Global - WorldConfig.config** in your local folder.
5. Change **"UseExtendedScriptFormat": true** to **"UseExtendedScriptFormat": false** and then save.
6. Select **ReimportAll** in MapleStory World Maker again.
7. Check if UseExtendedScriptFormat had been disabled in the Maker.
8. Deactivate **LocalWorkspace**.
9. Click **File - Revisions** and then select and revert to the previous version where the problem had not occurred yet. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1727179083087cc4b9b000bb54765b8250e4d35617d07.png)

# Introduction to mlua File

Files in mlua format are defined in a specific way.

> **Caution! You should refrain from using features that are not supported in the Maker on mlua files. It may work at the current state, but it may be changed in future updates.**

#### Script Entry Definition

Script entries can be inherited from one parent and only among script entries of the same type. Among the script entries, **Component, Item, BTNode, State, Logic** requires information of the parent. Scripts that can be defined via script entries are as follows.

- Component
- Item
- BTNode
- State
- Logic
- Event
- Struct

```
@Script Type
ScriptName extends Inheritance
end
```

This is an example of a script entry definition.

```
@Component
script NewComponent extends Component
end
```

#### Property Definition

The property definition composition is as follows.

```
PropertyType PropertyName = default value
```

This is an example of a property definition.

```
Property number NewProperty = 5
```

#### Method Definition

The method definition composition is as follows.

```
Method ReturnType MethodName (ParameterType ParameterName)
```

This is an example of a method definition.

```
method void TestMethod(float parameter)
```

#### Event Handler Definition

Event handler requires the EventSender attribute.

```
@EventSender("Self")
Handler HandlerName(EventType event)
```

This is an example of an event handler definition.

```
@EventSender("Self")
handler HandleButtonClickEvent(ButtonClickEvent event)
```

#### Attribute Definition

This can be omitted if the attribute's parameter is not required.

```
@Name()
@Name(Parameter)
```

This is an example of an attribute definition.

```
@EventSender()
@EventSender("Self")
```

Update 2025-12-01 PM 04:21


# mLua

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

##### **mLua is a preview function that is subject to change following the official release.**

# Course Introduction

Scripts in an editor outside of MapleStory World maker must follow mLua syntax. Let's learn about mLua syntax.

##### Reference Guide

[LocalWorkspace](/docs/?postId=1165) [ExtendedScriptFormat](/docs/?postId=1166) [mLua Extension](/docs?postId=1209) [Coproduction](/docs/?postId=670)

# mLua

This is the programming language for expressing MSW maker's script entries.

# Definition Statement

## Script Definition Statement

You can define scripts by using script definition statements. The following is the script definition statement syntax.

```
script Type Name

end
```

If there is an inheritance relationship, you can attach extends to mark which type the inheritance comes from. The following is the definition statement syntax for script with extends.

```
script Type Name extends Type Name
 
end
```

## Property Definition Statement

You can define a script's property through a property definition statement. For property definition statements, the right-hand expression must be written with the exception of some types. SyncTable types are unassignable, and the right-side expressions are omitted.

```
property TypeName Name = Expression
```

## Method Definition Statement

You can define methods in a script through a method definition statement. The following is the syntax for method definition statements.

```
method Return Type Name Method Name (Parameter Type Name Parameter Name)

end
```

**Use Example**

```
method string NewMethod(number num)
    return ""
end
```

## Event Handler Definition Statement

You can define event handlers in a script through an event handlerstatement. The following is the syntax for event handler definition statements.

```
handler Handler Name(Event Type Name Parameter Name)

end
```

**Use Example**

```
handler HandleEvent(KeyDownEvent event)

end
```

## Attribute Statement

You can designate various functions to scripts and members using Attribute statements. You can use multiple Attribute statements for a single member. The following is the syntax for the Attribute statement.

```
@AttributeName
```

**Use Example**

```
@Sync
property string NewValue = nil
```

An Attribute can have parameters. The following is the syntax for an Attribute that has a parameter.

```
@AttributeName(Argument)
```

**Use Example**

```
@ExecSpace("Server")
method void OnBeginPlay()

end
```

# Attribute

An Attribute is required to apply functions like synchronization, execution control, min values, and max values to script members in mLua. You can set multiple Attributes to a single member.

#### Sync Attribute

Sets the sync status on a property. The application target is **property**. The application target is **a property with a Property type that can be synced**. The aplicable types are **Component, Logic, and BTNode**.

- Parameter: **None**

```
@Sync
Property string NewValue = nil
```

#### TargetUserSync Attribute

Sets the sync status of certain targets. The application targets are **properties and components with Property types that can be synced**.

- Parameter: **None**

```
@TargetUsrSync
```

#### ExecSpace Attribute

Sets the execution control space for methods and event handlers. Only segments set as strings can be used as parameters. The application targets are **methods and event handlers**. The applicable types are **Component and Logic**.

- Parameter: **string** ("Server", "Client", "ServerOnly", "ClientOnly", "Multicast")

```
@ExecSpace("Client")
@ExecSpace("Server")
@ExecSpace("ServerOnly")
@ExecSpace("ClientOnly")
@ExecSpace("Multicast")
```

#### EventSender Attribute

Designates the event sending object of an event handler. The application target is **event handler**, and the EventSender Attribute must be used. Only segments set as strings can be used as parameters.

- Parameter: **string** ("Self", "Entity", "Model", "LocalPlayer", "Service", "Logic"), **string**(optional)

> **Tip** The value that can be used as the second parameter depends on the string used as the first parameter. - "Entity", "Model": **Entity Id** must be entered as the second parameter. - "Service", "Logic": **Type name** must be entered as the second parameter. - "Self", "LocalPlayer": The second parameter isn't used.

```
@EventSender("Service", "InputService")
handler handleEvent(keyDownEvent event)

end
```

#### DisplayName Attribute

Sets the name that will be displayed in MSW maker's property editor. The application target is **property**.

- Parameter: **string**

```
@DisplayName("Test Value")
property string NewValue = nil
```

#### Description Attribute

Description that displays as a tooltip in MSW maker's property editor. The application target is **property**.

- Parameter: **string**

```
@Description("Property Description")
property string NewValue = nil
```

#### HideFromInspector Attribute

Sets whether it will display in MSW maker's property editor. The application target is **property**.

- Parameter: **string**

```
@HideFromInspector
property string NewValue = nil
```

#### MinValue Attribute

Sets the minmum value in MSW maker's property editor. The application targets are **number, integer type properties**.

- Parameter: **number**

```
@MinValue(2)
property number NewValue = 3
```

#### MaxValue Attribute

Sets the max value in MSW maker's property editor. The application targets are **number, integer type properties**.

- Parameter: **number**

```
@MaxValue(10)
property number NewValue = 3
```

#### Delta Attribute

Sets the change value when pressing the left/right buttons in MSW Maker's property editor. The application targets are **number, integer type properties**.

- Parameter: **number**

```
@Delta(1)
property number NewValue =3
```

#### MaxLength Attribute

Sets the max length in MSW maker's property editor. The application targets are **string type properties**.

- Parameter: **integer**

```
@MaxLength(5)
property string NewVlaue = "test"
```

#### Component Attribute

Sets a script as a Component. The application targets are **scripts**.

- Parameter: **None **

```
@Component
script NewComponent extends Component
```

#### Event Attribute

Sets the script as an EventType. The application targets are **scripts**.

- Parameter: **None**

```
@Event
script NewEvent extends EventType

end
```

#### Item Attribute

Sets the script as an ItemType. The application targets are **scripts**.

- Parameter: **None**

```
@Item
script NewItem extends Item

end
```

#### BTNode Attribute

Sets the script as BTNodeType. The application targets are **scripts**.

- Parameter: **None**

```
@BTNode
script NewBTNode extends BTNode

end
```

#### State Attribute

Sets the script as StateType. The application targets are **scripts**.

- Parameter: **None**

```
@State
script NewState extends StateType

end
```

#### Struct Attribute

Sets the script as StructType. The application targets are **scripts**.

- Parameter: **None**

```
@Struct
script NewStruct

end
```

#### Logic Attribute

Sets the script as Logic. The application targets are **scripts**.

- Parameter: **None**

```
@Logic
script NewLogic extends Logic

end
```

# Annotation

Annotations are a type of metadata that is added to code. Writing annotations in the '---@' format can offer various assistance when writing actual code.

#### Type Annotation

Type Annotation types can be explicitly set. It can be used in assignment statements and property definition statements.

```
---@type TYPE
```

**Use Example**

```
---@type string
local testValue = "test"
```

```
---@type string, integer
local strValue, intValue = "str", 5
```

#### Param Annotation

Param Annotation can set the parameter type for targetted functions. Used in function definition statements.

```
---@param param_name PARAM_TYPE
```

**Use Example**

```
---@param testParamA Entity
local function TestFunction(testParamA)
end
```

```
---@param testParamA Entity
---@param testParamB integer
local function TestFunction(testParamA, testParamB)

end
```

#### Return Annotation

Return Annotations can set the return type of the targeted function. Used in function definition statements and method definition statements. Return Annotations can be assisted by the script assist by setting the return type of the target function.

```
---@return TYPE
```

**Use Example**

```
---@return Entity
local function TestFunction(testParamA, testParamB)
    return self.Entity
end
```

```
---@return Entity, string
local function TestFunction(testParamA, testParamB)
    return self.Entity, "strValue"
end
```

#### Deprecated Annotation

Deprecated Annotations mark something as no longer in use. Used in script definition statements, property definition statements, method definition statements, and event handler definition statements.

```
---@deprecated
```

**Use Example**

```
---@deprecated
property any NewValue = nil
```

#### Sealed Annotation

Sealed Annotations mark members that will no longer be overridden. Used in property definition statements, method definition statements, and event handler definition statements.

```
---@sealed
```

**Use Example**

```
---@sealed
property any NewValue = nil
```

#### Description Annotation

Description Annotations are used for descriptions that are shown in tooltips. Used in script definition statements, property definition statements, method definition statements, and event handler definition statements.

```
---@description "Test"
```

**Use Example**

```
---@description "Test Value"
property any NewValue = nil
```

Update 2025-11-19 AM 11:33


# VS Code: mLua Extension

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

##### **VS Code: mLua Extension is a preview function that is subject to change following the official release.**

# Course Introduction

Creators using the LocalWorkspace and ExtendedScriptFormat can efficiently create scripts by using the mLua VS Code Extension provided by MapleStory Worlds.

##### Reference Guide

[LocalWorkspace](/docs/?postId=1165) [ExtendedScriptFormat](/docs/?postId=1166) [mLua](/docs?postId=1287) [Coproduction](/docs/?postId=670)

# mLua VS Code Extension

mLua Extension is an expansion program that allows the convenient use of mLua in VS Code.

> Learn More mLua Extension can make global variable declarations, and unlike MSW Maker's script editor, a warning doesn't display.
> Learn More A debugging function will be added in the future.

# Using mLua VS Code Extension

To use mLua Extension, [VS Code](https://code.visualstudio.com/) must be installed. VS Code provides a syntax emphasis function with the source code editor, which increases the convenience of writing code.

1. Install [VS Code](https://code.visualstudio.com/).
2. Select **Extensions** and search mLua. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1739257075188099842c84703431fae9f1dfe782c5b3b.png)
3. Once the installation is complete, Extension is automatically activated. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17392575481988bb9dee8ad324ddea22bef398b4421c7.png)
4. After selecting **VS Code - File - Open Folder**, select the world folder that was downloaded from local to load the entire file. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1739257564610278a1b7b1ff143d0a498a01e8a3c6134.png)
5. Written code can be synchronized with MapleStory World's maker and released. Refer to [LocalWorkspace](/docs/?postId=1165) on how to synchronize.

# mLua VS Code Extension Function

## Hover

The symbol's information displays when hovering the mouse over the symbol. ![hover](https://mod-file.dn.nexoncdn.co.kr/bbs/1739258236378407788513cc141c2af1b550be5154b6d.png)

## Inlay Hint

Displays the information that helps with writing code such as a member's override status, the Entity Name that corresponds to Entity Id. ![Inlay](https://mod-file.dn.nexoncdn.co.kr/bbs/1739258296092c63e04f5db6a443585eb781342cc51b3.png)

## Document Symbol

Displays the symbols that exists in the document. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1739259663469d2a0a54c39c44d87942b78154ea70269.png)

## Rename Symbol

Change the names of the referenced symbols at once.

## Signature Helper

Displays function signatures when writing functional call expressions, which help with writing parameters. If overloaded, use the arrow keys to find the desired signature to show the function signature. ![signature helper](https://mod-file.dn.nexoncdn.co.kr/bbs/1739258358762a37066f5d9284e27a5d031f086aedb78.png)

## Go to Reference

Move to the selected symbol's reference.

## Find All Reference

Finds the references of all selected symbols.

## Go to Definition

Moves the selected symbols to the defined locations.

## Go to Type Definition

Moves the selected symbol's type to the defined location. ![gototype](https://mod-file.dn.nexoncdn.co.kr/bbs/1739259625673c71ae233e5f2446daee2749b11cfbbd4.png)

## Completion

#### Code Completion

Infers symbols that can be used in certain scripts when writing a script and offers auto-completion. It also infers accessible members from the target symbol when indexing and offers auto-completion.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/173925981885800cc64e8e22a4c6bab618d241f270495.png)

#### Entity Id Completion

You can easily find an entity's Id by using the entity path. By selecting an entity candidate provided by Completion, it will be replaced with an Entity Id automatically. You can view the entity's name through the inlay hints to easily differentiate entity Ids. For example, if the property type is BackgroundComponent, Completion will narrow down entity Ids that have Background. ![entityId](https://mod-file.dn.nexoncdn.co.kr/bbs/173926657423897107b00ec1c4dc7a66a7c5907914b2c.png)

## Code Snippet

Provides codes often used by the user as a template. Auto-complete code fragments by selecting Snippet, and press Tab to move to the template's next intended position.

## Diagnostic

A function that diagnoses code written by the creator and tells them about any potential issues. It can classify issues by importance, and you can view the diagnosis results from PROBLEMS. ![Problems](https://mod-file.dn.nexoncdn.co.kr/bbs/17392600764315daec26eb5b148fe90c9134258b65d7d.png)

## Commit Character Support

A function that selects automatically-suggested items upon entering `.(dot)`, `,(comma)`, `:(colon)`. ![CommitCharacterSupport](https://mod-file.dn.nexoncdn.co.kr/bbs/1739259976957319c89b93a604bba81366707a91b93f2.gif)

# Code Folding

This function folds certain sections of written code using `--region`, `--endregion`. Enter `--region` at the desired start of the folded code and `--endregion` at the end.

![CodeFolding](https://mod-file.dn.nexoncdn.co.kr/bbs/17483232121567e4c7bf533d5448d9a8a8b143410a237.png)

# Symbol Color Customization

You can change the color of certain symbols by changing the **foreground scope** value from **Inspect Editor Tokens and Scopes**. You can only use the color change function by creating a **settings.json** file under **downloaded project folder - .vscode folder** that was downloaded to local through the local workspace. Please refer to the [LocalWorkspace] (/docs?postId=1165{"target":"_blank"}) guide on how to create the **settings.json** file.

1. Enter **Ctrl + Shift + P** from VS Code.
2. Select **Developer:Inspect Editor Tokens and Scopes**.
3. Click the symbol that will have its color changed with the mouse to confirm the **foreground scope** value.
4. Write the created **settings.json** file in the following format.```
{
    "editor.tokenColorCustomizations": {
        "textMateRules": [
            {
                "scope": "entity.name.class",
                "settings": {
                    "foreground": "#daed30", 
                    "fontStyle": "bold"
                }
            },
            {
                "scope": "keyword.control",
                "settings": {
                    "foreground": "#daed35",
                    "fontStyle": "bold"
                }
            }
        ]
    }
}
```
5. Save the **settings.json** file and check if the color has been changed.

> **Tip** .The file name inside of the **vscode** folder must be **settings.json**. the function will not apply if the name isn't input precisely.

# Shortcut

| Shortcut | Action | Description |
| --- | --- | --- |
| Ctrl + Space | Completion | Activates Completion. |
| Ctrl + Shift + Space | Signature Helper | Activates Signature Helper. |
| Shift + F12 | Go to Reference | Move to the selected symbol's reference. |
| Shift + Alt + F12 | Find All Reference | Finds all of the selected symbol's references. |
| F2 | Rename | Changes the name. |
| F12 | Go to Definition | Move to Definition. |

Update 2025-11-19 AM 11:33


# VS Code: Debugger for mLua

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

Let's try debugging a world that's being created from VS Code by installing mLua Debugger VS Code Extension.

##### Reference Guide

- [Script Debug](/docs?postId=202)
- [LocalWorkspace](/docs?postId=1165)
- [mLua VS Code Extension](/docs/?postId=1209)

# Debugger for mLua Extension

**Debugger for mLua** is an expansion program that supports debugging an mLua file from VS Code for a world that uses a local workspace. The Debugger for mLua can be used if the mLua Extension is installed and MapleStory World's LocalWorkspace link function is activated.

# Debugger for mLua Extension Installation

1. Select Extensions and search for and install **Debugger for mLua**.
2. Check if the world's local folder has the `.vscode` folder and the `launch.json` file.
3. Open the `launch.json` file and enter the following. Configurations must be written as shown below in order to activate the **Run and Debug** tab for VS Code.```
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "MSW Attach",
            "type": "msw",
            "request": "attach"
        }
    ]
}
```

# Debugging

Debugger for mLua is a method that links VS Code Debugger to MSW. Therefore, debug play must be executed before linking and using VS Code Debugger. You can check the debug link status from the maker's Console.

1. Open the world that will be debugged.
2. Play by pressing the Start Debugging button rom maker. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1752493246769c727f80f4b834db49badc10dfa1d87ae.png)
3. Select **Run and Debug** from VS Code. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1752493465533de5e5b193b0a4b64918698ba153abef7.png)
4. Select the name of previously defined composed information and press Execute. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1752491257751ada9a353952a4373a9a58c419aabec9f.png)
5. When VS Code Debugger is linked, it can be confirmed from maker's Console. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/175249314149585250a3fb9e242ae91545127d221d059.png)

# Run and Debug

## Stopping Point

The Stopping Point is when the debugging can be paused. It can be set at multiple points and freely removed. You can view files with Stopping Points and lines from **BREAKPOINTS**.

#### Setting and Removing Stopping Points

There are two ways to set or remove Stopping Points.

1. Select the line where a Stopping Point will be set and press 'F9' to set or remove them.
2. Press the code line area to add or remove them.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1752491279590042be7bd2233426b8df2b4ff76b99d7e.png)

#### VARIABLES

View the variable info based on Scope. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17524936153840d09d5ea89904d80ae2099bb38b014ec.png)

#### WATCH

You can directly write and view the value of Expression. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1752557620746239370f899b8440d963337db331828e9.png)

#### CALL STACK

You can view the call stack. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17525480355440cc7b232d4fa498881987f2cb470a7f5.png)

#### BREAKPOINTS

You can view the path and line of the file with Stopping Points. Select a Stopping Point from the list to move to that specific Stopping Point. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1752491237685ab378074ca044f6e98ee50bc36320133.png)

#### ENVIRONMENT

View the current execution space. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/175249399198781822bddc5f947eca0d193fcc7905448.png)

#### Confirm Delegated Value to Symbol

The delegated value to a symbol can be viewed via the tooltip that displays when hovering the mouse cursor over a symbol.

# Debug Toolbar

Upon starting a debug, the toolbar will display abvove VS Code. When play stops at a Stopping Point while executing, a world debug will activate the execution buttons for the toolbar. If you wish to continue to execute the code for debugging purposes, you can do so by pressing a button. You can find and solve problems in the world by identifying code status or flow in units of procedure by executing code.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17524912237671bfee3141dde43fb80b778e12dfef002.png)

| Number | Function | Description |
| --- | --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Continue Execution | Execute from the current Stopping Point until the code line with the next Stopping Point. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Execute in Units of Procedure | Execute code one line at a time. When the focused line has a function, it treats it as if the function was executed and moved onto the next line. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Run Code Below | When the focused line has a function, it enters the function and executes the code inside of the function one line at a time. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Run Code Above | Completes the curren function call that's being executed and moves to the location where the target function was called to. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | Restart | Halt the current debugging and return to the start of the debugging and restart the process. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | Stop | Stop the debugging process. |

Update 2025-11-17 PM 08:14


# Command Console

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=25m&amp;color=green)

# Course Introduction

You can use various commands from the Command Console to execute specific actions. You can search all entities using specific properties or use them for debugging. Let's learn how to use the Command Console.

# Command Console Introduction

Open the Command Console window by clicking Panel - Command Console. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17307099056193c94fbbdb3df4c6fb3c5047b65b20282.png)

#### Screen Intro

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1730788005872cf5bfbc44751472087b21b2871280fc4.png)

| Number | Name | Description |
| --- | --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Result Window | Displays the executed command's results. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Input Window | This is where you input commands. Execute the function by pressing 'Enter' after inputting a command. |

# Using Commands

After inputting a command, the resulting value after the execution will be output in the Command Console result window or in the console window as a log.

#### Types of Commands

Only commands that were pre-set in MSW can be used. When using a command, the proper command and parameter variables must be input. When inputting the parameter variables, the proper order must be observed. The following commands can be used in the console. Each command's parameter variables and options can be seen from [Console Command](/docs?postId=1195).

| Command Name | Description |
| --- | --- |
| help | Output the available commands and their descriptions. |
| echo | Output the entered message as-is in the results window. |
| export | Send the file to the set path. You can only send out scripts, code blocks, data sets, and user data set entries. |
| import | Load the file to the set path. |
| findentity | Search for a specific entity from the hierarchy. You can search entities on all maps. |
| findcomponent | Search for specific components from the hierarchy. You can search across all maps. |
| findproperty | Search for specific properties in the hierarchy. You can search across all maps. |
| play | Play the world. Execute in debug mode or add a virtual player. |

> **Tip** You can execute the 'help command name' if you want to view directly from the Command Console. - Command List Search Example: help all, help findentity

# Basic Syntax

Basic syntax is categorized as commands, parameter variables, and options. Only **spaces** are used to categorize them. An error will trigger if a ',' or another symbol is used. '[]' signifies a parameter variable or option that the creator can use selectively. Command syntax is comprised as follows.

```
Command Parameter Variable -Option1 -Option2
```

### Parameter Variables

Parameter variables must be input and must follow the set sequence. For example, src_path are dest_path parameter variables for export, so to use export, you would need to type export "MyDesk/NewComponent" "C:\Test".

### Options

Provides various options for each command. Options can be freely selected based on the creator's intentions for the command. There are no rules for the order of writing options, so the creator can set the order as they deem fit. A '-' should be placed in front of the option name when using options. Options can also have parameter variables. In this case, an option's parameter variable must be written and used in order. For example, for - debug for the play command, since it has no variable, you only have to enter 'play -debug' to execute debug mode. However, using -virtual will require parameter variables, so it must be written like 'play -virtual_player 5' to add 5 virtual players.

# stream

You can use stream as an option parameter variable. Stream is used when sending or loading values from specific files. The results can be ouput in the form of a file as well. The command's results log and error log will be output as a file if stream is passed over with '-out' or '-err' option parameter variables. A '$' needs to be attached in front of the path to ouput as a file. For example, if you enter 'echo $"C:\Test/file.txt"', the file path's value will pass to an argument. On the other hand, when 'echo "C:\Test/file.txt"' is entered, the whole input will be passed to an argument. When you write a command like the following, the results log and error log files will be ouput as a file following the file path set as the parameter variable.

```
echo "test" -out $"C:\Test/resultLog.txt" -err $"C:\Test/errorLog.txt"
```

# Path

The file path and maker entry path need to follow the rules below when using commands.

- **File Path**: Follow the file path notation system under policy.
- **Workspace Path** : Enter in order starting from MyDesk.
  - Example: MyDesk/Images/Test_Sound_01.ogg
- **Hierarchy Path**: Categorize in order starting from World.
  - Example: World/ui/UIGroup/UIEmpty

# Log

When executing a command written by the creator, the results will be shown in the form of a log in the console window. Logs that are ouput by command use results are categorized as normal logs, command result logs, and error logs.

#### Normal Logs

Normal logs are logs that are delivered to the creator like command execution results. For example, when using the import command, a log that indicates completion will display when the file is loaded.

#### Result Logs

Results that can be obtained from commands are categorized as result logs. For example, when using the findentity command, the found entities will be shown as a result log.

#### Error Logs

Logs that display when an issue arises while a command is executed are classified as error logs. For example, if there are any invalid paramter variables for a command, an error log will be triggered.

Update 2025-11-17 PM 08:14


# Command Console Commands

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's learn about commands that can be used in the Command Console window.

# help

Display a list of commands and their descriptions.

```
help [command=all] [-out stream] [-err stream]
```

#### Parameter Variables

- **command**: The name of the command to output the description for. You can view descriptions for all commands by entering all.

#### Options

- **-out**: Set the stream to output the results to.
  - stream: A stream that will be output.
- **-err**: Set the stream to output errors to.
  - stream: A stream that will be output.

#### Example

```
help findentity
```

# echo

Output the entered message to the results window as-is.

```
echo message [-out stream] [-err stream]
```

#### Parameter Variable

- **message**: A message that will be output.

#### Options

- **-out**: Set the stream to output the results to.
  - stream: A stream that will be output.
- **-err**: Set the stream to output errors to.
  - stream: A stream that will be output. #### Example

```
echo "test"
```

# export

Sends the desired file to the set path. You can only send scripts, code blocks, data sets, and user data set entries.

```
export src_path dest_path [-out stream] [-err stream]
```

#### Parameter Variable

- **src_path**: The workspace path for the entry that will be sent out.
- **dest_path**: The path to save the entry that was sent out. The path starts from MyDesk.

#### Options

- **-out**: Set the stream to output the results to.
  - stream: A stream that will be output.
- **-err**: Set the stream to output errors to.
  - stream: A stream that will be output.

#### Example

```
export "MyDesk/NewComponent" "C:\TestFolder"
```

# import

Loads a file to the set path.

```
import src_path [dest_path=MyDesk] [-overwrite] [-out stream] [-err stream]
```

#### Parameter Variable

- **src_path**: The path of the entry that will be loaded.
- **dest_path**: The path to save the entry that was loaded. The path starts from MyDesk.

#### Options

- **-overwrite**: Allow overwriting.
- **-out**: Set the stream to output results to.
  - stream: A stream that will be output.
- **-err**: Set the stream to output errors to.
  - stream: A stream that will be output.

#### Example

```
import "C:\TestFolder/NewComponent.xml" "MyDesk/NewFolder"
```

# findentity

Searches for a specific entity from the hierarchy. Entities of all maps can be targeted.

```
findentity [-path path] [-name name [match_type=contains] [comparison_type=ordinal]] [-visibleonly] [-enableonly] [-modelonly] [-model_name name [match_type=contains] [comparison_type=ordinal]] [-model_id id] [-out stream] [-err stream]
```

#### Options

- **-path**: Set the the path for searching an entity.
  - path: Path for searching an entity.
- **-visibleonly**: Only search for Visible entities.
- **-enableonly**: Only search for Enabled entities.
- **-modelonly**: Only search for entities with expanded models.
- **-name**: Search for entities that include the set name.
  - name: The name that will be searched.
  - match_type: Method of searching for a name. Use either contains, equals, or regex.
    - contains: Search for entities with expanded models including the set name.
    - equals: Search for entities with expanded models that have the same set name.
    - regex: Search for matching entities using regular expressions.
  - comparison_type: Method of comparing names. Use either ordinal or ordinal_ignorecase.
    - ordinal: Execute byte comparison.
    - ordinal_ignorecase: Execute a byte comparison and ignore capitalization.
- **-model_name**: Search for entities with expanded models that include the set name.
  - name: The name that will be searched.
  - match_type: Method for searching a name. Use either contains, equals, or regex.
    - contains: Search for entities with expanded models that include the set name.
    - equals: Search for entities with expanded models with the same set name.
    - regex: Search for matching entities using regular expressions.
  - comparison_type: Method of comparing names. Use either ordinal or ordinal_ignorecase.
    - ordinal: Execute byte comparison.
    - ordinal_ignorecase: Execute byte comparison and ignore capitalization.
- **-model_id**: Search for models with a matching model id.
  - id : The id of the model to be searched for.
- **-out**: Set the stream to output results to.
  - stream: A stream that will be output.
- **-err**: Set the stream to output errors to.
  - stream: A stream that will be output.

#### Example

```
findentity -path "World/ui/DefaultGroup" -enableonly -name "Button" contains ordinal_ignorecase -out $"C:\TestFolder/result.txt"
```

# findcomponent

Search for a specific component in the hierarchy. All maps can be targets of this search.

```
findcomponent [-path path] [-enableonly] [-name name [match_type=contains] [comparison_type=ordinal]] [-out stream] [-err stream]
```

#### Options

- **-path** Set the path for searching a component.
  - path: Path for searching components.
- **-enableonly**: Only search for components that are Enabled.
- **-name**: Search for components with names including the set name.
  - name: The name that will be searched.
  - match_type: Method of searching for a name. Use either contains, equals, or regex.
    - contains: Search for components with names including the set name.
    - equals: Search for components with the same set name.
    - regex: Search for components with a matching name using regular expressions.
  - comparison_type: Method of comparing names. Use either ordinal or ordinal_ignorecase.
    - ordinal: Execute byte comparison.
    - ordinal_ignorecase: Execute byte comparison and ignore capitalization.
- **-out**: Set the stream to output results to.
  - stream: A stream that will be output.
- **-err**: Set the stream to output errors to.
  - stream: A stream that will be output.

#### Example

```
findcomponent -path "World/ui/DefaultGroup" -name "ButtonComponent" equals ordinal_ignorecase -out $"C:\TestFolder/result.txt"
```

# findproperty

Search for specific properties in the hierarchy. All maps can be targets of this search.

```
findproperty [-path path] [-name name [match_type=contains] [comparison_type=ordinal]] [-component_name name [match_type=contains] [comparison_type=ordinal]] [-out stream] [-err stream]
```

#### Options

- **-path**: Set the path for searching properties.
  - path: Path for searching properties.
- **-name**: Search for properties including the set name.
  - name: The name that will be searched.
  - match_type: Method of searching for a name. Use either contains, equals, or regex.
    - contains: Search for properties with names including the set name.
    - equals: Search for properties with the same set name.
    - regex: Search for properties with a matching name using regular expressions.
  - comparison_type: Method of comparing names. Use either ordinal or ordinal_ignorecase.
    - ordinal: Execute byte comparison.
    - ordinal_ignorecase: Execute byte comparison and ignore capitalization.
- **-component_name**: Search for properties from components including the set name.
  - name: The name that will be searched.
  - match_type: Method of searching for a name. Use either contains, equals, or regex.
    - contains: Search for components with names including the set name.
    - equals: Search for components with the same set name.
    - regex: Search for components with a matching name using regular expressions.
  - comparison_type: Method of comparing names. Use either ordinal or ordinal_ignorecase.
    - ordinal: Execute byte comparison.
    - ordinal_ignorecase: Execute byte comparison and ignore capitalization.
- **-out**: Set the stream to output results to.
  - stream: A stream that will be output.
- **-err**: Set the stream to output errors to.
  - stream: A stream that will be output.

#### Example

```
findproperty -name "Color" -component_name "SpriteGUIRendererComponent"
```

# play

Play in the World. Open in debug mode or add virtual players.

```
play [-debug] [-virtual_player player_number] [-out stream] [-err stream]
```

#### Options

- **-debug**: Play in debug mode.
- **-virtual_player**: Add virtual player
  - player_number: Number of virtual players to be added.
- **-out**: Set the stream to output results to.
  - stream: A stream that will be output.
- **-err**: Set the stream to output errors to.
  - stream: A stream that will be output.

#### Example

```
play -debug -virtual_player 3
```

Update 2025-11-17 PM 08:14


# Lua Executor

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=25m&amp;color=green)

# Course Introduction

When testing Worlds made in Maker, you may want to check if everything functions as you intended in real time by changing component or property values. Or you may want to check if each created script functions without errors in the server or client environment. You can easily confirm the above using Lua Executor. Let's learn about Lua Executor with some practical examples.

# Lua Excutor

You can use Lua Executor to execute scripts in real time while playing in Maker and apply the changes immediately. Creators can execute various scripts as needed which can be confirmed in the World. Written scripts can be executed in the server, client, and instance room each, and the executed value can be viewed from the Console window.

#### Screen Guide

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17314026977102d66cc962e73441caee4eb403cf02d5b.png)

| Number | Name | Desc |
| --- | --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Set Execution Space | Set the execution space. You can set the server, client, and instance room. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Execute | A button used to execute the written script. |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Script Writing Space | A space to write scripts to execute. Only activates during test play in Maker. |

# Use Example

The following are examples using Lua Executor. You can write your own script needed for a creator's World by referencing the example.

#### Confirm Tween Value

TweenLogic is often used in UI effects, so visualizing the final product will be difficult with just written script. You can use the Lua Executor to change the Tween value to confirm the result and search for the desired effect value.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1730979504422b4960734f4c449f9b2ddcbbd63f1cbf2.gif)

1. Add a new **TestGroup** to **Hierarchy - World - ui**.
2. To create a new UISprite, click on the context menu and select **Create Entity - Create UISprite**. ![UISprtie](https://mod-file.dn.nexoncdn.co.kr/bbs/1732151013045fb775efde16f4c0480caab166a5a357f.png)
3. Write the following in Lua Executor to view the Tween results from the created UISprite.```
local entity = _EntityService:GetEntityByPath("/ui/TestGroup/UISprite")
local startY = 90
local goalY = 0
_TweenLogic:PlayTween(startY, goalY, 2, EaseType.ElasticEaseOut, function(y) entity.UITransformComponent.Position.y = y end)
```
4. Click [Execute] after changing the Lua Executor execution space to **Client**.
5. Search for the UI effect of your choice by changing startY and goalY values and by changing EaseType.

#### Camera Movement

When making a large map, you will need to confirm whether the whole of the world has been made to the creator's specifications. You can see the entire map by adding a CameraComponent during a test play using Lua Executor.

![camera2](https://mod-file.dn.nexoncdn.co.kr/bbs/173098108808006c95dfa943e47a0ae3e8896635c4631.gif)

1. Create a new **transformonly** model by clicking **Workspace - MyDesk - Create Model**.
2. Add **TransformComponent**. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17314992738388e253d7a07024b2eb33e070a74e78933.png)
3. Enter the following into Lua Executor.```
local mapEntity = _EntityService:GetEntityByPath("/maps/map01")

local debugCamera = _SpawnService:SpawnByModelId("model://transformonly", "DebugCamera", Vector3(0,0,0), mapEntity)

local camera = debugCamera:AddComponent("CameraComponent")
_CameraService:SwitchCameraTo(camera)
```
4. Change the execution space for Lua Executor to **Client** after starting test play.
5. Select the **DebugCamera** that was added to **Hierarchy - World - Maps - Map01**. ![DebugCamera](https://mod-file.dn.nexoncdn.co.kr/bbs/1731499807402c81daf4e1a71486b827c3e25a48c88d0.png)
6. You can change the **CameraOffset** value under CameraComponent from the Property window to look at the whole map. ![CameraOffset](https://mod-file.dn.nexoncdn.co.kr/bbs/17314999391660155bbac855f4eda83d60e5568b67e54.png)

#### Confirm Server Value

You can find the cause of a bug by confirming it in a recreated server value. For example if a monster's HP is unchanged even after a player attacks it, you can confirm if the server value changes based on the monster's status.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17314825147714ec3aa415d38416d8b22e58fa4d56499.gif)

1. Use 'EntityService' to load the path of the entity that needs confirmation. Write it out like the following.```
local monster = _EntityService:GetEntityByPath("/maps/map01/monster-2419_2")
log(monster.Monster.Hp)
```
2. Click [Execute] and move close to the monster to confirm the value from the Console window.

#### Summon Monster

You can summon specific monsters to the server for testing. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17314820984397187de91e0444333991781e9ca6925e2.gif)

1. Open the context menu after selecting the preset from **PresetList - Monster** and select **Add to Workspace**. ![AddToWorkspace](https://mod-file.dn.nexoncdn.co.kr/bbs/1731501190648856620b0912a40d481ef115741a2309c.png)
2. Copy the **Entry ID** of the monster model added to Workspace and write the following to summon that monster.```
local mapEntity = _EntityService:GetEntityByPath("/maps/map01")
for i=1, 10 do
    _SpawnService:SpawnByModelId("model://000000", "TestMonster", Vector3(-7,0,0), mapEntity)
    wait(0.1)
end
```
3. Change the execution space for Lua Executor to **Server** and click [Execute].
4. Confirm if 10 of the monster is summoned.

#### Creating and Testing Instance Rooms

Create an instance room from Lua Executor and debug the position of certain entities in the instance room.

1. Create map02 and activate the **InstanceMap** under MapComponent in the property window.
2. Add a new TestTarget entity to the map that will be debugged.
3. Start play testing.
4. Use 'CreateInstanceRoom()' to create a temporary instance room. Write the following and click [Execute].```
_RoomService:CreateInstanceRoom("Test", {"map02"}, 200)
```
5. Select **Server_Instance_Test** from execution environment. ![Instance Test](https://mod-file.dn.nexoncdn.co.kr/bbs/1731501337385b5fafa8f5d674b41afe2280eeef9215e.png)
6. You can learn the position of the entity to debug by using 'EntityService'. Please write the following and click [Execute].```
local debug = _EntityService:GetEntityByPath("/maps/map02/TestTarget")
log(debug.TransformComponent.Position)
```
7. You can view logs from the **Console window**. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17314885251115e78f866636b457f86abbc6b4ddf7460.png)

Update 2025-11-17 PM 08:14


# MSW Shortcuts

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

MapleStory Worlds' Maker includes shortcuts to create Worlds faster and easier. Let's create a World conveniently using shortcuts.

# General Shortcuts

These can be used in various editors and text input fields in Maker.

| Shortcut | Action | Description |
| --- | --- | --- |
| `Ctrl(L)` + `Z` | Undo | Undo the action. |
| `Ctrl(L)` + `Shift(L)` + `Z`, <br>`Ctrl(L)` + `Y` | Redo | Redo the undone action. |
| `Ctrl(L)` + `C` | Copy | Copy the selected text or entity. |
| `Ctrl(L)` + `V` | Paste | Paste the copied text or entity. |
| `Ctrl(L)` + `D` | Duplicate | Duplicate the selected text or entity. |
| `Ctrl(L)` + `X` | Cut | Cut the selected text or entity. |
| `Delete` | Delete | Delete the selected text or entity. |
| `Ctrl(L)` + `S` | Save | Save the file. |
| `Ctrl(L)` + `F5` | Start/Stop Play | Start play. <br>Stop play by pressing the corresponding shortcut while playing. |
| `Ctrl(L)` + `A` | Select All | The caret will select all content in the text field where it is located. |

# Map Editor, UI Editor

| Shortcut | Action | Description |
| --- | --- | --- |
| `Ctrl(L)` + `KeypadPlus` , <br>`Ctrl(L)` + `=` | Zoom In | Zoom in on the **Scene**. |
| `Ctrl(L)` + `KeypadMinus` , <br>`Ctrl(L)` + `-` | Zoom Out | Zoom out from the **Scene**. |
| `Left Arrow` | Left | Move the selected entity to the left. |
| `Right Arrow` | Right | Move the selected entity to the right. |
| `Up Arrow` | Up | Move the selected entity up. |
| `Down Arrow` | Down | Move the selected entity down. |

# Map Layer Editor

| Shortcut | Action | Description |
| --- | --- | --- |
| `Ctrl(L)` + `]` | Move Up | Move the selected layer up one layer. |
| `Ctrl(L)` + `Shift(L)` + `]` | Move to the Top | Move the selected layer to the top. |
| `Ctrl(L)` + `[` | Move Down | Move the selected layer down one layer. |
| `Ctrl(L)` + `Shift(L)` + `[` | Move to the Bottom | Move the selected layer to the bottom. |

# Script Editor

### Default Editing

| Shortcut | Action | Description |
| --- | --- | --- |
| `Tab` | Indent | Indent at the caret position. |
| `Shift` + `Tab` | Outdent | Outdent at the caret position. |
| `Home` | Home | Moves the caret to the beginning of the selected line. |
| `End` | End | Moves the caret to the end of the selected line. |
| `PageUp` | Top of Code Block | Moves to the top of the selected code block. |
| `PageDown` | Bottom of Code Block | Moves to the bottom of the selected code block. |
| `Ctrl(L)` + `Up Arrow` | Move to the Up Scope (Move Scope Up) | Move to the up scope based on the scope of the line where the current caret is located. |
| `Ctrl(L)` + `Down Arrow` | Move to the Down Scope (Move Scope Down) | Move to the down scope based on the scope of the line where the current caret is located. |
| `Ctrl(L)` | Transparentize | Makes Code Completion, Quick Info, and Signature Helper transparent. |
| `Ctrl(L)` + `Space` | Code Completion | Opens Code Completion. |
| `Ctrl(L)` + `Shift(L)` + `Space` | Signature Helper | Opens the Signature Helper. |
| `Ctrl(L)` + `/` | Commenting | Apply a comment to the code in the 'line where the caret is located' or 'multiple lines selected by dragging'. |
| `Ctrl(L)` + `Shift(L)` + `/` | Block commenting | Apply a block comment to the code in the selected area. |
| `Ctrl(L)` + `D` | Duplicate Code | Duplicates the selected line or selection. |
| `Ctrl(L)` + `L` | Delete Current Line | Deletes the entire line where the caret is located. |
| `Ctrl(L)` + `W` | Select Current Word | Selects the word where the caret is located. |
| `Ctrl(L)` + `LeftArrow` | Move Left | Move to the left of the carat. |
| `Ctrl(L)` + `RightArrow` | Move Right | Move to the right of the carat. |
| `Ctrl(L)` + `Shift(L)` + `LeftArrow` | Select Left | Select to the left of the carat. You can select multiple items by pressing LeftArrow several times. |
| `Ctrl(L)` + `Shift(L)` + `RightArrow` | Select Right | Select to the right of the carat. You can select multiple items by pressing RightArrow several times. |
| `Ctrl(L)` + `Backspace` | Delete Left of Carat | Delete to the left of the carat. |
| `Ctrl(L)` + `Delete` | Delete Right of Carat | Delete to the right of the carat. |
| `Ctrl(L)` + `M` | Unfold Functions | Unfolds all the functions. |
| `Ctrl(L)` + `Shift(L)` + `M` | Minimize Functions | Minimizes all the functions. |
| `Alt(L)` + `Up Arrow` | Move the Line Up | Move up the selected line or the line where the current caret is located. |
| `Alt(L)` + `Down Arrow` | Move the Line Down | Move down the selected line or the line where the current caret is located. |

### Navigation

| Shortcut | Action | Description |
| --- | --- | --- |
| `Ctrl(L)` + `-` | Navigate Back | Moves to the previous recorded location. |
| `Ctrl(L)` + `=` | Navigate Forward | Moves from the previous location back to the most recent location. |

### Search & Replace

| Shortcut | Action | Description |
| --- | --- | --- |
| `Ctrl(L)` + `F` | Search | Search for the desired text in the current script. |
| `Ctrl(L)` + `Shift(L)` + `F` | Search across Projects | Search for the desired text in all scripts in the current project. |
| `Ctrl(L)` + `H` | Replace This | Finds the desired text in the current script and replaces it with the substitution text. |
| `Ctrl(L)` + `Shift(L)` + `H` | Replace in Whole Project | Finds the desired text in all scripts in the current project and replaces it with the substitution text. |

# Debug Mode

| Shortcut | Action | Description |
| --- | --- | --- |
| `F5` | Debug Mode / Move to Next Breakpoint | Execute Debug Mode. <br> Executes to the next line of code with a breakpoint if debug mode is run. |
| `F9` | Breakpoints | Set breakpoints at the selected code line. |
| `F10` | Execute by Procedure (Step Over) | Execute the code line by line.<br>If there's a function in the focused line, move on to next line, assuming the function has been executed. |
| `F11` | Execute Code by Stage (Step Into) | Executes code line by line, but if there's a function in a focused line, enters the code to execute codes within the function line by line. |
| `Shift(L)` + `F11` | Exit Procedure (Step Out) | Finish calling the function currently running and move to the location where it was called. |
| `F12` | Go to Definition | Move to the declaration of the selected variable. |
| `Ctrl(L)` + `Shift(L)` + `F9` | Clear All Breakpoints | Clear all breakpoints set. |

# Navigation Menu

| Shortcut | Action | Description |
| --- | --- | --- |
| `Alt(L)` + `F` | File | Open the context menu for the **File** item. |
| `Alt(L)` + `E` | Edit | Open the context menu for the **Edit** item. |
| `Alt(L)` + `W` | Create | Open the context menu for the **Create** item. |
| `Alt(L)` + `I` | Window | Open the context menu for the **Window** item. |
| `Alt(L)` + `P` | Panel | Open the context menu for the **Panel** item. |
| `Alt(L)` + `D` | Debug | Open the context menu for the **Debug** item. |
| `Alt(L)` + `H` | Help | Open the context menu for the **Help** item. |

# Cursor Group

![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1666834632280605cea59f8f242cfa946de73ce148fc7.png)

| Shortcut | Action | Description |
| --- | --- | --- |
| `Q` | ![NO01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541272181b5c1a55fcf3d49b19734d25913c38583.jpg)Default Cursor | This is the default move cursor. |
| `W` | ![NO_02](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541300837cb541c2f44e046a79bb1901a885aa8ac.jpg)Scroll Cursor | This is the scroll cursor. |
| `Shift` + `E` | ![NO_03](https://mod-file.dn.nexoncdn.co.kr/bbs/163454131465069e090278448490f965207e9a4a10348.jpg)Eraser Cursor | This is the eraser cursor. |

# Panel

| Shortcut | Action | Description |
| --- | --- | --- |
| `Ctrl(L)` + `1` | Scene | Move the focus to the **Scene** panel. |
| `Ctrl(L)` + `2` | Property | Move the focus after creating the **Property** panel. |
| `Ctrl(L)` + `3` | Hierarchy | Move the focus after creating the **Hierarchy** panel. |
| `Ctrl(L)` + `4` | Workspace | Move the focus after creating the **Workspace** panel. |
| `Ctrl(L)` + `5` | Preset List | Move the focus after creating the **Preset List** panel. |
| `Ctrl(L)` + `6` | History | Move the focus after creating the **History** panel. |
| `Ctrl(L)` + `7` | Map Layer | Move the focus after creating the **Map Layer** panel. |
| `Ctrl(L)` + `8` | Resource Storage | Move the focus after creating the **Resource Storage** panel. |
| `Shift(L)` + `Ctrl(L)` + `C` | Console | Move the focus after creating the **Console** panel. |
| `Alt(L)` + `1` | Debug - Watcher | Move the focus after creating the **Watcher** panel. |
| `Alt(L)` + `2` | Debug - Call Stack | Move the focus after creating the **Call Stack** panel. |
| `Alt(L)` + `3` | Debug - Breakpoints | Move the focus after creating the **Breakpoints** panel. |
| `Alt(L)` + `4` | Debug - Watch Expression | Move the focus after creating the **Watch Expression** panel. |

# Workspace, Hierarchy

| Shortcut | Action | Description |
| --- | --- | --- |
| `F2` | Rename | Change the name of the selected entity. |
| `Left Arrow` | Left | Move to a higher layer or collapses a layer. |
| `Right Arrow` | Right | Move to a lower layer or expands a layer. |
| `Up Arrow` | Up | Go to the item above. |
| `Down Arrow` | Down | Go to the item below. |
| `Home` | Top | Go to the top item. |
| `End` | Bottom | Go to the bottom item. |
| `PageUp` | Top of Currently Visible List | Move to the topmost visible entity in the current panel. |
| `PageDown` | Top of Currently Visible List | Move to the bottommost visible entity in the current panel. |

# Pop-Up

These shortcuts open specific pop-up windows in Maker's Pro Mode.

| Shortcut | Action | Description |
| --- | --- | --- |
| `Ctrl(L)` + `Alt(L)` + `1` | Map List | Open the **Map List** window. |
| `Ctrl(L)` + `Alt(L)` + `2` | MapleStory Map | Open the **MapleStory Map** window. |
| `Ctrl(L)` + `Alt(L)` + `3` | Script Manager | Open the **Script Manager** window. |

Update 2025-11-17 PM 08:14


# Entities, Components, and Properties

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's examine the concepts of Entities, Components, and Properties.

# Entities

An Entity is an object existing within MapleStory Worlds. What are the Entities in the image below? ![Entity_Component_Propoerty_1](https://mod-file.dn.nexoncdn.co.kr/bbs/1634523787794b80552669cd948a59e89f799d0a016fe.png)  Objects that are marked in red are Entities. That's not all, though. All of the things that are operating are Entities too, though not visible. ![Entity_Component_Propoerty_2](https://mod-file.dn.nexoncdn.co.kr/bbs/16345239132331e370f40d8cb452aa323567c080660a0.png)  In MapleStory Worlds, there are actually countless placed Entities that are generated, changed, and deleted in real time. When Entities operate in the actual game, they become visible, and the internal logic operates them.  So, what are these Entities made of?

# Components

Entities are composed of Components. Essentially, an Entity is a group of Components. Components are in charge of their own individual elements and functionality.  Let's take pizza as an example. ![pizza](https://mod-file.dn.nexoncdn.co.kr/bbs/163547555559905a1c30c66a24b689e06baf34fc3a750.png)  Let's say there is a freshly-made pizza in front of you. This pizza smells wonderful. You can eat it, too. This pizza is an Entity.  The above pizza is made with tomatoes, dough, sauce, and more. And while you cannot see them, there are things like the recipe, too. These are all Components.

- Tomato Component
- Dough Component
- Sauce Component
- Recipe Component  Each Component is in charge of its own functionality, and sometimes they combine with other Components for a different effect. The reason we separate things into Components is that this gives us a high degree of reusability. For example, let's say we want to make another pizza.
- Cheese pizza = dough + sauce + cheese + oven cooking
- Hawaiian pizza = dough + sauce + cheese + pineapple + oven cooking
- Frozen bulgogi pizza = dough + sauce + cheese + bulgogi + microwave cooking  Likewise, we can take previously created Components, and if we combine them in a clever way, they form something new.  In MapleStory Worlds, the Property Editor is in charge of managing Components. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1635475521115072c13f11f5e4c49abea1035b8234c82.png)  As stated earlier, Entities are composed of Components. If we open the Entity Editor, we can see Components as above. Therefore, if you combine well-separated Components, you can create an Entity that operates in the way you want.  So, does this mean we can create the Entities we want by combining just the pre-determined Components?

# Properties

Properties establish the details of each Component. Let's go back to our pizza example from the Component section.  Three kids want to eat pepperoni pizza. Tom wants double pepperoni, and Emma wants cheddar instead of mozzarella cheese in her pizza. And Harry wants to eat a bigger pizza.  We have the pre-existing dough Component, pepperoni Component, and cheese Component. Then, what should we do?

For Tom, we add a pepperoni double Component. For Emma, we add a cheddar cheese Component. And for Harry, we add all the Components: dough double, pepperoni double, and cheese double.  So we can create pizzas, or in this case, Entities, in the form we want. However, there's not enough reusability in the Components. We said earlier that using Components give us a high degree of reusability, but we ended up making everything individually.  What should we do instead, then?  This is when we turn to Property. Properties refer to the main items that must be set on a component. Therefore, if the same two entities use the same components, they operate differently if their property values are different.  For example, on the dough component, there is a "Size" property. On the cheese component, there are "Size" and "Cheese Type" properties, and on the pepperoni component, there is a "Size" property. In this case, all three friends can make their own pizza (Entity) using the same components. Of course, each of the Properties must be different.  Likewise, in MapleStory Worlds, you can determine the details of each Component using its Properties. Shall we look at ChatBalloonComponent, which is used to create chat balloons?

| BalloonScale | FontSize |
| --- | --- |
| ![Entity_Component_Propoerty_5](https://mod-file.dn.nexoncdn.co.kr/bbs/16345465139383799f3fe0d2a45f694d9126878968370.png)<br>You can specify the size of the chat balloon. <br>Increasing the value will make the chat balloon bigger. | ![Entity_Component_Propoerty_6](https://mod-file.dn.nexoncdn.co.kr/bbs/1634546537630dd90d539b29b4f15bf01cdb6eec31a1a.png)<br>You can specify the size of the text in the chat balloon. <br>Increasing the value will make the text bigger. |

This ChatBalloonComponent has two properties: Scale and FontSize. It can be configured differently for each entity depending on each property, and each functions differently.

Update 2025-11-17 PM 08:14


# Localized Entity

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's learn about localized entities that are only created in the client.

##### Reference Guide

[Server and Client](/docs?postId=207) [Server Verification Example](/docs?postId=1084) [Preparation for Packet Modulation](/docs?postId=1102) [Effective MSW 2](/docs/?postId=560)

# Localized Entities

A **Localized Entity** indicates entities that are only created in the client. In the Hierarchy window, it is displayed as an entity marked with ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1744353390721e6e7eb37353d4042aabf7d24c432ba27.png). Entities in MapleStory Worlds are created in both the server and client by default. This is to help with easy multiplayer working and creating. However, the more the created entities on the server, the more load the server needs to handle. If an entity doesn't need to be managed by the server, it can be created as a Localized Entity that is only created in the client. By localizing entities or data used as decorative elements for a world that don't have to be saved, less communication is required between the server and client for sychronization, making a more efficient world.

When using Localized Entities, you must keep 4 things in mind.

1. They are affected by **Parent-Child** relationships. Changing a parent entity to a localized entity will also change all of its child entities as well.
2. **Server Execution Control Functions** can't be used.
3. Since verification can't be done from the server, they are succeptible to falsification and hacking. Entities that play a crucial role in the world's ecosystem should not be localized entities.
4. The **PortalComponent** is unavailable for localized entities. Also some of the functions in components that use server functions may not run as intended.

# Creating Localized Entities

There are 3 ways to use default entities that synchronize with the server as localized entities.

#### Activating the Localize Property

You can localize entites with the **Localize** property. This property can only be activated in entities below world. When this function is activated, entities will only be created in the client, even when they are placed directly in Scene. Activates `Localize` from **Property Window - Model Property** for entities placed under **Hierarchy - World - maps**. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/174433695073900c80e0cc0604735bd090b707991c89b.png)

#### Create as UI Entity

**UI Entities** created in **ui - UI Group** can only be created in the client. UI Entities have no Localize property in the Property Editor window, since the default value is localized. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1744354007080d2ad5568bf8c4085889573254f82f4ea.png)

#### Create a Dynamic Using SpawnService

You can create Localized Entities with dynamics by calling `SpawnService` in the client space. When creating entities using dynamics, you must call SpawnService an equal number of times as the number of entities that will be created. This may decrease world creation efficiency, so it's recommended that you only use it when needed.

Update 2025-11-17 PM 08:14


# Model

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

It is important to fully understand the concepts of frequently used models.

# Creating a Desired Entity

To create a desired entity, you need to add components to the entity and modify its properties.

Let's make a tree like so. ![Model_1](https://mod-file.dn.nexoncdn.co.kr/bbs/1634553528053ca48e93975e04ccaa843244bbcde7219.png)  We created an entity, added components, and modified properties appropriately. It's done!  Now, we want to gather some trees to make a forest. What should we do? ![Model_2](https://mod-file.dn.nexoncdn.co.kr/bbs/16345535759657d1c01e5106d4d939c547586dae942b3.png)  You just create an entity, add components, and modify properties four times. But what if there are 100 trees? That's right. We have to do it 100 times. This is way too much trouble. What should we do instead, then?

# Model

Let's think back to daily life for a moment, and imagine that we are painting a picture. ![star_circle](https://mod-file.dn.nexoncdn.co.kr/bbs/1635480499353135233e3daf946998fda9453abc5312b.png)  Let's draw a star like this. Assuming you're drawing multiple stars, what's the easiest way to do it? There are many ways to go about it, but as a representative example, you can make a stamp like this. ![stamp_starcircle](https://mod-file.dn.nexoncdn.co.kr/bbs/163548052969636561321444d4686876e3d3b69442c8f.png)  If you stamp this, you get stars, so you can get 3 stars with just 3 stamps. ![star_circle](https://mod-file.dn.nexoncdn.co.kr/bbs/1635480499353135233e3daf946998fda9453abc5312b.png) ![star_circle](https://mod-file.dn.nexoncdn.co.kr/bbs/1635480499353135233e3daf946998fda9453abc5312b.png) ![star_circle](https://mod-file.dn.nexoncdn.co.kr/bbs/1635480499353135233e3daf946998fda9453abc5312b.png)  Let's go back to MapleStory Worlds. It would be convenient to have such a "stamp" in MapleStory Worlds. That's exactly what a **model** is.  A **model** is a version that contains information about the components and properties of an entity. You are already very familiar with this particular model. ![Model_3](https://mod-file.dn.nexoncdn.co.kr/bbs/165993039740743e32904b0f442ebbd627968576bb02a.png)  The **Preset List** provides basic presets based on MapleStory data. So, what if you need to change components and properties in MapleStory resources and use them frequently? Or, what if you need to create your own completely new entities in the world you're building and use them frequently?

# Modelization

Let's go back to our daily life for a moment. ![star_circle](https://mod-file.dn.nexoncdn.co.kr/bbs/1635480499353135233e3daf946998fda9453abc5312b.png)  You made a stamp like this, but you don't like the round border. We want to switch to a square frame. So, we erase the circle and draw a square. ![star_quadangle](https://mod-file.dn.nexoncdn.co.kr/bbs/1635480621736d7207f056a4945c0bf13a531fb8a5e3f.png)  You like it. What should we do if we want to line up several of these stars in a row? Stamp → Erase the round circle → Draw the square as many as the number of stars. This is way too much. Is there any other easier way?  Yes, there is. We can make a new stamp. ![stamp_starQuadangle](https://mod-file.dn.nexoncdn.co.kr/bbs/1635480687931bb4a27c2a1154b239d9256faec98820f.png)  Like this. However, making a stamp isn't an easy task. So what should we do then? We can make separate frames for the star, circular frame, and square frame.

- Star stamp + circular frame = Star in circle
- Star stamp + square frame = Star in square

However, what if we need a triangular frame? What if we want to make a heart instead of a star? You can combine them, but you have to divide them in an appropriate way. If a completely new type comes out, you have to create it from scratch. The fundamental problem is that making a stamp isn't easy.  Let's go back to MapleStory Worlds. In MapleStory Worlds, it is very easy to create a model (e.g. a stamp). That's because we can take a drawing and turn it directly into a stamp.  In other words, converting an entity into a model, that is **modelization**. Let's look at an example.  You created a talking tree by adding a **ChatBalloonComponent** to an existing tree model. ![Model_4](https://mod-file.dn.nexoncdn.co.kr/bbs/16345560690347d9b46707db345c8abf5b57f0cca67e9.png)  To create 100 talking trees, you have to repeat placing the tree object and adding the **ChatBalloonComponent**. There is a very easy way to avoid this simple repetition, and that is to **modelize** the first created talking tree. In the context menu of the talking tree, you can make an Entity into a model by clicking **Create Model From Entity**. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1659932995539100fa46c3c824656b22c4ad30f184791.png)  You can check the created model in **Workspace - MyDesk**. Let's make full use of your own talking tree stamp. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1659933437521b3f0c8b795714806b51ec2ca7d38689f.png)

Update 2025-11-17 PM 08:14


# Utilizing Models

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

In this course, you'll learn how to extend a model, create a model, and edit model properties. It would be helpful to refer to the [Model](https://mod-developers.nexon.com/docs?postId=55) guide first.

# Model Extension

**Model** can create an extended model that inherits its own properties, the same component and property values. At first glance, it may seem similar to the concept of copying, but there are important differences.

- **Copy**
  - Original models and copied models exist independently, not affecting each other upon modification of properties.
- **Extend**
  - The relationship between the underlying model and the extended model is maintained.
  - Changing the properties of the underlying model also applies to the extended model.
  - There are editing restrictions, such as not being able to delete properties inherited from the extended model.

## How to Extend Models

After selecting the desired model in the **Workspace**, create an extended model by clicking **Extend** from the context menu. Usually it extends **NativeModel**, or an already created model. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/168748927574808ba5739c2514974927e404e117fb58a.png)

You can also create a extended model from an Entity placed in **Scene**. Click **Create Extended Model From Entity** from the context menu of the entity to create an extended model. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1659699619694576dc357b7da4990b5690ff856b3ca3e.png)

Extended models are saved under **MyDesk**. If you look at the components and properties of the extended model, you can see the same thing as the underlying model. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16596999700401c39926d07ac4d4c96e15f28690ad8a4.png)

## Characteristics of Extended Models

An extended model inherits components and property default values from its underlying model. For instance, if **Model A** contains **components A, B, and C**, A's extended model, **A1**, also contains **components A, B, and C**, with the value of the property set to **the same initial value as the underlying model**.

![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1659937910290f4135be616534e058a42ea11f624d982.png)

> **Tip** After extension, the property value of the extended model can be set differently from the initial value of the underlying model.

If adding a new component or deleting an existing component to a underlying model, the change is applied to all extended models from the underlying model.  Let's look at an example.

- After creating the extended **A1** including components A and B in **Model A**,
  - adding component C to **Model A** will also add component C to **A1**.
  - Likewise, deleting component A from **Model A** will delete component A from **A1**. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16599385674172dc29b11c0d34513b9f9d68582466546.png)

However, the extended model cannot delete components received from the underlying model. For example, extended model **A1** that inherits **components A, B, and C** from **Model A** cannot delete **components A, B, and C**. If you'd like to delete them, you have to delete the components from **Model A**, not **A1**. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16599392579591f653ee65ab24429960ab8db9df69f1d.png)

Unlike how components added to the underlying model are added to the extended model, components added to the extended model are not added to the underlying model. That is, if you add component C to the extended model **A1** of **Model A**, **A1** will include it, but **Model A** will not. You can use this to add a component that only the extended model can have, giving it different characteristics from the underlying model. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1659939801137ef0cf58931c24d0d8a8faff04f187d68.png)

## Checking Model Hierarchy Structure

You can check the relationship between models in the **Model Extension Info** from the Property Editor. It shows a hierarchical structure for all the underlying models of the selected model and the extended model at the level immediately below. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/165970035134839cc60633a0e497a91bb193aee9266b2.png)

From the context menu of a model in the hierarchy structure, click **Find Model** to select the model in the **Workspace**. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/16599220988603cbb965fd0cf49898454e6c0b7fb2657.png)

# Creating a New Model

When creating entities, utilize the **Preset List** model. Models in the **Preset List** inherit the characteristics of **NativeModel** by default. So, to change the model properties of the **Preset List**, you need to modify **NativeModel**. However, if you change the properties of **NativeModel**, all the model properties of the **Preset List** extended from the **NativeModel** will be changed. It's inconvenient because you have to modify the characteristics of the original model again when you need it in the operation process.  It would be convenient if you could create a new model that is not provided in **Preset List** without modifying **NativeModel**. The new model is independent of **NativeModel**, so it can be freely modified and transformed. You can follow the steps below to create a new model.

- **Method 1**
  - Click the **[+]** button - **Create Model** in **Workspace**.
- **Method 2**
  - Click **Create Model** in the context menu of **Workspace**.

![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1687494524198d8a118789c98467984663edb5051443b.png)

Since the new model does not contain any components, placing the model as an entity does not make much sense. Depending on the intended use of the new model you create, you need to add and use basic components. Let's add a basic component as follows according to whether you want to create a world entity or a UI entity through a new model.

| World Entity | UI Entity |
| --- | --- |
| <ul><li>TransformComponent</li><li>SpriteRendererComponent</li></ul> | <ul><li>UITransformComponent</li><li>SpriteGUIRendererComponent</li></ul> |

You can add an empty model from the **Workspace** and then add desired components, like above, but you can also turn a placed entity in **Scene** into a new model. It's convenient as there is no need for additional editing because the model consists of the entity with the component and property values already modified. In the context menu of the placed entity, you can make an Entity into a model by clicking **Create Model From Entity**. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1659922427878a28dedc49ae74672b7c707d7cde5d520.png)

# Creating Model with UI Entity

You can make a UI Entity into a model. For example, let's say we're making **Button01** and **Button02** in **NewUIGroup** into a model. ![uimodel01](https://mod-file.dn.nexoncdn.co.kr/bbs/1667281846129e4eac692fe634d5f94367e7eb8c080ff.png)

Click **Create Model From Entity** to create **Model_UISprite** in **Workspace - MyDesk** from the context menu of **UISprite**, a parent entity of **Button01** and **Button02**. ![uimodel02](https://mod-file.dn.nexoncdn.co.kr/bbs/1667281948281b5607277f7cd42eaa18987580c9e546a.png)

Modeling your UI like this allows you to include it in your MSW package, which can also be leveraged when moving your UI to another world.

> **Learn more** Please refer to the guide [Utilization of MSW Packages]](/docs/?postId=647{"target":"_self"}) to learn more about using packages.

However, you need to be careful when modeling UI entities as there are some restrictions.

- Not all **UIGroup** entities can be modeled.
- **UIChat** and **UIJoystick** as the **Native** state within **Default Group** cannot be modeled.
- Some non-extensible models with **Break** in **Extension Info** cannot use the model extension function.

# Creating Model Entity

To make a new model or an extended model into an entity, drag the desired model from the **Workspace** to **Scene**. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1656034659249381775e32b3b4809aacebc9675b6a737.png)

# Editing Models

## NativeModel and Preset List

In the [Model](/docs?postId=55) guide, we learned that entities are created from models, and that **Preset** from the **Preset List** is also another form of model. Models in the **Preset List** are extended models of **NativeModel**, so they inherit properties of **NativeModel** by **Preset List** category. Therefore, if you change the **NativeModel** of each category, the change will apply to models in the **Preset List**. For example, if you'd like to change a model's property from the **Preset List - Object** category, you can edit the property of **NativeModel - MapObject**. If you want to create an **Object** model twice as large as an entity, you just set **MapObject** model's **Scale** value to **2**.

![14](https://mod-file.dn.nexoncdn.co.kr/bbs/166026562910074f2778c33374262853f0e05fa39d5bb.png)

## Model Property

At the top of the Property Editor of a model or entity are properties that do not belong to any component. This is the **Model Property**. Model properties are like a bookmarked collection of properties that belong to each model or entity included in a component. Model property is a projection of a component's property. If values change in the model property, the corresponding property value in the component will change as well. For instance, if you change the **Scale** value, one of the model properties of **Object-1** entities, to**x = 10, y = 10, z = 10**, you'll see that the **Scale** values of **TransformComponent** change as well. ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/1660265944245a95af2dcab5a4f26b5a3dc3b8793ec81.png)

Creators can edit the model property to their convenience.

1. Select a model you're going to edit and then click ≡ at the top of the model property.
2. From the menu, click **View Model Property** to shift to model property edit mode. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/166026617550958db5ba62369422292141e0fe5384465.png)
3. You can tick the checkbox on the right of each property to designate it as a model property. ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/16393866635475d8a437cbd164248828822fe5ece17a3.png)
4. If you select "View Component Property" from the model setting menu, you'll see that the checked properties appear as model properties. ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/16602672025747fe01c63b5fb40a19a5b048aaab4dfee.png)

Update 2025-11-20 PM 02:03


# Map Layer

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# About the Course

You can use a map layer to make your game look more stereoscopic. Let's see how the Map Layer window looks, and how to use it. You'll be able to understand the order of layers and use them for your game.

# Map Layer Location

Based on the default panel settings, the Map Layer window is located at the bottom center. When you have closed the tab, you can click **Panels - Map Layer** to open it.

| Maker screen default location | Panels - Map Layer |
| --- | --- |
| ![maplayer00](https://mod-file.dn.nexoncdn.co.kr/bbs/1661140579188d3b512992aad4a18bbc9411950f72d74.png) | ![maplayer](https://mod-file.dn.nexoncdn.co.kr/bbs/16595798309379692d0ca050848bea645debe9cb9286c.png) |

> **Tip** Select **Panels - Reset Panels** to rest your panel status. ![maplayer01](https://mod-file.dn.nexoncdn.co.kr/bbs/1682665165619440c6c5225ce4744b4e76a8245f1401a.png)

# Map Layer Window Configuration

![MapLayer01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634540764998600230c000ac4c658b69d24a38131f32.png)

| Numbers | Icon | Description |
| --- | --- | --- |
| ![NO01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541272181b5c1a55fcf3d49b19734d25913c38583.jpg) | ![Common_FocusOn](https://mod-file.dn.nexoncdn.co.kr/bbs/16345366745866d71bbf1f9f3454786e3f3477e268b01.png) | You can only check a single layer chosen.<ul><li>None: All layers are activated.</li></ul><ul><li>Focus: Only a single layer chosen is activated. Other layers look dark and half-transparent, which tells you that they are deactivated. You cannot choose deactivated layers in the scene.</li></ul> |
| ![NO_02](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541300837cb541c2f44e046a79bb1901a885aa8ac.jpg) | ![Common_show_black](https://mod-file.dn.nexoncdn.co.kr/bbs/1634538484615e92129425be84676a7af1ba82a8c1510.png) | Entities placed on deactivated layers will be hidden.<br>They're only hidden in the creation process. All deactivated layers become activated when running tests or releasing the game. |
| ![NO_03](https://mod-file.dn.nexoncdn.co.kr/bbs/163454131465069e090278448490f965207e9a4a10348.jpg) | Layer | You can create up to 10 Layers. |
| ![NO_04](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541326353d8628c1473944497bf376acb7a65ca45.jpg) | ![Common_lock](https://mod-file.dn.nexoncdn.co.kr/bbs/1634537017666e283f66030444da08eddef99819b2b07.png) | Lock the layer chosen. You cannot select or edit entities from a locked layer. |
| ![NO_05](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541338689678f574f21e54a6ca533737924124d7e.jpg) | ![Common_layer_add](https://mod-file.dn.nexoncdn.co.kr/bbs/16345369150225f875c8c218444c58189ffac05201631.png) | You can add an empty layer. A new layer will be added on top of the entity that was last created, with the name LayerN(number). |
| ![NO_06](https://mod-file.dn.nexoncdn.co.kr/bbs/163454135201207284554a25b498380fff224cd767f6b.jpg) | ![Common_LayerDelete](https://mod-file.dn.nexoncdn.co.kr/bbs/1634536995484055ff8f9ba99415486f815f599c0702d.png) | Delete a layer. Please be careful as deleted layers cannot be restored. |

# Understanding Map Layer

A layer is like a transparent board that you put on the map screen. You can place multiple entities on top of it. Put another transparent on top of them, then you can place new entities. The bottom layer in the layer window is located furthest back in the map screen, and the top layer is at the front. Entities placed on layers are together affected by the order. If you move the bottom layer to the top, the order of entities will change as well. ![maplayer01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634601877817d0b37c6d8fbb4f668d37ea25d1783418.png) ![maplayer02](https://mod-file.dn.nexoncdn.co.kr/bbs/1634601899530a6e1a61208ba414ba15bb4a138e038de.png)

#### Layer Priority Rules

In the Maker, the order of entities is decided as follows:

1. **Map Layer** (SortingLayer of SpriteRendererComponent)
2. **OrderInLayer property of SpriteRendererComponent**
3. **Position Z value of TransformComponent** Please refer to [Changing Location, Size, Rotation of Entities](/docs?postId=82).

#### Model's Layer Order

For placement convenience, each model type has default values for **OrderInLayer**.

![maplayer09](https://mod-file.dn.nexoncdn.co.kr/bbs/1682664093514566667bb5ccc473ca19732e72f275630.png)

**Default values for OrderInLayer in each model type**

| OrderInLayer Value | Model Type |
| --- | --- |
| 0 | Object |
| 1 | Tile |
| 2 | Monster, NPC, foothold, ladder, rope, portal, trap, item |
| 3 | Other user's avatar |
| 4 | My avatar |

You can modify classified values to change the placement order, but please avoid entering a value that's "3 or higher". Otherwise, your avatar may be covered when playing the World.

> **Learn more** If you place multiple entities from the same classification in a single layer, the last entity you placed will be located at the front.

# Relationship Between Map Layer and Player Avatar

A player avatar is an entity, but it has a few differences from other entities.

- A player avatar in editing state cannot be placed on the map, and it doesn't belong to a specific layer.
- Other entities belong only to the first map layer they are placed on, regardless of their movement. However, the player avatar will continue to change where it belongs on the map layer according to the entity it is currently stepping on (tile, foothold, etc.). Take a look at two examples to understand the relationship between map layers and player avatars.

#### Example 1

The dark green tile is placed on Layer1, and the yellowish green tile on Layer2. The player avatar on the dark green tile belongs to Layer1 until it jumps in the air. However, as soon as it lands on the yellow tile, it belongs to Layer2. ![maplayer04](https://mod-file.dn.nexoncdn.co.kr/bbs/16346025247675038e0d2fd854f5e80a5359fe45d2df8.gif)

#### Example 2

Each of the 4 layers have tiles and objects. (OrderInLayer is set to default.) Player avatar's map layer depends on the entity layer it's standing on. So it starts to move from the bottom layer1. Tree objects on the green tile are placed on Layer4. Therefore, the avatar stepping on the green tile moves behind the tree objects.

When the player avatar moves to the yellowish green tile, it belongs to Layer3. Toy objects on the yellowish green tiles are placed on Layer2. Because the yellowish green tile belongs to a layer on top of Layer2, the avatar walks past the toy objects.

You can make good use of layers and objects to stage the avatar going through burning fire or thick bushes. ![maplayer05](https://mod-file.dn.nexoncdn.co.kr/bbs/1634602745986d158da5858dc44be9481dbd8b21ef50e.gif) ![maplayer07](https://mod-file.dn.nexoncdn.co.kr/bbs/1634620453053bba58d9571604df192a0ce5d56451b6d.png)

# Summary

You can use map layers to classify and manage entities by their characteristics. This is especially useful when you're making a vast and complex map. If this is your first World, you might drift away from the original plan. Learn the rules of using layers so that you can improvise your way to make the game.

Update 2025-11-19 PM 05:04


# World Coordinates and Screen Coordinates

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

World space and screen space exist in MapleStory Worlds. Each space uses a different coordinate system. Let's learn about the coordinate systems used in the two spaces.

# World Space

World space refers to Hierarchy - world - map space.

## World Coordinates

World coordinates are specific position values on the map. The `TransformComponent.WorldPosition` value of entities placed on the map are world coordinates. The origin of the world coordinates is the center of the map. For example, as in the image below, **Fountain Entity** located at X = 23.91, Y = -3.37, Z = 999.953 in the world is known by the **WorldPosition** value.

![fountain](https://mod-file.dn.nexoncdn.co.kr/bbs/16560451065876f02eae1080d46618432600ef68e44ec.png)

# Screen Space

The coordinates used in screen space can be divided into **Screen Coordinates** and **UI Coordinates**. Both coordinates refer to position values on the screen, but the methods for calculating them differ.

## Screen Coordinates

Screen coordinates correspond to the number of pixels in the device's display resolution. The origin of screen coordinates is the bottom-left corner. Since the display resolution varies by device, the maximum values for screen coordinates also differ. For example, the max value of iPhone 16 is 2556 x 1179, and the max value of Galaxy S25 is 2340 x 1080. Screen coordinate values can be checked by using `ScreenTouchEvent`, `ScreenTouchHoldEvent`, `UILogic.ScreenWidth`, `UILogic.ScreenHeight`.

The following is Samsung Galaxy S10+'s Screen coordinates origin and max value coordinates.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17515098580721c29bc7c83a24474bf1b38fb72f3a236.png)

## UI Coordinates

UI coordinates origin and max value change based on the device. UI coordinates' default origin is the center of the visible screen, and UI coordinates' max value is set close to 1920 x 1080.

#### UI Coordinates Origin by Device

- **PC**: The visible canvas's center is the origin (0,0). ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1751510074818eedf66599ea54950bd381b1b30a3f6bf.png)
- **Mobile**: Safe Area's center is the origin (0,0). **Safe Area** refers to the area that can be safely used as it isn't affected by notches or tab bars in mobile devices. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17515100532491f1477f2f58c44f088db81ab0ca34efe.png)

If you place the UI in the UIGroup, the UI entity uses UI coordinates. The origin and max value of UI coordinates vary by device, so even if placed in full in PC, it may not be full on screen in a different device.

| PC | Apple iPhone 12 Mini | Samsung Galaxy S10+ |
| --- | --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17514482389113061b375c5af442cbc1af9c27e6f984e.png) | ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1751448252201c407bce361bb4d198816856516c7a183.png) | ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1751448268722abd9bdd5be9b4e99839a6ded171432d5.png) |

# UI Coordinates Area Processing Method by Resolution

UI coordinates area default resolution is 1920 x 1080, and default ratio is 16:9. Regardless of device resolution, the visible screen appearance remains consistent even when the world screen zooms in or out.

#### PC

MapleStory Worlds users who use PC can change window size. However, even if you change the window size, the screen ratio will remain 16:9. The ratio is kept, so the visible area of the screen will be enlarged or reduced proportionally. However, if the window is full screen, the horizontal area displayed will appear larger or smaller depending on the monitor's aspect ratio. For example, the screen will look the same when the window size is 1920x1080 and when it's 3840x2160.

| 1920x1080 | 3840x2160 |
| --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1751526293382a3747cbf4fa24976b52d4dc05e854b79.png) | ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1760355323385269cedca02f343a6ad9089315fa4c96d.png) |

#### Mobile

When you enter the world from a mobile device, the screen will switch to landscape mode.

Visible area is based on a 16:9 aspect ratio, with the vertical area remaining constant. The horizontal area may appear larger or smaller depending on the device's resolution ratio. Like the image below, the resolution of an iPad Pro 12.9 with a ratio of 16:12 is 2732 x 2048, but if you calculate all of the coordinate area, it's 1920 x 1439. The difference with screen coordinates is approximately 1.42x, and compared to 16:9, 16:12 ratio is vertically longer so it's the result of adjusting the canvas size based on 1920.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1751526324699a520b57239974b27a5a253474d4f7549.png)

As another example, the resolution of the Galaxy S10+ with a ratio of 19:9 is 3040 x 1440, but the entire size of the canvas is **2280 x 1080**. The ratio difference with screen coordinates is approximately 1.3x, so compared to 16:9, the 19:9 aspect ratio is wider, so the canvas size was adjusted based on 1080.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1751526357807622abec3694e4ac9a02bc427a92e8ad9.png)

# UI Coordinate Settings

Based on the Anchor Presets setting of `UITransformComponent`, the UI is placed somewhere **PosX, PosY** values away. Required properties vary based on Anchor Presets settings.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1754011712034b9838df4d63c4911a492903c6d88962f.png)

#### Anchor Settings

**Anchor** can be selected by pressing the checkered patter icon of `UITransformComponent`. Enter **PosX and ** **PosY** after selection to place UI at a distance equal to the value entered relative to the Anchor. The UI Anchor's reference point is the Safe Area area at this point.

![anchorPresets](https://mod-file.dn.nexoncdn.co.kr/bbs/1652754058498d1bc17b4c1d04e75bc8000fde8722de1.png)

Setting the Anchor to Stretch will make the UI expand according to the settings. If the Anchor stretches long, the properties that can be set based on type change. For example, black semi-transparent background image (PopupBack) of the popup message is centered and scaled to cover the entire screen. Regardless of screen resolution, when a pop-up message appears, a black background image covers the colorful map, allowing the user to focus solely on the pop-up message. ![anchorex02](https://mod-file.dn.nexoncdn.co.kr/bbs/165604560743653ab60032b284c4cb1fa149610be2b93.png)

#### Anchor Presets Type

| Anchor | Description |
| --- | --- |
| ![anchor01](https://mod-file.dn.nexoncdn.co.kr/bbs/1652753675728c2aaf37b9f124af7893d195adcef175b.png) | UI is positioned at a distance of PosX and PosY from the top-left corner. |
| ![anchThe UI will be stretched vertically. <br>It's positioned at a distance equal to the PosX value from the left center. | |
| ![anchor14](https://mod-file.dn.nexoncdn.co.kr/bbs/1652762899845dbdb414c754049a5b95a6e0d3f7426b8.png) | The UI will be stretched vertically after leaving the values as much as the Top and Bottom values based on the center. <br>It's positioned at a distance equal to the PosX value from the center point. |
| ![anchor15](https://mod-file.dn.nexoncdn.co.kr/bbs/1652762937587653a13ae666f45329c6afa9c618617e4.png) | The UI will be stretched vertically after leaving the values as much as the Top and Bottom values based on the right center. <br>It's positioned at a distance equal to the PosX value from the center of the right side. |
| ![anchor16](https://mod-file.dn.nexoncdn.co.kr/bbs/1652762962358809eb3ba031f47f491b2a12900b0b324.png) | The UI will be stretched everywhere after leaving the values as much as the Top and Bottom values based on the center. |

# Using Anchor Presets

Each device has its own resolution and Safe Area, so determining UI positions using UI coordinates may cause parts of the UI to appear cropped or invisible depending on the device. However, checking the Safe Area and setting the UI positions for every different device is not an efficient approach to development. Therefore, UI elements should be positioned based on some other criteria, such as how far they should be from another specific point in the UI.

Let's look at the issues that may arise when placing UI elements based on UI coordinates. UI positions change based on **screen resolution** changes. Consider what would happen if you set a single button with a centered Anchor, and then try to place it below the Social button to the right of the screen. Say you place the button at UI coordinates 800, 400. If you play the World on a screen with 1920 x 1084 (16:9) resolution, the UI element will show in the desired location.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1761722356633567344378b9c4005b5c0d3ded1e480f8.png)

If you play on a screen with 3040 x 1440 (19:9) resolution, the UI button will be placed in a position the Creator did not intend. This is because the screen resolution ratios are different. Regardless of the resolution of the user's device, if you want to show UI elements in a specific desired position, you must use the **Anchor Presets** function.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17617232008259055a237bce9451fb3ea92694455b9cd.png)

To accomodate such a variety of resolutions, **Anchor** is set in `UITransformComponent` so that UI distance can be calculated. Anchor is placed at a **point located PosX and PosY away from the origin**. For example, the default chat UI provided in MapleStory Worlds has its Anchor Point set to the top-left corner. If configured this way, the chat UI will be positioned at coordinates 368.9725, -251.8051 relative to the top-left corner of any device.

![anchorex01](https://mod-file.dn.nexoncdn.co.kr/bbs/165604514596759c47da1127745c2b9207457e3d9bbe9.png)

# Difference between UI Coordinates and Screen Coordinates

Since UI coordinates and Screen coordinates differ in ratio and origin position, they have different coordinate values even when representing the same position. So if the Screen coordinate value is entered as-is in the `UITransformComponent.Position` value, the UI entity will not be positioned in the expected position. For mobile, the max value of UI coordinates is determined based on the device's screen aspect ratio.

Set the simulator to Galaxy S10+ and use the **UI TransformComponent Anchor Preset**. Create a UI entity and select the stretching **UITransformComponent - Anchor Preset** in all directions to make the **Left, Right, Top, and Bottom** values all **0** and cover the entire screen. You'll see that the screen was covered, but only the Safe Area area was filled. The covered Safe Area's UI coordinates value is **2173.5 x 1080**, and the origin is the center of the Safe Area. But in Screen coordinates, `UILogic.ScreenWidth` is **3040** , `UILogic.ScreenHeight` is **1440**. Because these coordinates are Screen coordinates, the origin is in the lower left.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1751526243746915bec31023144ad83bb3513bbee6799.png)

Update 2025-11-17 PM 08:14


# Understanding Types

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

This course introduces the concept of types and how to use them.

# What is a Type?

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1687940593248ba72058dee8e4fb58ec8a1964a2a6663.png)In MapleStory Worlds, **type** refers to a user-defined datatype that combines several properties and functions to create a new datatype. You can control and manage data of a similar nature all at once by using types, so it's good for reusing and maintaining code.

## Difference Between Types and Components

Types are similar to components, but with the following differences:

- Types are not components, so they cannot be added to entities.
- Types do not support execution control features.
- Types do not have event handlers.
- **Default event functions** are also provided for each intended use of the type.

# Characteristics and Categories of Types

Each type has its own usage. It's integrated with suitable native functions. In addition, some types provide **default event functions** suitable for each type's intended use. How default event functions work is already defined in Native. As such, creators only need to take these default event functions, and implement only what is needed for their world.

Now, let's examine types, their characteristics, and how to use them.

## EventType

Used when defining a new **EventType** that is not defined in Native. **EventType** works with **Event System**. Let's see [Entity Event System](/docs/?postId=176) for more detailed examples in utilizing **EventType**.

## ItemType

**ItemType** is literally used to classify items and define their characteristics. **ItemType** works with [ItemService](/apiReference/Services/ItemService). **ItemType** can be created in individual item units, but in general, we recommend creating them in groups of types with the same function. For example, there will be many items in each world. Let's assume that the types of this item can be roughly divided as follows.

- Weapon: has attack power
- Potion: has recovery power
- Armor: has defensive power
- Others: no special features

In this case, you can create **ItemType** as shown below. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16806724849204180b61d083646ccae04f255217b72c2.png)

You can use the default event function `OnCreate()` in the **ItemType** script. `OnCreate()` is automatically called when an item is created, and data from the item table (UserItemDataSet) is transferred to the item entity. The data passed over to the item entity can be accessed with `self.ItemTableData:GetItem("column name")`. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1680672660749a9c4c02d07df4a938bb51c84d12a1b84.png)

See [Item Creation and Deletion](/docs/?postId=66) for more detailed examples in utilizing **ItemType**.

## BTNodeType

Use [AIComponent](/apiReference/Components/AIComponent) when applying AI to entities such as monsters or NPCs. **AIComponent** can make a behavior tree. When creating one of the nodes that configure this behavior tree, **action node**, use the **BTNodeType** script.

**Action node** defines an "action of an entity" or a "condition for an action." For example, it defines what action the monster will take when it is in the "waiting" state, or defines the conditions for converting from the "waiting" state to the "attack" state. If you create an action node with **BTNodeType**, you can easily create a node entity with `CreateNode()` of **AIComponent**.

You can use the default event functions `OnBehave()` and `OnInit()` in the **BTNodeType** script.

| Function | Description |
| :---: | --- |
| `OnBehave(number delta)` | This function is called once whenever the corresponding action node is executed. The function is used to define AI actions or conditions to actions, so if you created **BTNodeType**, you must add it. |
| `OnInit()` | The function is executed before `OnBehave()` is called. |

![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1680766233591bda06f8923594e85abd6e71e451335bb.png)

For a more detailed description of each function and an example of using **BTNodeType**, refer to [Creating AI using Behavior Trees](/docs/?postId=562).

## StateType

**StateType** is used when the user creates a new state. For example, the player character has several states: standing, prone, attacking, jumping, etc. When a creator wants to add a new state in addition to the default state, **StateType** can be added. **StateType** works with [StateComponent](/apiReference/Components/StateComponent).

**StateType** can define the following.

- You can have a user-defined action performed when entering or exiting a state.
- You can define conditions under which the state will stop.

You can use the default event functions `OnEnter()`, `OnUpdate()`, `OnExit()`, and `OnConditionCheck()` in the **StateType** script.

| Function | Description |
| :---: | --- |
| `OnEnter()` | Executes the action when entering the state of the first time. |
| `OnUpdate()` | Executes an action while the state is maintained. |
| `OnExit()` | Executes when changing states. |
| `OnConditionCheck(string nextStateName)` | Specifies conditions to transition the state. You can use the <br>**nextStateName** parameter to return different result values depending on the connection state. |

![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16807662783116d11c7686e694f9197b6c6ab59f01ef0.png)

For a detailed explanation of **StateType**, refer to the [Controlling Entity State](/docs/?postId=686) guide.

## StructType

**StructType** is used when the creator directly determines the usage and defines the shape accordingly. It functions similarly to Structure in general programming languages. This is useful when grouping variables containing different data. For example, you can create a type called "Student" and put variables such as "name, student number, department" into it and manage it.

Update 2025-11-17 PM 08:14


# The MSW Life Cycle

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's learn about the default event function's life cycle and overall life cycle that takes place during play. Understanding and taking these life cycles into account will help you create more functional worlds.

# The Default Event Function's Life Cycle

You must make component scripts to produce the logic required for the world. You need to predict the time that will be called when you make the required component scripts, and then budget the time to make it operate, matching the logic you intended. Once you've studied the concept of life cycles and understand the overall flow of scripts, you'll be able to create scripts more easily. There is a basic difference in the life cycle depending on the execution environment. Execution environments are broadly divided into **world in progress/released world** and **server/client**.

Function types can be divided into two varieties.

- **Default event functions**: MapleStory Worlds produces these functions, and a certain call time has been determined for each function. Creators cannot modify the call times of these functions, and thus need to make and call the user custom functions by setting the time of these functions as default.
- **User-defined functions**: This is a function directly defined by users, and they can call the call time from the default event function and entity event function and then use it.  In essence, functions need to be called from somewhere. A default event function refers to a function that is automatically called upon a certain condition, even though the creator doesn't call it. These functions are called in server spaces by default. Press the ![plus](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_plus.png) button next to Function on the Script Editor window, so you can add a default event function. The default event types are `OnInitialize`, `OnUpdate`, `OnBeginPlay`, `OnMapEnter`, `OnMapLeave`, `OnEndPlay`, `OnDestroy`, and `OnSyncProperty`. For the content of each function, please refer to [MSW Default Event Functions](/docs/?postId=163).

Logs let you see the flow of the functions, except for `OnUpdate` and `OnSyncProperty`. The flow of the default event function is as follows:

1. Create a new **LifeCycle** component and add the `OnInitialize`, `OnBeginPlay`, `OnMapEnter`, `OnMapLeave`, `OnEndPlay`, and `OnDestroy` functions.
2. You write `log("execute function name")` to enable knowing what function was executed.
3. Add the **LifeCycle** component to **DefaultPlayer**.
4. Add a map and connect it using the portal to check `OnMapEnter` `OnMapLeave`.
5. Execute the world, move the map with the portal, and then terminate the execution.
6. The order of the remaining logs is as shown below. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1683859157721a85006486490435ba29d7b5deea1e2f7.gif)

First, `OnInitialize`, `OnMapEnter`, `OnBeginPlay` logs are recorded. When you start the world, players are placed on the starting map and the two other functions upon entering the world. Once you move maps using the portal, you will leave the starting map and enter the new map so the `OnMapLeave` and `OnMapEnter` logs are noted in order.

> **Learn more** **User-defined functions** cannot be called automatically from the system, so it needs to be called from the default event function to execute. If a creator made a MyNewFunction function to NewComponent, this function must be called from somewhere. This should be called at same time as when the creator wants the function to be executed.
> **Learn more** Entity Event can control the Event easily and call the user custom function. Unlike a default event function, this is called only at the timing of the defined certain event and not included in the life cycle.

# Overall Play Life Cycle

Let's learn about the overall flow wherein the server and client are called. The **world in progress** and the **released world** life cycles function slightly differently from one another. The biggest difference is how each loads maps.

- When you play in a **world in progress**, it just loads the map with players, even though 10 maps are made.
- All maps are loaded in a **released world**, regardless of whether or not a player is present.

If you know the difference, you can figure out that when something doesn't work the way you intended in the **world in production** or **released world**, that the issue comes from an incorrect code or a call that didn't allow for the specific cycle.

#### Understanding the Cocept of Worlds

World is the highest level of entity, and it is created one by one depending on the execution environment. Several worlds can exist simultaneously, but those worlds cannot interact with or affect each other. When you play test in a **world in progress**, the world being edited and the world being play-tested will co-exist.

#### Playing Worlds in Progress

Only the client world being edited exists in the world in progress. `OnBeginPlay`, `OnUpdate`, and `OnEndPlay` are not called for the entity being editing, but `OnUpdate` is called for the component requiring rendering as an exception.

If you execute (or play) the world for a test, the world being edited will be inactive. After that, execute and connect the local server and create a world for test play in both server and client. At this time, the difference with the **released world** is that the server loads only the map being edited. However, the server will load that map if it acquires another map's entity using EntityService in the world in progress or if a player accesses other maps, such as moving to other maps through a portal.

A client loads only the map with the player's entity, and it is the same as the released world. ![maker_life_cycle](https://mod-file.dn.nexoncdn.co.kr/bbs/168386511019034f5d9ec657a46498ada3e73e4b80aa6.png)

#### Playing a Released World

The released game's server loads the whole map when it starts, and the client loads only the map where the player entity always exists.

![publishing_life_cycle](https://mod-file.dn.nexoncdn.co.kr/bbs/1683865126694afeaa429658545449a876643960ffb68.png)

##### Reference Guide

- [Functions](/docs/?postId=172)
- [MSW Default Event Functions](/docs/?postId=163)
- [Effective MSW 1](/docs?postId=559)

Update 2025-11-20 PM 02:03


# World Instances

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's learn about the concept, creation, and destruction of world instances. To fully understand world instances, it is recommended that you have a firm grasp of rooms first. Related reading: [Creating Instance Maps](/docs/?postId=540).

# World Instances

A world instance is a real entity based on world information created by the Maker. World instances are executed independently, and static rooms and instance rooms are configured according to the creator's production method.

> **Tip** All world instances within attached to a given world will use one DataStorage.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1679291060113a0eff84f08214ed49d8a58ab3ba25664.png)

#### Communication Between World Instances

Since each World instance is executed individually, if you need to communicate between World instances or forward an event, you must use [RoomService](/apiReference/Services/RoomService) and [WorldInstanceService](/apiReference/Services/WorldInstanceService). For details on how to use it, refer to [World Instance Communication](/docs?postId=999).

# Creating and Destroying World Instances

During a world's launch phase, creators set the world's **max number of players**. This number is one of the criteria for creating new world instances. For example, if 100 users connect to a world where the maximum number of players is set to 10, then 10 world instances will be created. The criterion for destroying a world instance is when a **user leaves**. If all users quit playing and there are none remaining, the world instance is automatically destroyed. After a certain amount of time has elapsed since the world instance is created, it **prepares for expiry**. This means new users will not be able to connect to this instance. The world instance will continue to operate with the currently connected users until they all quit playing. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1679291087805feeafc80d6894e21bb6fa7acd50caf64.png)

#### User Assignment of World Instances

Which world instance a new user is assigned to is predicated on the **number of people in one world instance**. When there are no world instances active, a new world instance is created and incoming users will be sent to that world instance until it is full. Once the first world instance is full, a new instance will be created and the cycle continues. If you are running multiple World instances and users leave the World, vacancies will occur. At this point, a new World instance is no longer created when a new user connects. Instead, new users are sent to the World instance that has the most users among the available World instances. World instances that have started preparing for retirement are not included, even if the number of users is the highest. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/167929120294711f23765789448a4a0b99bacfb91db09.png)

Update 2025-11-17 PM 08:14


# MapleStory Worlds Glossary

# A

##### Annotation

A kind of metadata to use by adding it to your code **Note |** [Utilizing Annotation](/docs/?postId=824)

##### Argument

The value that the parameter actually contains when the function is called

##### Atlas

An image with multiple sprites in one image

##### Atlas Unpacker

A tool for creators to cut, edit, and save an atlas into individual sprites

# C

##### Code Inspection

A feature to inspect and notify users of potentially buggy or user-made mistakes in the code

##### Code Completion

By analyzing the context, it suggests symbols that can be created at the current caret position. A feature that helps you write code easily by suggesting ways to complete syntax when entering code

##### Common Entity

Special entity contained under **Hierarchy - World** ![common](https://mod-file.dn.nexoncdn.co.kr/bbs/1672721691997704cb622be8647b783f3fcd1c1ab382d.png)

##### Component

A component of a specific entity, responsible for each function **Note |** [Component](/docs/?postId=54)

# D

##### Data Editor

Editor for editing data sets in Maker ![dataeditor](https://mod-file.dn.nexoncdn.co.kr/bbs/168008012576238387b511d804423a0f91b9be287fecc.png) **Note |** [Edit Data](/docs/?postId=69)

##### Dynamic Sprite

Images created during play in MapleStory Worlds **Note |** [Screenshot and Dynamic Sprite](/docs/?postId=829)

# E

##### Embedded Server

Local server launched by maker for testing

##### Entity

An entity that exists in MapleStory Worlds and is an aggregate of several components **Note |** [Entity](/docs/?postId=54)

##### Event

It means the occurrence of some event in logic Data carrying information identifying the event type along with other additional information **Note |** [Event](/docs/?postId=73)

##### Event Handler

The acting agent that processes an event upon receiving it There are similar terms such as Listener and Subscriber

##### Event Sender

The entity that dispatches the event There are similar terms such as Emitter and Dispatcher

##### Execution Space

This is the space where API functions are actually executed, and is executed in the client or server

##### Execution Space Setting

Setting whether a specific function should be executed in client or server space

# H

##### Hierarchy

A window to check the status of the World being created in a hierarchical structure Used to systematically manage complex map entities Includes **World, common, maps, ui** **Note |** [Hierarchy](/docs/?postId=453)

# I

##### Instance Map

Map created in an instance room If you check **InstanceMap** in **MapComponent**, it is set as an instance map

##### Instance Room

Rooms dynamically created by the server instance Instance rooms can contain only instance maps

# L

##### Lobby

MapleStory Worlds Home ![lobby](https://mod-file.dn.nexoncdn.co.kr/bbs/168007964904972b7e105b1d4480f9297d3c53863b75a.png)

##### Local Entity

Individual entities that do not exist on the server and exist only on the client

##### Log

Records of various information or problems that occur during World production **Note |** [Log](/docs/?postId=719)

# M

##### Material

Entity that displays how to render the entity through various properties

##### Model

A version that contains information about the components and properties of an entity in MakerSee also the Presets provided by **Preset List** are also models**Note |**[Model](/docs/?postId=55)

# N

##### Native API

API within the MapleStory Worlds engine that creators cannot create

# O

##### Optimization

Finding and modifying the bottleneck point (Bottle Neck) with World process speed overload

# P

##### Parameter

Variables used when defining functions

##### Particle

Many small particles, such as snow, rain, and dust **Note |** [Particle](/docs/?postId=764)

##### Plain Script

Script created by the creator by clicking the **Create Scipt** menu

##### Plain Text Mode

A mode to view all Script APIs, including meta data, in text format in the script editor

##### Preset

Individual presets in **Preset List**

##### Profiler

Tools to help make optimization easier

##### Profile ID

ID starting with #, unique for each account ![profileid](https://mod-file.dn.nexoncdn.co.kr/bbs/167272638409586f756d334234067a6903f605d877654.png)

##### Profile Name

Profile name can be changed and can be duplicated with other users ![profile](https://mod-file.dn.nexoncdn.co.kr/bbs/16727264545168cdbcea596eb4d1cb56f5a00026f0e13.png)

##### Property

Elements to set the details of each component Can have different values per entity **Note |** [Property](/docs/?postId=205)

# Q

##### Quick Info

Tooltips that show related information when hovering over a function, variable, parameter, etc.

# R

##### Release Server

After releasing the created World, the server that appears when you enter the World from the **Lobby - Play** menu of MapleStory Worlds

##### Reward Coin

Coins obtained through events

##### Room

A collection of maps configured under the World instance There are static rooms and instance rooms, generally speaking rooms refer to static rooms

##### RUID

Unique ID values of various resources such as sprites, animations, and sounds

# S

##### Scene

The area where the real World space is edited in Maker

##### Script API

API generated by creators

##### Script Assist

A collective term for code writing support functions (Signature Helper, Quick Info, Code Completion, etc.)

##### Script Editor

An editor that can code scripts in MapleStory Worlds

##### Script Outline

A feature to check the list of properties, functions, and events of the script at a glance in the script editor

##### Shader

Code or script to use when rendering the object

##### Signature Helper

Function to help fill in the parameters of a function

##### Sprite

Means 2D imagePosition, size, rotation values, etc. can be changed by Maker

##### Static Room

A room that is created unconditionally when a World instance is created Static rooms contain only static maps

##### Static Map

Map created for a static room Maps that exist in the World are set to static maps by default If **InstanceMap** is not checked in **MapComponent**, it is a static map

##### Symbol

Identifiers of types, members, variables, etc. that a name or function refers to

##### Synchronization

A type of data transmission method between the server and the client, sets properties of the same name existing in each execution space to the same value **Note |** [Property Synchronization](/docs/?postId=208)

##### Syntax Highlighting

A function that helps to easily recognize the code by emphasizing the color of the text according to the grammar

# T

##### Tile Editor

Editor to edit map tiles After selecting tile mode, you can draw the topography by selecting line fill or box fill ![tile](https://mod-file.dn.nexoncdn.co.kr/bbs/1672722909781b00c5ade293a45819a3487184089a20d.png)

##### Token

The smallest unit that separates a series of strings. The smallest chunk of characters that has meaning in a script

# U

##### UI Editor

Editor for editing UI elements in Maker![uieditor02](https://mod-file.dn.nexoncdn.co.kr/bbs/1657678708992678df357225c4a71a7b01f9bba955ef5.png)

##### User ID

ID that can be verified in **Settings - Account**![userid](https://mod-file.dn.nexoncdn.co.kr/bbs/16800798164371c4b250ae13c48e186ba1d2b86b1f707.png)

# W

##### Workspace

Resource management space in the form of a folder used in Maker It includes **BaseEnvironment** as a collection of **NativeScripts** and **NativeModel** provided by MapleStory Worlds, **MyDesk** as a collection of resources created by creators, and **DefaultPlayer** for operation convenience. **Note |** [Workspace](/docs/?postId=121)

##### World Coin

Coins that can be purchased through payment

##### World Instance

One instance actually created based on server information

Update 2025-11-17 PM 08:14


# Script Editor Orientation

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

MapleStory Worlds can create the component or logic that a creator wants to generate with a Script Editor. The script's grammar uses **Lua Script** and supports various kinds of **API**. When creating a World, you may have to modify scripts provided by MapleStory Worlds or written by other creators. We recommend familiarizing yourself with the basic usage of the Script Editor to help modify the script.

In this course, we're going to simply learn how to output logs using scripts and look into various convenient functions of Script Editor. Below is an example of using scripts.

# Outputting Log Using Scripts

First, let's use scripts to output a log: "Hello Maple World".

## Creating a Script Component

Create a script component.

1. In the Maker, go to the **Workspace** tab. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/165603680025521f2b8ff66cd4e838b0a5f5bf9899a0e.png)
2. Click **Workspace - MyDesk - Create Scripts - Create Component** to create a new component. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1687496291799b05a128af08748b8bc69f2956c9de929.png)
3. Enter **HelloMapleWorld** as the name of the new component. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1635422307109859acba010394878982655abfaa83495.png)
4. Double-click the **HelloMapleWorld** script component. Now you can edit the **HelloMapleWorld** script in the Script Editor. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1669634831972d857555921b0402db47a71d9d780f633.png)

## Composing Scripts

Clicking on the **[+]** button of **Function** outputs the list of functions. Select the `OnBeginPlay` function from the list. This function is called once in the beginning when the script component is executed. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16696348590924e768b248a29402fa18c03f247ac65c7.png)  Press the **[+]** button next to `OnBeginPlay()` to expand the function. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1669634880878d85c73c4caf1455fa8eebf7ad14f55ed.png)  Write the function as follows.

```
[server only]
void OnBeginPlay()
{
    log("Hello Maple World")
}
```

> **Learn more** The `log` function is the most basic and most frequently used function when writing scripts. The value passed as a parameter of the `log` function is output to the console window. You can check variables, property values, or return values of functions by outputting them on the console window. For more details, please refer to the [Log](/docs/?postId=719) guide.

## Adding a Script Component to an Entity

After you create a script component, you must add it to an entity for the script to run. Hence, you must add the **HelloMapleWorld** component to one of the entities placed in the map. Add **HelloMapleWorld** to **DefaultPlayer**.

1. Click **Workspace - DefaultPlayer**. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/16354223715596e876b1f28734af39f0f4d3bd20cc2b0.png)
2. Click the **[Add Component]** button in the property editor. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/163693537008760bc035a3de447b6a17afb92232368f8.png)
3. Search **HelloMapleWorld** in the component search bar. ![ScriptEditorOrientation_13](https://mod-file.dn.nexoncdn.co.kr/bbs/1663845838156754ed5aec49a4dce923c4b51d0ae0abd.png) In the search results, click on the **HelloMapleWorld** component.
4. Click the **Scene** tab. ![14](https://mod-file.dn.nexoncdn.co.kr/bbs/1669634932558359b1be73ec8433db07ef18d74a24620.png)
5. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. ![ScriptEditorOrientation_15](https://mod-file.dn.nexoncdn.co.kr/bbs/1634603292745976e230077b04ade8cffb42ffcd420e8.png)
6. The "Hello Maple World" log is output on the console window. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/16638461874055a74dc917cc34d6e8421c897dcb9dc2f.png)

# Script Assist

The Script Editor of MapleStory Worlds supports various functions to write code more accurately and quickly. For more details, please refer to the [Script Assist](/docs/?postId=952) guide.

# Script outline

When writing a script, it often becomes long and complicated. You can use the outline function to understand the overall skeleton of the script or to organize the content. You can turn on the Script Outline feature to see the list of properties, functions, and events at a glance. ![outline](https://mod-file.dn.nexoncdn.co.kr/bbs/1669705795169a6a7fc44da794355bc50b44303020f31.png)

You can easily change the order by dragging on the list. ![outline2](https://mod-file.dn.nexoncdn.co.kr/bbs/1669706219051b8e968a98a314f348605e83adc5055e2.gif)

# Script Editor Zoom In/Out

You can use the zoom in/out feature in the Script Editor. Open a script, press **Ctrl(L)** and scroll up with the mouse wheel to zoom in on the script screen, scroll down to zoom out. ![scale1](https://mod-file.dn.nexoncdn.co.kr/bbs/1689130659090b30a483d52904d449052ea8bd44696a2.gif)  You can select the screen magnification ratio on the bottom left of the Script Editor. You can also enter the number manually between the range of 20 to 400%. ![scale2](https://mod-file.dn.nexoncdn.co.kr/bbs/1689130753750642810ea2be447f387f7793ca44611ff.png)

Update 2025-11-20 PM 02:03


# Script Assist

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

The Script Editor of MapleStory Worlds supports several functions to write code more accurately and quickly. Script Assist is the collective term for these features. This course will guide you through the various features of Script Assist.

# Navigation

The Navigation function supports quick and easy movement to the desired location in the script.

### Find References

The Find References feature makes finding references easy. Click **Show References** in the symbol's context menu to open the **References** window. The Find References feature finds references to the current symbol throughout the entire project. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/167297348163458165b0bcf8a4f80a73d2dbc09d0db98.png) ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/1673251019057e79f96ce9e9a4f9f9d7977acfc1b5794.png)

### Go to Definition

If you click **Go to Definition** in the symbol's context menu, you will move to the symbol's definition. ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/16729741775763a6b33cef7374dbfae12640036d4eee6.png)

### Go Back/Go Forward

Using the shortcuts below, you can move to a previously recorded location or move back to the most recent location.

- Navigate Back: Pressing `Ctrl(L)` + `-` will move to the previous location.
- Navigate Forward: Pressing `Ctrl(L)` + `=` key moves you from the previous location to the latest location. ![navigate](https://mod-file.dn.nexoncdn.co.kr/bbs/1678676733191965cd0d90c1c4abd81eea6cec1638e52.gif)

# Code Inspection

Code Inspection is a function that checks the code to catch mistakes that the user was not aware of and prevent coding errors in advance. For example, as shown below, an underline is displayed when an error occurs, and detailed information appears when you mouse over it. You can use this as a reference to quickly correct errors. ![04](https://mod-file.dn.nexoncdn.co.kr/bbs/16732510875278c77b508a29640aa88a82771566c5632.png)

Code Inspection can typically detect the following errors.

| Error | Description |
| :---: | --- |
| UnavailableMethodCall | You used Dot for a function where Colon is recommended. |
| TooManyParameter | You wrote more parameters than required. |
| ParameterTypeMismatch | The type of parameter you wrote does not match the required type. |
| AssignTypeMismatch | The type of value you assigned does not match the type of the variable. |
| TableKeyTypeMismatch | The table key types do not match. |
| NotRecommendedAssignment | You wrote an unrecommended assignment statement. |
| ReturnValueFromVoidFunction | You wrote a return statement in a function without a return value. |
| AssignToReadonlyProperty | You have assigned it to a read-only property. |
| IntroduceGlobalVariable | You declared a global variable. |
| ObsoleteAPIUsed | You used a deprecated API. We recommend using a different API. |
| UnbalancedAssignment | The left and right sides of an assignment statement have different lengths. |
| UnreachableCode | You wrote unreachable code. |
| UnresolvedSymbol | Symbol not found. |
| UnresolvedMember | Member not found. |
| UnresolvedFunction | Function not found. |
| DuplicateLocal | You have a local variable declared redundantly. |
| AnnotationNotFound | Annotations not found. |
| AnnotationTypeNotFound | The type used in the annotation not found. |
| ReturnTypeMismatch | The return type does not match. |
| NotEnoughArgument | You wrote fewer arguments than required. |
| DuplicateFunction | You have defined the function redundantly. |

# Highlighting

This is a function that helps to easily recognize the code by highlighting the grammar in various ways, using the text color and background color of the code.

### Symbol Reference Highlight

Symbol Reference Highlight is a feature that highlights multiple symbols that reference a selected symbol. Selecting a specific symbol, as shown below, also highlights the background color of other symbols that refer to it. ![05](https://mod-file.dn.nexoncdn.co.kr/bbs/167323895521158cef8fc84a04a3cae102bbdbb564d69.png)

### Syntax Highlight

Syntax Highlight is a function to emphasize grammar. For example, by analyzing the code, if the symbol is a variable, it is displayed in color #1F377F, in color #F17D80 if it is a string, and in color #648064 if it is an annotation type. ![07](https://mod-file.dn.nexoncdn.co.kr/bbs/167331313032494bf43f0f61f49d3a0258a84940b35f3.png)

In addition to the examples given, a variety of grammar highlighting is provided.

### Related Token Highlight

Related Token Highlight is a feature that highlights related tokens. For example, if **if** is selected, **then** and **end**, which are used together in **if statement**, are also highlighted. ![06](https://mod-file.dn.nexoncdn.co.kr/bbs/1673239167792975ab6338cd647329a2cc5e0b19a34e7.png)

# Quick Info

Quick Info is a feature that quickly and easily displays additional code information when you hover over a function, variable, parameter, etc. ![quickinfo](https://mod-file.dn.nexoncdn.co.kr/bbs/1668064363104cfff013b14cd49a6bb3b7d90a79f90cf.png)

# Code Completion

By analyzing the context, Code Completion suggests symbols that can be created at the current position. Use the top and down arrow keys to find an appropriate suggestion and then press the **Enter** or **Tab** key to insert the code phrase. ![code](https://mod-file.dn.nexoncdn.co.kr/bbs/16680557704632d17b97ae55d402ab873ed774fd19e92.png)

If you want to bring up code completion again, press `Ctrl` + `Space` on the symbol. ![code2](https://mod-file.dn.nexoncdn.co.kr/bbs/167867626381462b21a82b8e442b69c56c425c1b65957.gif)

Code Completion, which also offers the names of functions or variables the user has declared, prevents typing mistakes and makes it easy to reuse codes.

# Signature Helper

Signature Helper is a feature that helps you write parameters by displaying the function signature when writing a function. Use the up and down arrow keys to find the intended signature and get help in writing functions. ![signature](https://mod-file.dn.nexoncdn.co.kr/bbs/166963495531574f3fb62127b4fc99058e2630eb54577.png)

If you want to load the Signature Helper again, press `Ctrl` + `Shift` + `Space`. ![signature2](https://mod-file.dn.nexoncdn.co.kr/bbs/16843976134234c31e23de23d48c58444e0b85cc6bdf2.gif)

# Annotation

Annotation is a function to help improve the script assist function.

> **Learn more** For more details, please refer to the [Utilizing Annotation](/docs/?postId=824) guide.

# Code Generation

Code Generation is a feature that allows you to write code quickly by automatically adding common lines.

### Auto Bracket Pair Completion

AutoBracketCompletion, as the name suggests, will automatically complete bracket pairs.

### Auto Statement Pair Completion

AutoStatementPair automatically pairs the statements when you press the Enter key while writing a sentence. ![001](https://mod-file.dn.nexoncdn.co.kr/bbs/168439212479329d2c516a9c44e54932c198c11f3fab7.gif)

# Comment Shortcuts

You can use keyboard shortcuts to comment on or remove comments from codes.

### Whole Line Comment

Press `Ctrl`(L) + `/` to comment on the code. Add a comment to the code in the 'line where the cursor is located' or 'in multiple lines selected by dragging'. Press 'Ctrl(L)' + '/' again in the commented part to remove the comment. ![t1](https://mod-file.dn.nexoncdn.co.kr/bbs/1676422686186f6925f46e5cf45dc993bb712979ba9be.gif)

### Block comment

Press `Ctrl(L)` + `Shift(L)` + `/` to apply block comments to the selected code. You can also apply block comments to just a part of a whole line and not the whole line. Press `Ctrl(L)` + `Shift(L)` + `/` again in the block-commented part to remove the comment. ![t2](https://mod-file.dn.nexoncdn.co.kr/bbs/167642308489426b09acc998840a59ef5c097f9a0c5e4.gif)

# Other Convenience Features

Here are some additional quality-of-life features you can utilize.

## Main Shortcuts

### Transparentize

Press `Ctrl(L)` key to make Code Completion, Quick Info, and Signature Helper transparent. You can use the Transparentize feature to see your code more clearly. ![t3](https://mod-file.dn.nexoncdn.co.kr/bbs/16786770174103e1c8fd8108740a891fea3be0b0ac988.gif)

### Duplicate

You can duplicate the selected line or area by pressing the `Ctrl(L)` + `D` keys.

- When you duplicate a line, the duplicated content appears on the line immediately below it.
- When you duplicate an area, it follows immediately after the area you selected. ![duplicate](https://mod-file.dn.nexoncdn.co.kr/bbs/1678676463146908e86c91d9a47559246ef5be0195b68.gif)

> **Learn more** You can see the full list of available shortcuts in the Script Editor section of [MSW Shortcuts](/docs/?postId=813).

## Settings

You can go to **Edit - Preferences** to set your Script Assist preferences. ![002](https://mod-file.dn.nexoncdn.co.kr/bbs/168437690187617eb3133ef694b9f826d4ce89b6be5ac.png) Once you've changed the settings on each tab, you should press the **[Save]** button to save your changes.

The settings include the following options:

| Items | Detailed items | Desc |
| --- | --- | --- |
| Code Completion | Enable Code Completion | Enables the **Code Completion feature**. |
| Signature Helper | Enable Signature Helper | Enables the **Signature Helper feature**. |
| Code Generation | Enable AutoBracketCompletion | Enables the **Auto Bracket Pair Completion feature**. |
| Enable AutoStatementPair | Enables the **Auto Statement Pair Completion feature**. |
| Code Inspection | Enable Code Inspection | Enables the **Code Inspection feature**. |
| Error Level | Sets whether it is enabled or disabled for each error level. |
| Warning Level | Sets whether it is enabled or disabled for each warning level. |
| Info Level | Sets whether it is enabled or disabled for each info level. |
| Highlighting | Syntax Highlighting | Enables the **Syntax Highlight feature**.<br>You can set the highlight color for each item. |
| Symbol Highlighting | Enables the **Symbol Highlight feature**.<br>You can set the highlight color for each item. |
| Related Token Highlighting | Enables the **Related Token Highlight feature**.<br>You can set the highlight color for each item. |

Update 2025-11-17 PM 08:14


# Utilizing Annotations

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

**Annotation** is a kind of metadata that you can use by adding to a code. While the Comment using the `--` symbol in the script serves only as a reference for writing the script. Writing an **Annotation** in the format of `---@` can enable the help of script assists such as **Quick Info**, **Signature Helper**, **Code Completion**, etc. Let's take a look at the types of **Annotation** offered in MapleStory Worlds and how to utilize them through this course.

> **Learn more** Check out the **Script Assist** item in the [Script Editor Orientation](/ko/docs/?postId=56) guide if you want details on Quick Info, Signature Helper, and Code Completion.

# Specifying Variable Type: Type Annotation

Script Assist can provide support in the Script Editor when the variable type is explicitly specified as **Type Annotation**. **Type Annotation** is applied to an assigned line.

## Usage

**Type Annotation** is used as follows.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/166788442640966b092935ab7482d948c6fc39188d48c.png)

```
---@type string
local testValue = "test"
```

## Example

##### Lua Functions that Cannot Deduct Return Type

Likewise, use **Type Annotation** when you retrieve a resulting Lua function value that cannot deduct return type as follows.

```
local function TestFunction()
    return "strValue"
end

local strValue = TestFunction()
```

| Before the application of Type Annotation | After the application of Type Annotation |
| :---: | :---: |
| ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/166788677395339c9be52267845a1a38273071868699e.png) | ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1667886963732dbed1d6d12984f79bd1922548876854f.png) |

##### When Multiple Values are Assigned

Likewise, use **Type Annotation** when multiple values are assigned as follows.

```
local function TestFunction()
    return "strValue", 5
end

local strValue, intValue = TestFunction()
```

| Before the application of Type Annotation | After the application of Type Annotation |
| :---: | :---: |
| ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1667887186926acb2c0f5eac64f118c480078c23b2ac4.png) | ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1667892117117387cdcbbe65e4aa08d76b2fc548d48ad.png) |

You can specify partially when multiple values are assigned. Specifying a rear value alone is impossible because the specified type is applied from a front value.

| Before the application of Type Annotation | After the partial application of Type Annotation |
| :---: | :---: |
| ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1667887186926acb2c0f5eac64f118c480078c23b2ac4.png) | ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/166789228646766e78448a0794b3cb971c4492954f34f.png) |

## Specifying Generic Type

To specify a generic type, follow this example.

```
---@type TYPE
```

##### Usage Example

```
---@type string
local testValue = "test"
```

```
---@type string, integer
local strValue, intValue = "str", 5
```

Various types such as event, component, entity, and Enum besides simple primitive types can be specified as **Type Annotation**.

## Specifying Table Type

To specify the type of a Table, follow this example.

```
---@type table<KEY_TYPE, VALUE_TYPE>
```

##### Example

```
---@type table
local testTable = {}
```

```
---@type table<Entity>
local testTable = {}
```

```
---@type table<string, Entity>
local testTable = {}
```

For example, you can check related information in Quick Info when specifying **Type Annotation** as follows.

```
local function TestFunction()
    local testTable = {}
    testTable[1] = "A"
    testTable[2] = "B"
    testTable[3] = "C"
end

---@type table<integer, string>
local tableValue = TestFunction()
```

![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1667895925609146ce9442a4f4e6da96fc1aa6932f744.png)

## Specifying Function Type

To specify the type of a Function, follow this example.

```
---@type function(param_name: PARAM_TYPE):RETURN_TYPE
```

##### Example

```
---@type function()
local testFunction = function() end
```

```
---@type function(testParamA:string, testParamB:Entity)
local testFunction = function(testParamA, testParamB) end
```

```
---@type function(testParamA:string, testParamB:Entity):AttackComponent
local testFunction = function(testParamA, testParamB) return atkComponent end
```

```
---@type function(testParamA:string, testParamB:Entity):AttackComponent, string
local testFunction = function(testParamA, testParamB) return atkComponent, "strValue" end
```

```
---@type (function(testParamA:string, testParamB:Entity):AttackComponent, string), Entity
local testFunction, testEntity = function(testParamA, testParamB) return atkComponent, "strValue" end, self.Entity
```

For example, you can get help from Signature Helper when specifying **Type Annotation** as follows.

```
local function TestFunction()
    return function(paramA, paramB)
        return "strValue", false
    end
end

---@type function(paramA:string, paramB:AttackComponent):string, boolean
local test = TestFunction()
```

![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1669633527104fde7bdfed20d4bdb802bdec69d11e4fb.png)You can also check the specified type in Quick Info.

```
---@type function(paramA:string, paramB:AttackComponent):string, boolean
local test = TestFunction()
local strValue, boolValue = test("param", self.Entity.AttackComponent)
```

![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1667893299258103b46b267b745f882a40a4cbb70c568.png)Divide each type into groups with parenthesis when you want to specify other values along with a function that returns multiple values.

```
---@type (function(paramA:string, paramB:Entity):AttackComponent,string), Entity
local testFunction, testEntity = function(testParamA, testParamB) return atkComponent, "strValue" end, self.Entity
```

# Specifying Parameter Type: Param Annotation

Script Assist can provide support when the parameter type of a target function is specified using **Param Annotation**. **Param Annotation** is applied to a function-defining line.

Use the following syntax for **Param Annotation**:

```
---@param param_name PARAM_TYPE
```

##### Usage Example

```
---@param testParamA Entity
local function TestFunction(testParamA)
end
```

```
---@param testParamA Entity
---@param testParamB integer
local function TestFunction(testParamA, testParamB)

end
```

Basically, type deduction is impracticable because one cannot know what type will be inserted into a parameter when defining Lua function. Let's use **Param Annotation** in this case.

| Before the application of Param Annotation | After the application of Param Annotation |
| :---: | :---: |
| ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/166789361996144188e4993ee4a6a8a4d0bddeb7229ae.png) | ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1667893634012f417287ece184076a6dae5259609f80e.png)<br>![18](https://mod-file.dn.nexoncdn.co.kr/bbs/1668671082158866bdb58d8bf4710b2df2fab3d00ce47.png) |

# Specifying Return Type: Return Annotation

Script Assist can provide support when the return type of a target function is specified using **Return Annotation**. **Return Annotation** is applied to a function-defining line.

Use the following syntax for **Return Annotation**.

```
---@return TYPE
```

##### Example

```
---@return Entity
local function TestFnction(testParamA, testParamB)
    return self.Entity
end
```

```
---@return Entity, string
local function TestFunction(testParamA, testParamB)
    return self.Entity, "strValue"
end
```

| Before the application of Return Annotation | After the application of Return Annotation |
| :---: | :---: |
| ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/1667893987810443dd08fe02842e19a29e8d2b7d14b54.png) | ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/1667894003787ca547259d8d0414294064f26fd6569ac.png) |

Update 2025-11-17 PM 08:14


# Script Debugging

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

We'll learn how to debug a script using the debugging function.

# Breakpoints

Script debugging begins by setting breakpoints. Let's see how to set or clear breakpoints for a code line that may malfunction.

#### Setting Breakpoints

To debug from the Script Editor, you first have to set breakpoints. You can set breakpoints by pressing **F9** from a code line. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/163705967832018b0bcb305064e1ab0588a93b33ded86.png) <Select a code line, then press F9 to open a breakpoint ![break_point](https://mod-file.dn.nexoncdn.co.kr/bbs/163452037264550d6cc9a394d421686b324e622531625.png) on the left side.>

#### Clearing Breakpoints

Select the code line with a breakpoint and then press **F9 again** to clear the breakpoint. If you clear a breakpoint, the game will not stop at that point when run in debug mode. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1637059714014a97f7af47e9e448687ce6993a387d639.png)

#### Managing Breakpoints

It may be difficult to check current breakpoints if you have set them in several lines and several scripts. Then you can use the **Breakpoints** panel to check all the breakpoints. Click and open **Panels - Debug - Breakpoints** in the navigation menu. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16875077319895fd3c24546fb466abb6f59901a6fd11d.png)  The **Breakpoints** panel provides the script name, function name, and line information. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16370597948003bc1552ec1b4445ebb17f3c2e15f2989.png)

| List | Explanation |
| --- | --- |
| Entry | Script name (e.g. script component or script logic with breakpoint) |
| Method | Name of Method with breakpoint within Entry |
| Line | Position of line with breakpoint within Method |

In the **Breakpoints** panel, you can search for breakpoints, but also delete them or move to that location as well.

#### Moving to Breakpoints

Double-click the breakpoints list, or select **Move** from the context menu to move to the position with a breakpoint. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1637059803373a398dd6a85c944c8bb9223a41618be5d.png)

#### Deleting Breakpoints

You can delete a breakpoint by clicking **Remove** from the right-click menu of the breakpoint you'd like to delete. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/163705981310639ae31b71811480d9462f92fd1c649dc.png)

# Debug

When you're done setting breakpoints in your script, execute the world in debug mode to check the code.

#### Starting Debug

You can start debugging with the **[Debug Start/Stop]** button ![Tool_Debug](https://mod-file.dn.nexoncdn.co.kr/bbs/163453034389022f3433c55154836a7b16c2f001ec1b2.png). ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16353141412294342625aa5754de983403c8517115938.png)  When you start debugging, the game plays the same as when you start the game, but when the code with a breakpoint is executed, play stops and you can see the state of the code. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401357743c56f6df990bf4b47b085b20b7c6838b1.png)

#### Assessing Code

During debugging, you can check each variable or value assigned to a property. You can learn more about assigned values by using the ![TabWatcher](https://mod-file.dn.nexoncdn.co.kr/bbs/1634524682293d425b6b49f234132a341a80cdc17a080.png) **WatchExpress** tool. You can also simply **mouse over** a variable or property of the executed code line to check the **allocated value, execution space, and type** with **tooltip**. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/165640134890606dadbdca6f74d999f16111fbdc8599e.png) (Ex: You can see the delta value passed as a parameter.)

#### Stopping Debug

You can stop debugging by clicking the **[Debug Start/Stop]** button or **[Start]** button. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1637059841169be829952b87b4af59e11572af9bd3e3f.png)

#### Running Code during Debugging

What should we do if there is no problem with the code in the breakpoint, or if we want to check the code below as well? We can't set breakpoints to all code lines we'd like to check, and it would be inefficient to start/stop debugging to set and clear breakpoints each time. When play has stopped at the breakpoint, you can execute the code that comes after the breakpoint. You can check the state or flow of the code with executing the code by unit through **procedure unit execution**, **code execution step by step**, etc. To execute codes by unit, you can use the following buttons next to the Start/Stop button after debugging has begun. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1637059903339201b8d7bc1c84a1c8aff5223d3546515.png)

| Button | Function | Shortcut | Explanation |
| --- | --- | --- | --- |
| ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/163531428695222092623c5ee4bbdb6c765b0257765d4.png) | Move to next breakpoint | F5 | Run code from current line to next code line with a breakpoint. |
| ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/16353142973766005f7a18f6241e0853fcdb4b117d794.png) | Execute by procedure | F10 | Execute the code line by line.<br>If there's a function in the focused line, move on to next line, assuming the function has been executed. |
| ![14](https://mod-file.dn.nexoncdn.co.kr/bbs/1635314349045496e747d90b649a7aa14b0fb1388f0af.png) | Execute code by stage | F11 | Executes code line by line, but if there's a function in focused line, enter the code to execute codes within the function line by line. |
| ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/163531436027902cc8e8685d04d26a2a7d6659e0ed05d.png) | Exit procedure | Shift + F11 | Finish calling the function currently running, and move to the location where it was called. |

# Watch Expression

You can hover over a variable or property to check individual values, but it gets inconvenient to watch the constant change in certain variables on each line. To avoid this, we can register a property or variable declared within the function to **Watch Expression**. By doing this, we can convienetly keep track of values each time the code is executed.  Click and open **Panels - Debug - Watch Expression** in the navigation menu. ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/16875080353841809a26bb9494dbc9cc9bf775f4ff075.png)  During debugging, write the variable or property name to **Add Expression** to figure out its value.

> __Tip__ In the case of **variables declared in the currently focused function, the variable name** is registered, and in the case of **property, it is registered in the form of self.property name**.

![17](https://mod-file.dn.nexoncdn.co.kr/bbs/163531441012044c1f499c222457c8428da2cff7ffeb4.png)Once a variable or property is registered to **Watch Expression**, you can run codes line by line to track the change in values.

| Before executing code in function | After executing code in function |
| --- | --- |
| - Starts debugging, focuses on the first line of NewMethod3 function which has breakpoint.<br>- Receives "Debug12" as NewMethod3 function's parameter.<br>- Variable text has not been declared yet.<br>- Default value 0 is assigned to Property. | - Uses F11 to run code up to the 4th line.<br>- Declares variable text and assigns "Debug123".<br>- Adds 1 to Property value. |
| ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/16370600155057ca13181b27649018ee5ba886944a710.png) | ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/16370600271603294fb67b3024471b88820dda2b0b976.png) |
| ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/163531445300862c1a06ecc354207b15e5206b731a731.png) | ![21](https://mod-file.dn.nexoncdn.co.kr/bbs/1635314465563af8446e05b504689aa99b9ee139f7e54.png) |

# Call Stack

Call Stack is used to check where a function currently being debugged was called from. Click and open **Panels - Debug - Call Stack** in the navigation menu. ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/168750821078566a306d100c6405e8845e38ba39689a8.png)

Like the example below, if you're debugging the inside of `Method3` from a script that calls the `OnBeginPlay` function, `Method1`, `Method2`, and then `Method3`, you can use **Call Stack** to check the execution space and the sequence called up to `Method3`. ![23](https://mod-file.dn.nexoncdn.co.kr/bbs/16353144857503a4fa032527a41bd85f26876272b25a1.png)

Update 2025-12-02 PM 03:52


# Property

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=40m&amp;color=green)

# Course Introduction

In this course, we will learn about MapleStory Worlds' properties. We will also learn about property-related information such as declaring properties, setting defaults, and synchronizing properties.

# Properties in MSW

Properties are a component's member variable, and can have different values for each entity. Properties have three characteristics.

- Unlike a Lua variable, a MapleStory Worlds property sets its type upon declaration and can refer to or substitute a value.
- A property can be accessed from the outside within a component, and its value can be read or written in each function.
- You can set the synchronization between the server and client by setting the property's synchronization.

# Property Declaration and Removal

Let's learn how to declare and delete properties.

#### Declaring Properties

1. In the context menu of **Workspace - MyDesk**, click **Create Scripts - Create Component** to generate a new script component. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1687496291799b05a128af08748b8bc69f2956c9de929.png)
2. Name the component. Double-click the new component to open the Script Editor. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1635329393515dacd9e3446ac472e92b77b2f787c160d.png)
3. Click the **[+]** button to add a new property. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1635329401326a69e30631ae4401784a4862c7711aada.png)
4. Set the property name, type, default value, and synchronization status between server and client. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1656400889882e4b1522943154fef8f0ff8ab49b71e29.png)

#### Deleting Properties

Click **[⋮] Menu - Remove** to delete the property. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1635329420391af78791adc6e4e3e97380dea88d3b4ad.png)

# Property Type

When making properties, you should set the property's type. However, the way to do so is a little different from the usual Lua grammar. You must set a type for transferring and synchronizing property values. Click "Type" to the left of the property name to set the appropriate type. ![06](https://mod-file.dn.nexoncdn.co.kr/bbs/1673599399633ba4e45d5b2694a838e3454621f4b9d4c.png)

#### string

Can accept a string value.

```
Property: 
[Sync]
string StringProperty = "Hello"

Method:
[Server Only]
void OnBeginPlay()
{
    self.StringProperty = self.StringProperty .. " World!!"
    log(self.StringProperty) --Output "Hello World!!" String in Console Window
    self.StringProperty = "Hello MSW!!"
    log(self.StringProperty) --Output "Hello MSW!!" String in Console Window
}
```

#### number

The number type can accept number values. It can accept any numeric value, whether integer or real.

```
Property:
[Sync]
number NumberProperty = 100

Method:
[Server Only]
void OnBeginPlay()
{
    self.NumberProperty = self.NumberProperty + 83
    log(self.NumberProperty) --Output the Number 183 in Console Window
    self.NumberProperty = 3.28
    log(self.NumberProperty) --Output the Number 3.28 in Console Window
}
```

#### integer

The integer type can accept integer values. When a real value is entered, the decimal is dropped.

```
Property:
[Sync]
integer IntegerProperty = 100

Method:
[Server Only]
void OnBeginPlay()
{
    self.IntegerProperty = self.IntegerProperty + 83
    log(self.IntegerProperty) --Output the Number 183 in Console Window
    self.IntegerProperty = 3.28
    log(self.IntegerProperty) --Output the Number 3 in Console Window
}
```

#### boolean

Can assign a true or false value to the property.

```
Property: 
[Sync]
boolean BooleanProperty = false

Method:
[Server Only]
void OnBeginPlay()
{
    self.BooleanProperty = true
    
    if self.BooleanProperty == true then
    self.BooleanProperty = false
    log("Hello MSW!!")
    end
}
```

#### table

This refers to Lua table. It is not synchronized (Sync).

```
Property: 
[None]
table TableProperty = {1,2,3,4,5}

Method:
[Server Only]
void OnBeginPlay()
{
    local tmpTable = self.TableProperty
    self.TableProperty[1] = 10
    log("tmpTable : "..tmpTable[1]) --Output "tmpTable : 10" in Console Window
    log("TableProperty : "..self.TableProperty[1]) --Output "TableProperty : 10" in Console Window 
    
    self.TableProperty = {100,200,300,400}
    log("tmpTable : "..tmpTable[1]) --Output "tmpTable : 10" in Console Window
    log("TableProperty : "..self.TableProperty[1]) --Output "tmpTable : 100" in Console Window
}
```

#### SyncTable< v >

A table format of Lua, but it's a restricted type and the `next` function cannot be used. Unlike a general table property, you can set only one type, and it can be **synchronized(Sync)**. However, note that it is slightly slower compared to regular tables. **v** refers to type. You can select the desired type from the list. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/168610513116799d1be6022794e1582c2b9227100a178.png)

#### SyncTable< k, v >

A table format of Lua, but it's a restricted type and the `next` function cannot be used. Unlike a general table property, you can set only the type specified for key and value, and it can be ** synchronized (Sync)**. However, note that it is slightly slower compared to regular tables. **k, v** refer to type. You can select the desired type from the list.

#### Vector2

Expresses a 2D vector and location. This is provided in a table type and is referred to when assigned to a property or a variable. Usually it is used to express the location coordinates in a 2D space, which includes the member variables x and y, indicating x and y coordinates. Please refer to the following descriptions about how to create and refer to values and access member variables x, y:

```
Property: 
[Sync]
Vector2 Vector2Property = Vector2(0,0)

Method:
[Server Only]
void OnBeginPlay()
{
    local tmpVector2 = Vector2(10,10) --Create Vector and Assign to Local Variable tmpVector2
    self.Vector2Property = tmpVector2 --Assign tmpVector2 Value to Property Vector2Property
    log(tmpVector2) --Output as (10.000, 10.000) in Console Window
    log(self.Vector2Property) --Output as (10.000, 10.000) in Console Window
    
    local calcu = self.Vector2Property
    calcu.x = 20 --Set Value of Member Variable x
    calcu.y = 50 --Set Value of Member Variable y
    log(calcu) --Output as (20.000, 50.000) in Console Window
}
```

#### Vector3

Expresses a 3D vector and location. Just as **Vector2**, it is referred when assigned to a property or a variable. Member variable z is added in **Vector2**. **Vector2** is commonly used, except in cases when you need to assign the **Position** of a **TransformComponent**. Please refer to the following descriptions about how to create and refer to values and access member variables x, y, z:

```
Method:
[Server Only]
void OnBeginPlay()
{
    local tmpVector3 = Vector3(10,10,10)  --Create Vector and Assign to Local Variable tmpVector3
    local Vt1 = tmpVector3
    local Vt2 = tmpVector3
    log(Vt1)  --Output as (10.000, 10.000, 10.000) in Console Window
    log(Vt2)  --Output as (10.000, 10.000, 10.000) in Console Window  
    
    tmpVector3.x = 20
    tmpVector3.y = 20
    tmpVector3.z = 20
    
    log(tmpVector3)  --Output as (20.000, 20.000, 20.000) in Console Window
    log(Vt1)  --Output as (20.000, 20.000, 20.000) in Console Window
    log(Vt2)  --Output as (20.000, 20.000, 20.000) in Console Window
}
```

#### Vector4

Expresses a 4D vector and location. Member variable w is added in **Vector3**. Please refer to the following descriptions about how to create and refer to values and access member variables x, y, z, w:

```
Method:
[Server Only]
void OnBeginPlay()
{
    local tmpVector4 = Vector4(10,10,10,10)  --Create Vector and Assign to Local Variable tmpVector3
    local Vt1 = tmpVector4
    local Vt2 = tmpVector4
    log(Vt1)  --Output as (10.000, 10.000, 10.000, 10.000) in Console Window
    log(Vt2)  --Output as (10.000, 10.000, 10.000, 10.000) in Console Window  
    
    tmpVector4.x = 20
    tmpVector4.y = 20
    tmpVector4.z = 20
    tmpVector4.w = 20        

    log(tmpVector4)  --Output as (20.000, 20.000, 20.000, 20.000) in Console Window
    log(Vt1)  --Output as (20.000, 20.000, 20.000, 20.000) in Console Window
    log(Vt2)  --Output as (20.000, 20.000, 20.000, 20.000) in Console Window
}
```

#### Entity/EntityRef

This property points to an entity. Entity and EntityRef have the same basic usage but have different reference methods.

- Entity: Directly reference an entity. If you move to another map and return, the reference is severed, making the property not usable.
- EntityRef: Holds the entity’s key value and then searches for the entity when it is accessed. It can access the entity it is pointing to without issue even after returning after going to another map. EntityRef is slower than Entity, since it searches for the entity each time an entity is accessed.

```
Property:
[Sync]
Entity EntityProperty = EntityPath
[None]
EntityRef EntityRefProperty = EntityPath

Method: 
[Client Only]
void OnBeginPlay()
{
    log(self.EntityProperty.Name)
    log(self.EntityRefProperty.Name)
}
```

#### Component/ComponentRef

This property points to a component. Select the Component property type, then click a button to set a specific component to a type. Component and ComponentRef have the same basic usage but have different reference methods.

- Component: Directly references a component. If you move to another map and return, the reference is severed, making the property unusable.
- ComponentRef: Holds the component’s key value and then searches for the component when it is accessed. It can access the component it is pointing to without issue even after returning after going to another map. ComponentRef is slower than Component, since it searches for the component each time a component is accessed.![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1635329448310478cc03be91a4882900e39683a801fd7.png)

```
Property:
[None]
TransformComponent ComponentProperty = EntityPath
[None]
TransformComponentRef ComponentRefProperty = EntityPath

Method:
[client only]
void OnBeginPlay()
{
    log(self.ComponentProperty.Position)
    log(self.ComponentRefProperty.Position)
}
```

#### Any

A type that can refer to any type. Instead of writing the basic types above, it is mostly used to refer to **Entity** or **Component**.

```
Property:
[None]
any EntityProperty = nil
any ComponentProperty = nil

Method:
[Server Only]
void OnBeginPlay()
{
    self.EntityProperty = _EntityService:GetEntityByPath("/maps/map01/entityA")
    self.ComponentProperty = self.EntityProperty.TransformComponent
    log(self.EntityProperty.Name) --Output Target Entity Name in Console Window
    log(self.ComponentProperty.Position) --Output Component’s Property Value in Console Window. (Position is a Vector3 type, and is output in the (x, y, z) format.)
}
```

# Setting the Default Value of a Property

You can set a property's default value from the script. For example, you can either enter a string value "Hello", or a numeric value such as 100, according to each property's type as shown below. In case of a Table-type property, you can also set the table as the default value. The default value of the property may also be the default value of the entity to which the component is applied. If you access each function without a property that points to a value or has a referenced value, it reads the default value of that property.

```
Property:
[None]
string StringProperty = "Hello!!"

Method:
[Server Only]
void OnBeginPlay()
{
    local getStringProperty = self.StringProperty 
    --Assign the self.StringProperty Value “Hello!!” to getStringProperty
    log(getStringProperty) 
    --Output “Hello!!” in Console Window
}
```

You can also set a different initial value for each entity. If you want to set a different default value for each entity, it's more efficient to do so via the Property Editor rather than a script. This is because the property value set in Property Editor takes priority over one set by a script. If you set the property default value in Property Editor after adding a component to an entity, each entity can have a different property default value. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1683001932653498b70b84e0242c7a8b8902a8643b144.png)

# Accessing Properties

Let’s learn how to access a property from functions. First, you can access the same component in the following way.

```
Property:
[None]
string StringProperty = "Hello!!"

Method:
[Server Only]
void OnBeginPlay()
{
    local stringProperty = self.StringProperty 
    --Load Target Property as “self.Property Name”
}
```

The properties of another component can be accessed in the following way. Let’s learn how to access them in the situation below.

- A situation where entities “A” and “B” exist, and each entity has "ComponentA" and "ComponentB" applied.
- "ComponentA" has a property named "PropertyA" declared and ComponentB" has a property named "PropertyB" declared.
- Then "ComponentB" reads the value of "PropertyA" property from "ComponentA" and assigns it to "PropertyB".

```
Property: 
[None]
string PropertyA = "HelloMSW!!"
```

```
Property:
[None]
string PropertyB = ""

Method:
[Server Only]
void OnBeginPlay()
{
    local entityA = _EntityService:GetEntityByPath("/maps/map01/A")
    local componentA = entityA.ComponentA
    self.PropertyB = componentA.PropertyA
    log(self.PropertyB) --Confirm that HelloMSW!! is output in the console window.
}
```

> **Learn More** For a more detailed explanation about referring to entities and components, review the the following guide. [Referring to Entities and Components](https://mod-developers.nexon.com/docs?postId=164)

# _T Property

A property is a member variable within a component, which preserves value set in function and doesn't stop even when written and read in a function. Therefore, it can be used to contain a certain value through a function or accumulate values from repeated calls to a function. The next example outputs "HelloMSW" to the Console window every 3 seconds.

```
Property:
[Sync]
number AccTime = 0

Method:
[Server Only]
void OnUpdate(delta)
{
    self.AccTime = self.AccTime + delta  
    --Each time OnUpdate is called, the delta value is added to the AccTime property.
        
    if self.AccTime >= 3 then  
    -- Check if the AccTime Property’s Total Value is 3 or Higher, Output "HelloMSW" in Console Window if 3 or Higher
        self.AccTime = 0
        log("HelloMSW")
    end
}
```

The total value can be placed inside the component like in the example above. However, it can be cumbersome, since it continues to synchronize and declare unneeded properties. To solve this issue, MapleStory World provides the **_T Property**. The **_T Property** has the following characteristics.

- Unlike a general property, _T property is created when it is first written in a function.
- You can access it not only from within the component but also from outside of the component.
- You can use it only in the same space as it cannot be synchronized.

**_T Property** is used in the form of **"_T.PropertyName"**. To help you understand, let's redo the example from above using _T Property.

```
Property:
[Sync]
number AccTime = 0 -- Use _T Property instead of this property.
 
Method:
[Server Only]
void OnUpdate(delta)
{
    if self._T.accTime == nil then self._T.accTime = 0 end  
    --_T Property is declared exactly at the moment of writing. As it was declared in the component, attach "self" to the front
 
    self._T.accTime = self._T.accTime + delta  
    -- Adds delta value to _T.accTime property whenever OnUpdate is called
     
    if self._T.accTime >= 3 then  
    -- Checks if accumulated value of _T.accTime is greater than or equal to 3; if so, it outputs "HelloMSW" on the Console window.
        self._T.accTime = 0
        log("HelloMSW")
    end
}
```

Update 2025-12-02 PM 03:52


# Property Synchronization

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

Let's learn about property synchronization, one way to send data between server and client.

# Synchronization

Synchronization in MapleStory Worlds is a type of data transmission method between the server and the client, and means that properties of the same name existing in each space are set to the same value. Generally, a property is created both in server and client upon declaration. However, if the property is not synchronized, it can have the same name but different value. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1656921154697fd4f97fb346241e199e2bdcd95eb0ccd.png)  The creator can choose to assign different values for the same property depending on the space. However, it's more common to synchronize the values for more efficient management. Then how can we synchronize properties?  MapleStory Worlds offers auto synchronization of properties. You don't need to do anything special. You just need to declare properties, and then set if the properties will be synchronized.

> **Learn more** Let's suppose we are creating character stat without synchronization. If we are making stat, first we create a component called Stat, followed by HP Property, MP Property, etc. And if we create something that reduces HP when the character is attacked by a monster, we create a logic that reduces the character's HP in the server. Regarding the properties of the server and the client, as they exist in different spaces, only the HP Property of the server renews its value while the HP property of the client doesn´t. Although the HP value of the character has been reduced, HP in the client (e.g. UI) isn't reduced. In this case, if the property of the server is changed, you have to either manually change the value of the client, or run the same logic in the server and client. It would be very inefficient and difficult to manage. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16353351388052ce5c7972f5f47abb1d5ff853ed1c98f.png) <The character is dead, but its HP isn't reduced because property is not synchronized between the server and client.>

# Synchronization Direction

In general, property synchronization goes from server to client, except in some native components. That is, if you assign a value to property in server, the changed value is sent to the client to be assigned to the same property. It also means that if you assign value to a property in the client, the value in the server does not change. As a server is unique, value changed in server can be sent to each client. In contrast, there are several clients and they can all have different values. In this case, it is difficult for the server to decide which value to accept.

In MapleStory Worlds, synchronization from server to client is mostly limited. Also, it is not recommended to change a value in client while property is set to be synchronized, except in some exceptional cases.

- **In case of synchronizing with value changed in server** ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/165692168427992469f2764814b5dae5778479830821c.png)
- **In case of synchronizing with value changed in client** ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1656921707340d78a7ac5ff71456b8493dfbb3fc7736a.png)  Synchronization sends changed value from server to client to synchronize the values, which may result in some delays. This means that the client will not immediately accept the changes made in the server. If you'd like to perform a certain action at the moment of synchronization, you can use OnSyncProperty, one of the Default Event Functions. OnSyncProperty is called when a property value within the same component has been synchronized. It is useful when you output the synchronized value from the client. For more information on OnSyncProperty, refer to the guide below. [MSW Default Event Functions](https://mod-developers.nexon.com/docs?postId=163)

# Synchronization Setting

Now that we've learned about synchronization, let's see how to set the actual synchronization and how to synchronize different property types.

#### Synchronization Setting Method

Synchronization setting is very simple. If you've added a property from Script Editor, you might have seen Sync on top of the property. This Sync means that the property is being synchronized. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16353351805975c7eee1f898d423a80562096893bcc95.png)  If you don't want to synchronize properties, click Sync to change it to None. None means that the property is not being synchronized, and you can manage property values differently depending on the space. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16353351874159d1ae0e2b0e148ac8fe0075ef65b2f96.png)

#### Synchronization Possibility per Type

Some property types cannot be synchronized.

| Type | Synchronization Possibility |
| --- | --- |
| any | X |
| string | O |
| integer | O |
| number | O |
| boolean | O |
| table | X |
| SyncTable< v > | O |
| SyncTable< k,v > | O |
| Vector2 | O |
| Vector3 | O |
| Vector4 | O |
| Color | O |
| Entity | O |
| Component | O |
| EntityRef | O |
| ComponentRef | O |

Update 2025-11-17 PM 08:14


# Function

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

We'll look into how to declare, define, and call functions, along with a brief introduction about functions.

# About Method

A **component** basically consists of a **property** and a **method**. Function is a term used in entity-oriented programming, meaning the collection of codes to perform a certain action. Functions in MapleStory Worlds can be divided into two categories, **Default Event Function** and **User Defined Function**, depending on the agent calling the function. Default event functions are called when a certain event occurs before, during, or after the game. It has a set timing for calling and name, being the entry point of all actions. On the other hand, there is not set timing for calling user-defined functions, and you can rename them to match your purpose.

| **Default Event Method** | **User Defined Method** |
| --- | --- |
| Has set timing for call, and is called within system<br>Cannot be called from another user-defined function.<br>Cannot set function name, return type, and parameter.<br>Starting point of all actions in game. | Can freely set calling timing and name depending on purpose.<br>However, it is not called automatically by the system, so it has to be called from a default event function. |

> **Learn More** To learn more about default event functions, please refer to the guide below! [MSW Default Event Functions](https://mod-developers.nexon.com/docs?postId=163)

# Declaring and Deleting Method

#### Declaring Method

You can declare functions in the Script Editor. To learn about declaration, first create a new script component and open Script Editor. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1687496291799b05a128af08748b8bc69f2956c9de929.png)  Clicking on the **[+]** button next to **Function** outputs the list of functions. Select **New** to add a User Defined Function, and select others to add a Default Event Function. Click **New** to add a new User Defined Function. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16735978319009a6594de0ce841a687bb1bfc3de66e85.png)  The new function is created with the name **Function1**, which can be renamed to suit your purpose. Click the name of the function to change its name when text input is enabled. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/163529625383210fdafccdf4d48389a20f83444d8da12.png)

#### Deleting Method

Click ![script_more](https://mod-file.dn.nexoncdn.co.kr/bbs/16345206995612a35d54577d8466da03a9fe452a5218c.png) **[Menu]** on the right of the function name, and click **Remove** to remove the function. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1637035145550329a2d443fec46c4963e19267a80fbdc.png)

# Setting Method Return Type

You need to set a return type for functions in MapleStory Worlds. Though it is different from the basic Lua syntax, you must set a return type to pass values within a script. The function return type is set to **void** by default. Click on the return type text to bring up a list of types to choose from. You can select the type that matches your function to change the type. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1673598279122cc02c371fecc424e8c66e4783dc434d8.png)

# Method Definition

You can define how the function will operate upon calling it. Click the **[+]** button to the left of the function name to open the function implementation part. Write the capacity of the function in the implementation part as code. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1635296282345d1313e4452014e6ca076982525e7746f.png)

# Parameter

In general, a function can receive several types of values upon calling. You can also add a parameter for this. In the implementation part, you can use a parameter like a local variable. Its default value is assigned when the function is called. If you didn't put in any value for parameter, **nil** will be received.

#### Adding Parameters

Click **[Menu]** ![script_more](https://mod-file.dn.nexoncdn.co.kr/bbs/16345206995612a35d54577d8466da03a9fe452a5218c.png) on the right of the function name, and click **Add Parameter** to add a parameter to the function. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1637035161326431e96d64ef1404a80167ba28c6518ec.png)  You can set the type and name for the added parameter. Click on the type text to open the type list. You can select the type of parameter value to be input. ![8-1](https://mod-file.dn.nexoncdn.co.kr/bbs/1673598346122b15e0c97880c46719660198439894ac4.png)  Click the name of the parameter to change its name when text input is enabled. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1635296312284b23737fee9e14a94928f2350da9df274.png)  Adding a parameter once more will add a new parameter on the right side of the previous one. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/16370352064875922d8bb2fcd41088e3bb33edde931ed.png)

#### Deleting Parameters

You can delete added parameters. Press ![script_more](https://mod-file.dn.nexoncdn.co.kr/bbs/16345206995612a35d54577d8466da03a9fe452a5218c.png) **[Menu]** on the right of the method name and click **Remove Parameter** to delete a parameter. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1637035223229386a07a202b04ebf99b8bbe5d31070bb.png)  If there are two or more parameters, they will be deleted in order starting from the right. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1637035232985d47aef4485fe42a29adeaa73f8a09678.png)

# Calling Method

You can call a different method within a method to execute that other function. Basically, you can call a method in the format of <span style="color: #dc9656">**ComponentEntity(or service):MethodName(Parameter)**.

#### Calling a Method from the Same Component

When you call a method from the same component, use the format of <span style="color: #dc9656">**self:MethodName(Parameter)**. (**self** refers to the component entity that includes the method currently operating.)

```
--The code is for explanation purposes. It may not operate successfully when applied to a component.
void OnBeginPlay()
{
    local param = "MethodCallTest"
    self:MethodPractice(param)          -- Calls a function with self:MethodName(Parameter)
}
 
void MethodPractice(string parameter)
{
    log(parameter)                     -- Outputs "MethodCallTest" to the Console window
}
```

#### Calling a Method from Another Component or Service

When you call a method from a different component, use the format of <span style="color: #dc9656">**ComponentEntity:MethodName()**. In general, you can refer to another component entity via the entity that includes that component. Likewise, you can call a service in <span style="color: #dc9656">**ServiceName:MethodName()** format. To test the script below, add TestComponent, and connect it to **map01** using **Add component**.

```
--The code is for explanation purposes. It may not operate successfully when applied to a component.
void OnBeginPlay()
{
    local param = "MethodCallTest" 
    local mapEntity = _EntityService:GetEntityByPath("/maps/map01")     -- In case of calling a method of the service
    local componentInstance = mapEntity.TestComponent                   -- Refers other component entity
    componentInstance:MethodCallTest(param)                             -- In case of calling a method of a component entity
}
```

#### Exceptions in Calling Methods

Some methods from Lua script or **Static** method from several types can be called <span style="color: #dc9656">**with '.', not ':'**.

```
--The code is for explanation purposes. It may not operate successfully when applied to a component.
void OnBeginPlay()
{
    --Lua Function Example
    local tmpTable = {1,2,3,4,5}
    table.insert(tmpTable, 6)                   -- Calls function with '.', not ':'
    local len = string.len("Method Practice")     -- Calls function with '.', not ':'
 
    log(#tmpTable)                              -- Outputs 6 to the Console window
    log(len)                                   -- Outputs 15 to the Console window
    
    --Example of Static function of Vector2 type
    local positionA = Vector2(0,0)
    local positionB = Vector2(10,10)
    local distance = Vector2.Distance(positionA, positionB)  -- Calls function with '.' not ':'
    log(distance)                                       -- Outputs distance between positionA and positionB to the Console window
}
```

Update 2025-11-20 PM 02:03


# MSW Default Event Functions

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=50m&amp;color=green)

# Course Introduction

If you use scripts in MapleStory Worlds, you can freely generate creative Worlds unique to creators. When writing scripts, you will utilize the default event functions as needed. A **default event function** refers to **a function that is automatically called upon a certain condition**, even though the creator doesn't directly call it. In this course, we will look at the types of default event functions and when to call them.

# Adding Default Event Function

Let's add the default event function.

1. In the **Workspace - MyDesk**, click **Create Scripts - Create Component** in the context menu to create a new script component and open the script editor.
2. Tap the **[+]** button next to **Function**. All except for **New** (user defined function) are default event functions. Add functions as needed. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16370612894139b23c38d3a884725832fe814dbe7be63.png) ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/163706129949446ade8e045fc4743a36f98f922e244da.png)

# Default Event Function

Event functions provided by MapleStory Worlds are basically called by the server. The calling space can be set up differently depending on the creator's intent. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1665647190294905d077d3058476d8a437d915bde5933.png)

Now let's take a closer look at the function.

### OnInitialize

This is a function called once before the 'OnBeginPlay' function is called and after the entity and component are created. However, the 'OnInitialize' function can be called before the entity's component is created. Therefore, when referring to other components or entities in the 'OnInitialize' function, there is a possibility of receiving **nil**.

```
void OnInitialize()
{
    local myEntity = self.Entity      
    --Can refer to entity applying itself.
    --Outputs myEntity's name and "Hello MapleStory Worlds!" on the console window
    log(myEntity.Name.."Hello MapleStory Worlds")

    --It is not recommended to refer to other entities or components within OnInitialize, as shown below.
    local otherComponent = myEntity.component name      --May be nil
    local anotherEntity = _EntityService:GetEntityByPath("entity path") --Refers to other entities. May be nil
}
```

### OnBeginPlay

This function is called once when the logic starts in earnest (after the `OnInitialize` function call, right before the `OnUpdate` call). An entity's `OnBeginPlay` function is called after all other entities and components have been created. Even for dynamically created entities, the `OnBeginPlay` function is called after all the components of the entity are created. Therefore, unlike `OnInitialize`, the `OnBeginPlay` function guarantees that it refers to other entities and components.

```
void OnBeginPlay()
{
    local myEntity = self.Entity    -- Can refer to entity applying itself.
    log(myEntity.Name.."Hello MapleStory Worlds")    --Outputs myEntity's name and "Hello MapleStory Worlds!" on the console window
     
    --Unlike OnInitialize, it is guaranteed that it refers to other entities and components as follows.
    local otherComponent = myEntity.component name
    local otherEntity = _EntityService:GetEntityByPath("entity path")
    local otherEntityComponent = otherEntity :GetComponent("component name")
}
```

However, the order of calling the 'OnBeginPlay' function between each component is not guaranteed. Therefore, if a specific component receives the value set by the `OnBeginPlay` function, it may not work properly. Let's looks at an example.

- In **Component A**, define **Property B** as **" "**. In the `OnBeginPlay` function, set **Property B** as **"Hello"**.
- In **Component C**'s OnBeginPlay function, refer to **Property B**.
- At this time, you may receive not **"Hello"**, but **nil**.

```
-- ComponentA
Property: 
[Sync]
string B = ""

Method: 
[server only]
void OnBeginPlay()
{
    self.B = "Hello"
    log(self.B)
}

-- ComponentC    
Property: 

Method: 
[Server Only]
void OnBeginPlay()
{
    local myEntity = self.Entity
    local componentA = myEntity.ComponentA
    log(componentA.B)   
    --Since we don't know if ComponentA or ComponentC's OnBeginPlay will be called first, nil may be printed in the console window.
}
```

Hence, if you have to refer to the property of **Component A** in the `OnBeginPlay` of another component, utilize the `OnInitialize` function as follows.

```
-- ComponentA
Property: 
[Sync]
string B = ""

Method: 
[server only]
void OnInitialize()
{
    self.B = "Hello"
    log(self.B)
}

-- ComponentC
Property: 

Method: 
[Server Only]
void OnBeginPlay()
{
    local myEntity = self.Entity
    local componentA = myEntity.ComponentA
    log(componentA.B)   
    -- Since the value was allocated via OnInitialize in ComponentA, "Hello" is printed to the console window.
}
```

### OnUpdate

This is called each frame after calling the `OnBeginPlay` function. So if you want to change the entity's location, state, or action by frame, compose the script into `OnUpdate`. Use **delta** as a parameter. It receives the time value (unit: seconds) spent on the previous frame. Using **delta** allows you to control the implementation of each frame per unit as well as action for a certain time.

```
void OnUpdate(number delta)
{
    if self._T.Time == nil then self._T.Time = 0 end
    self._T.Time = self._T.Time + delta
     
    --Outputs Hello MapleStory Worlds on the console window every 3 seconds.
    if self._T.Time >= 3 then
        self._T.Time = 0
        log("Hello MapleStory Worlds")
    end
}
```

### OnEndPlay

The function is called once at the moment of removing an entity with the `OnDestroy` function. However, the entity is in a valid state which hasn't been removed, even after completing the `OnEndPlay` function. After the `OnEndPlay` function is called, the `OnDestroy` function is called.

```
vold OnEndPlay()
{
    log("OnEndPlay!!")
    -- Console Result
    -- OnEndPlay!!
}
```

### OnDestroy

The function is called once at the moment of removing an entity. It is called after the `OnEndPlay` function. Unlike the `OnEndPlay` function, the entity is destroyed after completing the `OnDestroy` function.

```
void OnDestroy()
{
    log("OnDestroy!!")
    -- Console Result
    -- OnDestroy!!
}
```

> **Learn More** The execution sequence from the `OnInitialize` function to the `OnDestroy` function described above is as follows. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16352483627843dbf0389a0b64bf1beb7388ea89672e4.png)

### OnMapEnter

While `OnBeginPlay` is a function called whenever an entity is created, `OnMapEnter` is a function called whenever an entity enters a map or when it is created on a map. This makes it great for entities that need to be initialized every time the map is moved.

When calling the `OnMapEnter` function, the entity of the entered map is passed as a parameter. Just like when a player enters the World, it is initialized using the `OnInitialize` function and the `OnBeginPlay` function. When a player enters a specific map, you can use the `OnMapEnter` function to do the necessary processing.

The following is an example of implementing the `OnMapEnter` function to increase the size of the player every time it enters map01.

```
void OnMapEnter(Entity enteredMap)
{
    --Player size increases whenever it enters map01.
    if enteredMap.Name == "map01" then
        local myPlayer = self.Entity
        local transform = myPlayer.TransformComponent
        local scale = transform.Scale
        scale.x = scale.x + 1
        scale.y = scale.y + 1
        transform.Scale = scale
    end
}
```

#### Difference between OnBeginPlay and OnMapEnter

For example, suppose my player entity **moves from map01 to map02**. At this time, if there was an `OnMapEnter` function in the script component of my player entity, the `OnMapEnter` function of my player entity is called when moving to map02. By the way, you can see that the `OnMapEnter` function of other players as well as my player is being called. From the client's perspective, it's like another player entity has been created on the map I'm currently on.

But on the server, even if my player entity moves from map01 to map02, it does not create another player entity that was originally on map02. The other player entity was already there from the moment my player entered the World. Creation in the server occurs when entering the World for the first time. So, the `OnBeginPlay` function in the server is called only once **when the player enters the World and entities are created**.

In contrast, the `OnMapEnter` function **is called every time an entity moves maps**. As this functions in the same way in the client as well as in the server, the `OnMapEnter` function is called every time a player entity wanders around the map. It is necessary to understand these differences and use the `OnBeginPlay` function and `OnMapEnter` function according to their intended use.

### OnMapLeave

In contrast to `OnMapEnter`, the function is called every time an entity exits the map or is removed from the map. It is good to use it for entities that need initialization every time the map is moved, like the `OnMapEnter` function.

When calling the `OnMapLeave` function, the entity of the exited map is passed as a parameter. The following is an example of implementing the `OnMapLeave` function to decrease the size of the player every time it exits map01.

```
void OnMapLeave(Entity leftMap)
{
    --Player size decreases whenever it exits map01.
    if leftMap.Name == "map01" then
        local myPlayer = self.Entity
        local transform = myPlayer.TransformComponent
        local scale = transform.Scale
        scale.x = scale.x - 1
        scale.y = scale.y - 1
        transform.Scale = scale
    end
}
```

### OnSyncProperty

This is a function called from client when the value changed in the server is synchronized to the client. When calling the `OnSyncProperty` function, the synchronized property's name and value are passed as parameters. If you set the property's synchronization setting to **None**, which will stop the sync, the `OnSyncProperty` function will not be called.

```
Property: 
[Sync]
number HP = 100
[Sync]
number MP = 100
 
Method: 
[Client Only]
void OnSyncProperty(string name, any value) --name : property name, value : changed property value
{
    if name == "HP" then
        if self.HP == value then 
            log("SInce it is called when the synchronization is complete, this log is printed to the console window.")
            return 
        end
        
        if value > 0 then 
            return 
        end
        
        -- Adds a process for when HP value is 0 or below.
        
    elseif name == "MP" then
        if self.MP == value then
            log("Since it is called when the synchronization is complete, this log is printed to the console window.")
        end
        
        if value > 0 then 
            return 
        end
        
        -- Adds process for when MP value is 0 or below.   
        
    end
}
```

Update 2025-11-20 PM 02:03


# Referring to Entities and Components

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=50m&amp;color=green)

# Course Introduction

Let's learn about component structure and how to access entities and components through scripts.

# Structure of Entities and Components

First, let's examine the structure of entities and components. Each entity is composed of different components and connected to each other in a parent-child relationship. By utilizing this hierarchical structure, you can access other entities or components from a specific component. The image below illustrates the hierarchical structure between entities, as well as the components that make up each entity. Please take a moment to understand this structure before proceeding. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16371471617051e7a31dbcf5742d8b8f61020bf6913db.png)

> For more details about the concepts of entities and components, please refer to the following guide: [Entities, Components, and Properties](https://mod-developers.nexon.com/docs?postId=54)

# Entity Reference

Let's take a look at how to reference other entities from within a script component.

#### self.Entity

First, let's explore how to reference the entity that includes the component itself. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1635291524024e210da552eaf462a8558eddda0c5b43c.png)  When writing scripts, it is common to encounter situations where Component A references Entity C, as depicted in the diagram above. The method is very simple. Like the code below, the entity can be received through self.Entity.

```
void OnBeginPlay()
{
    local myEntity = self.Entity
    log(myEntity.Name)  -- Outputs entity name
}
```

#### Entity.Parent

Let's explore how to reference parent entities. Below is an example where Component A references Entity A. You can reference Entity A, the parent of Entity C, after referencing Entity C itself. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1635291534007f6d3e36ca453424485607b7fda2dd06b.png)  The following is an example code.

```
void OnBeginPlay()
{
    local myEntity = self.Entity
    log(myEntity.Name)  -- Outputs name of Entity C
 
    local parentEntity = myEntity.Parent
    log(parentEntity.Name) -- Outputs name of Entity A
}
```

#### Entity.Children

Let's explore how to retrieve a child entity from the parent entity. You can reference the children entities of a parent entity using Entity.Children. However, Entity.Children retrieves all children entities in list format. To reference a specific entity, such as Entity D, from the children entities of Entity A as shown in the diagram below, you will need to iterate through the array and selectively reference the entities that meet the desired condition. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/163529154797085c3b3e542834bb89e508df36a58dd18.png)  Next is an example of code that refers Entity D from Component A, as shown above.

```
void OnBeginPlay()
{
    local myEntity = self.Entity
    log(myEntity.Name)    -- Outputs name of Entity C.
      
    local parentEntity = myEntity.Parent
     log(parentEntity.Name) -- Output name of Entity A.
    
    local children = parentEntity.Children  --Receives the children entities of Entity A in tabular format.
    local childrenEntityName = ""
          
    for index, child in pairs(children) do
        if child.Name == "EntityD" then
            childrenEntityName = child.Name
            break
        end
    end
         
    if childrenEntityName == "" then
        log("EmptyEntityD")
        return 
    end
     
    log(childrenEntityName)
}
```

#### Entity:GetChildByName()

We will learn about another method of referring to child entities like Entity.Children. The GetChildByName() function returns a child entity with a name that matches the parameter value. It retrieves an entity with the same name from among the child entities of entity A. Therefore, there is no need to retrieve all child entities using Entity.Children and then iterate through them in a loop to find the desired entity. You can import child entities much more easily if you know the name of the entity you are searching for.

- **Parameter**
  - GetChildByName function can receive two parameters. | Parameter | Type | Description |
| --- | --- | --- | | name | string | Passes on the name of the child entity you are searching for. | | recursive | bool | Set whether to search recursively for children entities within child entities.<br>Set it to "True" to search recursively for children entities within children entities.<br>Set it to "False" to search only for immediate children entities.<br>This is an optional parameter, so you can omit it.<br>If no value is provided, it will be set to False (do not search within children entities). |

- **Return value**
  - If there is an entity you are searching for, then return the entity,
  - and if not, return nil.
- **Example of composing script**
  - Next is a script in which you receive the child EntityD from the parent EntityA. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/163529158705102eb762c67b14c3cbe9c07c0ef87e8f4.png) ```
void OnBeginPlay()
{
    local entityA = self.Entity -- get EntityA
    local entityD = entityA:GetChildByName("EntityD")    --  Get EntityD, a child entity
    log(entityD.Name)    -- Output name of EntityD to the Console window

    --If there is no child entity with the specified name, nil is returned
    local entityF = entityA:GetChildByName("EntityF")
    log(entityF)    -- Output nil to the Console window
}
```
- The following script allows you to reference the grandchild entity named EntityJ from the parent entity EntityA. When importing a child entity, set the recursive value, the second parameter, as true. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1635291597805292fc8bfa543454eb370f7861ad928e3.png) ```
void OnBeginPlay()
{   
    local entityA = self.Entity    -- Get EntityA
    local entityJ = entityA:GetChildByName("EntityJ", true)
    -- Search for the grandchild entity with "EntityJ", a name of EntityJ. Set the second parameter value as true to search for the grandchild entity.     
    log(entityJ.Name)    -- Output the name of EntityJ to the Console window
}
```

# Referencing an Entity through _EntityService

So far, we have explored how to reference entities through the hierarchical structure of high and children entities in components. This approach is efficient when finding entities close to the component, but it becomes cumbersome when we need to find the great grandparent, then the child entities of that parent. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16352916095449bc3ee34f64745c8856c713169446ff5.png)  By utilizing _EntityService, you can use functions that directly find and return the desired entity, making it convenient for your needs.

#### GetEntityByPath()

This function takes the desired entity path as a parameter and returns the entity at that path. This is one of the most commonly used functions.

- **Parameter**| Parameter | Type | Description |
| --- | --- | --- | | worldPath | string | Enter the desired entity path.<br>The path starts from /maps/ and includes the subsequent children entities.<br>For example, in the following hierarchy, the path for "object_1" would be as follows.<br>![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1635483238562b41e1da8c00d4eeaab15d6db6080a4a3.png)<br>"/maps/map01/object_1" |
  > **Tip** Manually entering entity paths can be cumbersome and is error-prone, making it inefficient. By using the entity path copy feature, you can easily and accurately input entity paths. By clicking **Copy Entity Path** in the context menu of a specific entity, the corresponding entity path will be stored to the clipboard. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1686210532005a4a5c0075ed74dfd84667cb938b58532.png)
- **Return value**
  - If there is an entity identical to the input path in the parameters, it will be returned.
  - If there are multiple entities that are identical to the path value, only the first entity found will be returned.
  - If there is no entity identical to the path value, returns nil.
- **Example of composing script**
  - Here's an example of code that references Entity E from Component A. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1635291664607739291779c984748ad56f8bb91fddb83.png) ```
void OnBeginPlay()
{  
    -- Enter the path of EntityE as a parameter to return EntityE
    local EntityE = _EntityService:GetEntityByPath("/maps/map01/EntityO/EntityB/EntityE")   
    if isvalid(EntityE) == false then return end   

    log(EntityE.Name)
}
```

#### GetEntitiesByPath()

This function returns all entities that are identical to the path sent as parameter as a list format. It is useful when there are different entities with the same name and same path. For example, it can be useful when controlling a large number of entities, such as projectiles or bullets, that are created with the same name.

- **Parameter**| Parameter | Type | Description |
| --- | --- | --- | | worldPath | string | Input the entity path you want to obtain.<br>The path starts from /maps/ and enters the children entities. |
- **Return value**
  - Returns all entities identical to the input path value provided as a parameter.
  - If there is no entity identical to the path value, returns nil.
- **Example of composing script**
  - Below is a code for importing an entity with the name EntityE among the child entities of EntityB from ComponentA. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/16352916806362d0bfb38644b44e78e8ab10b2ce762e8.png) ```
void OnBeginPlay()
{
    --Return all entities identical to the input path value provided as a parameter as a list format.
    local entityTable = _EntityService:GetEntitiesByPath("/maps/map01/EntityO/EntityB/EntityE")
    if entityTable == nil then return end

    -- Traverse all returned entities and send the name of the entities. (Output all to EntityE)
    for index, entity in pairs(entityTable) do
        log(entity.Name)
    end
}
```

#### GetEntity()

Return the entity with the specified entity ID when passed as a parameter. Using the GetEntity function, which allows you to retrieve entities based on their unique ID, is more efficient when the entity hierarchy is dynamically changed or when there is a possibility of entity names being changed, resulting in changes to the paths.

- **Parameter**| Parameter | Type | Description |
| --- | --- | --- | | ID | string | Enter the Entity ID you want to retrieve.<br>In the entity's context menu, click **Copy Entity ID** to copy<br>the ID of the entity to the clipboard.<br>![12](https://mod-file.dn.nexoncdn.co.kr/bbs/16862106228295b326090f635424abcc59cf1e2980a19.png)<br>Alternatively, you can obtain the entity's ID in a script as follows.<br>local id = Entity.ID |
- **Return value**
  - Returns the entity of the ID entered as the parameter.
  - If there is no entity with the ID, returns nil.
- **Example of composing script**
  - Here's an example of retrieving EntityE under EntityB from ComponentA. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1635291706386333eb05e82114f21a88219ec5980a571.png) ```
void OnBeginPlay()
{
    -- If you pass the ID of the entity you want to find as a parameter, the entity of that ID will be returned.
    local entityE = _EntityService:GetEntity("eb9c3412-9730-4e32-a180-69f4d1596652")
    if entityE == nil then
        return nil
    end
    log(entityE.Name)
}
```

# Unique Entity Reference

We have now explored how to reference entities that are placed in the map or dynamically spawned using _SpawnService. Now let's explore how to reference unique entities, such as world, maps, or Player. While these entities can also be referenced using the methods mentioned earlier, since they are unique entities that exist only once in the game, there are easier ways to reference them.

#### Entity.CurrentMap

Entity.CurrentMap loads the information about the map where a specific entity exists. While it is possible to read through the entity's parent hierarchy to access the map entity, using CurrentMap makes it easier to retrieve the map entity. The following is an example code that retrieves the map01 entity where EntityH is located from ComponentA of EntityH. ![14](https://mod-file.dn.nexoncdn.co.kr/bbs/1635291720112228087ed833e456688e74f3153ac2670.png)

```
void OnBeginPlay()
{  
    local myEntity = self.Entity    -- Get EntityH that is contained within the current entity.
    local curMap = myEntity.CurrentMap    -- Get the map01 entity to which the current EntityH belongs.
    if isvalid(curMap) == false then
        return
    end
     
    log(curMap.Name)    -- Output "map01" to the Console window
}
```

#### Entity.CurrentWorld

This property can read world entity through an entity. Just like maps, as it is unique within the game, world entity can be read from any entity with CurrentWorld. Here's an example of referencing the world entity from ComponentA of EntityB. ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/163714718037512f7b2e3d4114a4ca50976d3a41504a3.png)

```
void OnBeginPlay()
{
    local myEntity = self.Entity    -- Get EntityB that is contained within the current entity.
    local world = myEntity.CurrentWorld    -- Get World entity, the top entity.
    if isvalid(world) == false then
        return
    end
     
    log(world.Name)    -- Output "World" to the Console window
}
```

#### _UserService.UserEntities

A read-only property that can receive all player entities currently connected to the game in a dictionary type.

- Key: string UserId
- Value: Entity PlayerEntity

UserId, the key value, is the ID created when the user joined MapleStory Worlds, and uses the same name as UserId and the player Entity.

```
void PrintUserEntitiesName()
{
    log(_UserService:GetUserCount())
    local playerEntitiesDic = _UserService.UserEntities  
    
    -- Iterate through all players and print "Player key value/Player name" on the Console window
    for key, playerEntity in pairs(playerEntitiesDic) do
        log(key.."/"..playerEntity.Name)                        
    end
}
```

#### _UserService.LocalPlayer

A read-only property that can refer to my player entity in the client space. Since there is no concept of my player in the server, if used on the server side, it will return nil.

```
[client Only]
void OnBeginPlay()
{
    local myPlayerEntity = _UserService.LocalPlayer
    log(myPlayerEntity.Name)    -- Outputs the entity name of my player
}
 
[server Only]
void OnBeginPlay()
{
    -- Since there is no concept of My Player in the server, it will return nil
    local myPlayerEntity = _UserService.LocalPlayer     
    log(myPlayerEntity)    -- Outputs nil
}
```

#### _UserService:GetUserEntityByUserID()

This function returns a player entity via the ID of the player passed as a parameter.

- **Parameter**

| Parameter | Type | Description |
| --- | --- | --- |
| UserId | string | Enter the UserId of the player entity you are looking for.<br>UserId is the ID created when the user joined MapleStory Worlds and is currently used with the same value as the name of the player entity. |

- **Return value**
  - When there is a player entity identical to the UserId sent as a parameter, returns the player entity.
  - If there is no player entity identical to the UserId, returns nil.
- **Example of composing script**```
Entity Event Handler:
    service UserService
    HandleUserEnterEventType (UserEnterEventType event) 
    {
        -- Parameters
        local UserId = event.UserId
        --------------------------------------------------------
        local GetUserId = _UserService:GetUserEntityByUserID(UserId)
        log(GetUserId)
    }
```

#### Approach and Movement of Component

A read-only property that can refer to my player entity in the client space. Since you can change the property of each component in the Property Editor, you can also set the property of component in script. In the Property Editor, you can only set the default value of a property before running the game. However, in a script, you can dynamically change the property value while running the game. In addition to property settings, you can also invoke functions belonging to components, allowing you to activate the features developed by the creator during the game execution.  Now let's explore the approach to accessing components included in each entity. We will also explore how to change dynamically the property values of components and call functions through scripts during gameplay.

#### Approaching Component

Components are the building blocks that operate the an entity. Therefore, accessing components must be done through entities. Generally, you can access a component by using the format **Entity.Component Name**. The component names of native components are automatically completed in the Script Editor. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/163529175281398b0a801dd3e437cabba9f493741f9a1.png)  The following example accesses the **RigidbodyComponent** of my player entity.

```
[client only]
void OnBeginPlay()
{
    local myPlayerEntity = _UserService.LocalPlayer

    -- Reference the component of my player entity to the variable rigidbody
    local rigidbody = myPlayerEntity.RigidbodyComponent 
    if rigidbody == nil then
        log("rigidbody is nil")
        return
    end
    log(rigidbody)
}
```

Script component can also be accessed in the same way as native components In the case of creating a script component, you may access it through the composed component name. Below is an example of a script that accesses a script component with the name **CharacterStatus**. You can access the **CharacterStatus** after creating it.

```
[client only]
void OnBeginPlay()
{
    local myPlayerEntity = _UserService.LocalPlayer
    
    --Refer the script component of my player entity to status variable
    local status = myPlayerEntity.CharacterStatus   
    if status == nil then return nil end
    log(status)
}
```

> **Learn more** MSW provides various methods to access the component depending on the situation.**Array Entity:GetChildComponentsByTypeName(string typename, bool recursive)** Returns all components that have names identical to typename among the children entities' components in Array type. - **Parameter**| Parameter | Type | Description |
| --- | --- | --- | | typename | string | Enter the name of the component you are searching for. | | recursive | bool | Set whether to continue the search until reaching the grandchild entities.<br>If set as true, the search for the component continues until reaching the grandchild entities.<br>If set as false, the search stops at the child entity of Entity.<br>In the case of not entering any value, it will be set as false. | - **Example of composing script** If you want to retrieve all instances of ComponentA in the children entities of map01, you can write the following script. ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/163529177940448f5ac49614d4075979b2c3dc83dda6d.png)```
void OnBeginPlay()
{
    local map01Entity = self.Entity.CurrentMap
    local ComponentsArr = map01Entity:GetChildComponentsByTypeName("ComponentA")         
    log(ComponentsArr)
}
```If you want to retrieve ComponentA that exists in the children entities of map01, you can write the following code. ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/16352917921880070f662f0394704b49bd154c9903320.png)```
void OnBeginPlay()
{
    local map01Entity = self.Entity.CurrentMap

    -- Enter true to the second parameter in the script above 
    local ComponentsArr = map01Entity:GetChildComponentsByTypeName("ComponentA", true) 
    log(ComponentsArr)
}
```**Component Entity:GetFirstChildComponentByTypeName(string typename, bool recursive)** Returns the component if a component identical to typename is found among the children entities while iterating over them. - **Parameter**| Parameter | Type | Description |
| --- | --- | --- | | typename | string | Enter the name of the component you are searching for. | | recursive | bool | Set whether to continue the search until reaching the grandchild entities.<br>If set as true, the search for the component continues until reaching the grandchild entities.<br>If set as false, the search stops at the child entity of Entity.<br>In the case of not entering any value, it will be set as false. | - **Example of composing script** If you want to retrieve ComponentA of the first entity that has ComponentA among all the entities under map01, you can write the script as follows. (It assumes that it itinerates from EntityA to EntityD) ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/16352918189148ef0321fb0ad4e038085c66dd874e31a.png)```
void GetChildComponents()
{
    local map01Entity = self.Entity.CurrentMap

    --Return ComponentA of EntityA
    local ComponentsArr = map01Entity:GetFirstChildComponentByTypeName("ComponentA")   
}
```If you want to search not only the immediate sub of the entity but also the components in the sub's sub, you can set the second parameter to true. ![23](https://mod-file.dn.nexoncdn.co.kr/bbs/163529183127423266c0257414814a3a380f36d667ad0.png)```
void GetChildComponents()
{
    local map01Entity = self.Entity.CurrentMap

    --Return ComponentA of EntityF
    local ComponentsArr = map01Entity:GetFirstChildComponentByTypeName("ComponentA", true) 
}
```

Update 2025-11-17 PM 08:14


# Server and Client

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Multiplayer games use various communication models depending on the needs of the game. Among various communication models, MapleStory Worlds uses a server-client model. In this course, we'll look into the concept and structure of server and client, the communication model of MapleStory Worlds, and how data is sent between spaces.

# Server and Client

Client refers to the individual program that runs from each user's device. The client mainly processes user input or information from the server to provide visible output to each user. Server refers to the program that runs from a computer to multiple connected clients, or the computer itself. The server generally corresponds to each client's request, and builds major game functions and systems within the server so that all clients can have the same status. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1637228699029a52751daf6c943c0a46ca3ca575c1f9e.png)

# Server and Client Relationship

In a server-client model, a client doesn't communicate with another client. It only communicates with the server. The client receives user input, and according to the input, requests information to the server or informs the server about the current status. Upon receiving information from a client, the server sends information back to the client, or updates the game with the information, and then sends the updated content to all clients so that all users can play the game in the same environment. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16564010009004884f83abef040418e46508302f1d989.png)  Creators can build their own server-client structure as needed. However, if all logic and clients are built within clients while the server is only used for synchronization and communication, the structure would be vulnerable to hacking. For instance, as shown below, suppose clients process the character's level up, and then notify the information to other clients via the server. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401018765767a747699a14a67bfc9fd13ecf1fe18.png) ▲Example of handling major logic in client  In this case, the server will not be overloaded, as major logic is processed in individual clients, and the server only needs to send processed results to other clients. However, if a user hacked his or her client, and that result is sent to the server, the game will be broken for other users as well. From the example above, if User A tampers with the client to gain more EXP from monsters, the server will only receive tampered information. As a result, the server will notify all clients that UserA's player leveled up so fast. Of course, you can have a verifying logic within the server. However, in that case, server and clients will have overlapping logic, which would be inefficient. Therefore, in MapleStory Worlds, you are advised to implement major logic and system within the server, and have the client pass user input to the server or download game status and then pass it to the user. That is, the overall flow of the game will be placed in the charge of the server, while the client is like a bridge between users and the game. In line with this, we can modify the level-up processing procedure like the following. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16564010313405c510273dc4b4835af50a54f45b1967b.png)

# Property and Function in Server and Client

Now that we know how the server and client communicate, let's see how the program created from the Maker is run in both the server and client. If a creator declares property and function in a script, they will be created independently in both the server and client, unless set otherwise. They have the same name, but since they exist in different spaces, it'd be better to consider them as separate properties or functions. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401057975779ce7742c954859a422193c5a0eb220.png)  Basically, calling functions and referring and assigning property values is done within the same space. For example, let's say you're assigning value to property A from function B. Calling function B from the server will assign value to property A in server, but not to property A in client. It is the same for the other way around. Calling function B from the client will assign value to property A in client, but not to property A in server. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401069226707b9a8609b349a28dc8f38ec44fb805.png)  Calling between functions works in a similar way. For example, you've declared functions A and B, and if function B is called from client's function A, it will only call function B from client, not that from server. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/165640107972755dfdec07cd545baae6c1149b76567bb.png)  To sum up, what's been declared in server runs in server only, and what's been declared in client runs in client only. So, how can we make the server-client interact for the sake of multiplayer?

# Synchronization and Execution Space Control

Server and client communicate in many different ways. MapleStory Worlds offers synchronization to send data or status, and execution space control to send behaviors or actions that should happen in certain situations.

#### Synchronization

While synchronization can have several meanings, in MapleStory Worlds, it refers to the synchronization of property values in the server and client. For instance, if you change the property value from one space, the value in the other space changes automatically. It's more convenient for the creator, as there is no need to do anything special to synchronize property values in server and client. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401093501c90d2e065ea248dfaa21ba67b640e1cd.png)  However, not all properties all synchronized. Properties may or may not be synchronized depending on their function and characteristics. For example, if there's a component that mainly operates in clients, the component won't have to send data to a server. In this case, the property will not be synchronized. Script component allows you to use property synchronization. The creator can choose to synchronize depending on their component or style, which will reduce unnecessary procedure and boost efficiency. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/165640110289849c2637a9a3c4b6ea395b2e202164e89.png)   In general, synchronization goes one-way, from server to client. For instance, if property A is assigned a value from server, property A in client will be synchronized to have the same value. However, if a value is assigned to property A from client, property A in server will not go through any change. This is because the relationship between server and client is one-to-many, not one-to-one. Let's say there are clients A and B, and property C is assigned the value of 1 in client A and 2 in client B. Then the server cannot decide with which it should synchronize.

| Synchronize from server to client | Synchronize from client to server |
| --- | --- |
| ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401113982d9490c00f9664a3db5c45b69ca8dbc3c.png) | ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1656921707340d78a7ac5ff71456b8493dfbb3fc7736a.png) |

Sometimes you synchronize value from client to server, but except for a few exceptional components, the synchronization goes from server to client, due to the relationship between server and client.

#### Execution Space Control

Apart from synchronization, server and client communication requires a process to request and execute an "action" defined in a space. Let's take the level-up process from above as an example. Upon receiving user input, client requests an "action" of "monster attack" to server. Then the server executes the "action", "monster attack" as requested. Execution space control refers to this process of requesting and executing actions defined each space. Execution space control can be set differently depending on the creator's intent. The "action" from above is a "function" in a script. Depending on the setting of function in script, the request can be sent from client to server, but also from server to client as well. Let's take the below as an example. If you set function B, declared in server, to be executed in client, it can be called from other functions within the server, but as it is run from the client, it can also be used like a client function that can be called from the server. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/165640112429409df3933835246e2834bb887ab92c354.png) <Request and execution when execution space is set as client for MethodB, and server for MethodC>

Update 2025-11-17 PM 08:14


# Execution Space Control

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's learn about the concept and utilization of execution space control. This will make it easier to control the flow between the client and server.

##### Before We Begin

To understand this course, it is recommended that you review the following guide. [Server and Client](https://mod-developers.nexon.com/docs?postId=207)

# Data Communication Between Server and Client

**Client - Server** requires data transfer to control the flow between them. For example, what would it take to request "Dance for 3 seconds!" from a server to a client?  Let's change the example into a conversation between two people.

- One person thinks of what to say. (Create message)
- Then, they use their hand or mouth to deliver the message. (Send message)
- Then, the other person receives that message. (Receive message)
- Lastly, the receiver understands the meaning of the words and responds. (Action, Result)  **"Create message → Send message → Receive message → Action/Result"**  Traditionally, the server writes a request (message) and sends it to the client. Upon receiving the message, the client reads it to perform the action or make further judgment. The process is the same as the conversation example, **Create message → Send message → Receive message → Act according to message**.

| Message sending stage | Reference image |
| --- | --- |
| Create message | ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401323520768509b4f80845fbbab4ed52115a3894.png) |
| Send message | ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16564013023916352d2183c50401b86d22ac463231a6b.png) |
| Receive message | ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/165640121527182b4e74d157e455189b2bb8292740da5.png) |
| Act according to message | ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1637223532474323d466a087a4bb6b9527d3de064b96a.png) |

However, the process is inefficient when dealing with a high volume of messages. Increasing the number of messages will increase the network cost.  Transmitting the same meaning as a sign instead of sending the entire message is more efficient. Using codes requires encoding and decoding processes, but the communication size is smaller than sending entire messages. For example, if the message **Code-45** is supposed to mean **Dance for X seconds**, you only use **Code-45** and **3 seconds** for communication.

| Message sending stage | Reference image |
| --- | --- |
| Create message | ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401323520768509b4f80845fbbab4ed52115a3894.png) |
| Encode message | ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401224520466e3724c21a4973bcd77332dbbe3d04.png) |
| Send message | ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1637223644960d8351081fc44495b9425a32213d9b15d.png) |
| Receive message | ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1637223663644d87a77c2927c414a91198c3ebf796f08.png) |
| Decode message | ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/165640123296943009a72c7884f78b9960258a0c805dc.png) |
| Act according to message | ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1637223532474323d466a087a4bb6b9527d3de064b96a.png) |

There is less information, but more of a process to go through. MapleStory Worlds offers execution space control to control the above process more easily. **Execution space control** helps the client-server communication and controls complex communication flow more easily. It takes time to become proficient, but you must understand **execution space control** to take advantage of client-server communication.

# Execution Space Control

To understand how execution space control works, let's look at the context of a function call. Let's say there's a `PlaySoundEffect` function that makes a certain sound effect. The function would be used in clients only since sound effects should be heard from individual PCs. If a server has to make the sound effect at a certain moment, the server will create and send a message about the sound effect. Then the client will create the receiving part to call the `PlaySoundEffect` function.

| Message sending flow | Reference image |
| --- | --- |
| Create message | ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/165640124223449295b986dc6462d99a93c10631c073d.png) |
| Encode message | ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/16564012529432da2881cf2af4b7e961f82a2b37643f8.png) |
| Send message | ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1637225094693f9b508dae1af4fa6b39c3412894d527d.png) |
| Receive message | ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/163722510582956aa6c66e3f14d40b7d1a87b3c97c7fd.png) |
| Decode message | ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401313348532ea68ad6fa4904847c50414ec666dc.png) |
| Call function to message | ![50](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401264321cd1173fba0444f66b0a9dbce57b8b314.png) |
| Execute | ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/163722545859347bd24cd99514181ae555fba18421eae.png) |

This process is better than the first method, but if it has to be repeated, an unnecessary process is repeated and efficiency is reduced. For simplicity, consider a situation where the server directly calls the client's **PlaySoundEffect**. ![51](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401276667c1a175db897f4e21aa3bfb6cb2fcaf73.png)

However, even if the server directly calls the function from the client, there is another flaw. The components of MapleStory Worlds are used for both server and client. Therefore, functions belonging to the component can be called from the server or the client. You need to be aware of where the function was called (server or client), and where the function will be executed.  For instance, if you're writing the code, "Execute **PlaySoundEffect** if current space is Client, and Client's **PlaySoundEffect** if space is Server.", you need to compose a branching statement.

```
void CallPlaySoundEffect()
{
    if isClient == true then
    --Execute PlaySoundEffect!
     
    elseif isServer == true then
    --Execute PlaySoundEffect from client!
    end
}
```

You can call functions from another space, but this would be inefficient as well, as you have to make If statments every time you call a function. In MapleStory Worlds, you can set the execution space for calling and running each function. For example, if you set the `PlaySoundEffect` function, which is executed in the client, to be called from server, you don't have to compose a branching statement for `PlaySoundEffect` to run in the client.

```
[ServerOnly]
void CallPlaySoundEffect()
{
    self:PlaySoundEffect()  -- You can use it to call a function from the same space, regardless of space.
}

[client] --You can set where to call and run each function.
void PlaySoundEffect()
{
    --You can write the code.
}
```

# Execution Space Control Types

For each function, there are 6 execution space control types, and you can change the setting from the options. If you don't use execution space control, the function would be a common function, running where it was called.

| Execution Space Control Setting | When executing in the server | When executing in the client |
| --- | --- | --- |
| Not used | Executed in the server | Executed in the client |
| client | Sent to and executed in the client | Executed in the client |
| client only | Ignored | Executed in the client |
| server | Executed in the server | Sent to and executed in the server |
| sever only | Executed in the server | Ignored |
| multicast | Executed in the server then sent to and executed in the client | Ignored |

![202](https://mod-file.dn.nexoncdn.co.kr/bbs/165640128942696725f39866847439127557f4942f7c0.png)

# How to Set Execution Space Control

Add a function, click the ![script_more](https://mod-file.dn.nexoncdn.co.kr/bbs/16345206995612a35d54577d8466da03a9fe452a5218c.png) **[Menu]** button, and click **Execution Space Setting** to set the execution space. If you're not using execution space control, select **Not used**.

![20](https://mod-file.dn.nexoncdn.co.kr/bbs/1681782904494d8a8401e8e6c45c1a9310c2f558ecff2.png)

# Showing Execution Space Control

Displays the execution space control settings of script functions as icons. The icons are as follows.

| Icon | Execution Space Control Setting |
| --- | --- |
| None | Not used |
| ![script_sent_to_client](https://mod-file.dn.nexoncdn.co.kr/bbs/1634520790600fcf43ce1e20540d99206368bae5bfb29.png) | Client |
| ![clietn_only_line](https://mod-file.dn.nexoncdn.co.kr/bbs/16345204384345f2159bf5f7a4aadae190a6e66646a77.png) | ClientOnly |
| ![script_sent_to_server](https://mod-file.dn.nexoncdn.co.kr/bbs/1634520851421b73268f466814035ba41893c8b45fd9c.png) | Server |
| ![script_server_only](https://mod-file.dn.nexoncdn.co.kr/bbs/1634520890852542e95e200a647819d47b85d5c4d157e.png) | ServerOnly |
| ![script_send_to_all](https://mod-file.dn.nexoncdn.co.kr/bbs/1634520769851d04d006c9114421f8e9ce34d5c47b721.png) | Multicast |

Functions with execution space control will have an icon indicating the setting status. Functions that cannot be executed will be indicated with the ![CantCallFunction](https://mod-file.dn.nexoncdn.co.kr/bbs/1635387179103da42aef656b24301ba63221cd02c4bbf.png) icon. ![25](https://mod-file.dn.nexoncdn.co.kr/bbs/16817831861368eaf4d7f03b545759cb8f9a98c291601.png)

# Execution Space Control Function's Parameter

When executing functions from different spaces, you can send data to the other space using parameters. For example, if you want the server to output a system message displayed in the client, call a client function on the server that prints the system message, and then deliver the message as a parameter to the function.

```
Method: 
[server only]
void OnUpdate(number delta)
{
    local users = _UserService.UserEntities
    local message = "Out of bounds"
    -- Check all players, and if player steps outside certain coordinates, print message
    for id, user in pairs(users) do
    	local posX = user.TransformComponent.Position.x
    	if posX > 100 then 
    	   -- Deliver the message as a parameter to the client function
    		self:PrintSystemMessage(message)
    	end
    end
}

[client]
void PrintSystemMessage(string message)
{
    log(message)
}
```

When executing functions from different spaces, you can send data to the other space using the parameters of the execution space control function. However, not all data can be transmitted. Let's take a look at the parameter types available in execution space control functions.

| Type | Availability |
| --- | --- |
| any | Not available |
| string | Available |
| integer | Available |
| number | Available |
| boolean | Available |
| table | Available |
| SyncTable< v > | Limited |
| SyncTable< k, v > | Limited |
| Vector2 | Available |
| Vector3 | Available |
| Vector4 | Available |
| Color | Available |
| Entity | Available |
| Component | Available |
| EntityRef | Available |
| ComponentRef | Available |

All types except the **Any** type can be used as parameters. However, for SyncTable< v > or SyncTable< k , v >, the types listed as "Available" are the only ones that can be used. ![27](https://mod-file.dn.nexoncdn.co.kr/bbs/1685938861944b5fa20659b7d4b3c809a765906fa012c.png)

## Parameter Specificity of Client Space Execution Functions

Consider a situation where Client A executes a server function, and the server sends a response to it. Usually the server sends a response to all clients. ![client01](https://mod-file.dn.nexoncdn.co.kr/bbs/168075980289219c2a09110834a149783309cd2192038.png)

However, in some cases, you may only need to respond to Client A, who sent the request in the first place. ![client02](https://mod-file.dn.nexoncdn.co.kr/bbs/168075982031597f4c778957346d1969d09fdd4ff3eb0.png)

MapleStory Worlds provides a function to send a response to a specific client only. The way to use this function is "to write the desired **UserId** to send to the last parameter of the function whose execution space is Client". If you want to take a closer look at an example of using this function, refer to "Sending responses to specific clients only" in the [Effective MSW 1](/docs/?postId=559) guide.

Update 2025-11-20 PM 02:03


# Console

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Let's learn about logs and see how to use them effectively in the World production process.

# About Logs

(Log) refers to a record of various kinds of information or problematic situations during the World creation process. Logs allow you to verify that the World you are currently working on is working as intended. If something does not work as intended, you can use the logs to figure out what the cause is and troubleshoot the problem. Log types are categorized by the agent that leaves the log. Let's categorize them as System Logs and Creator Logs.

## System Log

This refers to a log that identifies and informs the system of informational messages or errors that occur in the World being created. System Log errors are cateogized like the following based on significance.

| Importance | Icon | Description |
| --- | :---: | --- |
| Low | ![info](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_info_s.png) | Various information that doesn't impact how the world functions. (Info) |
| Medium | ![caution](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_caution_s.png) | Warnings for methods not recommended by the maker or when there is a high chance of an error. (Warning) |
| High | ![warning](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_warning_s.png) | Errors that will cause problems if not resolved. (Error) |

## Creator Log

This is the log that the creator makes using the log function during the World production process. This can be used to verify that the World is working as the creator intended. The log() function outputs the value that was passed as a parameter to the console window. Variables, property values, or return values of functions can be output on the console window for verification. For example, let's leave a log, "Hello Maple World", when the script component is executed.

```
[server only]
void OnBeginPlay() 
{
    log("Hello Maple World")
}
```

After writing the foregoing, if you test by pressing **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png), you can check the log on the console window. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1653635780944b306b67d58ac48f68585d42061a8ae00.png)

### Types of Creator Log Functions

Creators can define and use three types of log functions as they see fit.

| Log Function | Description |
| --- | :---: |
| log() | The log's icon will display as information (Info)![info](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_info_s.png). |
| log_warning() | The log's icon will display as a warning (Warning) ![caution](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_caution_s.png). |
| log_error() | The log's icon will display as an error (Error)![warning](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_warning_s.png). |

```
[server only]
void OnBeginPlay()
{
    log("test_info")
    log_warning("test_warning")
    log_error("test_error")
}
```

After writing the foregoing, if you test by pressing **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png), you can check the log on the console window. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/16546769028283859434d3a424558adaf5c5164899732.png)

> **Tip** When creating a world, logs are made frequently to confirm that everything is working as intended. However, if too many logs are made during play testing, it may be easy to overlook crucial logs. We recommend creators organize logs while working on their worlds.

# Check the Log

You can check the log on the console window of the maker. You can open the console window by clicking the **Maker's top menu - Panels - Console**. The console is divided into console and build console as shown below.

## Console

The console outputs logs of information, warnings, and errors that occurred during the playtest. ![console](https://mod-file.dn.nexoncdn.co.kr/bbs/1654137093143eb77525627fd4de5b7fc28d2c98e7d97.png)

| Numbers | Description |
| :---: | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Deletes the logs remaining in the console window. <br>Click on the expand button on the right side of Clear to activate Clear on Play, ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) and click the Start button to automatically delete any logs remaining in the console window and start. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Click the button to merge duplicate logs into one. <br>![9](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_09.jpg) The total number of areas combined is displayed. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | You can collect logs by execution space (Client / Server). |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Search logs. |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | ![info](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_info_s.png)View the total number of info logs. <br> When this button is activated, ![8](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_08.jpg) this ![info](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_info_s.png) is where the information is visible, and it won't be visible when deactivated. |
| ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) | ![caution](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_caution_s.png)View the total number of warning logs. <br> When this button is activated, ![8](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_08.jpg) this ![caution](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_caution_s.png) is where warnings are visible, and it won't be visible when deactivated. |
| ![7](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_07.jpg) | ![warning](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_warning_s.png)View the total number of error logs. <br> When this button is activated, ![8](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_08.jpg) this ![warning](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_warning_s.png) is where warnings are visible, and it won't be visible when deactivated. |
| ![8](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_08.jpg) | You can check the log's severity, recorded time, execution space, and details. |
| ![9](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_09.jpg) | You can see how many duplicate logs are combined. |
| ![10](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_10.jpg) | ![8](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_08.jpg)If you select a specific log, you can view detailed information about that log. <br>In the case of a script error, clicking the link moves to the corresponding line in the script. If it is an entity, the entity is selected in ![Hierarchy](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene_maker.png) Hierarchy. |

## Build Console

Information, warnings, and error logs generated from scripts, logic, and data of the World being created are the output. ![buildconsole](https://mod-file.dn.nexoncdn.co.kr/bbs/16764466594148031d846b5b54c8c8c3d458c9cb97fee.png)

| Numbers | Description |
| :---: | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | You can view only the logs created by the current script by activating the Current scrip Only button. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Search logs. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | ![info](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_info_s.png)View the total number of info logs. <br> When this button is activated, ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) this ![info](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_info_s.png) is where the info is visible, and it won't be visible when deactivated. |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | ![caution](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_caution_s.png)View the total number of warning logs. <br> When this button is activated, ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) this ![caution](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_caution_s.png) is where the warnings are visible, and it won't be visible when deactivated. |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | ![warning](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_warning_s.png)View the total number of error logs. <br> When this button is activated, ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) this ![warning](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_console_warning_s.png) is where the errors are visible, and it won't be visible when deactivated. |
| ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) | You can check the log type and contents. |
| ![7](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_07.jpg) | ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg)If you select a specific log, you can view detailed information about that log. <br>In the case of a script error, clicking the link moves to the corresponding line in the script. If it is an entity, the entity is selected in ![Hierarchy](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene_maker.png) Hierarchy. |

# Released World Console

Creators can view logs by opening the console in a released world. The information, warnings, and error logs from the world's script, logic, data, etc, are output here.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1735021134960de6269099c084e1ebd3ebe4c18796a69.png)

| Number | Description |
| :---: | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Delete the logs remaining in the console window. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | The console can be folded and opened. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Change the console to the minimized size. |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Saves the log as a txt file.<br> Save Path: C:\Users\User Name\AppData\LocalLow\nexon\MapleStory Worlds\ConsoleLogs\WorldID |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | Adjusts the console window's transparency. |
| ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) | Delete the remaining logs and start log output by activating Clear on play. |
| ![7](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_07.jpg) | Merges duplicate logs when the button is pressed. |
| ![8](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_08.jpg) | View the total number of info, warning, and error logs. |
| ![9](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_09.jpg) | Searches logs. |

# Use of Logs

There aren't many cases of everything working out as the creator intended in one try when writing scripts and conducting play tests. Creators can use logs with scripts appropriately to quickly identify any problems with a world to fix them. Let's use logs to reduce trial and error and create a more efficient script.

> **Learn More** Script errors can be resolved faster and more accurately by properly utilizing the debug capabilities with logs. Also refer to [Script Debugging](https://mod-developers.nexon.com/docs/?postId=202).

Update 2025-11-20 PM 02:03


# MapleStory Worlds Lua Basics

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

In MapleStory Worlds, scripts are written using a language called **Lua**. This time, we'll look at the basic usage of **Lua**, and examples of using it in MapleStory Worlds.

# Variable

A variable is both a memory space that saves data and a container that holds values.

## Range of Variables

Variables used in Lua are divided into the following two types.

| Variable | Description |
| --- | --- |
| Global variable | A variable that can be accessed from anywhere. If used without any declaration, it is a global variable. <br>**However, using global variables is not recommended in MapleStory Worlds.** <br>If you have a value you want to use like a global variable, use [Property](/docs/?postId=205) in the script. |
| Local variable | A variable that can only be accessed within the same function or statement.<br>It is valid only in the scope in which the variable is defined, and is destroyed when the execution of the scope is finished. |

![scope](https://mod-file.dn.nexoncdn.co.kr/bbs/16764300045452066dac334934dc2abbf59f6e9b9fea1.png)As shown in the picture above, **Property a** can be referenced throughout the script. **Local variable b** is valid in **B area**, **local variable c** is valid only in **C area**, and is destroyed when the execution of the scope is finished.  Let's explore the scope of a variable through an example.

1. First, in the Maker, create a new script component called **LuaTest**, and in **Hierarchy - common**, add the **LuaTest** component.
2. Add properties as follows.```
Property :
[Sync]
integer testP = 0
```
3. Add the `OnBeginPlay()`, `testFunction()` functions and enter as follows. The original Lua syntax uses the **print** command to output, but MapleStory Worlds uses the `log()` function that has processed this, so we will use the `log()` function in future examples as well.  Enter as follows and click the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button in the Console window to output **log**. You can see that each comment value is output.```
Property:
[Sync]
integer testP = 0

Method:
[server only]
void OnBeginPlay()
{
    log(self.testP) -- 0
    self.testP = self.testP + 100
    log(self.testP) -- 100

    -- Define the valid local variable a within the OnBeginPlay() function.
    local a = "A"
    log(a) -- A

    if true then
    	-- Change the value of local variable a.
    	a = 1

    	-- Define the local variable b that is valid only within the conditional statement.
    	local b = "B"
    	log(b) -- B
    end

    log(a) -- 1

    --[[The local variable b, which was only valid at the scope of the conditional statement, is destroyed,
    so the value of b is nil in the scope of the function.]]
    log(b) -- nil

    -- Call the testFunction().
    self:testFunction()
}

void testFunction()
{
    -- testP defined in Property can be accessed throughout the script.
    log(self.testP) -- 100

    --[[The local variable a, which was only valid at the scope of OnBeginPlay(), is destroyed,
    so the value of a is nil here.]]
    log(a) -- nil
}
```

## Variable Type

Variables in Lua have types internally, but the type is not specified when creating a variable. The value put into a variable determines its type.

| Variable type | Description |
| --- | --- |
| nil | No value. <br>In logical operations, nil is false and nil in global variables and table keys are discarded. |
| boolean | Only true and false values. <br>It is not converted to numbers of 0, 1. |
| number | 64-bit real numbers. |
| integer | 64-bit integer numbers. |
| string | A string. <br> Use double quotation marks (") or single quotation marks ('). |
| table | A composite data type. <br>It can be used in both Array and Dictionary formats. |

You can check the type of a variable with the type() function. For example, if you enter the following and output **log**, the value of the comments will be output respectively.

```
local a = 1
log(type(a)) -- number
	
a = 1234.5678
log(type(a)) -- number

a = "hello"
log(type(a)) -- string

a = (0 > 10)
log(type(a)) -- boolean

a= nil
log(type(a)) -- nil
    
a = {}
log(type(a)) -- table

a = {"Lua", "Test"}
log(type(a)) -- table
```

MapleStory Worlds provides a separate data type in addition to the types above. You can check the details from the **Property type** item of the [Property](/docs/?postId=205) guide.

# Table

In Lua, both Array and Dictionary formats are tables. When dealing with lots of data, tables are usually used and declared in the format of **{ }**.

```
local table = {}
```

## Array

Arrays are used quite a lot in Lua, and are useful for collecting and saving data.

### Making an Array

As an example, make it in the format below.

```
local testArray = {"A string", 1.234, self.Enable}
```

### Read Value

Arrays can be accessed by index [no]. Most programming languages use **0** as the first index, but Lua uses **1**.

```
local testArray = {"A string", 1.234, self.Enable}
log(testArray[1]) -- A string
log(testArray[2]) -- 1.234
log(testArray[3]) -- true
```

### Composite Value

To write or change a value in the array, access it by index [no] and enter the value.

```
local testArray = {11, 22, 33}

testArray[2] = "bb"
testArray[4] = "44"

log(testArray[2]) -- bb
log(testArray[3]) -- 33
log(testArray[4]) -- 44
```

### Add Value

Here are two ways to add values to an array.

- Use the `table.insert()` function.
- Use `array[#array+1]` syntax.

```
local testArray = {"A", 1.234}

table.insert(testArray, "C")
testArray[#testArray+1] = "D"

log(testArray[3]) -- C
log(testArray[4]) -- D
```

To add a value to the middle of the array, write the index value you want to add to the second argument of the `table.insert()` function.

```
local testArray = {"A", "B"}

-- Add "and" to index 2
table.insert(testArray, 2, "and")

log(testArray[1]) -- A
log(testArray[2]) -- and
log(testArray[3]) -- B
```

### Delete Value

To remove a value from an array, use the `table.remove()` function.

```
local array = {11, 22, 33, 44, 55}

-- Delete index 1
table.remove(array, 1)
log(array[1]) -- 22
```

> **Learn more** You can check various functions that can be used in tables in the Script Editor. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/16703984668191d7f941283f84d42b1b97146d6773bce.png)

## Dictionary

A dictionary is a table of the format **key - value**. It is mainly used for fast retrieval of data from information structures.

### Making a Dictionary

When making a dictionary, define it in the format of `key = value` and separate it with a comma (,).

```
local myDictionary = {a = "myNumber", myNumber = 5, myString = "TTT", myBoolean = true}
```

### Read Value

The dictionary reads in the format shown below.

```
local myDictionary = {a = "myNumber", myNumber = 5, myString = "TTT", myBoolean = true}

log(myDictionary.myNumber) -- 5
log(myDictionary.myString) -- TTT
log(myDictionary["myBoolean"]) -- true
```

### Composite Value

**Key** is also used to define or rewrite values in a dictionary.

```
local myDictionary = {name = "Tom", age = 20}

-- Change value
myDictionary.name = "Katy"
myDictionary.age = 25

-- Key - Add value
myDictionary.favoriteGame = "MapleStory Worlds"

log(myDictionary.name) -- Katy
log(myDictionary.age) -- 25
log(myDictionary.favoriteGame) -- MapleStory Worlds
```

### Key - Delete Value

To delete **Key - Value**, set the value of **Key** to **nil**.

```
local myDictionary = {name = "Tom", age = 30, favoriteGame = "MapleStory Worlds", job = "Programmer"}

-- Key - Delete value 
myDictionary.job = nil

-- Iterate through the entire myDictionary and output the key and value
for key, value in pairs(myDictionary) do
    log(key, value)
end

-- [[Result:
age 30
name Tom
favoriteGame MapleStory Worlds
]]
```

> **Learn more** For the for statement used in the example above, refer to the **for statement** part of the [MapleStory Worlds Lua Syntax](/docs?postId=944) guide.

## Table Reference

When you save a table to a new variable, Lua does not make a copy of that table. Instead, the variable refers to the original table.

```
local original = {10, 100, 1000}
local reference = original

log(reference[1], reference[2], reference[3]) -- 10, 100, 1000

-- Modify the original value
original[1] = "A"
original[2] = "B"

log(reference[1], reference[2], reference[3]) -- A, B, 1000
```

# Operator

These are the operators available in Lua.

## Arithmetic Operator

This operator is used to perform arithmetic operations.

| Operator | Description |
| --- | --- |
| `+` | Add |
| `-` | Subtract |
| `*` | Multiply |
| `/` | Divide |
| `//` | Divide and take only the quotient |
| `%` | Divide and take the remainder |
| `^` | Quotient |

For example, if you enter the following and output **log**, the value of the comment will be output.

```
log(1 + 1) -- 2
log(1 - 1) -- 0
log(5 * 5) -- 25
log(13 / 5) -- 2.6
log(13 // 5) -- 2
log(13 % 5) -- 3
log(2 ^ 4) -- 16.0
```

## Relational Operator

An operator used to determine a relationship. The result is a boolean.

| Operator | Description |
| --- | --- |
| `=` | Declaration |
| `==` | Same |
| `~=` | Different |
| `>` | Greater |
| `<` | Less |
| `>=` | Greater than or equal to |
| `<=` | Less than or equal to |

For example, if you enter the following and output **log**, the value of the comment will be output.

```
local a = 1
local b = 2
log(a == b) -- false
log(a ~= b) -- true
log(a > b) -- false
log(a < b) -- true
log(a >= b) -- false
log(a <= b) -- true
```

## Logical Operator

Logical operators return true or false. Returns true if the argument is non-false and non-zero.

| Operator | Description |
| --- | --- |
| `and` | A and B. True if both A and B are true. |
| `or` | A or B. A or B must be true to be true |
| `not` | True if false, false if true |

## Other Operators

Here are some other useful operators.

| Operator | Description |
| --- | --- |
| `#` | Length of array |
| `..` | Concatenate strings |

For example, if you enter the following and output **log**, the value of the comment will be output.

```
local a = {"HELLO", "MapleStory Worlds"}

log(#a) -- 2
log(a[1].."! "..a[2]) -- HELLO! MapleStory Worlds
```

# Function

A function is a code block that can be executed multiple times as a command. It can be attached to an event or assigned as a callback. For more details, please refer to the [Function](/docs/?postId=172) guide.

# Comments and Annotations

Comments are shown below.

| Comment | Description |
| --- | --- |
| `--` | One line comment |
| `--[[]]` | Multi-line comment |
| `---@` | Annotation is a kind of metadata that you can use by adding to a code. <br>For more details, please refer to the [Annotation](/docs/?postId=824) guide. |

# Summary

We've examined the basic usage and examples of Lua. Next, let's learn how to use frequently-used syntax when writing scripts in Lua. Related information can be found in [MapleStory Worlds Lua Syntax](/docs?postId=944).

Update 2025-11-17 PM 08:14


# MapleStory Worlds Lua Syntax

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

We'll discuss how to use frequently used syntax when writing scripts with Lua in MapleStory Worlds. We recommend reviewing [MapleStory Worlds Lua Basics](/docs?postId=822) before reading this guide.

# Conditional Statements

Usually, if you look at the logic of a program, it is often made up of a combination of loops and conditional statements. As such, conditional statements and loop statements are the basic constructs of programming.  Let's look at the conditional statement first.

- **if**
  - This is a basic conditional statement. If the condition is **true**, the content between **then** and **end** are executed.
- **elseif**
  - This is a conditional statement added to **if**. A **basic if statement** is required to use it.
  - If the condition of **if** is **false**, then the condition of **elseif** is checked.
  - **elseif** is not a required element.
- **else**
  - A **basic if statement** is required to use it.
  - If the condition of **if, elseif** is **false**, then the content of **else** is executed.
  - **else** is not a required element.

Let's look at an example.

```
[server only]
void OnBeginPlay()
{
    local a = 7
    
    -- if condition then execution end
    if a > 10 then
        log("big")
    
    -- elseif condition then execution
    elseif a > 5 then
        log("middle")
    
    -- else execution
    else
        log("little")
    end
}
```

Looking at the above conditional statement, the condition is set as follows.

- If a is greater than 10, output **big**
- If a is less than 10 but greater than 5, output **middle**
- Otherwise (i.e. if a is less than 5) output **little**

Since a is 7, executing the above will output **middle**.

# Loop Statements

Let's take a look at the format of the loop statement frequently used in Lua.

## while Statements

The **while statement** evaluates the conditional expression first and if the condition is **false** or **nil** then the loop ends. If the condition is **true** then it will execute the looping code. Let's look at an example.

```
-- while condition do loop content end

local a = 10

while(a <= 15)
do
    log(a)
    a = a + 2
end

--[[Result:
10
12
14
]]
```

## repeat Statements

**repeat - until loop** is a statement that repeats until the condition becomes true. A code block is executed at least once because it must be executed to determine if the conditional is true. Let's look at an example.

```
local countdown = 5

repeat
    countdown = countdown - 1
    log(countdown)
until countdown == 0

log("The countdown is over.")

--[[Result:
4
3
2
1
0
The countdown is over.
]]
```

## for Statements

**for statement** is an iterative search based on a number or number of items.

### Numeric For Loops

**Numeric For Loops** define the initial value, final value, and incremental value. The incremental value is added and repeatedly calculated from the initial value to the final value.

Let's look at an example.

```
-- for variable = Initial value, final value, incremental value do end
-- If the incremental value is 1, 1 can be omitted.

for i = 10, 15
do
    log(i)
end

--[[Result:
10
11
12
13
14
15
]]

for i = 20, 10, -2
do
    log(i)
end

--[[Result:
20
18
16
14
12
10
]]
```

### Generic For Loops

**Generic For Loops** iterates over the items in a table that are not a series of numbers. A generic for statement allows you to execute the code for each table, and makes it easy to use each item in your code. A generic for statement requires either a function or an iterator. `ipairs()` returns an iteration of Array and `pairs()` returns an iteration of Dictionary.

#### Array

`ipairs()` returns the indices and values of an array iteratively. Let's look at an example.

```
local testArray = {"A", "B", "C", "D", "E"}
for index, value in ipairs(testArray) do
    log(index, value)
end

--[[Result:
1 A
2 B
3 C
4 D
5 E
]]
```

#### Dictionary

`pairs()` repeatedly returns **key - value** of the dictionary. Remember that the order in which a dictionary is returned is determined internally, so the creator's order is not guaranteed. Let's look at an example.

```
local testdictionary = {name = "Tom", age = 20, favoriteGame = "MapleStory Worlds", job = "Programmer"}

for key, value in pairs(testdictionary) do
    print(key, value)
end

--[[Result:
favoriteGame MapleStory Worlds
name Tom
job Programmer
age 20
]]
```

## Stop Repeat

To stop an iteration, use the `break` command. Let's look at an example of stopping an infinite loop.

```
local secondsElapsed = 0
local timeout = 5

while true do
	log(secondsElapsed.."seconds")
	wait(1)
	secondsElapsed = secondsElapsed + 1

	if secondsElapsed == timeout then
		break
	end
end

log("5 seconds have passed. Go to the next map.")

--[[Result:
0 seconds
1 second
2 seconds
3 seconds
4 seconds
5 seconds have passed. Go to the next map.
]]
```

Update 2025-11-17 PM 08:14


# MapleStory Worlds Lua Syntax Extension Guide

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

MapleStory Worlds provides support for extended syntax which is not natviely supported by Lua but is commonly used in other programming languages. This course aims to introduce you to the Lua extension syntax and provide examples of its usage supported in MapleStory Worlds.

# Continue

The keyword **continue** is used to skip the remaining commands within the current iteration of a loop and move on to the next iteration.

```
local oddNumbers = {}
for i = 1, 10 do
    if i % 2 == 0 then
        continue -- Even numbers skip the remaining operation
    end
    print("odd number : ", i)
    table.insert(oddNumbers, i)
end
-- Output :
-- odd number : 1
-- odd number : 3
-- odd number : 5
-- odd number : 7
-- odd number : 9
```

# Compound Assignment Operators

Compound assignment operators can perform an operation and an assignment simultaneously.

#### Addition Assignment Operators

The addition assignment operator `+=` assigns the addition result.

```
self.Entity.TransformComponent.Position.x += 0.1 -- Adds x value of the Position by 0.1
local num = 1
num += 2 -- Assigns the result of adding 2 to num
print(num)
-- Output :
-- 3
```

#### Subtraction Assignment Operators

The subtraction assignment operator `-=` assigns the subtraction result.

```
self.Entity.TransformComponent.Position.x -= 0.1 -- Subtracts x value of the Position by 0.1
local num = 1
num -= 2 -- Assigns the result of subtracting 2 from num to num
print(num)
-- Output :
-- -1
```

#### Multiplication Assignment Operators

The multiplication assignment operator `*=` assigns the multiplication result.

```
local num = 2
num *= 3 -- Assigns the result of multiplying num by 3 to num
print(num)
-- Output :
-- 6
```

#### Division Assignment Operators

The division assignment operator `/=` assigns the division result.

```
local num = 5
num /= 2 -- Assigns the quotient of dividing num by 2 to num
print(num)
-- Output :
-- 2.5
```

#### Floor Division Assignment Operators

The floor division assignment operator `//=` assigns the quotient after performing the division operation.

```
local num = 5
num //= 2 -- Assigns the quotient of dividing num by 2 to num
print(num)
-- Output :
-- 2
```

#### Remainder Assignment Operators

The remainder assignment operator `%=` assigns the remainder after performing the division operation.

```
local num = 5
num %= 2 -- Assigns the remainder of dividing num by 2 to num
print(num)
-- Output :
-- 1
```

#### Exponentiation Assignment Operators

The exponentiation assignment operator `^=` assigns the exponentiation result.

```
local num = 5
num ^= 2 -- The square of num is assigned to num
print(num)
-- Output :
-- 25.0
```

#### String Concatenation Assignment Operators

The string concatenation assignment operator `..=` assigns the result of string concatenation.

```
local str = 'Hello, '
str ..= 'MapleStory '
str ..= 'World!'
print(str)
-- Output :
-- Hello, MapleStory World!
```

#### Bitwise Left Shift Assignment Operators

Bit shift is one of the bitwise operators used in programming that shifts the binary value to the left or right. The left bit shift `<<` operator shifts the binary value to the left and adds 0 on the right side. The bitwise left shift assignment operator `<<=` assigns the result of left-shifting the bits.

```
local num = 2    -- 0b0010

-- 0b is a notation used to indicate that the value is in binary form.
-- Shifts the binary representation of num to the left by 1.
num <<= 1       -- 0b0100
print(num)
-- Output :
-- 4
```

#### Bitwise Right Shift Assignment Operators

The bitwise right shift assignment operator `>>=` assigns the result of right-shifting the bits.

```
local  num = 2   -- 0b0010

-- Shifts the binary representation of num to the right by 1.
num >>= 1        -- 0b0001
print(num)
-- Output :
-- 1
```

#### Bitwise AND and OR Operators

The bitwise AND operator `&` compares two values and returns 1 for each corresponding bit position where both bits are 1, and returns 0 for all other cases. On the other hand, the bitwise OR operator `|` compares two values and returns 1 for each corresponding bit position where at least one of the bits is 1, and returns 0 for other cases. Let's take an example.

```
local a = 10 -- binary 1010
local b = 7 -- binary 0111

local result = a & b -- Perform bitwise AND operation
print(result)
-- Output : 
-- 2 (binary 0010)

local result = a | b -- Perform bitwise OR operation
print(result)
-- Output : 
-- 15 (binary 1111)
```

The bitwise AND assignment operator `&=` assigns the result of performing a bitwise AND operation. Bitwise OR assignment operator `|=` assigns the result of performing a bitwise OR operation. Let's take a look at an example.

```
local cardKeywords =
{
    Taunt = 1 << 0,
    BattleCry = 1 << 1,
    Deathrattle = 1 << 2,
    Windfury = 1 << 3,
    Immune = 1 << 4,
}

local function HasKeyword(card, keyword)
    return (card & keyword) == keyword
end

local newCard = cardKeywords.Taunt | cardKeywords.BattleCry
print("Taunt : ",HasKeyword(newCard, cardKeywords.Taunt))
-- Output :
-- Taunt : true

newCard &= ~cardKeywords.Taunt -- Remove Taunt from newCard
print("Taunt : ",HasKeyword(newCard, cardKeywords.Taunt))
-- Output :
-- Taunt : false

newCard |= cardKeywords.Immune -- Add Immune to newCard
print("Immune : ",HasKeyword(newCard, cardKeywords.Immune))
-- Output :
-- Immune : true
```

> **Learn more** When using compound assignment operators, keep in mind some limitations. First, it is not possible to perform multiple compound assignments simultaneously.```
a , b += 1, 2 -- Error
```
> Additionally, compound assignments cannot be used as argument.```
print(a += 1) -- Error
```

Update 2025-11-17 PM 08:14


# Creating and Managing Maps

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Different maps provide a variety of fun to users exploring the world. Let's examine the basics of creating and managing maps in this course.

# Managing Maps

There are two ways to manage a map.

- Managing through the **Hierarchy - maps** context menu and sub-menus
- Managing through the **Window - Map List** window

# Creating Maps

| Hierarchy | Map List |
| --- | --- |
| Click **Create New Map** from the **Hierarchy - maps** context menu<br>![maplist03](https://mod-file.dn.nexoncdn.co.kr/bbs/168619256953482671c21f29e4b3fa358e803384cd88a.png) | <ul><li>Click the **[Make New Map]** button on the bottom of the **Map List** window.</li><li>Click the **[Add]** button in the map's context menu.</li></ul>![New nap](https://mod-file.dn.nexoncdn.co.kr/bbs/174530183147858c0c408c04f4192a36f0dc75f34e47d.png) |

> **Tip** The numbers in the map name rise in ascending order. If there are any changes, you'll be asked to save.

# Duplicating Maps

| Hierarchy | Map List |
| --- | --- |
| Click **Duplicate** from the context menu of the map you're trying to copy <br>![maplist008](https://mod-file.dn.nexoncdn.co.kr/bbs/166547548197887e3c38de1bc42f9aa9c4444a464c110.png) | Click **Duplicate Map** from the context menu of the map you want to copy<br>![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1745301866206fb94152dc75147caa85a1fc06918c7e5.png) |

# Deleting Maps

| Hierarchy | Map List |
| --- | --- |
| In the context menu of the map you want to delete, click **Delete**<br>![maplist007](https://mod-file.dn.nexoncdn.co.kr/bbs/16654754071719502fdc9e05a4db98079408b2c3dc57d.png) | In the context menu of the map you want to delete, click **Delete Map**<br>![maplist011](https://mod-file.dn.nexoncdn.co.kr/bbs/1687510622017287506de587c442eae8f10a1f3fffa35.png) |

> **Tip** You cannot delete the **starting map** and the **currently editing map in the Scene**.

# Loading Another Map

| Hierarchy | Map List |
| --- | --- |
| Double-click a map to load<br>![maplist005](https://mod-file.dn.nexoncdn.co.kr/bbs/1665475758380d0ae41686e544179a2f88336522d930c.png) | Click the **[Load]** button after selecting a map <br>![loadingMap](https://mod-file.dn.nexoncdn.co.kr/bbs/1745301918755eeb7dc3d4b3d4e9ab453d7888e88f9f5.png) |

# Setting Starting Map

The starting map is the first map the player avatar enters when executing the released world. By default, **map01** is the starting map, but you can change it as you need.

| Hierarchy | Map List |
| --- | --- |
| Click **Set Starting Map** from the context menu of the map that will be the starting map <br>![startingmap01](https://mod-file.dn.nexoncdn.co.kr/bbs/16654761105842d01f5d7edc04abcb2e4fa0d6fb3c16d.png) | Click **Starting Map** from the map that will be the starting map <br>![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1745302008909327f9e259ac6418f850b800fa9902885.png) |

> **Difference between "Starting Map" and "Game Starting Point"** Setting a starting map and choosing a position for test are two different concepts. During production, if you're playing the game for a test, you start at the map you're working on. Please refer to [Setting Game Start Position](docs?postId=115) for more details.

# Choosing Whether to Release the Map

Maps you create are included in the release target by default. However, you can exclude some maps from release.

| Hierarchy | Map List |
| --- | --- |
| In the context menu of the map you want to exclude, click **Exclude from Released Map** <br>![exclude](https://mod-file.dn.nexoncdn.co.kr/bbs/1684214359320ddda193ee6d5445a89731c10103fe946.png) <br> If you exclude it from being released, the release icon will not be visible. <br>![exclude03](https://mod-file.dn.nexoncdn.co.kr/bbs/166554042257954731952e0df4c27bdbe47c466b052f7.png) | In the context menu of the map you want to exclude, click **Exclude from Released Map** <br>![exclude01](https://mod-file.dn.nexoncdn.co.kr/bbs/168445486910307dd7acb82f944ff8fe7ceea8b39e53c.png) <br> If you exclude it from being released, the release icon will not be visible. <br>![exclude02](https://mod-file.dn.nexoncdn.co.kr/bbs/16844549675036d34a9a31b9548acaa2567c5858198e0.png) |

> **Learn more**- You cannot exclude the starting map from release. Also, if you change an off-target map to a starting map, that map is automatically included in the release target. - In a co-produced world, only the group leader can set up whether to release a map. - To reintroduce a map that has been excluded from release, click the context menu of the map and click **Add Map to Publish**.

# Map Movement Using Portal

1. Place the portal on the map you want to connect to. ![maplist30](https://mod-file.dn.nexoncdn.co.kr/bbs/16377379799957f5bcea9eb1d44a899fedb83cd07f630.png)
2. Click the **[◉]** button of the **TargetPortal** in the Property Editor of the portal. Then select the portal you want to move from the **Reference** pop-up window. ![maplist31](https://mod-file.dn.nexoncdn.co.kr/bbs/1665477149603091fc46daa8d480cb009d0d4fa2ea34e.png)
3. After clicking the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button, check to move from the departure portal to the arrival portal.

# Summary

We can't really define the perfect number or size of maps. You can make multiple maps according to your plan, or you can make one large map. However, you may have delays between loading and playing if the map is too large or has many placed objects. Therefore, you need to adjust the size of the map and the number of objects appropriately.

Update 2025-11-20 PM 02:03


# Create a MapleStory TileMap

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

MapleStory Worlds provides many options for landscapes and traversing them. Today, we'll learn about MapleStory-formed tile maps, the most basic landscape. MapleStory-formed landscape is closely related to MapleStory-formed movement.

> **Learn more**  Please refer to the [Understanding MapleStory Movement Concepts](/docs?postId=750) lesson for MapleStory-formed movement.

# MapleStory-Formed Terrain

You can create MapleStory-formed landscapes after selecting MapleTile mode in the Tile Editor. ![tileEditor](https://mod-file.dn.nexoncdn.co.kr/bbs/1658282762014c76e4b1dd653437aa0b54c0f45122fb0.png) To create terrain, long-press the Tile Editor button in ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg), select MapleTile mode, and then choose the desired tile from the **Preset List** ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg). However, only one TileMap mode can be used on one map. For example, when you create terrain with MapleTile mode and then convert it to a different TileMap mode, the existing terrain will all be reset, so proceed with caution. When you select TileMap Mode, a map component that corresponds to that TileMap mode will be created in the **Hierarchy**. If you select MapleTile ![map](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/map.png) for TileMap mode, you can check the TileMap entity in the Hierarchy ![hierarchy](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene_maker.png) and change the properties, color, or form of MapleTile ![map](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/map.png) through the TileMapComponent included in this entity. By selecting MapleTile in TileMap mode, you can see the **TileMap** entity in the **Hierarchy**. Within this entity, you can use **TileMapComponent** to modify the properties, color, shape, and other attributes of MapleTile.

# Creating Terrain

## Select Tile

You can freely create terrain across a very wide range using the Maker's range of convenient features.

![tilepick](https://mod-file.dn.nexoncdn.co.kr/bbs/1657699332147b812f9a825ea47818c4bd63cfc4b6d68.png)

In order to create terrain, select the **TileSet** you want from the **Preset List**. Only one **TileSet** can be used in each **Map Layer**. ![maplayer](https://mod-file.dn.nexoncdn.co.kr/bbs/16577003279588aa2927b92194ba99c8f3cfb929b5e1c.png) By pressing the ![addlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_layer_add.png) button in the **Map Layer** as shown above, you can add layers and use multiple **TileSet** in a single map.

> **Tip 1** If you change TileSet, all the tiles you placed on the layer earlier will be changed to the new TileSet, so you must be careful.
> **Tip 2** You can even modify the TileSetRUID of `TileMapComponent` and change TileSet.

## Indicate Tile Auxiliary Line

There is a ![gridinfo](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_grid2.png) grid information button on the top-right side of the **Scene**. ![grid](https://mod-file.dn.nexoncdn.co.kr/bbs/1657710972697056c508aa0f047ea994612920898098c.png) If you press the grid information button (![gridinfo](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_grid2.png)), you will see an auxiliary line of a grid form. This auxiliary line helps craft landscapes.

## Draw Topography

You can select a method to draw landscapes from a Draw Topography Tool. ![tiletool](https://mod-file.dn.nexoncdn.co.kr/bbs/1657711565470477997a2f4b14bf093847b8c29899d77.png)

| Numbers | Items | Description |
| :---: | --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Paint Line | Draws tiles at the point where you clicked, and draws along a line when you drag. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Paint Box | Fills the inside of the square you dragged with tiles. |

If you click the grid-formed auxiliary line in Paint Line mode, the landscape shape created by the click position will differ.

| Click Position | Created Landscapes | Description |
| :---: | --- | --- |
| Point | ![line1](https://mod-file.dn.nexoncdn.co.kr/bbs/1657712926265695555a3dfba412796f23cbf1ca5b906.png) | Click the point where the auxiliary lines cross to create a small area. |
| Line | ![line2](https://mod-file.dn.nexoncdn.co.kr/bbs/1657713375917614def59a5674c0289c399b71c910bd3.png) | Click the line to create an area including both crossing points. |
| Surface | ![line3](https://mod-file.dn.nexoncdn.co.kr/bbs/16577598884962e68f73359ad41aa82bf4279e3f87f9d.png)<br>![line4](https://mod-file.dn.nexoncdn.co.kr/bbs/165776120779882e8cb42c179416bae4c8fd6fdeab856.png) | Click the surface to create an area including the surface's edge lines. <br><br> In addition, if you click the middle of the surface while there are areas below and at the sides, this will create a diagonal area. |

## Erase Topography

### Erase by Right-Clicking

In Draw mode, you can erase a landscape by right-clicking. This is the only function of right-clicking while landscape editing. ![rightClick](https://mod-file.dn.nexoncdn.co.kr/bbs/16582894594106cf5ad992ec04c6a9d79ccb1f3616aaa.gif)

### Erase with an Eraser

You can erase landscapes using an eraser as well. ![erase](https://mod-file.dn.nexoncdn.co.kr/bbs/1657762131044a2e122fbd3f1482698e73370ac8d4be0.png) To use the eraser cursor, select the ![eraser](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_eraser.png) eraser cursor and then click the terrain in the **Scene** to erase it. However, the whole eraser cursor deletes other entities, not just tiles, so you must be careful when using it. Want to erase only tiles or only entities? We can change the eraser cursor options for this. ![erase2](https://mod-file.dn.nexoncdn.co.kr/bbs/16577635580024e93d1c0c63b490a99cfbc548a3604c4.png) By using **TileOnly**, you can erase only the tiles, or by using **TileExceptOnly**, you can erase entities other than tiles.

## Foothold

The biggest reason we create landscapes is that you need space where entities can move. The movable area in MapleStory Tile is called **Footholds**. There are two movement methods of [RigidbodyComponent](/docs?postId=750) that pair with MapleStory tiles.

**1. Move on the foothold 2. Move outside of the foothold**

Footholds are created by a landscape creation rule, and are mostly matched with landscape one-on-one. When you press the foothold information button (![footholdicon](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_foothold.png)), you will see the foothold information with a red line above the landscape. ![foothold](https://mod-file.dn.nexoncdn.co.kr/bbs/16577650286084cedcd11123845d9a418c15946fd025f.png)

> **Learn more** You can also add a Foothold to an entity using `CustomFootholdComponent`, not just landscapes. For details, please refer to [Making Footholds](/docs?postId=71).

Update 2025-11-17 PM 08:14


# Making Footholds

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's make footholds using different objects to make the game more interesting. We'll discuss the concepts of the **FootholdComponent** and **CustomFootholdComponent** and how to edit the foothold.

# Making a Foothold with Foothold Model

Here's how to make footholds with the **Foothold** model. You can use **Foothold** models instead of normal tiles to make colorful streets.

1. In the **Preset List**, select **Foothold**.
2. Select the desired model and place it in the **Scene** panel.A foothold matching the sprite of the **Foothold** model is saved with the model. ![foothold01](https://mod-file.dn.nexoncdn.co.kr/bbs/165995816559970800486aa594605aec8a12193083ba3.png)

> Tip - See Foothold Information In the**Scene** panel, when clicking the foothold information icon ![Common_foothold](https://mod-file.dn.nexoncdn.co.kr/bbs/163453674810369fa34e7367d462bba709d528166c58d.png), the foothold is visible as a red line.

# Making New Footholds

If there isn't a model you want in **Foothold**, you can make your own Foothold. Search for **Foothold** in the **Workspace** panel, and you'll see two components. Two components are both related to **Foothold**, but they have different concepts and intended uses. You should use **CustomFootholdComponent** to create a new foothold.

- **FootholdComponent**: The component that saves and provides foothold information within the entire map. In Property Editor, you'll see the search results, but you can't use them. For more details, please refer to the [API Document](/apiReference?postId=336) for each component.
- **CustomFootholdComponent**: The component to make and adjust footholds. Foothold models include this component. For more detail, please refer to the [API Document](/apiReference?postId=331) of each component.

# Utilizing Custom Foothold Components

#### Drawing Foothold Paths

1. Place the sprite to use as foothold into the **Scene** panel.
2. Add **CustomFootholdComponent** in the Property Editor of the foothold entity. ![foothold02](https://mod-file.dn.nexoncdn.co.kr/bbs/1635312202910484e69092aac41a488ba45bc39c9edb2.png)
3. Enter the **Size** (number of foothold's starting point) of **edgeLists** (foothold's starting point) and adjust the foothold's shape in the **Scene** panel. ![foothold03](https://mod-file.dn.nexoncdn.co.kr/bbs/1635312618765c3d8f742150b4a67bc2700d94d8f8379.png)

| Name | Explanation |
| --- | --- |
| edgeLists | Indicates foothold's **starting point**.<br>If you make multiple starting points, you can make individual footholds according to the value entered for a single entity. |
| Size | Indicates the number of points that make up a foothold.<br>**Starting point** will be created depending on the value you input for Size of edgeLists. <br>The value you entered in [ number ]'s Size will be the number of **connecting points**. |
| [Number] | This refers to **the number of connecting points** of footholds.<br>Starting from 0, connecting points are added equal to the value entered for Size.<br>Connecting points are created by selecting the corresponding entity in the scene, and in the context menu, you can add them with **Add Point**. <br>Connecting points indicate the location with x, y values. |

#### Example

1. Enter **1** in the **Size** of the **edgeLists** to create a starting point.
2. Enter **1** in **[1] - Size**.
3. Click **Edit Foothold** in the context menu of that entity.
4. Move the starting point to your desired location.
5. Click **Add Point** in the context menu of that entity to add connecting points.
6. Repeat adding connecting points to create the desired movement line.
7. Let's press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and test. Make sure the avatar moves along the line. ![foothold50](https://mod-file.dn.nexoncdn.co.kr/bbs/16419850592877b797c57a7064aa7af39d73058b42c22.gif)

> **Tip - Making Easily Climbable Footholds** Connecting the points at a gentle angle will help avatars move around easily. Test during production to see if the avatar can move around easily.

#### Adding Properties to Footholds

You can change the properties of the foothold you created to make the foothold more unique. Adjusting each property value can make the foothold more interesting: footholds that go one-way only, footholds that make you slow, etc.

| Name | Explanation |
| --- | --- |
| FootholdDrag | Indicates friction force that applies when an Entity with the RigidbodyComponent is on the foothold. The bigger the value, the more the entity will slip on top of the foothold, then decelerate quickly to stop. <br> If an entity falls on top of the foothold with a value between 1 and 10, the entity will slip a shorter distance before it stops. The value also affects the player's basic movements, but it will be barely noticeable during play. |
| FootholdForce | A force is applied to the Entity containing a RigidbodyComponent on the foothold. Entity moves to the right if the value is positive, and to the left if negative. Try to move in the other direction, and you'll feel resistance. |
| FootholdWalkSpeedFactor | The coefficient is multiplied by the movement speed when an Entity with the RigidbodyComponent is on the foothold. The higher the value, the faster the movement speed. |

# Summary

It's up to the creator if there will be multiple starting points or a single starting point to the foothold. Either way, you'll be able to create a nice foothold that goes well with the Sprite you chose.

##### Reference Guide

[Adding and Deleting Components](/docs?postId=58)

Update 2025-11-17 PM 08:14


# Making a Moving Foothold

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's make a moving foothold to add more fun. You can use CustomFootholdComponent's IsDynamicFoothold property to create a moving foothold of your own. Please refer to [Making Foothold](/docs/?postId=71) to learn the basics of creating footholds.

# Making a Moving Foothold

To make a moving foothold, you have to create one using CustomFootholdComponent. To make the basic CustomFootholdComponent move, you have to adjust the properties of IsDynamicFoothold and RigidbodyMovementOption.

| Property Name | Description |
| --- | --- |
| IsDynamicFoothold | Activate to make a moving foothold. |
| RigidbodyMovementOption | Set what kind of inertia will be applied to player entity standing on the moving foothold.<ul><li>RelativeX: Apply inertia in x axis, not in y axis. If player moves in the opposite direction of the foothold, speed decreases. If it moves in the same direction, speed increases.</li><li>Absolute: Constant speed regardless of direction.</li></ul> |

| RelativeX | Absolute |
| --- | --- |
| ![reletiveX](https://mod-file.dn.nexoncdn.co.kr/bbs/16466307010962640bc0dca2b4ba28d72e8138ee4a5cf.gif) | ![absolute](https://mod-file.dn.nexoncdn.co.kr/bbs/1646633877812d9fd5ab7b34d468abc8018984875cdf5.gif) |

#### Use Example

1. Add CustomFootholdComponent to the object you'll use as a foothold to create a foothold.
2. Activate CumstomFootholdComponent - **IsDynamicFoothold**.
3. Select CumstomFootholdComponent, and set **RigidbodyMovementOption to RelativeX**.![01](https://mod-file.dn.nexoncdn.co.kr/bbs/16820538852880d9d1813790d4636b5b483c6f0b7e885.png)
4. Add a new component and add it to the foothold object.
5. Open the Script Editor of the new component, and write the following to set the time and range of movement. If you only put x value for `TransformComponent:Translate(0,0)`, the movement will be horizontal, and vertical if only a y value is entered. Entering both values will make the movement diagonal.

```
Property:
[Sync]
number totalTime = 0
    
Method:
[Server only]
void OnUpdate(number delta)
{
    self.totalTime = self.totalTime + delta
    if self.totalTime > 0 and self.totalTime <= 5.0 then
        self.Entity.TransformComponent:Translate(0,0.009)
    elseif self.totalTime > 5.0 and self.totalTime <= 10.0 then
        self.Entity.TransformComponent:Translate(0,-0.009)
    elseif self.totalTime > 10 then
        self.totalTime = 0
    end
}
```

Update 2025-11-20 PM 02:03


# Utilizing RectTileMap

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

In MapleStory Worlds, you can create a top-down view world instead of side-scrolling using RectTileMap mode. Let's learn about RectTileMap in this course.

# RectTileMap and Player Movement

MapleStory Worlds allows you to create topography in MapleTile, RectTile, SideViewRectTile mod.

- **MapleTile**
  - You can create a side-scrolling map in the form of MapleStory. [RigidbodyComponent](/apiReference/Components/RigidbodyComponent) controls the player's movement.
- **RectTile**
  - You can create a top-down view map. The player moves up, down, left, and right. [KinematicbodyComponent](/apiReference/Components/KinematicbodyComponent) controls the player's movement.
- **SideViewRectTile**
  - Based on RectTile, but the player moves side-scrolling. [SideviewbodyComponent](/apiReference/Components/SideviewbodyComponent) controls the player's movement.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1658737408689f48e44ffdffb4cbd8a4934cd33fb2bbe.png)Unlike MapleTileMap, in the RectTileMap environment, the player normally moves up, down, left, and right. [KinematicbodyComponent](/apiReference/Components/KinematicbodyComponent) supports the player's movement up, down, left and right, jumping, and colliding with tiles. So, in a RectTileMap map, RectTileMap and [KinematicbodyComponent](/apiRefe rence/Components/KinematicbodyComponent{"target":"_self"}) must be active on the player entity. Because DefaultPlayer currently includes [RigidbodyComponent](/apiReference/Components/RigidbodyComponent), [KinematicbodyComponent](/apiReference/Components/KinematicbodyComponent), and [SideviewbodyComponent](/apiReference/Components/SideviewbodyComponent), the movement control has a different subject depending on the map mode.

> **Learn more**  For the movement on RectTileMap, please refer to [Control Character Movement from RectTileMap](/docs?postId=748).

# RectTileMap Mode Change

You can change to RectTileMap mode using one of the two methods below.

| 1. Convert from Hierarchy | 2. Press the Tile Editor button to convert |
| :---: | :---: |
| Select **Hierarchy - Context Menu of the desired map - Switch To RectTileMap** <br> ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/168620964686807e552bd474248cdae01ec5e9d51530a.png) | Click the Tile Editor button for more than 1 second - Select the mode **RectTile** <br> ![sideview2](https://mod-file.dn.nexoncdn.co.kr/bbs/1658472803827bec010dc49a346efbc96c900cbe8ca0a.png) |

# Creating and Editing Tile Sets

#### Adding and Editing Tile Set

Before we place tiles, we have to first make tile sets. You can create and edit new tile sets in the tile set palette.

1. Create a tile set by clicking the **[+]** button in the tile set palette. ![newtileset](https://mod-file.dn.nexoncdn.co.kr/bbs/1658800683076813781b77e774442b459cbf4857c82eb.png)
2. Create **NewTileSet** in **Workspace - MyDesk**. Feel free to rename the tile set. (Ex: TileSetExample) ![001](https://mod-file.dn.nexoncdn.co.kr/bbs/16808618014123977d1ec0ccb4476bcb815083121136f.png)
3. In the drop box of the tile set palette, select the new tile set. (The first tile set you create is automatically selected.) ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606029806f7ed3d33041e480f9ecf2c6712caf4f4.png)

#### Adding a Tile to a Tile Set

Let's add the tiles we want to our new tile set.

*Add tiles using **Resource Storage**

1. Click the ![addtile_rect](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_addtile_rect.png) button at the bottom of the tile set palette - Clicking on **Add ResourceStorage Image** opens **Resource Picker**. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/16530468681401f0132f4322843df987e486e38236682.png)
2. Add the built-in sprite as a tile in the **Resource Picker** - **MSW Resources** tab. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1680863994283826ac603214b4807bc9c3809e9f898d8.png)

- Add an image from **Workspace as a tile**

1. Click the ![addtile_rect](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_addtile_rect.png) button at the bottom of the tile set palette - Clicking on **Add Workspace Image** opens **Reference**. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1653047049074a99d1de3a0084236b89f4d37942e0852.png)
2. Select an image from **Reference** to add to the tile set. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1652917565746a7f06f04492340e9b1057560e5c1497d.png)

- **Add a Tile Using Atlas Unpacker** You can use a cut-out atlas from Atlas Unpacker by clicking **Add Rect Tile Set**. Please refer to [Utilizing Atlases](/docs?postId=687) on how to cut the atlas. The cut-out sprites are added as individual tiles to the selected tile set. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/16528661656754c6d218fbbe040bfba3c0c83bfd730a9.png)

#### Setting Tile Properties

Switching to tile editing mode allows you to set tile properties. Click the Edit button on the top right side of the tile set palette to change to tile property edit mode. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1682057408178785006c7aeee4236b8fca2b9a709fd44.png)

**Changing Tile Names** You can double-click the text below the tile to rename the tile (ex: Tile02). Tile names are used when creating tiles dynamically via script. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/164689337602731f90bf9601147b8b66f5ffa207ef6bf.png)

**Editing Sprites** You can change the sprite image of the added tile.

1. Click the checkbox of **Edit Sprite** - Click the **[Edit Tile]** button - Open **Resource Picker**. ![00](https://mod-file.dn.nexoncdn.co.kr/bbs/1682057645787f5443a39cd6443eaafe9c45d9b45cad5.png)
2. Select a sprite you'd like to use from **Resource Picker** to change the tile image to that sprite image. ![001](https://mod-file.dn.nexoncdn.co.kr/bbs/168205768599810bd27335f7a47999ef427e8286321fa.png) If you change the sprite of a tile already placed on the map, the tile will also change. ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/16456061645131caf59bf83324f438f862a5af508ba87.png)

**Editing Movable Tiles** You can set whether the player can move to the tile. Select the **Edit Movable Tiles** checkbox to edit properties. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/1682054762110b1ae7dca27344762a6611eb131d6caa6.png)

Clicking the arrow button will change the movable property.

- ![green](https://mod-file.dn.nexoncdn.co.kr/bbs/16636525526508fb98d4ba8974da19fa2ae6118820054.png): Tiles to which the player can move
- ![red](https://mod-file.dn.nexoncdn.co.kr/bbs/1663652575156a3a8a3d780ee400a83a0b283ff8be1b0.png): Tiles to which the player cannot move ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/16820547187997dc64bf379dc4d52ab47eb6c91a33d90.png)

#### Removing Tiles from a Tile Set

Select the tile you want to remove from the tile set palette and click the **[Delete]** button. ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606220639116d64b78c364589b890061155388a68.png)

# Drawing Tiles

#### Placing Tiles

Select the desired tile from the tile set palette and drag to place the tile. ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/16456062306076fefdf58a8264dbea4b8fcacb255d982.png)

#### Convenient Tile Placement

You can use four different features to easily place the tiles. The default location is the upper left corner of **Scene**.

| Icon | Description |
| --- | --- |
| ![brush](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_tile_draw_brush.png) | Tiles are drawn depending on the drawing movement. |
| ![tilefill](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_tile_draw_fill.png) | A tile is drawn with the specified rectangular size. |
| ![tilemarquee](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_tile_elliptical_marquee.png) | A tile is drawn inside the specified circular shape. |
| ![timepaint](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_tile_draw_paint.png) | The tile selected is placed over the entire map. |

#### Delete Placed Tiles

You can right-click on a tile to delete it. If you right-click and drag, all tiles in the dragged position will be deleted. ![21](https://mod-file.dn.nexoncdn.co.kr/bbs/16456062487051dd3a7b4ed62497a9dafc5f8e690919b.png)

#### Setting Tile Grid Size

The tile grid size can be set in **RectTileMap entity - RectTileMapComponent - GridSize** under the map currently being edited.

| GridSize (x = 1, y = 1) | GridSize (x = 0.5, y = 0.5) |
| --- | --- |
| ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/16456062694889c7e72b895c140ce93b353ea7cc3ba33.png) | ![23](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606280377b40fec3292dd4738a54caf7fee26fd98.png) |
| ![24](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606294167b95cdf311685440e9bae999e36d3dfcc.png) | ![25](https://mod-file.dn.nexoncdn.co.kr/bbs/164560630741654c491198180455da76d8629fe612227.png) |

# Layer Setting

Adding a layer allows you to place another tile on top of a tile you have already placed.

#### Adding a Layer

1. If you press the **[+]** button at the bottom of **Map Layer** panel, a new map layer is added. A new RectTileMap entity is also added to the **Hierarchy - Map Entity**. ![26](https://mod-file.dn.nexoncdn.co.kr/bbs/1661148577594d85c8f9327f04b3289a718aa44a2daef.png)
2. If you place a tile after selecting a new layer, you can place another tile on top of the previous tile map. ![27](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606334153ac37196bd49c453cb90f2b72229eafcb.png)

#### Applying Tile Set by Layer

When you add a layer, it defaults to using the old tile set in common. As such, if you change the properties of a specific tile, you may unintentionally change the properties of other layers as well. For example, if you create **layer 2** when **tile set 1** is applied to **layer 1**, **tile set 1** will apply to **layer 2** as well. Then if you change the property of **tile set 1** to change the image of the tile placed in **layer 1**, the change also occurs to tile placed in **layer 2**. To avoid such an unwanted change, we recommend applying different tile sets for different layers. ![28](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606345066334e779be0bd4779890385dcae16387c.png)

Here's how to add a different tile set for each layer.

1. Add a new tile set aside from an existing tile set. (Ex: TileSetExample2) Add some tiles to the new tile set as well. ![29](https://mod-file.dn.nexoncdn.co.kr/bbs/164560635412061c42fedcd1a4f32a853fbc48ee0940d.png)
2. Adds a new map layer. (Ex: Layer 2) ![30](https://mod-file.dn.nexoncdn.co.kr/bbs/16644394470198d98072e5bb44d7fa21e9a5c1b092fa7.png)
3. With the layer you added still selected, select the new tile set (Ex: TileSetExample2). The new layer is then applied with a new tile set. Then try placing a tile on the new layer. ![32](https://mod-file.dn.nexoncdn.co.kr/bbs/166443979497645960ec72f1d435698bad0417102aced.png)
4. Try selecting the layers one after the other in **RectTileMap** or **Map Layer** in **Hierarchy**. You'll see that different tile sets are applied to each **RectTileMap** in tile set palette. ![33](https://mod-file.dn.nexoncdn.co.kr/bbs/164560640382826178fc21ac34e7d99d4c13f1cc0f215.png)

# Dynamic Tile Creation Using Script

RectTileMap entity's [RectTileMapComponent](/apiReference/Components/RectTileMapComponent) offers various convenient functions, including tile placement or World coordinate conversion. Let's place tiles dynamically using [RectTileMapComponent](/apiReference/Components/RectTileMapComponent).

**Example overview**

- Sand tiles are placed in the map.
- When the player goes around Sand tiles and presses a certain key, the tile on which the player is standing changes to another tile.
- z key : Places Grass tile
- x key : Places Rock tile

1. Convert map to RectTileMap mode. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/168620964686807e552bd474248cdae01ec5e9d51530a.png)
2. Set the name as **DefaultTileSet** after adding a new tile set. ![35](https://mod-file.dn.nexoncdn.co.kr/bbs/1662618952893515b736d717e4972b5fe07a3d3c0e5cd.png)
3. Click the ![addtile_rect](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_addtile_rect.png) button at the bottom of the tile set palette - **Clicking on Add ResourceStorage Image** opens **Resource Picker**. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/16530468681401f0132f4322843df987e486e38236682.png)
4. Save the image below. ![37-1](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606456025f9dcb42718e54d048a4ef4d68caeb5c3.png) ![37-2](https://mod-file.dn.nexoncdn.co.kr/bbs/164560648032304c0fb4f292b4738a29f50d683c16a74.png) ![37-3](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606496185fa29d88d5fe74731b4086ee5b157af0f.png) Add a sprite by dragging the image saved in the **Resource Picker - etc** folder. ![38](https://mod-file.dn.nexoncdn.co.kr/bbs/1680863931512b691da8053614befabb2a18744ec2fca.png)
5. Tiles are added by selecting the added sprites one after the other. ![40](https://mod-file.dn.nexoncdn.co.kr/bbs/16636620067727a0b1d62198d4c88bd0adcc1557464e3.png)
6. Click the Edit Tile button in the tile set palette. Set the name of added tiles like the following. ![41](https://mod-file.dn.nexoncdn.co.kr/bbs/168205585653143803f0612be47e7937b4e451de0f5ea.png) | Sprite | Name |
| :---: | :---: | | ![37-1](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606456025f9dcb42718e54d048a4ef4d68caeb5c3.png) | Sand | | ![37-2](https://mod-file.dn.nexoncdn.co.kr/bbs/164560648032304c0fb4f292b4738a29f50d683c16a74.png) | Grass | | ![37-3](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606496185fa29d88d5fe74731b4086ee5b157af0f.png) | Rock |
7. Click the Edit Tile Properties button again to exit edit mode. Select the Sand tile and place it as follows. ![42](https://mod-file.dn.nexoncdn.co.kr/bbs/1645606624729d3b155764feb452b8a536c74a08fb8b8.png)
8. In **Workspace**, add a new script component, enter **EditRectTile** as its name. ![43](https://mod-file.dn.nexoncdn.co.kr/bbs/16611488907978a25e171e4884b109464ee22559ebff5.png)
9. Add the **EditRectTile** component to **DefaultPlayer**. ![44](https://mod-file.dn.nexoncdn.co.kr/bbs/16611489073306b5098a2ff0548cc87bb5c84adc1288e.png)
10. Open the **EditRectTile** script component. Add the `ChangeCurrentTile()` function and a **string**-type parameter, **tileName**. Write the function as follows.```
[server]
void ChangeCurrentTile(string tileName)
{
    if  tileName == nil then 
        return 
    end

    local pos = self.Entity.TransformComponent.Position
    local tilemap = _EntityService:GetEntityByPath("/maps/map01/RectTileMap").RectTileMapComponent

    -- Convert the world space coordinates to tilemap space coordinates
    local cellPos = tilemap:ToCellPosition(pos)

    -- Return the information of the tile where the player is currently located
    local tileInfo = tilemap:GetTile(cellPos)

    if tileInfo ~= nil then
        tilemap:SetTile(tileName, cellPos.x, cellPos.y)
    end
}
```
11. Add **KeyDownEvent** in **Event Handler**, and compose its content as follows.```
Event Handler : 
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event)
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    if key == KeyboardKey.Z then
        self:ChangeCurrentTile("Grass") -- Z key: Place Grass tile
    elseif key == KeyboardKey.X then
        self:ChangeCurrentTile("Rock") -- X key: Place Rock tile
    end
}
```
12. Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Move the player and press Z or X. Confirm the change in tile where the player is located.

Update 2025-11-17 PM 08:14


# Creating Maps with SideViewRectTile Mode

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

RectTileMapComponent and KinematicbodyComponent are suitable for top-down view game production, but not for side-scrolling game production. SideViewRectTile supports side-scrolling-type movement, jumping, and collisions with tiles to produce side-scrolling games easily using RectTileMap. We'll discuss how SideViewRectTile mode works, and create a map.

> **Learn more**  SideViewRectTile mode is based on RectTile mode. Before trying this course, please refer to [Utilizing RectTileMap](docs?postId=589) first.

# Change SideViewRectTile Mode

To use SideViewRectTile, you need to change the map tile mode. The first way to change Map Tile mode is to select the current map entity from the Hierarchy ![hierarchy](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene_maker.png) and select **Switch To SideViewRectTileMap** from the right-click menu. ![sideview1](https://mod-file.dn.nexoncdn.co.kr/bbs/1686212940229528039cf5e884de28be22ce0db30fcd2.png)

The second way is to long-press the Tile Editor button on the top menu to open the Select Tile Mode menu, and then select **SideViewRectTile**. ![sideview2](https://mod-file.dn.nexoncdn.co.kr/bbs/1658472803827bec010dc49a346efbc96c900cbe8ca0a.png)

If you select SideViewRectTile mode, the Scene ![scene](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene.png) will change as below. ![scene](https://mod-file.dn.nexoncdn.co.kr/bbs/16587495455372f3485bfe4304859a62f38fe743d002d.png)

# Create SideViewRectTile Map

Creating a map in the SideViewRectTile mode is generally the same as the RectTileMap production process. We'll create a simple SideViewRectTile map as shown below. ![sideviewmap](https://mod-file.dn.nexoncdn.co.kr/bbs/1658474735348794bdba4e80f40338aefc482a15595e0.png)

First, let's save the four images below. ![tundraRight](https://mod-file.dn.nexoncdn.co.kr/bbs/16584737735555de4cfef1e6846b881fb08dd974e18f1.png) ![tundraMid](https://mod-file.dn.nexoncdn.co.kr/bbs/1658473786750f09028c3d7164a2694e9f0a099456a1c.png) ![tundraLeft](https://mod-file.dn.nexoncdn.co.kr/bbs/1658473808386f01655943b5f452a842aaf7f7ba3c4a6.png) ![ice](https://mod-file.dn.nexoncdn.co.kr/bbs/1658473825666f3080a29dece4ce685465b7018636cbe.png)

1. Change the tile mode to **SideViewRectTile**.
2. Add the four images you downloaded above to ![resourcestorage](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_resource_storage.png) Resource Storage - My Resource - etc. ![rs](https://mod-file.dn.nexoncdn.co.kr/bbs/165874972066502a39c24bbd646c384b9486e3bb4881d.png)
3. Search back-4 on the Preset List ![preset](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_asset.png) - Background and then select it to change the map's background. ![bg](https://mod-file.dn.nexoncdn.co.kr/bbs/1658475486669606fbfbe07024b8dad2697df10431fec.png)
4. Press the "[+]" button on the upper left of the Tile Set Palette, and then select **Create Empty TileSet**. Enter the name of the new Tile Set as **TileSet**. ![newtileset](https://mod-file.dn.nexoncdn.co.kr/bbs/165874984152737132bbc9da841f7b3ba6690a8d9fefd.png)
5. On the bottom of Tile Set Palette, click the ![add](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_addtile_rect.png) icon on the lower left of the Tile Set Palette, and then select **Add ResourceStorage Image**. ![add](https://mod-file.dn.nexoncdn.co.kr/bbs/16587499138192f06f82cfafb4535a1b7431d757df55d.png)
6. Select the images you have added in advance from the Resource Picker. ![picker](https://mod-file.dn.nexoncdn.co.kr/bbs/1681090600455cf1b5be97cca41538edc1002fed32cee.png)
7. Select a tile from Tile Set to decorate the map as desired. In addition, place suitable objects for the map. ![mapedit](https://mod-file.dn.nexoncdn.co.kr/bbs/16584776165678f4bf1e92d9845bcb7a0745d3802952d.png)
8. Set the tile as immovable to make the character stand on the tile. ![move](https://mod-file.dn.nexoncdn.co.kr/bbs/16587502264797ed1bf2dbc3447d39081743abf93e075.gif)
9. Press the **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button to check if the side-rolling movement works well. ![play](https://mod-file.dn.nexoncdn.co.kr/bbs/1658478611789db5a20547f4f40a5bec1c0b961ad97a7.gif)

> **Learn more** For the movement on SideViewRectTile, please refer to [Controling Character Movement from SideViewRectTileMap](docs?postId=759).

Update 2025-11-17 PM 08:14


# Understanding MapleStory Movement Concepts

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's examine the RigidbodyComponent characteristics that follow the MapleStory Movement Method among the essential movement methods for world production. We recommend studying movement with [Create MapleStory Tile Map](/docs?postId=747).

# MapleStory Movement Method

RigidbodyComponent is used when you want to move as characters do in MapleStory. The movement method is closely related to the landscape type, so you can create a MapleStory-type movement method with TileMapComponent. At this time, the movement on the tile is managed by RigidbodyComponent.

> **Tip** The player character has acceleration while moving, so the movement properties such as WalkAcceleration, WalkDrag, and WalkSlant are involved in both RigidbodyComponent and landscape's movement properties.

# Default Movement

Let's learn about the default movement method of RigidbodyComponent.

#### Move on Foothold

The player moves while on the foothold where the player is currently stepping unless there is no particular movement change. If the player gets separated from the foothold, the relation to the foothold will be disconnected, and then it follows the foothold movement rule as to which the player steps on next. As shown in the picture below, the player, who is stepping on the red foothold, does not move while moving to the green foothold despite passing the crossing point with the green foothold. However, if the character jumps at the point where the red and green footholds overlap, the player will step on the green foothold and move following the green foothold movement rule.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1658193798420c9b8127ab85542ac8c25008d67ca62e6.png)

![1-1](https://mod-file.dn.nexoncdn.co.kr/bbs/16581938215047ccafa3686d54c30a7ed3194be7c793a.gif)

#### Vertical Foothold Movement Restriction

The vertical foothold connected with the floor blocks the player character's movement.

![blocked2](https://mod-file.dn.nexoncdn.co.kr/bbs/165822007557308684a3bc9b44795a843406f14f5b8b9.gif)

#### A Movement That Got Out of Foothold

- **When going down**: When the player is not stepping on the foothold, going down is a default movement method by being influenced by gravity. The player character falls, and then stops falling and lands upon encountering a foothold. The landed character follows the movement rule on the foothold again.
- **When going up**: Even though the player character encounters another foothold while going up, the character can ignore and pass it and go up. ![UP](https://mod-file.dn.nexoncdn.co.kr/bbs/1658883585804ef670a8a5f244cd49d1aaee440b64e30.gif)

# Intensive Movement

#### Topography Layer

You can create up to 10 Map Layers, and use unique tiles for each layer. This means that you can draw the same patterns on a different layer. However, the layer where the tile belongs is different, so it will be created as a different foothold. Therefore, if the layer is different, then the footholds will not be connected as one. Even though some differently-shaped tiles are connected in some world, and the character walks smoothly across them, the foothold information for the character will change.

We drew some portions of the same tiles overlapping in Layers 1 and 2, as shown below. When the player character moves from Layer 1 to Layer 2, the character can pass the vertical foothold. However, when the player character moves from Layer 2 to Layer 1, the character cannot move because the vertical foothold is blocked. When it belongs to Layer 1, it ignores the vertical foothold belonging to Layer 2, so the movement is not possible.

![maplayer2](https://mod-file.dn.nexoncdn.co.kr/bbs/16593207875474437a8ce52584df9bd06b8487e5d5dec.png)![maplayerblocked](https://mod-file.dn.nexoncdn.co.kr/bbs/165823394560592e2768650e94a9fb15284bd030a570a.gif)

#### SortingLayer

In general, SortingLayer is automatically set unless the creator changes it from the script, meaning the order shown in the scene will not be changed. However, when the entity has RigidbodyComponent, the order shown can be changed. For the entity with RigidbodyComponent, for example, the player character's SortingLayer changes according to the TileMap Layer that is currently holding the player. As shown below, we drew some portions of tiles to overlap to different MapLayers, and arranged forest objects in Layer 2. If the player character moves from Layer 1 to Layer 2, Layer 2 is in front of Layer 1. So, the player character is drawn behind the forest, and placed in front of the forest when stepping on Layer 2. ![SortingLayer](https://mod-file.dn.nexoncdn.co.kr/bbs/1658231806874225549d7abfd4083aa75e5de3ed69aaf.gif)

#### Vertical Line Topography

The horizontal ground foothold (ground) and the connected vertical foothold become a wall blocking the movement of RigidbodyComponent. However, RigidbodyComponent can pass through vertical footholds that are separate from ground footholds. ![notblocked](https://mod-file.dn.nexoncdn.co.kr/bbs/16588846011832681a46df73b40e09ecf4140c57c09ce.gif)

# Create Different Movement from MapleStory

#### Vertical Line Topography

If you want to make the character unable to pass the vertical foothold with a jump, whether it is attached to or separate from the ground foothold, you should enable the **IsBlockvertialLine** of RigidbodyComponent.

| IsBlockvertialLine Enabling | IsBlockvertialLine Disabling |
| --- | --- |
| ![BlockedTrue](https://mod-file.dn.nexoncdn.co.kr/bbs/165830397057921277d58d2954629b55e8db6b9ca6d99.gif) | ![BlockedFalse](https://mod-file.dn.nexoncdn.co.kr/bbs/1658304402181bdd5063510e848f090ae484b1467f48e.gif) |

##### Blocking Only the Topography of Vertical Lines on a Specific Layer

Enabling RigidbodyComponent's **IsBlockvertialLine** prevents it from going through all vertical topography inside the map. If you want to prevent RigidbodyComponent from passing through the vertical topography only on some map layers, enable **TileMapComponent - IsBlockvertialLine** on those map layers.

Let's look at an example. After creating two map layers as shown below, we'll set the grass tiles to pass through the vertical topography and the stone tiles to not pass through. ![v01](https://mod-file.dn.nexoncdn.co.kr/bbs/1681114270716dcd0db08af484f42987ea977046172d4.png)

After selecting **MapleMapLayer_1** in **Hierarchy** and looking at the Property Editor, **MapLayerName** is set to **Layer2**, which is a stone tile. ![v02](https://mod-file.dn.nexoncdn.co.kr/bbs/16811145893012649f50aa9c84d239be7289931be4c5b.png)

After selecting **TileMap_1**, enable **IsVerticalLine** in **TileMapComponent**. ![v03](https://mod-file.dn.nexoncdn.co.kr/bbs/1681114736635e34bcba0a8e84b7d9588196e14f563c8.png)

Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Grass tiles can pass through vertical topography, but stone tiles will block vertical topography when jumping. ![v04](https://mod-file.dn.nexoncdn.co.kr/bbs/1681115054201040f1c2e91564fe4919afebd2bcd9b7d.gif)

#### Map Boundary

To ignore the Map Boundary and move even outside the map topography, enable the **IgnoreMoveBoundary** property of the RigidbodyComponent.

#### LayerSettingType

Change the **RigidbodyComponent's LayerSettingType** type and set it to follow MapleStory movement. Alternatively, you can set it differently from MapleStory movement by changing the relationship between the SortingLayer of the ladder/rope/foothold and the SortingLayer of the Entity with RigidbodyComponent.

As shown below, let's look at how the relationship between the avatar and the ladder changes according to each type when a tile is drawn on Layer 1 and a ladder is placed on Layer 1, 2, 3, and 4 respectively. DefaultPlayer includes both RigidbodyComponent and AvatarRendererComponent. Let's see how SortingLayer of AvatarRendererComponent changes when adjusting LayerSettingType of RigidbodyComponent.

![layer](https://mod-file.dn.nexoncdn.co.kr/bbs/16740182831894ef72030e7074c09ab7a37a5e34bc3e0.png)

- **All**: Follows MapleStory movement. When RigidbodyComponent is stepping on the foothold, it follows the **SortingLayer of the foothold**. When climbing a ladder/rope, the SortingLayer value of AvatarRendererComponent follows the **SortingLayer of climbing on** value. ![all](https://mod-file.dn.nexoncdn.co.kr/bbs/16739467083350b8e1b78aa7f4626a6aa3a10630ee873.gif)
- **Climbable**: The SortingLayer value of AvatarRendererComponent changes based on **SortingLayer of ladder/rope that ** RigidbodyComponent got on last. Even if the avatar steps down from the ladder and steps on the foothold, it follows the ladder's SortingLayer value. ![climable](https://mod-file.dn.nexoncdn.co.kr/bbs/1673946686984683664c7c7484952b78440846bdcf879.gif)
- **None**: Follow SortingLayer** of Entity with **RigidbodyComponent set by the creator. In the following example, the SortingLayer value of AvatarRendererComponent is Default. Therefore, the SortingLayer value maintains Default no matter which ladder you climb. ![none](https://mod-file.dn.nexoncdn.co.kr/bbs/1673946729714d6916a24f5b1426ea7df4a97d8a71964.gif)

##### Reference Guide

- [Making Footholds](/docs/?postId=71)
- [Making a Moving Foothold](/docs/?postId=579)
- [Map Layer](/docs/?postId=53)
- [Create MapleStory Tile Map](/docs/?postId=747)

##### API Reference

- [RigidbodyComponent](/apiReference?postId=378)
- [MapComponent](/apiReference?postId=358)
- [TileMapComponent](/apiReference?postId=379)

Update 2025-11-17 PM 08:14


# Entity Movement Control Using MovementComponent

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

In this course, we'll learn about the major functions of MovementComponent, including jumping, player movement, setting entity coordinates, and the basic mechanisms of MovementComponent.

# Introduce MovementComponent

**MovementComponent** offers various features, setting characters' movement speed and jump force and forcing an entity with RigidbodyComponent to jump, move, or stop. You can dynamically move an entity by controlling TransformComponent in a script. However, if the entity has RigidbodyComponent, it might not move as you intended as RigidbodyComponent also has control over TransformComponent. MovementComponent checks if an entity has RigidbodyComponent and controls TransformComponent or RigidbodyComponent to move the entity. Therefore, the creator can just use MovementComponent to control entity movement without having to check for the existence of RigidbodyComponent.

> **Tip** You can control **KinematicbodyComponent** and **SideviewbodyComponent** in the same way.

# About Player Movement

#### Setting Player Movement Speed

You can use **InputSpeed** to set players' movement speed. The property determines the amount of power to move the entity upon pressing the key (arrow key), only valid for player entities. The bigger the input value, the faster the player entity.

| InputSpeed = 1.2 | InputSpeed = 3 | InputSpeed = 5 |
| --- | --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16560435039321a16b7ea2c7148098f921cc915250d8e.gif) | ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/165604352590254034248ce564039be047668cf8da65b.gif) | ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1656043549528b8d89f6ae69347248beb409c73e868e0.gif) |

#### Checking Pause on Ladder

You can use the **IsClimbPaused** property to check if the player stopped moving while climbing the ladder. The property checks if the entity is in pause status while on a ladder or rope, only valid for player entities. IsClimbPaused is a boolean type, and it can get true when the player entity paused while climbing the ladder. Since it is a ReadOnly property, it can only be read.

```
[server only]
void OnUpdate(number delta)
{
    local isClimbPaused = self.Entity.MovementComponent.IsClimbPaused
    log(isClimbPaused)
}
```

![isclimbpaused](https://mod-file.dn.nexoncdn.co.kr/bbs/1656043847301b2708b6a8c8740c5b3fd687fee8dd93a.gif)

#### Confirming the Direction the Player Faces

You can use the **IsFaceLeft** function to check the direction the player is facing. The function is only for player entities, and it returns true if the player entity looks to the left, and false if not.

```
[serive: InputService]
HandleKeyUpEvnet(KeyUpEvent event)
{
	-- Parameters
	local key = event.key
	--------------------------------------------------------
	--Outputs true on the console window if the player is facing left whenever pressing the left and right arrow keys.
	if key == KeyboardKey.LeftArrow or key == KeyboardKey.RightArrow then
		log(self.Entity.MovementComponent:IsFaceLeft())
	end
}
```

![isfaceleft](https://mod-file.dn.nexoncdn.co.kr/bbs/1656043891044e47a017f5f0746648ec1081bf5829c3c.gif)

# About Entity Jump

#### Entity Jump

MovementComponent's **Jump** function makes an entity jump according to the power input in JumpForce. As a boolean type, it returns true if the entity jumped. It requires RigidbodyComponent in the entity to work properly. It returns false if the entity does not have RigidbodyComponent. In general, you are recommended to call it in server for synchronization, but in case of a player entity, it should be called from client.

```
[server only]
void OnUpdate(number delta)
{
    -- In case of a player entity, change the execution control space to client or client only.
	if self._T.accTime == nil then 
		self._T.accTime = 0 
	end
	
	self._T.accTime = self._T.accTime + delta
	
	--Jumps entity every 3 seconds.
	if self._T.accTime >= 3 then
		self.Entity.MovementComponent:Jump()
		self._T.accTime = 0
	end
}
```

![jump](https://mod-file.dn.nexoncdn.co.kr/bbs/1656043915462a19ef1f74b3a4006ba2e0f38f492f7d1.gif)

#### Setting Jump Force

**JumpForce** property determines how high an entity can jump. JumpForce value is reflected when MovementComponent's Jump function is called.

| JumpForce = 1 | JumpForce = 3 | JumpForce = 5 |
| --- | --- | --- |
| ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16560437341534e08dd0a7a2d4eeba225a5b7b7e99282.gif) | ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1656043756640d0205b1f8b7f4b5f95a941c61ca310f7.gif) | ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16560437769096cd53f7210b74a1f8a08694f05ddeb9b.gif) |

#### Down Jump

**DownJump** function moves an entity to the foothold below, if there is another foothold below the one the entity is standing on. It requires RigidbodyComponent to work properly. It is ignored if there is no RigidbodyComponent. The return type is boolean, returning true if entity moved successfully. If you add the component below to an entity with MovementComponent and RigidbodyComponent, you'll see the entity going down to the below foothold every 3 seconds. Just like Jump, in case of a player entity, you have to call the function from client.

```
[server only]
void OnUpdate(number delta) 
{
    -- In case of a player entity, change the execution control space to client or client only.
	if self._T.accTime == nil then 
		self._T.accTime = 0 
	end
	
	self._T.accTime = self._T.accTime + delta
	
	--Down-jumps entity every 3 seconds.
	if self._T.accTime >= 3 then
		self.Entity.MovementComponent:DownJump()
		self._T.accTime = 0
	end
}
```

![downjump](https://mod-file.dn.nexoncdn.co.kr/bbs/165604394157048172dcceb554c5f99f7bca5f20aca41.gif)

> **Learn More** Unlike components in other entities, player entity's RigidbodyComponent is synchronized from client to server. It is best to control RigidbodyComponent in client.

# Entity Movement

#### Entity Movement by Coordinates

MovementComponent uses SetPosition function to set coordinates for entities. The `SetPosition()` function sets the position of TransformComponent by default, but if it includes the RigidbodyComponent entity, sets the position through RigidbodyComponent. It takes the Vector2 value as a parameter. The entity will move to the coordinates corresponding to this value.

```
[server only]	
void OnUpdate(number delta)
{
    local deltaX = 1
    local pos = self.Entity.TransformComponent.Position
    pos.x = pos.x + deltaX * delta
    local deltaPos = Vector2(pos.x, pos.y)
    self.Entity.MovementComponent:SetPosition(deltaPos)
}
```

![setposition](https://mod-file.dn.nexoncdn.co.kr/bbs/16560439621203295e712472d457299cb202c757c42ef.gif)

Update 2025-11-20 PM 02:03


# Control Character Movement from RectTileMap

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

You control the character's movement with KinematicbodyComponent in RectTileMap. A creator can make the character move and jump freely on the 2D plane through KinematicbodyComponent. The creator can also draw shadows. Today let's learn about KinematicbodyComponent and look at use methods with simple examples.

##### API Reference

[KinematicbodyComponent](/apiReference/Components/KinematicbodyComponent)

> **Learn More** Please refer to [Utilizing RectTileMap](docs?postId=589) for details about RectTileMap.

# KinematicbodyComponent Introduction

Let's take a look at the properties of **KinematicbodyComponent** in the **Workspace - DefaultPlayer - Property** window.

| Property | Description |
| :---: | --- |
| Acceleration | This feature is deprecated. Please use SpeedFactor. |
| ApplyClimbableRotation | If it is True, the character on the rotating or slanted ladder will be affected by the shape of the ladder. If it is False, the character is not affected by the slant or rotation of the ladder. |
| EnableJump | If it is True, it uses the jump feature. |
| EnableShadow | If it is True, it uses shadow. |
| ShadowColor | The shadow color. |
| ShadowOffset | The shadow's position. |
| ShadowSize | The shadow's size. |
| ShadowScalingRatio | The rate of change of the shadow's size. The size varies depending on how high the Entity jumps. |
| EnableTileCollision | If it is True, it will collide with a square tile map. |
| JumpDrag | Controls the rate of the jump speed. The greater the value, the faster the fall. |
| JumpSpeed | It controls the speed of bouncing up when jumping. The greater the value, the higher the bounce. |
| SpeedFactor | When moving, this value is multiplied to the speed traveled in the X or Y direction. The greater the value, the faster the movement. |
| Enable | If it is True, it enables KinematicbodyComponent. |

# KinematicbodyComponent Use

## Create Speed Increase Tile

Let's create a tile to increase speed when stepping on it.

1. Set the tile map mode as RectTile. ![recttile](https://mod-file.dn.nexoncdn.co.kr/bbs/16582959899857d48535b46064d39a8b24d45268f5e02.png)
2. Press the **[+]** button on the upper left of the Tile Set Palette, then select **Create TileSet From Template - BnB** Tile Set. ![tileset](https://mod-file.dn.nexoncdn.co.kr/bbs/169034747395370bf20b37bcd4b86900f6f1b9c52284f.png)
3. Set the name of the Tile Set as **BnB TileSet**. ![BnB](https://mod-file.dn.nexoncdn.co.kr/bbs/1690347500526ff0abc6e49f34688b95fbe284a378453.png)
4. Click the Edit button on the upper right of the Tile Set Palette to change to Tile Property Edit mode. ![tileedit](https://mod-file.dn.nexoncdn.co.kr/bbs/1658300856970ff2537ee3b9f46a7a74b1756bf4d48cb.png)
5. Check if it is **movable** from the editing target, then select a tile without making the character move. The green arrow icon refers to a movable tile, and the red arrow icon refers to an immovable tile. ![dontmove](https://mod-file.dn.nexoncdn.co.kr/bbs/1658368512967a68f8090145147d99c7dccea02d22577.gif) It removes the edition mode after editing.
6. Select Layer1 from **Map Layer** and then create a map. ![map1](https://mod-file.dn.nexoncdn.co.kr/bbs/16582986986052598c60d8a5c4f97bd12a101ee3feaba.png)
7. Create Layer2 by pressing the ![addlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_swatches_add.png) button in **Map Layer**, then decorate the map by placing houses and trees. ![map2](https://mod-file.dn.nexoncdn.co.kr/bbs/16582993425778cfc274e817a4e18876539fddcf14ec2.png)
8. Press the ![addlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_swatches_add.png) button in **Map Layer** and add Layer3. ![layer](https://mod-file.dn.nexoncdn.co.kr/bbs/16589727962500e6f27c08a514189afcd6c49e7ad6047.png)
9. . Press the **[+]** button on the upper left of the Tile Set Palette, then select **Create Empty TileSet**. Add a new Tile Set with the name **Buff TileSet**.
10. Press the ![add](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_addtile_rect.png) button on the bottom left of the Tile Set Palette, then select **Add ResourceStorage Image**. ![addtile](https://mod-file.dn.nexoncdn.co.kr/bbs/1690349260069399d7e9a5a21497d9c52ec63ab26c4c2.png)
11. Click the Sprite that has been searched with the RUID below from **Resource Picker - MSW Resource** to add it to the Tile Set. **Buff**: 02652c247d9d40518702255bed1376c8 **Trap**: 510cf1b467634a3db7624041432c3de5 ![buff](https://mod-file.dn.nexoncdn.co.kr/bbs/16810900445520aec35be4e2f446ba329e093a22f61ba.png) ![trap](https://mod-file.dn.nexoncdn.co.kr/bbs/168109006571334c6e0622b7347388c4fc77829c32f55.png)
12. Switch to Tile Property Editing mode, then double-click the names to set them as **Buff and Trap** for each. ![rename](https://mod-file.dn.nexoncdn.co.kr/bbs/1658369458607f8a560fe2565473b85ae6823a370224f.gif) It removes the edition mode after editing.
13. Place the Buff tiles on the map while selecting Layer3 from the **Map Layer**.
14. Under **MyDesk**, create a new script component **CheckSpeedBuffTile** and add it to **DefaultPlayer**.
15. Write **CheckSpeedBuffTile** as below.```
Method:
[server]
void IncreaseSpeedFactor()
{
    local kb = self.Entity.KinematicbodyComponent
    local oldSpeedFactor = kb.SpeedFactor
    local newSpeedFactor = Vector2(oldSpeedFactor.x + 1, oldSpeedFactor.y + 1)

    kb.SpeedFactor = newSpeedFactor
}

Event Handler :
[client only]
HandleRectTileEnterEvent(RectTileEnterEvent event)
{
    -- Parameters
    local Kinematicbody = event.Kinematicbody
    local TileInfo = event.TileInfo
    local TileMap = event.TileMap
    local TilePosition = event.TilePosition
    --------------------------------------------------------  

    -- When the Buff tile is stepped on, SpeedFactor is increased.
    if TileInfo.Name == "Buff" and Kinematicbody:IsOnGround() then
        self:IncreaseSpeedFactor()
    end
}
```
16. ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png)Let's watch the speed increase when you press the **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and step on the Buff tile. ![speedup](https://mod-file.dn.nexoncdn.co.kr/bbs/165830449805569dd931c42f04da08e73ac13afcbf882.gif)

## Avoid Obstacle Tile

Let's create obstacles that a character must jump over and set the character to die if they step on the obstacle.

1. Place Trap tiles on the map.
2. Under **MyDesk**, create a new script component **CheckTrapTile** and add it to **DefaultPlayer**.
3. Write the **CheckTrapTile** as below.```
Property:
[None]
string CurrentTileName = ""

Method:
[client only]
void OnUpdate(number delta)
{
    local kb = self.Entity.KinematicbodyComponent

    -- It collides with tiles only when on the ground.
    kb.EnableTileCollision = kb:IsOnGround()

    -- The character dies when stepping on the Trap tile. Jump carefully!
    if self.CurrentTileName == "Trap" and kb:IsOnGround() then
        self.Entity.PlayerComponent:ProcessDead()
    end
}

Event Handler:
[client only]
HandleRectTileEnterEvent(RectTileEnterEvent event)
{
    -- Parameters
    local Kinematicbody = event.Kinematicbody
    local TileInfo = event.TileInfo
    local TileMap = event.TileMap
    local TilePosition = event.TilePosition
    --------------------------------------------------------

    self.CurrentTileName = TileInfo.Name
}
```
4. ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png)Let's see if the character can jump over the Trap by pressing the **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and die when stepping on the Trap by mistake. ![trap](https://mod-file.dn.nexoncdn.co.kr/bbs/16583053608016b9cb5709e7749bcb2a121412c7d3c2f.gif)

Update 2025-11-17 PM 08:14


# Controlling Character Movement from SideViewRectTileMap

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

Because DefaultPlayer includes RigidbodyComponent, KinematicbodyComponent, and SideviewbodyComponent, the subject of movement control will vary depending on the mode the map was produced with. Among them, a map produced with SideViewRectTile mode controls the character's movement with SideviewbodyComponent. Today let us learn about SideviewbodyComponent and look at the use methods with a simple example.

##### API Reference

[SideviewbodyComponent](/apiReference/Components/SideviewbodyComponent)

> **Learn more** Please refer to [Creating Maps with SideViewRectTile Mode](/docs/?postId=758) for the details of SideViewRectTile.

# About SideviewbodyComponent

SideviewbodyComponent is used to control character movement in a side-scrolling system in SideviewRectTile maps. ![workspace](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_workspace.png) Workspace - ![defaultplayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png) DefaultPlayer - ![move](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/move.png) SideviewbodyComponent.

![sideviewbody](https://mod-file.dn.nexoncdn.co.kr/bbs/165871206539396a3c85df20c4f439e76b91157a57a82.png)

| Property | Description |
| :---: | --- |
| ApplyClimbableRotation | When true, the character on the rotating or slanted ladder will be affected by the shape of the ladder. When false, the character is not affected by the slant or rotation of the ladder. |
| EnableDownJump | Turns Jump Down on or off. |
| DownJumpSpeed | Controls the speed of the bounce back up when jumping down. The greater the value, the higher the bounce. |
| JumpDrag | Controls the rate of the jump speed. The greater the value, the faster the fall. |
| JumpSpeed | Controls the speed of the bounce when jumping. The greater the value, the higher the bounce. |
| Enable | If it is True, it enables SideviewbodyComponent. |

# SideviewbodyComponent Use

Let's learn how to utilize SideviewbodyComponent. We recommend referring to [Create Map with SideViewRectTile Mode](/docs/?postId=758) first and creating a map below, and then doing the example in this guide. ![play](https://mod-file.dn.nexoncdn.co.kr/bbs/1658478611789db5a20547f4f40a5bec1c0b961ad97a7.gif)

## Creating a Double Jump

The character's movement is controlled `MoveVelocity`. Let us make a simple double jump feature through `MoveVelocity`.

1. Under MyDesk ![mydesk](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_folder_no.png), create a new script component ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) called DoubleJump, and then add it to DefaultPlayer ![DefaultPlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png).
2. As shown below, add the `IsDoubleJumping` Property and `TryDoubleJump` Function to DoubleJump ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png).```
Property:
[None]
boolean IsDoubleJumping = false

Method:
[client only]
void TryDoubleJump()
{
    local sb = self.Entity.SideviewbodyComponent

    -- If the character has not performed the double jump yet but is still in the air, you should change the Y-axis value of the speed.
    if self.IsDoubleJumping == false and sb:IsOnGround() == false then
        local jumpSpeed = sb.JumpSpeed
        local vel = sb.MoveVelocity

        vel.y = jumpSpeed
        sb.MoveVelocity = vel

        -- Once the character performs the double jump, it changes IsDoubleJumping to true.
        self.IsDoubleJumping = true
    end
}
``` If the character has not performed the double jump yet but is still in the air, you should change the Y-axis value of the speed. IsDoubleJumping Property is a state variable to be changed to true when the double jump is performed and to be false again when landing.
3. In addition, add the `OnUpdate` Function as below.```
Method:
[client only]
void OnUpdate(number delta)
{
    local sb = self.Entity.SideviewbodyComponent

    -- Once the character lands, it changes IsDoubleJumping to false.
    if sb:IsOnGround() then
        self.IsDoubleJumping = false
    end
}
```
4. As shown below, KeyDownEvent ![event](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_mod_event_no.png) should be added, too.```
Event Handler:
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event)
{  
    -- Parameters
    local key = event.key
    --------------------------------------------------------

    if key == KeyboardKey.LeftAlt or key == KeyboardKey.Space then
        self:TryDoubleJump()
    end
}
```
5. Click **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) and test. If you input LeftAlt or Space key, a double jump is available. ![doublejump](https://mod-file.dn.nexoncdn.co.kr/bbs/165872170517526609c30a97c4a2e9a175212254925b8.gif)

## Creating Slippery Tiles

If you apply `MoveVelocity`, you can make the character's movement meet the game concept that the creator intends. In this example, let us create the movement as walking on a slippery road by adding acceleration and frictional force concepts to meet the field concept full of snow and ice.

1. Under MyDesk ![mydesk](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_folder_no.png), create a new script component ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) called CustomPlayerController, and then add it to DefaultPlayer ![DefaultPlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png).
2. Add Property as below after opening CustomPlayerController ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png).```
Property:
[None]
Vector2 InputDirection = Vector2(0,0)
[None]
boolean IsJumpKeyPressed = false
[None]
boolean IsCrouchKeyPressed = false
```
3. To add the `OnBeginPlay` Function and handle the user input directly, you should enable PlayerControllerComponent.```
[client only]
void OnBeginPlay()
{
    -- To handle the user input directly, you should disable PlayerControllerComponent.
    local controller = self.Entity.PlayerControllerComponent
    controller.Enable = false
}
```
4. KeyDownEvent ![event](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_mod_event_no.png) and KeyUpEvent ![event](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_mod_event_no.png) should be added to record the key input state.```
Event Handler:
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event)
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------

    if key == KeyboardKey.RightArrow then
        self.InputDirection.x = self.InputDirection.x + 1
    end
    if key == KeyboardKey.LeftArrow then
        self.InputDirection.x = self.InputDirection.x - 1
    end
    if key == KeyboardKey.UpArrow then
        self.InputDirection.y = self.InputDirection.y + 1
    end
    if key == KeyboardKey.DownArrow then
        self.InputDirection.y = self.InputDirection.y - 1
        self.IsCrouchKeyPressed = true
    end
    if key == KeyboardKey.LeftAlt or key == KeyboardKey.Space then
        self.IsJumpKeyPressed = true%%
    end
}

[service: InputService]
HandleKeyUpEvent(KeyUpEvent event)
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------

    if key == KeyboardKey.RightArrow then
        self.InputDirection.x = self.InputDirection.x - 1
    end
    if key == KeyboardKey.LeftArrow then
        self.InputDirection.x = self.InputDirection.x + 1
    end
    if key == KeyboardKey.UpArrow then
        self.InputDirection.y = self.InputDirection.y - 1
    end
    if key == KeyboardKey.DownArrow then
        self.InputDirection.y = self.InputDirection.y + 1
        self.IsCrouchKeyPressed = false
    end
    if key == KeyboardKey.LeftAlt or key == KeyboardKey.Space then
        self.IsJumpKeyPressed = false
    end
}
```
5. Let us calculate the character's movement based on acceleration and frictional force. First, add properties as follows.```
Property:
[None]
number MaxSpeed = 4 -- Maximum speed
[None]
number Accel = 10 -- Acceleration
[None]
number Drag = 8 -- Frictional force 
[None]
number AirAccel = 6 -- Aerial acceleration
[None]
number AirDrag = 4 -- Aerial frictional force
```
6. For better handling, let us apply the acceleration and frictional force values differently in the air. Add the `GetAccel` and `GetDrag` Functions as below.```
-- It returns the proper acceleration values on the ground and in the air.
Method:
number GetAccel()
{
    local body = self.Entity.SideviewbodyComponent

    if body:IsOnGround() then
        return self.Accel
    else
        return self.AirAccel
    end
}

-- It returns the proper frictional force values on the ground and in the air.
number GetDrag()
{
    local body = self.Entity.SideviewbodyComponent

    if body:IsOnGround() then
        return self.Drag
    else
        return self.AirDrag
    end
}
```
7. Set it as decelerating when there is no key input from the user and accelerating when there is. Add `UpdateVelocity` and `SignOf` Functions as below.```
number SignOf(number value)
{
    if value >= 0 then
        return 1
    else
        return -1
    end
}

void UpdateVelocity(number delta)
{
    local body = self.Entity.SideviewbodyComponent
    local vel = body.MoveVelocity

    if self.InputDirection.x == 0 then
        -- Decelerate when there is no input.
        if vel.x ~= 0 then
            local sign = self:SignOf(vel.x)
            local drag = self:GetDrag()
            vel.x = vel.x - drag * sign * delta

            if self:SignOf(vel.x) ~= sign then
                vel.x = 0
            end
        end
    else
        -- Accelerate when there is input.
        local sign = self:SignOf(vel.x)
        local accel = self:GetAccel()
        vel.x = vel.x + self.InputDirection.x * accel * delta
        vel.x = math.min(vel.x * sign, self.MaxSpeed) * sign
    end

    -- Apply the final calculation result.
    body.MoveVelocity = vel
}
```
8. Make the `OnUpdate` function call `UpdateVelocity`.```
[client only]
void OnUpdate(number delta)
{  
    -- Speed control
    self:UpdateVelocity(delta)
}
```
9. Click **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) and test. You can see that the movement to the left and the right is smooth and slipping. ![slide](https://mod-file.dn.nexoncdn.co.kr/bbs/1658730031714e5dd719655354d66878ba051e490182e.gif) However, since PlayerControllerComponent is inactive, the character's jump motion or movement animation does not work yet. You need to add a function to control the motion and animation for normal operation.
10. Open ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) CustomPlayerController again and then add the `UpdateAction` function that controls the motions of characters.```
void UpdateAction()
{
    local controller = self.Entity.PlayerControllerComponent
    local body = self.Entity.SideviewbodyComponent

    -- Prone
    if self.IsCrouchKeyPressed and body:IsOnGround() then
        controller:ActionCrouch()
    end

    -- Jump and Down Jump
    if self.IsJumpKeyPressed and body:IsOnGround() then
        if self.IsCrouchKeyPressed then
            controller:ActionDownJump()
        else
            controller:ActionJump()
        end
    end
}
```
11. Also add the `UpdateAnimationState` function that controls the animations of characters.```
void UpdateAnimationState()
{
    local body = self.Entity.SideviewbodyComponent
    local state = self.Entity.StateComponent

    if body:IsOnGround() then
        if self.InputDirection.x ~= 0 then
            -- Walking animation
            state:ChangeState("MOVE")
        elseif self.IsCrouchKeyPressed then
            -- Prone animation
            state:ChangeState("CROUCH")
        else
            -- Standing animation
            state:ChangeState("IDLE")
        end
    else
        -- Floating animation
        state:ChangeState("FALL")
    end
}
```
12. You also should add the `UpdateLookDirection` function that controls the character's left and right gaze.```
void UpdateLookDirection()
{
    local controller = self.Entity.PlayerControllerComponent

    -- The Direction the player faces
    if self.InputDirection.x ~= 0 then
        if self:SignOf(self.InputDirection.x) < 0 then
            -- It looks toward the left side.
            controller.LookDirectionX = -1
        else
            -- It looks toward the right side.
            controller.LookDirectionX = 1
        end
    end
}
```
13. Let us make the `OnUpdate` function call `UpdateAction`, `UpdateAnimationState`, and `UpdateLookDirection`.```
void OnUpdate(number delta)
{  
    -- Speed control
    self:UpdateVelocity(delta)

    -- Addition: Motion control
    self:UpdateAction()

    -- Addition: Animation control
    self:UpdateAnimationState()

    -- Addition: Left and right gaze control
    self:UpdateLookDirection()
}
```
14. ![workspace](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_workspace.png)Workspace - ![defaultplayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png) DefaultPlayer - ![property](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_inspector.png) Property - ![move](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/move.png) SideviewbodyComponent checks `EnableDownJump`. Enter 3.3 for the `DownJumpSpeed` value. ![sideviewbody2](https://mod-file.dn.nexoncdn.co.kr/bbs/1658731157148bf72bff0378b464f9addc47a64839d56.png)
15. Click **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) and test. Check if the character's motion, animation, and gaze controls work normally. ![slide2](https://mod-file.dn.nexoncdn.co.kr/bbs/1658731907252ed230a57a59f4b899f347a4ba97f0ebf.gif)

## Creating More Slippery Tiles

If you use the `GetUnderfootTile` function, you can find out what tile the character is currently stepping on. Let us create an even more slippery feature by reducing the frictional force when stepping on an icy tile.

1. Under MyDesk ![mydesk](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_folder_no.png), create a new script component ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) called IceTileChecker, and then add it to DefaultPlayer ![DefaultPlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png).
2. Add Property as below after opening IceTileChecker ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png).```
Property :
[None]
number IceDrag = 2
[None]
number DefaultDrag = 0
```
3. Add the `OnBeginPlay` function and compose its content as follows.```
[client only]
void OnBeginPlay()
{
    self.DefaultDrag = self.Entity.CustomPlayerController.Drag
}
```
4. Let us add the `OnUpdate` function and make the tile the character steps on much more slippery if the tile is "Ice" by using the `GetUnderfootTile` function.```
[client only]
void OnUpdate(number delta)
{
    local customController = self.Entity.CustomPlayerController
    local body = self.Entity.SideviewbodyComponent
    local underfootTile = body:GetUnderfootTile()

    customController.Drag = self.DefaultDrag

    if underfootTile == nil then
       return
    end

    if underfootTile.Name == "Ice" then
        customController.Drag = self.IceDrag
    end
}
```
5. Click **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) and test. You see that it is much more slippery on an icy tile rather than a snow tile. ![iceslide](https://mod-file.dn.nexoncdn.co.kr/bbs/16587333763832e690f96aaf64196b8a4bd6dfef571cd.gif)

Update 2025-11-17 PM 08:14


# Using Ladders and Rope

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

The character can climb on a ladder or rope to go upward. This can happen due to the **ClimbableComponent** associated with the motion of a ladder or rope. Using this component, the character can also climb on objects other than a ladder or rope. In addition, you can control the climbing area or climbing speed as the creator desires. There is also **ClimbableSpriteRendererComponent** as a related component. This component is used to draw a head, body, and tail-shaped Sprite, as with a ladder or rope. Let's look at these two components today.

##### API Reference

[ClimbableComponent](/apiReference/Components/ClimbableComponent) [ClimbableSpriteRendererComponent](/apiReference/Components/ClimbableSpriteRendererComponent)

# ClimbableComponent

[ClimbableComponent](/apiReference/Components/ClimbableComponent) sets the climbing action-related matters. Let's take a look at the properties of **ClimbableComponent**.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16626264079829a7791304acd40db8bcb63b170f65d22.png)

| Property Name | Description |
| :---: | --- |
| Collider | After pressing the Edit button, you can control the climbing area. |
| AllowHorizontalMove | Set whether or not to use free climbing moves. If it's true, it can move on both the X and Y axes. |
| ClimbableAnimationType | Set the character's climbing animation. <br>You can select Ladder or Rope. |
| IsUseDefaultObjectBoxSize | Set whether to fit the climbing area settings to the sprite size. <br>It works only in Maker Edit mode. <br>If true, Boxsize and BoxOffset are automatically set to fit the sprite size. <br>If false, Boxsize and BoxOffset can be set arbitrarily. |
| SpeedFactor | When climbing, this value is multiplied to the speed traveled in the X or Y direction. The greater the value, the faster the movement. |

# ClimbableSpriteRendererComponent

[ClimbableSpriteRendererComponent](/apiReference/Components/ClimbableSpriteRendererComponent) can set up the Sprite of a ladder or a rope and adjust the length. A ladder or a rope consists of a ① head, ② body, and ③ tail, and if you increase their length, the Sprite of the body part is repeated and increased. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/166262931403925ecbf22b49a4917b916676ac2835e47.png)

Let's take a look at the properties of **ClimbableSpriteRendererComponent**. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/167568565117370e633f438a04a19b05285b2f9cc1902.png)

| Property Name | Description |
| :---: | --- |
| FlipX | Determines whether the Sprite is inverted relative to the X axis or not. |
| FlipY | Determines whether the Sprite is inverted relative to the Y axis or not. |
| IgnoreMapLayerCheck | Does not perform automatic replace when designating the Map Layer name to SortingLayer. |
| MaterialId | Specifies the ID of the material that the renderer will use. |
| OrderInLayer | Determines the priority within the same Layer. A greater number indicates higher priority. |
| SortingLayer | When two or more Entities overlap, the priority is determined according to the Sorting Layer. <br>If you specify it as a Map Layer name, it is changed to the corresponding Sorting Layer. |
| SpriteRUID | Set the Sprite RUID to use on the ladder's body. |
| TiledSize | You can set the vertical height of the ladder by changing the Y value. Changing the X value is not supported. |
| Color | Colors the Sprite. In the case of basic white, the original color is displayed. |

> **Tip** If the Entity includes both **ClimbableComponent** and **ClimbableSpriteRendererComponent**, you cannot adjust the climbing area manually and must use the object's **BoxSize** as the climbing area.

# Using Object as a Ladder

1. Let's add the object we will use like a ladder to the World. Go to the context menu of the map you want to add the object to, then select **Create Entity - Create Empty**. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/168619968509130d481ace9ef49e19fb609ae4446ab5e.png)
2. Change the created **EmptyEntity** name to **Net**.
3. Press **Add Component** from the **Net**'s Property Editor and add **TransformComponent**. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/166303145507485459a1a3bf34f75be561c8837b6c2dd.png)
4. Add **SpriteRendererComponent** to the **Net**'s Property Editor, then enter the net SpriteRUID. You'll see a net object as below.
  - SpriteRUID : **3f5d1c1eddf9428e8ca1c5581f1453d4** ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/16630319308118bab7fbc64d8412a843c3f7964e0b419.png)
5. In the property editor of **Net**, add **ClimbableComponent**.
6. Set **false** by unticking the checkbox of **IsUseDefaultObjectBoxSize**. After that, if you press the **Collider - [Edit]** button and adjust the climbing area, the **BoxOffset** and **BoxSize** of **IsUseDefaultObjectBoxSize** will be set up. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/16630324973683251945ba48b41b1a2dfacdca51c87e6.png)
7. Set **AllowHorizontalMove** to **True** to allow movement on both the X and Y axes.
8. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. You can see the character climbing up and down the net. ![ladder](https://mod-file.dn.nexoncdn.co.kr/bbs/1663033197084cc25b9e0220d41339699fa7de794d565.gif)

Update 2025-11-17 PM 08:14


# Importing a Custom Image

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

You can add any image resources you need to the game and utilize them in Maker.

# Image Import

1. Open the context menu of **Workspace - MyDesk** and select **Import From - Import Image**. ![imageimport02](https://mod-file.dn.nexoncdn.co.kr/bbs/1687511864531a541669c7cc441c1985c2a9b4c307622.png)
2. Select and load the image you'd like to use. Imported image files will be created individually under **MyDesk**. ![imageimport03](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401376188e2b90ccfa05b4ffab1737e46930903c3.png)
3. You can utilize the image in any way you'd like.

# Image Utilization

There are three main ways to place an image.

The **first method** is to open the context menu of images to be used in **Workspace - MyDesk** and click **Place To Hierarchy**. ![importimage04](https://mod-file.dn.nexoncdn.co.kr/bbs/1687512556186a61f88719dfd4f82994335f2831d5f49.png)  The **second method** is to place the image to be used into **Scene** from **Workspace - MyDesk**. ![imageimport10](https://mod-file.dn.nexoncdn.co.kr/bbs/1656656308226c74e950564b4428db3edd9c04a2368c7.gif)  The **third method** is to place it into **Scene** from **Workspace - NativeModel** and change the value of **Sprite RUID** and **Image RUID** to use it. ![importimage05](https://mod-file.dn.nexoncdn.co.kr/bbs/1635395341076bd0bed7dba0d4a6c890d8eafec477074.png)

You can utilize images easily through these methods.

##### Reference Guide

[Sprite Color Adjustment](/docs?postId=116)

Update 2025-11-17 PM 08:14


# Utilizing Atlases

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

You can slice an atlas into the required standard and utilize it in various ways. Let's learn about the composition of the Atlas unpacker as well as how to use it.

# The Atlas Unpacker

An "atlas" refers to an image which can be divided into several sprites. Atlases can be used in several ways, including slicing an atlas to get RectTile sprites. The Atlas Unpacker can be used to slice atlases into separate sprites and edit it to save. After filling out the required fields, the sliced sprites can be saved in Resource Storage, or used as RectTiles in TileDataSet immediately. The single atlas' maximum size to slice in the Atlas Unpacker is 2048 x 2048px, and you can slice it into a maximum of 256 pieces. ![AtlasUnpacker](https://mod-file.dn.nexoncdn.co.kr/bbs/168774586730023f9ad9f8ca645fbac5d4e64189423e1.png)

| Number | Explanation |
| --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Select File: Load the image to be sliced.<ul><li>All: You can select only a certain sprite you want to save from the list of all sliced sprites, or select/deselect the entire list.</li><li>File Name Prefix: This is a required item to save the sliced images. The number will increment by one for each stored image, and they will be stored as 'name_number'.</li></ul> |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | <ul><li>Slice: Set the number of cells or the size of the sprites created.</li><li>Scale: You can enlarge/reduce the image or return it to its original state.</li></ul> |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | <ul><li>Category: Select the category where the sliced images will be stored. The selected images will be stored in Resource Storage under the chosen category.</li><li>Add to RectTile Set: The sliced images will be added to the selected RectTile set.</li><li>Add to AnimationClip: When uploading the cut images with this option selected, the images will be immediately added to the AnimationClip Editor window.</li></ul> |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | A preview window where you can see the loaded atlas. Right-click and drag to pan the screen.<br>When you slice an atlas, a blue line is generated on top of the image. |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | The sliced images are stored according to the setting in number 3. |

# Slice Atlas

1. Select **Window - Atlas Unpacker** and open the Atlas Unpacker window ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/16528540865389d7c47d2f2b747c99924d748f6c18163.png)
2. Press Select File and load the atlas you'd like to slice. Select **Slice** from the drop-down menu and enter your desired settings.![02](https://mod-file.dn.nexoncdn.co.kr/bbs/16877460545951b7bb92f466947bea630a6698bdfec2b.png)
3. Deselect any unnecessary images among the sliced sprites, and then press the **[Upload]** button to save the images to Resource Storage.![03](https://mod-file.dn.nexoncdn.co.kr/bbs/1687746080484b55f93689cd040bf82b01b4c40e0ee73.png)

#### Slice Cell Size and Number of Cells

For cell size, the same size of the square will be created and slice, matching the atlas size depending on the set X and Y values. The number of cells is different depending on the number of rows and columns that set the whole image. Some of atlas' margins, which are not included when slicing the image following the slice setting, are not saved as sprites.

![04](https://mod-file.dn.nexoncdn.co.kr/bbs/1687746116339a207552520b348adb3bef6b862053083.png)

#### Adjust Offset

You can adjust the offset based on the X and Y axes. Adjust the position to sliced atlas following the offset values set.

![08](https://mod-file.dn.nexoncdn.co.kr/bbs/168774613832540e9fddfaea740bbbfc204cc82b984dc.png)

#### Adjust Padding

If you adjust padding values, there will be a margin following the X and Y values based on the divided cells, and it will slice the atlas except for the margin. ![09](https://mod-file.dn.nexoncdn.co.kr/bbs/1687746162369f04b87a0d37749bdafdb67f8de5ba878.png)

# Use with RectTile

If you want to use the sliced sprites directly as RectTiles, you can use the **Add to RectTile Set** feature. Refer to [Utilizing RectTileMap](/docs/?postId=589) for more information on how to use RectTiles.

1. Press **Workspace - MyDesk > Create TileDataSet** and create a new tile data set to add the sliced sprites.
2. Press the **[⋯]** button and select **TileDataSet** to add the sliced sprites from the **Reference**.![7](https://mod-file.dn.nexoncdn.co.kr/bbs/168774618410097ac8ece190746b5a9300708eba55578.png)
3. After setting the file name prefix and details, press the **[Upload] button**. You can see that all the images you selected have been added in **TileDataSet**.

Update 2025-11-17 PM 08:14


# Sprite Color Adjustment

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

You can easily change the color of sprites. We'll examine the difference between sprites and web sprites, and how to change their colors.

# Sprites

2D images are called Sprites. You can adjust their location, size, rotation, and so on. Each sprite has a unique RUID value. You can use the RUID value to place sprites in an empty model or change them. If a creator uploads their own image file to Maker, the file will automatically obtain RUID.

> Tip RUID is a unique ID value of various resources, including sprite, animation, sound, etc.

# Example

#### Using Resources from MSW

1. Find a resource from the resource search window. Example RUID: 214069132ceb4962b374c8080fe265ef
2. Copy RUID, click**Workspace - NativeModel - MapObject** to place it.![sprite09](https://mod-file.dn.nexoncdn.co.kr/bbs/16353870233517f049b81ee534a72bd40584976a70c91.gif)
3. Enter the copied RUID to SpriteRendererComponent's **SpriteRUID** property. ![sprite](https://mod-file.dn.nexoncdn.co.kr/bbs/168775319866329eb7f3e76cb4d72a8729ab30e0cc030.png)

#### Using Another Creator's Resources

1. Select **Workspace - MyDesk - Import From - Import Image**, and import the image you'd like.
2. Select **Workspace - BaseEnvironment - NativeModel - MapObject**, and place it in ![TabScene](https://mod-file.dn.nexoncdn.co.kr/bbs/163452458863504f49c7a23aa4a41af56b5b4611a6daf.png)Scene.
3. **Enter the copied RUID to SpriteRendererComponent's SpriteRUID** property.

# Web Sprite

You can use an image url from the web and use it as a "Web Sprite." If you do not own the image or if the resource isn't from MapleStory Worlds, you must check if you can use it, and to what extent.

#### Example

You can use Lara's artwork from MapleStory as a sprite.

1. Copy the image url you'd like to use. Example address: https://lwi.nexon.com/maplestory/common/media/artwork/artwork_108.jpg
2. Go to **Workspace - BaseEnvironment - NativeModel - WebSprite**, select and place a model.
3. Select the model and go to Property Editor, and enter **value for WebSpriteComponent's Url**.![websprite02](https://mod-file.dn.nexoncdn.co.kr/bbs/1687753413264ea7d4470867c43b6862bb02387c52d00.png)
4. See that the web sprite has been applied. ![sprite04](https://mod-file.dn.nexoncdn.co.kr/bbs/16349585335040cdf2dc709064f778ce427cbc7742cde.png)

# Sprite Color Adjustment

You can adjust the color, brightness, saturation, and opacity of an image in the Color property of SpriteRendererComponent and WebSpriteComponent. ![sprite05](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401414821492ba9c3b86b4d518c6a13747c463285.png)

| Number | Explanation |
| --- | --- |
| ![NO01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541272181b5c1a55fcf3d49b19734d25913c38583.jpg) | You can drag on top of the color window to find the value you want. |
| ![NO_02](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541300837cb541c2f44e046a79bb1901a885aa8ac.jpg) | Bar you can use to adjust color. |
| ![NO_03](https://mod-file.dn.nexoncdn.co.kr/bbs/163454131465069e090278448490f965207e9a4a10348.jpg) | Bar you can use to adjust transparency. Moving it to the bottom will make the sprite transparent. |
| ![NO_04](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541326353d8628c1473944497bf376acb7a65ca45.jpg) | You can see the new color from new window, the current color from current window below. |
| ![NO_05](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541338689678f574f21e54a6ca533737924124d7e.jpg) | You can enter values for HSV, RGB, Lab Color Space to find the color you want. |
| ![NO_06](https://mod-file.dn.nexoncdn.co.kr/bbs/163454135201207284554a25b498380fff224cd767f6b.jpg) | You can adjust opacity between 0-100. The lower the value, the more transparent the sprite. |
| ![NO_07](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541365429e8d9fdf4049149eb96f0ec7fdae4b3d1.jpg) | HexCode values. You can copy the code to apply the same color on other sprites. |
| ![NO_08](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541383202032ed6f9f38046119acf89fd019b41cf.jpg) | ![TabScene](https://mod-file.dn.nexoncdn.co.kr/bbs/163452458863504f49c7a23aa4a41af56b5b4611a6daf.png)Click on a point from the Scene to pick out the color you like. |
| ![NO_09](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541395594e0bdbc1a69204d11aef5d9fbdf7f7ecd.jpg) | You can save the color you picked from the palette. You can create a new box whenever you click the last one. |

##### Example

Adjust the sprite's hexcode value to ff53a1, and it will be colored like the sprite on the right. ![sprite05](https://mod-file.dn.nexoncdn.co.kr/bbs/1656401406338bb847992bc304ad18f3c75d38259b1f5.png)

# Summary

Simply changing the color can give the sprite a new look. If your game takes place in a dark world, you can adjust brightness of all the entities for a dark mood. Adjusting the color to match your game will enhance the atmosphere and the level of completion.

##### Reference Guide

[Importing a Custom Image](docs?postId=99) [Finding Resources](docs?postId=211)

Update 2025-11-20 PM 02:03


# Setting Sprite Color by Pixel

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

**PixelRendererComponent** allows creators to assign any color to an empty sprite, pixel by pixel. You can change the color of pixels in a specific location only, specify the color of the entire sprite, or change it to a random color. First, let's look at the properties of **PixelRendererComponent** and see how to use it through an example.

##### API Reference

[PixelRendererComponent](https://mod-developers.nexon.com/apiReference/Components/PixelRendererComponent)

# PixelRendererComponent

Let's take a look at **PixelRendererComponent**'s properties of the following. ![00](https://mod-file.dn.nexoncdn.co.kr/bbs/169033280248125b25ac7adff41e0a1e7b6d3a06778a6.png)

| Name | Type | Main Function |
| --- | --- | --- |
| Width | int | The horizontal length of the sprite. |
| Height | int | The vertical length of the sprite. |
| OrderInLayer | int | Determines the priority within the same Layer. A greater number indicates higher priority. |
| SortingLayer | string | When two or more Entities overlap, the priority is determined according to the Sorting Layer. |
| IgnoreMapLayerCheck | boolean | Does not perform automatic replace when designating the Map Layer name to SortingLayer. |

# Change Color by Pixel

Let's look at an example of how to use **PixelRendererComponent**.

## Change pixel colors

You can use the `SetPixel` function to change the color of a pixel at any location in the sprite. Let's make a random color pixel appear at a random location on the sprite when the button is pressed. ![001](https://mod-file.dn.nexoncdn.co.kr/bbs/165336981276805b48f5770644fda8af385755872a17d.gif)

1. **Press Hierarchy - map01 - Create Entity - Create Empty** to generate the new **SetPixelTest**.
2. Add **TransformComponent** to **SetPixelTest** entity and enter **X = 10 and Y = 10** in the **Scale property**. Then add **PixelRendererComponent** as well. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/16903328503829c4718ba1607411297b9379c8f304622.png)
3. Generate a new script component **PixelRendererTest**.
4. Add **PixelRendererTest** component to the **Property** of the **SetPixelTest** entity that you created before.
5. Open **Workspace - MyDesk - PixelRendererTest** and add **Property** as shown below.```
Property:
[None]
Color color = Color(0,0,0,0)
[None]
Color lastColor = Color(0,0,0,0)
[None]
number lastX = 0
[None]
number lastY = 0
```
6. Create the new **SetPixel** button by pressing ![button](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_button.png) in the UI Editor.
7. Add a **TextComponent** to the **Property** of the **SetPixel** button and modify its properties. | Component | Property | Value |
| :---: | :---: | :---: | | TextComponent | Text | SetPixel |
8. Generate the new script component **ButtonClick_SetPixel**.
9. Add **Property** to the **ButtonClick_SetPixel** script as follows.```
Property:
[None]
Entity PR = /maps/map01/SetPixelTest
```
10. Open the **PixelRendererTest** script and write the `SetRandomPixel` function.```
[client only]
void SetRandomPixel()
{
    local pixelRendererComponent = self.Entity.PixelRendererComponent

    local x = _UtilLogic:RandomIntegerRange(1, pixelRendererComponent.Width)
    local y = _UtilLogic:RandomIntegerRange(1, pixelRendererComponent.Height)

    local r = _UtilLogic:RandomDouble()
    local g = _UtilLogic:RandomDouble()
    local b = _UtilLogic:RandomDouble()
    local a = _UtilLogic:RandomDouble()

    -- Using SetPixel, change the pixel value.
    pixelRendererComponent:SetPixel(x, y, Color(r,g,b,a))

    self.lastColor = Color(r,g,b,a)
    self.lastX = x
    self.lastY = y

    log("X : "..tostring(x)..", Y : "..tostring(y)..",Color = "..tostring(Color(r,g,b,a)))
}
```
11. Add **ButtonClickEvent** to the **ButtonClick_SetPixel** script.```
Event Handler:
HandleButtonClickEvent (ButtonClickEvent event)
{
    -- Parameters
    local Entity = event.Entity
    --------------------------------------------------------
    -- By clicking the button, return the SetRandomPixel function.
    self.PR.PixelRendererTest:SetRandomPixel()
```
12. Add the **ButtonClick_SetPixel** component to the **Property** of the **UI - DefaultGroup - SetPixel** button.
13. Press **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) for a test. When pressing the **SetPixel** button, check if the pixels appear randomly on the sprite and it shows a log.

## Change Multiple Pixel Colors

You can use the `SetPixels` function to change the color of a pixel in the sprite. Let us make a random color pixel appear on the sprite when the button is pressed. ![002](https://mod-file.dn.nexoncdn.co.kr/bbs/16534560711537b9397a8eb804578b2045aa1d5517c9a.gif)

1. Create the new **SetPixels** button by pressing ![button](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_button.png) in the UI Editor.
2. Add a **TextComponent** to the **Property** of the **SetPixels** button and enter **SetPixels** in the **Text** section.
3. Generate a new script component **ButtonClick_SetPixels**.
4. Add **Property** to the **ButtonClick_SetPixels** script as follows.```
Property:
[None]
Entity PR = /maps/map01/SetPixelTest
```
5. Open the **PixelRendererTest** script and write the `SetPixelsTest` function. Before that, first add `[None] SyncTable<Color> colors` to the existing **Property** of **PixelRendererTest**.```
Property:
[None]
Color color = Color(0,0,0,0)
[None]
Color lastColor = Color(0,0,0,0)
[None]
number lastX = 0
[None]
number lastY = 0
[None]
SyncTable<Color> colors -- Add
``` Write the `SetPixelsTest` function after setting the foregoing.```
[client only]
void SetPixelsTest()
{
    local width = self.Entity.PixelRendererComponent.Width
    local height = self.Entity.PixelRendererComponent.Height

    local colors = {}

    for i=1, width * height do
        local r = _UtilLogic:RandomDouble()
        local g = _UtilLogic:RandomDouble()
        local b = _UtilLogic:RandomDouble()

        colors[i] = Color(r,g,b,1) 
    end

    -- You can use SetPixels to change the color of a pixel in the sprite.
    self.Entity.PixelRendererComponent:SetPixels(colors)
}
```
6. Add **ButtonClickEvent** to the **ButtonClick_SetPixels** script.```
Event Handler:
HandleButtonClickEvent (ButtonClickEvent event)
{
    -- Parameters
    local Entity = event.Entity
    --------------------------------------------------------
    -- By clicking the button, call the SetPixelsTest function.
    self.PR.PixelRendererTest:SetPixelsTest()
 }
```
7. Add the **ButtonClick_SetPixels** component to the **Property** of the **UI - DefaultGroup - SetPixels** button.
8. Press **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) for a test. By pressing the **SetPixels** button, you will see the sprite displaying random colors pixel by pixel.

## Change sprite size and multiple pixel colors

You can use the `ResetWithColors` function to change the size of the sprite and the color of its pixels. ![007](https://mod-file.dn.nexoncdn.co.kr/bbs/1653456362928aa034bd72e7b4298ae6919d32fde6401.gif) The example code will be as follows. Creating a button, adding a function, and attaching **ButtonClickEvent** to the button are the same as in the example above.

```
[client only]
void ResetColorsTest()
{
    local newWidth = _UtilLogic:RandomIntegerRange(8, 32)
    local newHeight = _UtilLogic:RandomIntegerRange(8, 32)
     
    local colors = {}
     
    for i=1, newWidth * newHeight do
        local r = _UtilLogic:RandomDouble()
        local g = _UtilLogic:RandomDouble()
        local b = _UtilLogic:RandomDouble()
     
        colors[i] = Color(r,g,b,1) 
    end
 
    -- You can use ResetWithColors to change the size of the sprite and the color of the pixels.
    self.Entity.PixelRendererComponent:ResetWithColors(newWidth, newHeight, colors)
}
```

# Changing the Entire Sprite

You can use the **PixelRendererComponent** function to change the overall color of the sprite.

## Changing Sprite to Solid Color

You can use the `FillColor` function to change the entire sprite to a solid color. It can be changed to a specified color or to a random color as shown below. ![003](https://mod-file.dn.nexoncdn.co.kr/bbs/1653376631359d2f630081b4b4e74835f35ec5df965d1.gif) The example code will be as follows. Creating a button, adding a function, and attaching **ButtonClickEvent** to the button are the same as in the example above.

```
[client only]
void FillColorTest()
{
    local r = _UtilLogic:RandomDouble()
    local g = _UtilLogic:RandomDouble()
    local b = _UtilLogic:RandomDouble()
     
    -- You can use FillColor to change the overall color of the sprite.
    self.Entity.PixelRendererComponent:FillColor(Color(r,g,b,1))
}
```

## Change Sprite Size and Overall Color

You can use the `ResetWithColor` function to change the size and overall color of the sprite. ![004](https://mod-file.dn.nexoncdn.co.kr/bbs/1653378536538b82441c0538b4e2da706381061607fe5.gif) The example code will be as follows. Creating a button, adding a function, and attaching **ButtonClickEvent** to the button are the same as in the example above.

```
[client only]
void ResetColorTest()
{
    local newWidth = _UtilLogic:RandomIntegerRange(8, 32)
    local newHeight = _UtilLogic:RandomIntegerRange(8, 32)
 
    local r = _UtilLogic:RandomDouble()
    local g = _UtilLogic:RandomDouble()
    local b = _UtilLogic:RandomDouble()
         
    -- You can use ResetWithColor to change the sprite size and overall color.
    self.Entity.PixelRendererComponent:ResetWithColor(newWidth, newHeight, Color(r,g,b,1))
}
```

## Change Alpha Value

You can use the `SetAlpha` function to change the alpha value of the entire sprite. ![005](https://mod-file.dn.nexoncdn.co.kr/bbs/165337928365796df7621cff04bc68247b9ffe1280269.gif) The example code will be as follows. Creating a button, adding a function, and attaching **ButtonClickEvent** to the button are the same as in the example above.

```
[client only]
void SetAlphaTest()
{
    local a = _UtilLogic:RandomDouble()
    -- You can use SetAlpha to change the alpha value of the entire sprite.
    self.Entity.PixelRendererComponent:SetAlpha(a)
}
```

# Getting Sprite Color

Let us see how to use the `GetPixel` and `GetPixels` functions to get the position and color of a pixel and display it in the World.

## Getting Pixel Colors

You can use the `GetPixel` function to get the position and color of the most recently changed pixel. ![006](https://mod-file.dn.nexoncdn.co.kr/bbs/165344235792573c3640770c64858902a84cf1af10904.gif)

1. Press **Hierarchy - map01 - Create Entity - Create Empty** to generate the new **CheckGetEntity**.
2. Add **TransformComponent** to **CheckGetEntity** and enter **X = 10, Y = 10** for the **Scale** value. Then add **PixelRendererComponent** as well.
3. Create the new **GetPixel** button by pressing ![button](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_button.png) in the UI Editor.
4. Add **TextComponent** to the **Property** of the **GetPixel** button and enter **GetPixel** in the **Text** section.
5. Generate the new script component **ButtonClick_GetPixel**.
6. Add **Property** to the **ButtonClick_GetPixel** script as follows.```
Property:
    [None]
    Entity PR = /maps/map01/SetPixelTest
```
7. Open the **PixelRendererTest** script and write the `GetPixelTest` function. Before that, first add the following content to the existing **Property** of **PixelRendererTest**.```
Property:
[None]
Entity PRCheck = /maps/map01/CheckGetEntity
``` Write the `GetPixelTest` function after setting the foregoing.```
[client only]
void GetPixelTest()
{
    -- Use GetPixel to get the coordinates and color of one of the most recently displayed pixels in SetPixelTest.
    local color = self.Entity.PixelRendererComponent:GetPixel(self.lastX, self.lastY)
    -- Display the value received above in CheckGetEntity using SetPixel.
    self.PRCheck.PixelRendererComponent:SetPixel(self.lastX, self.lastY, color)
}
```
8. Add **ButtonClickEvent** to the **ButtonClick_GetPixel** script.```
Event Handler:
HandleButtonClickEvent (ButtonClickEvent event)
{
    -- Parameters
    local Entity = event.Entity
    --------------------------------------------------------
    -- By clicking the button, call the GetPixelTest function.
    self.PR.PixelRendererTest:GetPixelTest()
 }
```
9. Add **ButtonClick_GetPixel** to the **Property** of the **UI - DefaultGroup - GetPixel** button.
10. Press **[Play]** ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) for a test. When pressing the **SetPixel** button and then the **GetPixel** button, check whether the most recently displayed pixel in **SetPixelTest** is also displayed well in **CheckGetEntity**.

## Getting All Pixels of Sprite

You can use the `GetPixels` function to get all the pixel values of the entire sprite. ![008](https://mod-file.dn.nexoncdn.co.kr/bbs/16534576466290e6655858bc24915b190bc343b8daf73.gif) The example code will be as follows. Creating a button, adding a function, and attaching **ButtonClickEvent** to the button are the same as in the example above.

```
[client only]
void GetPixelsTest()
{
    -- Get the pixel values of SetPixelTest using GetPixels.
    local getPixels = self.Entity.PixelRendererComponent:GetPixels()
    -- Display the value received above in CheckGetEntity using SetPixels.
    self.PRCheck.PixelRendererComponent:SetPixels(getPixels)
}
```

Update 2025-12-03 PM 03:40


# Designing Materials

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Material is the Entity that displays the method of rendering the Entity by various properties. Property of the Entity is altered according to an Entity rendering code. Shader is the code (or a script) that is used when rendering objects. Since the property and code of the shader cannot be switched to dynamic, effects are individually expressed by each shader. MapleStory Worlds provides a variety of shaders. Creators can create a Material and adjust the shader property for the desired aim.

# Creating Material

We'll take a look at how to create Material.

1. New Materials can be created with one of the three methods below. | 1. Workspace [+] button | 2. Workspace Context Menu | 3. Create Menu |
| :---: | :---: | :---: | | ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1686538286105d45a745926da4e4b812578f6b51690c2.png) | ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16865382991887b1f0a30aae44c31bb97404200571ed7.png) | ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/168653831150808fff6cb82914b4691ae98c678a78ae6.png) |
2. Create a Material, then specify a name. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/166840323583571410bb4351f4e0badb9b51d500f8b81.png)

# Applying Materials to Entities

Let's see how to apply Materials to the Entity.

1. After selecting Entity, click the ![Common_Select](https://mod-file.dn.nexoncdn.co.kr/bbs/1668408907363c261c9faa43d4ee3b131624dd723e3a2.png) button in **Property editor - SpriteRendererComponent - MaterialID**. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/166908403861011c64e140fd04f8f90bbdb8d5d57af59.png)
2. Select the Material you want from the **Reference** window. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1668409227396b253b59b89094a9c9ec4b914a1c29bb5.png)
3. Specify **Shader** type. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/168681313976760c074e2954f4814a93d511c9b9e3c12.png)  By utilizing the filter feature, you can narrow down and view only the shaders available for the selected component. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1727180781072360fe8c368824af7a5df25df3b8429d7.png)

# Shader Type

The rendering method differs by shader type, and adjustable properties also differ. Let's take a look at the shader types offered in MapleStory Worlds.

## Default

Basic Material. It's the state without any effects.

| Shader | Description |
| :---: | --- |
| Default | ![00](https://mod-file.dn.nexoncdn.co.kr/bbs/1668479786163abb0a4314fe34db0885f9d118d23236f.png) | Default is used when the Material is not specified or cannot be found. |

## Outline

It's the effect that draws a contour line of the sprite.

| Shader | Description |
| :---: | --- |
| Outline | ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/166841095184460411e0fbd3d419cbe83b632bce31401.png) | Draws a contour line away from the sprite. |
| InnerOutline | ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/166841143439790c697d7e2f24b368d3a3ad635d19020.png) | Draws a contour line to the inner sprite. |
| ColorDiffOutline | ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16684114971291ab4281d87cc4b9b87fd25f52356d572.png) | Draws a contour line by using the sprite color difference. |

## ColorEffect

It's the effect that displays various colors on the sprite.

| Shader | Description |
| :---: | --- |
| Rainbow | ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1668413469593d7bd1d3a1aa44677b8ac611864878d88.gif) | Blends with rainbow colors. |
| LineGradient | ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1668413449478ceb1da170e9147d48914323930b9b404.png) | Gradationally blend 4 colors based on y axis. |
| VertexGradient | ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16684135009255cd62251f9bc4a8c90b0430dff483926.png) | Gradationally blend 4 vertex colors. |
| RadialGradient | ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16684135201985614fc9d040440078b52333b4e6f751a.png) | Gradationally blend center - external colors. |
| Gradient | ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1668413536391582e7b18622a46eeb8bc117524eead9b.gif) | Displays a single color according to the time. |
| Reverse | ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/16684135490414f64d3e9f5ac40ed9d8ccec8a7b5f49d.png) | Output colors opposite to target colors. |
| GrayScale | ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/16684135604161d31df8cdb724a77b9b85129b1d5a79f.png) | Output in gray tone. |
| Hologram | ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/16684135717173629a30e711f41c79d6ce3bd85fa0baf.gif) | Output colored light effect to a certain direction. |
| LimLight | ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1668413583454c85ff546505745bda50ecb4b3b1e1797.png) | Output bright light effect. |
| Posterize | ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1668413596725492a72e7ca45438ebb10abb856ef3701.png) | Restricts the number of rendering colors. |
| ColorOverride | ![14](https://mod-file.dn.nexoncdn.co.kr/bbs/1668413607254b9983afe45d44979bf13be197d61c2fe.gif) | Changes to a single specified color. |
| ColorGlow | ![colorglow](https://mod-file.dn.nexoncdn.co.kr/bbs/1678961863541f622336dc27645c9b69ccace791963fb.png) | Lightens areas of color similar to the color specified by GlowColor. |
| DropShadow | ![dropshadow](https://mod-file.dn.nexoncdn.co.kr/bbs/1678962067474c059773fcc6c490981a9faf032335085.png) | Applies a shadow effect to the color specified by TargetColor. |
| ConcentrationLine | ![concentrationline](https://mod-file.dn.nexoncdn.co.kr/bbs/1678959255414e67530f0ca6142cbbca85a7a939f3ea9.png) | Applies a saturated line effect towards the specified location. |

## UVEffect

It's the effect that distorts a coordinate of the sprite.

| Shader | Description |
| :---: | --- |
| Noise | ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/1668413949472f7b0b5a86aa4405ba3f4cccaec032045.gif) | The Entity is constantly shaking. |
| RoundWave | ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/16684136490085c94218d5b2f4a618666646fea88d23c.gif) | Draw a concentric circle wave from a centerpoint. |
| UVScroll | ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/16684137205168eccf5a92ada47f5883928a58ba1815c.png) | Moves the UV coordinates during sprite rendering. |
| Wave | ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/1668413755673c476bd19b1774a808c070a6f1a37d7a4.gif) | Displays a circular wave at a certain point. |
| Glitch | ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/166841389198235926a2352554e5fa7634e64c2ab2e7b.gif) | Randomly sample the other section of the sprite. |
| GrassMovement | ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/16684139052283945063a36ea4c02b3f33b2dfcc0c1bc.gif) | Swaying grass-like effect. |
| Distortion | ![21](https://mod-file.dn.nexoncdn.co.kr/bbs/166841391898321b73ca5b9884b8aa4141328b906457d.gif) | Distorts the Entity. |
| Ripple | ![ripple](https://mod-file.dn.nexoncdn.co.kr/bbs/1678959633804aacda73d12264dc0be37ffb71af134dd.gif) | Applies a ripple effect. |

## Blurry

It's the effect that blurs the sprite.

| Shader | Description |
| :---: | --- |
| Pixel | ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/16684141311201c1f06b39e27416b96255925150be57c.png) | Pixelates the sprite. |
| ChromaticAberration | ![23](https://mod-file.dn.nexoncdn.co.kr/bbs/16684144518044c88ee2c6581467cbd882eab77e2bed6.gif) | Applies chromatic aberration effect. |
| Blur | ![23](https://mod-file.dn.nexoncdn.co.kr/bbs/16684144693599a45ff2fd5c34efb8bba4ee8d9ecdf7b.png) | Applies a blur effect to the sprite. |
| MotionBlur | ![24](https://mod-file.dn.nexoncdn.co.kr/bbs/16684144858279a9c29b9aee64a65a3271537c4835c99.png) | Applies an orientable blur effect to the sprite. |
| RadialBlur | ![radialblur](https://mod-file.dn.nexoncdn.co.kr/bbs/16789605975780c74d541a0824bfea9f28e699737e860.png) | Applies a centered blur effect. |
| KuwaharaFilter | ![KuwaharaFilter](https://mod-file.dn.nexoncdn.co.kr/bbs/16789606314994a9b29416cc14c9ab2072cfd7e3f5a99.png) | Applies the kuwahara filter. <br>You can create the feeling of watercolor by adjusting intensity.<br>It is difficult to notice a big difference when used on a dot image. |

## AlphaMask

It's the effect that makes the part of the sprite invisible.

| Shader | Description |
| :---: | --- |
| AlphaCutoff | ![28](https://mod-file.dn.nexoncdn.co.kr/bbs/1668414746608f412644c0aae4f7d913cd7ccfda21ac8.png) | Does not render the part with low transparency. |
| AlphaRound | ![29](https://mod-file.dn.nexoncdn.co.kr/bbs/1668414760640a654dd3c8bc6429594372014855d9166.png) | Processes the alpha value as 0 if it is lower than the transparency and 1 if it is higher. |
| Clipping | ![30](https://mod-file.dn.nexoncdn.co.kr/bbs/16684260189626d960534962e4a0589215d868f611bf0.png) | Cut the part of the sprite. |
| Mask | ![31](https://mod-file.dn.nexoncdn.co.kr/bbs/1668482058357b63335cd7bfb40ae87c30a952e404255.png) | Receive sprites as the parameter and specify the masking area.<br>e.g. **MaskTexture**: **0005fdee112f4ab8a59764021ac1dda0** Application <br>![312](https://mod-file.dn.nexoncdn.co.kr/bbs/16684822611015fb0223e1b4844738039ffd237b746a5.png) |

## BlendColor

It's the effect that alters methods of the application of sprite colors to various forms.

| Shader | Description |
| :---: | --- |
| BlendDarken | ![32](https://mod-file.dn.nexoncdn.co.kr/bbs/16684260934885895cb89035b485189cc3c2987d86870.gif) | Makes it dark by using the smaller value of each RGB channel. |
| BlendMultiply | ![33](https://mod-file.dn.nexoncdn.co.kr/bbs/166848152367162fef2866b0b475aac9f3635770d6466.gif) | Displays the outcome from multiplying two colors. |
| BlendColorBurn | ![34](https://mod-file.dn.nexoncdn.co.kr/bbs/16684261191845675af047a21421aa335ef5ae24e488c.gif) | Makes the chroma high, increases contrast, and makes the basic color dark. |
| BlendLinearBurn | ![35](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426133282cddb3c0ee4fe4191bfecf3739a8c0677.gif) | Keeps the color contrast of the basic sprite and makes the color dark. |
| BlendDarkerColor | ![36](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426170398e831fc11796e4fafbd329e11a1744bad.gif) | Applies the darker color between the **Color** and the sprite. |
| BlendLighten | ![37](https://mod-file.dn.nexoncdn.co.kr/bbs/16684261855583ea181a43a0c4925b6212596777e1fd5.gif) | Makes it bright by using the larger value of each RGB channel. |
| BlendScreen | ![38](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426201094510bec9a701d434fa499d049c9506565.gif) | Makes it bright by multiplying the mixed color and the inverted color of the basic color. |
| BlendColorDodge | ![39](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426214619ccd1f984bfac4ff8b6c62e2cc92bfabe.gif) | Makes the chroma high, increases contrast, and makes it bright. |
| BlendLinearDodge | ![40](https://mod-file.dn.nexoncdn.co.kr/bbs/166842622931445eada41c5154dee92f5b5944142249f.gif) | Makes it bright by adding two colors. |
| BlendOverlay | ![41](https://mod-file.dn.nexoncdn.co.kr/bbs/16684262452622aa6ab0bbb9d432e94226ea8fe61e8e6.gif) | Applies the Multiply effect to a dark color and the Screen effect to a bright color. |
| BlendSoftLight | ![42](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426262251183016eda21c4e07b9e21e6879ca2b3f.gif) | It's similar to the Overlay, but has smaller contrast and color difference compared to the Overlay. |
| BlendHardLight | ![43](https://mod-file.dn.nexoncdn.co.kr/bbs/166842627472882eb382dd2184fd88abf98d4ade02ef9.gif) | Similar to SoftLight but image contrast is strong and bright. |
| BlendVividLight | ![44](https://mod-file.dn.nexoncdn.co.kr/bbs/166842629152549952cd63e774a36a4d9f5a3321b2086.gif) | Applies the Color Burn effect if the color to blend is dark and applies the Color Dodge effect if the color to blend is bright. |
| BlendLinearLight | ![44_2](https://mod-file.dn.nexoncdn.co.kr/bbs/1673418964186d00f27d5a60b4bd2939245ab8eb9f498.gif) | Apply the combination of the LinearBurn and LinearDodge effects. <br>It is similar to VividLight but without increased contrast compared to VividLight. |
| BlendPinLight | ![45](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426308466df7b6151174b4c91bff2ff8069026131.gif) | Applies the Darken effect if the color to blend is dark and applies the Lighten effect if the color to blend is bright. |
| BlendHardMix | ![46](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426325065c2d5f6d9609e4eb3b025e6a01f55aeb8.png) | Mixes two images with strong colors. <br>The blending result is unconditionally displayed in only 8 colors. |
| BlendDifference | ![47](https://mod-file.dn.nexoncdn.co.kr/bbs/166842634679204790bae607048f1b20b6577182fd0b1.gif) | Returns a difference of two colors. <br>If it is the same color, it will be black. |
| BlendExclusion | ![48](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426366592d90b1f754849452d9adb34b139062a36.gif) | Calculates Exclusion for two colors. <br>If it is the same color, it will be grey. In contrast to <br>Difference, the color contrast of the original is weak. |
| BlendSubtract | ![49](https://mod-file.dn.nexoncdn.co.kr/bbs/166842638191501ba6d72ea244bf0b9825d54d2611095.gif) | Returns the result that deducted colors from the original. |
| BlendDivide | ![50](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426394581cb26db187efd4041905dbcd8b20c0465.gif) | Returns the result of the color values being divided from the original. |
| BlendHue | ![51](https://mod-file.dn.nexoncdn.co.kr/bbs/16684264113953037882a6fc040878105a8508905e558.png) | Keep the brightness and chroma, and change it so that it fits a new color.<br>Make the original with achromatic colors if a new color is an achromatic color. |
| BlendSaturation | ![54](https://mod-file.dn.nexoncdn.co.kr/bbs/1668426455903b9564b1fd8b84ac589fc78bf614869c6.png) | Maintains the brightness and tone and changes to fit the chroma of the new color. <br>Make the original with achromatic colors if a new color is an achromatic color. |
| BlendColor | ![52](https://mod-file.dn.nexoncdn.co.kr/bbs/16684264237827483efddb1634d42bf77a1ca0b247de2.png) | Maintains the brightness and changes to fit the tone and chroma of the new color. |

## AlphaBlend

It's the effect that alters the transparency of shaders.

| Shader | Description |
| :---: | --- |
| Additive | ![53](https://mod-file.dn.nexoncdn.co.kr/bbs/1668515969651ddbdb3c1da904a82b6c8184c7347ce38.png) | Applies an Additive effect when rendering in front of the object. |
| SoftAdditive | ![55](https://mod-file.dn.nexoncdn.co.kr/bbs/1668515996851bead4bcb2bfe4ceeabae9240247da0f8.png) | Applies a SoftAdditive effect when rendering in front of the object. |

## Screen

This effect is applied to the entire screen. It can only be applied in **CameraComponent**.

| Shader | Description |
| :---: | --- |
| LensDistortion | ![lensdistortion](https://mod-file.dn.nexoncdn.co.kr/bbs/167896118717416bf94656d5344f18cae0a12cb3def94.png)<br>![lensdistortion](https://mod-file.dn.nexoncdn.co.kr/bbs/1678961600478271874df2997410684f8ba6c5f80c965.png) | Applies a lens distortion effect. <br>(Convex lens if intensity is positive number, concave lens if negative number) |
| Vignette | ![vignette](https://mod-file.dn.nexoncdn.co.kr/bbs/1678961508666ec8dd0224f3d431293b7b24a161305f6.png) | Applies a colored vignette effect. |

Update 2025-11-17 PM 08:14


# Implementing Materials

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

You can use materials in many other renderer components besides **SpriteRendererComponent**. This allows creators to make their own visually colorful and unique Worlds. In this lesson, we will look at how to use materials in different components. We'll also look at an example of how to control a material with a script.

# Use Materials in Various Components

You can use materials in many renderer components. The method is the same as applying a material to **SpriteRendererComponent**.

> **Learn more** You can learn how to create and apply materials in the [Utilizing Materials](/docs/?postId=828) guide.

Materials can be applied to various renderer components. However, some renderer components have limited shader options available for use. To check the available shaders for each component, select the component on the **Shader Picker** window. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1727180781072360fe8c368824af7a5df25df3b8429d7.png)

# Replacing a Material with a Script

Let's take a look at the example of an entity's material being replaced when a player makes contact.

1. Create a new material and enter **Material01** as the name.
2. Select the entity you want and place it in **Scene**. This example used **Preset List - npc-964**. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/166849476370816e1074387b747d684879d5a30fcb8a8.png)
3. Press the ![Common_Select](https://mod-file.dn.nexoncdn.co.kr/bbs/1668408907363c261c9faa43d4ee3b131624dd723e3a2.png) button in **Property Editor - SpriteRendererComponent - MaterialID** of **npc-964** and select **Material01** in the **Reference** window. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1668494966129a62b76ffce2740339a667c03d48974c8.png)
4. Select **Shader - Outline - InnerOutline** in Property Editor of **Material01**. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/16684932469197db2f5663ffe4856adf503ff2bb3e8e3.png)
5. Generate the new script component **MaterialTest** and add it to **npc-964**.
6. Add **TriggerComponent** to **npc-964** to confirm the collision with the player character.
7. Create a new material and enter **Material02** as the name.
8. Select **Shader - ColorEffect - Rainbow** in Property Editor of **Material02**.
9. Click **Copy Entry ID** in the context menu of **Workspace - MyDesk - Material02**. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/166856445652712d2f198c1c94887a49a7b3a9075715f.png)
10. Open the **MaterialTest** script and add **TriggerEnterEvent** as follows. Paste the **Entry ID** of the copied **Material02** from above to **ChangeMaterial**.```
HandleTriggerEnterEvent (TriggerEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------

    -- Parameters
    -- local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------

    self.Entity.SpriteRendererComponent:ChangeMaterial("material://Entry ID")
    -- Paste Entry ID of Material02 you copied from above to "material://Entry ID" part
}
```
11. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. You can see that the shader changes from **InnerOutline** to **Rainbow** when the player character makes contact. ![test](https://mod-file.dn.nexoncdn.co.kr/bbs/1668496643847defbbbec4521479f96f8f9c2fc2768f2.gif)

# Material Property Control

You can control material properties by using scripts in the world. Let's see how to control material properties through an example.

1. Create a world with the "default" template. ![0](https://mod-file.dn.nexoncdn.co.kr/bbs/1656419849546d61c1ab96b5d454a971009e8053fe3c1.png)
2. Place the objects you want to interact with on the map. In this example, we'll use **Preset List - Object - object-273**. Then, change **object-273**'s name to **StarTree**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16728125334251c9368198cf54d0a93fc0d2f46d44ce6.png)
3. In the context menu of **Workspace - MyDesk**, click **Create Material** to create a new material, and set its name as **NewMaterial**.
4. Set the **Shader** property as **Blurry - Pixel** in the Property Editor of **NewMaterial**. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16733186086991f9a5b0bd0204fccaf1aaa7cbfe781ed.png)
5. In the Property Editor of the **StarTree** object, apply **NewMaterial** to **MaterialID** of **SpriteRendererComponent**. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1672813499766954bfde0c3e44620a6138288f25d19d9.png)
6. Generate the new script component **MaterialTest** and add the **MaterialTest** component to the **StarTree** entity.
7. Make the **PixelateSize** property change based on the distance between the player and the object. Add the `OnUpdate()` function to the **MaterialTest** component and set the execution space to **client only**. After that, fill in the `OnUpdate()` function as below.```
[client only]
void OnUpdate(number delta)
{
    local userPosition = _UserService.LocalPlayer.TransformComponent.Position
    local selfPosition = self.Entity.TransformComponent.Position

    local v = Vector2(userPosition.x - selfPosition.x, userPosition.y - selfPosition.y)
    local dist = Vector2.Distance(Vector2.zero, v)

    local changeValue = {["PixelateSize"] = dist * 16 + 16;}
    -- Copy and paste the Entry ID of NewMaterial in NewMaterial Entry ID below.
    _MaterialService:ChangeMaterialProperty("NewMaterial Entry ID", changeValue)
}
```
8. You'll need to copy and paste your own created **Entry ID** of **NewMaterial** in **NewMaterial Entry ID** from the code written above. In the context menu of **NewMaterial**, click **Copy Entry ID**. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/167331896565459a96e99c98942dab9fb9c85f4013d86.png) Then, open the **MaterialTest** script and paste it to "NewMaterial Entry ID" of the `OnUpdate()` function.
9. Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. As the player gets closer to the **StarTree** object, notice that the tree becomes increasingly pixelated. ![pixel](https://mod-file.dn.nexoncdn.co.kr/bbs/16733192431971878d51398c04d65bcb4083bbba1cab6.gif)

Update 2025-11-17 PM 08:14


# Atlas Blueprint Editor

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

You can efficiently load images by packing the sprites used in the World you are creating into an Atlas.

# Atlas

An (Atlas) is a single large image made up of several sprites. Atlas has RUID information for bound sprites, so when calling Atlas, RUIDs included in the Atlas are called together to help improve World performance.

# Introduce AtlasBlueprint

AtlasBlueprint is an entry used to bind sprites to an Atlas. To create an Atlas, AtlasBlueprint must be created first, and sprites must be added to the corresponding AtlasBlueprint in the AtlasBlueprint Editor. The AtlasBlueprint can be created in 3 ways.

1. **Create - Create AtlasBlueprint** ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1686213349231380059f652bd4f4cad87d2486766311f.png)
2. **Workspace - [+] - Create AtlasBlueprint** ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16813720723871d71d34343e4463e9bba1ef8de5e0919.png)
3. **Workspace - MyDesk - Create AtlasBlueprint** ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/168137208490909091639575b490084b0ced4b4033f9b.png)

After creating AtlasBlueprint and selecting it in **Workspace**, you can see it in the **Property** window as below. Click the **[Open AtlasBlueprintEditor]** button to open the AtlasBlueprint Editor window. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/17258656426015abcefd7d38446dd99abe03fe8026c95.png)

# Introduce AtlasBlueprint Editor

![AtlasBlueprintEditor](https://mod-file.dn.nexoncdn.co.kr/bbs/1688706053601b1d993cf2c8b49729f904b0a341f92c2.png)

| Numbers | Description |
| --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | You can search sprites. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | <ul><li>**Resource in Use**: Shows the sprites being used by the map being edited.</li><li>**Workspace**: Shows the sprites added to the Workspace.</li><li>**Default UI**: Shows only the default UI provided by MSW.</li><li>**My Resources**: Shows only sprites added by the creator.</li><li>**MSW Resource**: Shows only resources provided by MSW.</li></ul> |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Resource categories. Resources are divided into **Sprite** and **AnimationClip**. |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | A thumbnail of the sprite. Allows you to check sprite information. If it is a sprite that has already been added to AtlasBlueprint, a warning![error](https://mod-file.dn.nexoncdn.co.kr/storage/icons/Atlas_Blueprint_Editor/icon_atlasblueprint_error.png) message appears. |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | This button adds the selected sprites to the designated AtlasBlueprint. |
| ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) | Specifies the desired AtlasBlueprint to pack. The selected sprites are added to the specified AtlasBlueprint.<ul><li>You can use the [+] button to generate a new AtlasBlueprint.</li></ul> |
| ![7](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_07.jpg) | <ul><li>**Maximum Size**: Sets the size of AtlasBlueprint. A size of **2048** is recommended. 4096 is only recommended for PC-only releases of Worlds.</li><li>**Padding**: Sets the spacing of the sprites that are packed into the Atlas. The recommended value is **4**.</li><li>**Filter Mode**: Sets the filter mode of the Atlas.<ul><li>Point: Keeps colors vivid. When the sprite is enlarged, the color boundaries are clearly visible.<br>![point](https://mod-file.dn.nexoncdn.co.kr/bbs/1681376094059d24365daf6f3448a828a3c0570a4ca17.png)</li><li>Bilinear: Blends a specific color with surrounding colors to create a softer expression. When a sprite is enlarged, the color boundaries may appear more blurry than the original sprite.<br>![bilinear](https://mod-file.dn.nexoncdn.co.kr/bbs/1681376194233746640e900964e7288a13327aae2cbc9.png)</li><li>Trilinear: Blends a specific color with surrounding colors to create a softer expression. When a sprite is enlarged, the color boundaries may appear more blurry than the original sprite.</li></ul></li></ul> |
| ![8](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_08.jpg) | **Sprite RUIDs to Pack**: A list of sprites that will be made into an Atlas. Only one RUID can be included per Atlas. Different icons appear depending on packing success/failure and abnormalities.<ul><li>![check](https://mod-file.dn.nexoncdn.co.kr/storage/icons/Atlas_Blueprint_Editor/icon_atlasblueprint_check.png): Can pack sprite</li><li>![warning](https://mod-file.dn.nexoncdn.co.kr/storage/icons/Atlas_Blueprint_Editor/icon_atlasblueprint_warning.png): There is something wrong with your sprite. Packing is possible with Atlas. Mostly when a My Resources sprite is replaced in Resource Storage, or an image of the same name is uploaded and replaced in Workspace.</li><li>![error](https://mod-file.dn.nexoncdn.co.kr/storage/icons/Atlas_Blueprint_Editor/icon_atlasblueprint_error.png): Unable to pack sprite.</li></ul> |
| ![9](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_09.jpg) | Pack the selected sprites into an Atlas. The button is not enabled if the list contains sprites that failed to pack. |

# Packing AtlasBlueprint

The following describes how to pack multiple sprites into an Atlas. Sprites bound by an Atlas do not require any additional processing. A sprite can only be applied to one Atlas. Therefore, even if you add a sprite to the Sprite RUIDs to Pack list of AtlasBlueprint to duplicate a packed sprite into another Atlas, it will not be packed into the Atlas and an error icon will appear in the corresponding sprite box. Also, you cannot pack RUIDs shared by other creators into your Atlas. When grouping sprites into an Atlas, it's a good idea for creators to establish criteria and appropriately separate their intended uses. For example, grouping sprites that appear on the same screen or grouping sprites that overlap on the screen and packing them with an Atlas can help improve World performance.

1. In the context menu of **Workspace - MyDesk, click Create AtlasBlueprint** to make a new **MyAtlasBlueprint**. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/168137208490909091639575b490084b0ced4b4033f9b.png)
2. Select **Panels - AtlasBlueprint Editor**.
3. Set **Current Blueprint** as MyAtlasBlueprint in AtlasBlueprint Editor. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/168870792380611e986e3ce5547a29903b780da9c1a8d.png)
4. Select the sprites you want to pack and press the **[Add to Blueprint]** button. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/16887064641292283efce8931413da235c6e49165b619.png)
  > **Tip** When packing animation clips, you can preview the animation sprites by pressing the [>] button. ![4-1](https://mod-file.dn.nexoncdn.co.kr/bbs/172914774378304b3d4cf873e42d980aa2ece4aa41e02.png)
5. Adjust max size, padding, and filter mode values in **Atlas Settings** as you wish. Press **[Pack]** to pack the sprites into the Atlas. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/16887055695712cf0218ae48c457aa3a1b534549950e7.png)
6. You can check the packed Atlas information by pressing **Yes** in the Success Notification window. If you press **No**, the Details Info window does not open. Press the **[Open]** button to open the Details Info window. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/16887069593473bbccf1d33a14c4faddf324c9dd9d884.png)  You can also check the packed AtlasBlueprint previews in the **Property** window. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1689126815360b6a57da2448b4507b4daf444e26f3e16.png)

> **Tip** You can check the **Sprite RUIDs to Pack** list for packing success/failure and sprite anomalies. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1688706020438d8d6eac716f24536a86c2efbfcc1c10f.png)

Update 2025-11-17 PM 08:14


# Changing Avatar Emotions

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

You can change the player avatar's expression using `PlayEmotion` of AvatarRendererComponent. You can connect a certain key with an emotion to express emotion, or play a particular emotion when hit by a monster. Displaying various emotions allows players to communicate actively and conveniently.

# Emotion Types

There are a total of 22 emotions. Emotions appear differently depending on the avatar's face. Thus, they might differ from what's seen in the guide.

| Emotion | key | Example |
| --- | --- | --- |
| Hit | Hit | ![hit](https://mod-file.dn.nexoncdn.co.kr/bbs/16396401188336e54b6adf42b4088ad1c61a60f9c8731.png) |
| Smile | Smile | ![smile](https://mod-file.dn.nexoncdn.co.kr/bbs/16395549609346e876f6386bc4eda97306a53e89f0895.png) |
| Troubled | Troubled | ![troubled](https://mod-file.dn.nexoncdn.co.kr/bbs/16395541972918701350d6bd1425384b71f7eef150433.png) |
| Cry | Cry | ![cry](https://mod-file.dn.nexoncdn.co.kr/bbs/1639554951149c507945a898d4ec58fd2629df70cbeee.png) |
| Angry | Angry | ![angry](https://mod-file.dn.nexoncdn.co.kr/bbs/16395560553809d8ab80b78c14f0faec4be3781b0a5fb.png) |
| Bewildered | Bewildered | ![bewildered](https://mod-file.dn.nexoncdn.co.kr/bbs/16395560679398458bd2b686545c4bb2a8d20fe31f94b.png) |
| Stunned | Stunned | ![stunned](https://mod-file.dn.nexoncdn.co.kr/bbs/1639556098745cf8aff308154417c80014aa9b6e9d68e.png) |
| Vomit | Vomit | ![vomit](https://mod-file.dn.nexoncdn.co.kr/bbs/163955611166849281f37d4bb4107a3dce003f53d1fbc.png) |
| Oops | Oops | ![oops](https://mod-file.dn.nexoncdn.co.kr/bbs/1639556132963546e5fdf3cde4a50b027994f3d086744.png) |
| Cheers | Cheers | ![cheers](https://mod-file.dn.nexoncdn.co.kr/bbs/16395561463349a5bd1cd4ff8472bbea5a534cb19b75e.png) |
| Kiss | Chu | ![chu](https://mod-file.dn.nexoncdn.co.kr/bbs/163955615577069cd9078b46c4f16aabf999e635012bf.png) |
| Wink | Wink | ![wink](https://mod-file.dn.nexoncdn.co.kr/bbs/1639556257543f249e7a3d02a4707bdee12ea1acf54e2.png) |
| Pain | Pain | ![pain](https://mod-file.dn.nexoncdn.co.kr/bbs/16395562727335d82e3d6a88242839d6f176747b03346.png) |
| Shining eyes | Glitter | ![Glitter](https://mod-file.dn.nexoncdn.co.kr/bbs/166684095544355abeeb3a60e4e85a4118483915dfd1d.png) |
| Despair | Despair | ![despair](https://mod-file.dn.nexoncdn.co.kr/bbs/16395562836016f39a4e3e8a54ef8ae0566e3b8862318.png) |
| Love | Love | ![love](https://mod-file.dn.nexoncdn.co.kr/bbs/1639556295930004061735ea14375bd2d90ede8cdc232.png) |
| Shine | Shine | ![shine](https://mod-file.dn.nexoncdn.co.kr/bbs/163955630509906604406ad084f3284149221faaa08ce.png) |
| Demonic | Blaze | ![blaze](https://mod-file.dn.nexoncdn.co.kr/bbs/163955631518406f4825034d74f1cb1952c139f46face.png) |
| Hum | Hum | ![hum](https://mod-file.dn.nexoncdn.co.kr/bbs/1639556324667dee4cdfa35eb41148d1becc71419f1fd.png) |
| Bowing | Bowing | ![bowing](https://mod-file.dn.nexoncdn.co.kr/bbs/1639556334026de94b9e28d764207a8bd6e58d4429199.png) |
| Hot | Hot | ![hot](https://mod-file.dn.nexoncdn.co.kr/bbs/163955640187085d52926ecf749ee8d6884447137ecd6.png) |
| Teasing | Dam | ![dam](https://mod-file.dn.nexoncdn.co.kr/bbs/1639556413232d9ef215a4d144933ab1ae2fc01aa618b.png) |
| Sweat | qBlue | ![qblue](https://mod-file.dn.nexoncdn.co.kr/bbs/1639556423490af2cf4bd2f4445898d4edc084cc4d99e.png) |

# Changing Avatar's Emotion

Pressing number keys 1 through 5 will play each corresponding emotion for 5 seconds.

1. Create a new component in MyDesk, and open the Script Editor.
2. Press ![AddPropertyFunction](https://mod-file.dn.nexoncdn.co.kr/bbs/1635134683611e1fb1dfaa0c94f7386a012836b986188.png) Add next to Function: and select **New**.  ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/164006572761813e6a63db24c41c8a87930b114f0ae3d.png)
3. Change the function name to Emote, select More ![script_more](https://mod-file.dn.nexoncdn.co.kr/bbs/16345206995612a35d54577d8466da03a9fe452a5218c.png), and click **Add Parameter** twice and enter parameter.![parameter](https://mod-file.dn.nexoncdn.co.kr/bbs/164006784006957fd839bd3d546f8aa9c9e1639bfb3a0.png)
4. Use PlayEmotion to write emotions to play.
5. Add KeyDownEvent to Entity Event Handler, and write down input keys needed to play the emotions.

```
Method:
[server]
void Emote (number key, string userId)
{
    local avatar = _UserService:GetUserEntityByUserId(userId).AvatarRendererComponent

    if key == 1 then
        avatar:PlayEmotion(EmotionalType.Angry, 5) -- Plays Angry emotion for 5 seconds
    elseif key == 2 then
        avatar:PlayEmotion(EmotionalType.Cry, 5)
    elseif key == 3 then
        avatar:PlayEmotion(EmotionalType.Chu, 5)
    elseif key == 4 then
        avatar:PlayEmotion(EmotionalType.Smile, 5)
    elseif key == 5 then
        avatar:PlayEmotion(EmotionalType.Wink, 5)
    end
}
     
Event Handler:
[Client Only] [service: InputService]
HandleKeyDownEvent (KeyDownEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    -- local key = event.key
    ---------------------------------------------------------
    
    local myUserId = _UserService.LocalPlayer.OwnerId
    
    if key == KeyboardKey.Alpha1 then -- Press number 1, emotion from Emote function's key 1 will be played.
        self:Emote(1, myUserId) 
    elseif key == KeyboardKey.Alpha2 then
        self:Emote(2, myUserId)
    elseif key == KeyboardKey.Alpha3 then
        self:Emote(3, myUserId)
    elseif key == KeyboardKey.Alpha4 then
        self:Emote(4, myUserId)
    elseif key == KeyboardKey.Alpha5 then
        self:Emote(5, myUserId)
    end
}
```

![emotion](https://mod-file.dn.nexoncdn.co.kr/bbs/1656036982832fc9cbd58c5f241c0a6b505178529fffb.gif)

Update 2025-11-20 PM 02:03


# Changing and Utilizing Avatar Appearance

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's take a look at the configuration of avatars, and how to replace their equipment. You'll learn to understand the configuration of avatars to utilize them in brand new ways.

# Avatar

The Property Editor of **DefaultPlayer** includes **AvatarRendererComponent** and **CostumeManagerComponent**. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1639736344111420c42a85e1c4f678dbdd11dabf7ee64.png)

- **AvatarRendererComponent**
  - It takes the costume information and draws the avatar (rendering).
- **CostumeManagerComponent**
  - It has costume information.
  - If you do not specify a value for the property, the information of each user's equipped clothes is retrieved and displayed.
  - If you want to fight with all the same weapons on the map created by the creator, specify the costume in **CostumeManagerComponent**. When the World is executed, **AvatarRendererComponent** gets the specified costume information and applies the same weapon to all users connecting to the world.

An **avatar** is divided into **Body** and **Face**, located below **AvatarRoot**. **Body** will automatically implement **AvatarBodyActionSelectorComponent** and **Face** will automatically implement **AvatarFaceActionSelectorComponent**. The two **Selector** components deliver which animation to play to **AvatarRendererComponent**. ![avatarroot1](https://mod-file.dn.nexoncdn.co.kr/bbs/163972976884316a24d6b6a37457aaa19b6fa1e57fdd7.png)

#### Avatar Equipment Rules

You can change the property values of **CostumeManagerComponent** to equip avatars with a certain item.

- You can change the body, skin, hat, cape, coat, ear accessory, ears, eye accessory, face accessory, face, gloves, hair, long coat, 1H weapon, pants, shoes, sub-weapon, and 2H weapon.
- However, the following rules apply to **equipment**, so some items cannot be equipped together.
  - Coat/pants and outfits cannot be equipped together.
  - A 1H weapon or sub-weapon cannot be equipped together with a 2H weapon.
  - If you enter items that cannot overlap, only long coats and 2H weapons will be output.

If the creator deactivated the **UseCustomeEquipOnly** property ![Editbox_Visible](https://mod-file.dn.nexoncdn.co.kr/bbs/16346176985962dcc6fd403f34978b50521f0a8329013.png), all users will equip changed costume from their avatars. To make all users enter with the same avatar, you have to activate **UseCustomeEquipOnly** ![Editbox_Check](https://mod-file.dn.nexoncdn.co.kr/bbs/16346176407708cb3de01eaaf48a68ab2dd6fe1b1183f.png). If you put value only for long coat and differentiate the state of **UseCustomeEquipOnly**, it will be applied as shown below.

| UseCustomeEquipOnly Deactivated | UseCustomeEquipOnly Activated |
| :---: | :---: |
| ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1656037430966b3ed208e362047fd96fc353a923d5694.png) | ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/165603717861326007c18880e4f3ab95ec987302d4b82.png) |

# Coloring Avatars

Use **AvatarRendererComponent**'s `SetColor` and **TriggerComponent** functions to make certain entities turn red upon collision.

1. Select **BaseEnvironment - NativeScripts - Component - TriggerComponent**.
2. In the context menu of **TriggerComponent**, click **Extend**. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1687754755702bcecc1f59a204f3ca931773a1849464d.png)
3. Change the name of extended script, and add a component to the entity that will collide with the avatar.
4. Compose the script as follows.

```
Function:
override void OnEnterTriggerBody(TriggerEnterEvent enterEvent)
{
    __base:OnEnterTriggerBody(enterEvent)
     
    -- Gets target (player) that collided with the object.
    local player = enterEvent.TriggerBodyEntity
     
    -- If the target that collided with the object has no AvatarRendererComponent, color will not change.
    local avatarRenderer = player.AvatarRendererComponent
    if avatarRenderer == nil then
        return
    end
     
    -- Sets the color to use on a player upon collision with object (red).
    avatarRenderer:SetColor(1.0, 0.0, 0.0, 1.0)
}
```

![avatarcolour](https://mod-file.dn.nexoncdn.co.kr/bbs/1656037221622eb2a951c9c6a4efc8911926e1553490b.gif)

> **Tip** Since we extended TriggerComponent, adding OnEnterTriggerBody function will add ![override](https://mod-file.dn.nexoncdn.co.kr/bbs/1640768458649f5cbcbca48d348adb5f4cb490510b822.png) at the front.

# Changing Avatar's Costume

You can use **CostumeManagerComponent**'s `SetEquip` property to change the avatar's costume when the avatar touches a certain entity. Let's look at an example that changes the avatar's costume to the RUID below when it touches a specific entity.

| Parts | RUID |
| :---: | --- |
| Cap | 08346b77089b468baa34389b2bf299c7 |
| Long coat (suit) | 0858e3dba9fb4fd3a20273cdeddff5ce |
| One-handed weapon | 2f921322114549da9ef5725e980a28c9 |

1. Select **BaseEnvironment - NativeScripts - Component - TriggerComponent**.
2. In the context menu of **TriggerComponent**, click **Extend**. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1687754755702bcecc1f59a204f3ca931773a1849464d.png)
3. Change the name of extended script, and add a component to the entity that will collide with the avatar.
4. Compose the script as follows.

```
{
    override void OnEnterTriggerBody(TriggerEnterEvent enterEvent)
    __base:OnEnterTriggerBody(enterEvent)
     
    -- Gets target (player) that collided with the object.
    local player = enterEvent.TriggerBodyEntity
     
    -- If the target that collided with the object has no AvatarRendererComponent, the costume will not change.
    local costumeManager = player.CostumeManagerComponent
    if costumeManager == nil then
        return
    end
    
     -- Enter RUID of the new equipment.
    costumeManager.CustomCapEquip = "08346b77089b468baa34389b2bf299c7"
    costumeManager.CustomLongcoatEquip = "0858e3dba9fb4fd3a20273cdeddff5ce"
    costumeManager.CustomOneHandedWeaponEquip = "2f921322114549da9ef5725e980a28c9"
}
```

![avatarchaing](https://mod-file.dn.nexoncdn.co.kr/bbs/16560372660016a0c0a7f65d346e1aa7d166ed839ec13.gif)

# Other Ways to Utilize Avatars

You can create and use a new avatar with **AvatarRendererComponent** and **CostumeManagerComponent**. You can create monsters, portals, NPCs, or other special entities of your own. At this time, **TransformComponent, AvatarRendererComponent, and CostumeManagerComponent** are three essential components. Along with the mandatory components, you can add other native components or new components of your own.

#### Creating Avatar-shaped Portal

![avatar05](https://mod-file.dn.nexoncdn.co.kr/bbs/16397077408772b3142d25d454ec2811260ef4c5400d5.png)

1. In the context menu of **Workspace - MyDesk**, click **Create Model** to make a new model.
2. Add **TransformComponent, AvatarRendererComponent, CostumeManagerComponent** to the new model. ![avatar02](https://mod-file.dn.nexoncdn.co.kr/bbs/16397058202122eac734eedb14d1fb88237289b257b05.png)
3. Enter costume information RUID to **CostumeManagerComponent** to create an avatar that looks different from the creator's avatar. | Parts | RUID |
| :---: | --- | | Body | 504244b76e654f5db23dc62693106bc8 | | Cape | 0c40fcbc25844082981d2f4ca04ee383 | | EyeAccessory | e3846cade85f4a04a603a9a8f5f705d4 | | Face | 0b67e20c585145b7b50bdce28386bef0 | | Glove | 43e864f8cd77466db4d0d7d342e72410 | | Hair | 0521135d1c234f10ab5c1c02b1aed813 | | Longcoat | 1141b91758e54052ac1f39cfb0680574 | | Shoes | ad81534ee2e34e4b98e312517ca3e192 |![avatar3](https://mod-file.dn.nexoncdn.co.kr/bbs/16397063807041913c00c619e43c980832b999591973c.png)
4. Add **PortalComponent** and **NameTagComponent**. ![avatar04](https://mod-file.dn.nexoncdn.co.kr/bbs/1639707712623152a28523dd74a3e8b5f5140fe31ba9b.png)

##### Reference Guide

- [Editing Initial Character Properties](/docs?postId=48)
- [Making a Portal to Move to Another Location](/docs?postId=90)
- [Naming Entities](/docs?postId=29)

Update 2025-11-17 PM 08:14


# Controlling Avatar Animations

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# About the Course

Let's look at three ways to control avatar animations. In this course, we'll try to control the avatar animation with the function you want.

# Control with ActionStateChangedEvent

An avatar consists of a **Body** and **Face** within **AvatarRoot**. **Body** is the avatar's torso and **Face** is its face. You can set what animation to play in the avatar's **Body** and **Face** with [ActionStateChangedEvent](/apiReference/Events/ActionStateChangedEvent).

- **Face** controls the avatar's face animation, the facial expression.
- **Body** controls the avatar's torso action and parts action.

Let's take a look at the properties of **ActionStateChangedEvent**.

| Property | Description |
| :---: | --- |
| CoreActionName | The name of the avatar's torso action. |
| PartsActionName | The name of each part action. <br>Actions of avatar's equipped items except for face accessories. |
| PlayRate | It's the play speed. |
| PlayType | It's the play type. |
| StartFrameIndex | It's the starting frame of the animation. |
| EndFrameIndex | It's the ending frame of the animation. |

## ActionName

**ActionStateChangedEvent** determines which animation to play with **ActionName**. Below is the list of **ActionName**.

| ActionName |
| :---: |
| stand1 | swingO1 | stabO1 | shoot1 |
| stand2 | swingO2 | stabO2 | shoot2 |
| walk1 | swingO3 | stabOF | shootF |
| walk2 | swingOF | stabT1 | |
| alert | swingT1 | stabT2 | |
| prone | swingT2 | stabTF | |
| proneStab | swingT3 |  | |
| jump | swingTF |  | |
| fly | swingP1 |  | |
| sit | swingP2 |  | |
| ladder | swingPF |  | |
| rope |  |  | |
| dead |  |  | |
| heal |  |  | |
| blink |  |  | |

You can preview the animations of each action in **AvatarItem Editor** Maker as follows.

1. Download **Avatar_Cap_A1.psd** in the [Open Back Cap](/docs/?postId=684) guide.
  > **Tip.** You can use any example resource file (psd) under the sub-documents in the [Creating Avatar Item](/ko/docs/?postId=582) guide. You don't have to use **Avatar_Cap_A1.psd**.
2. Click **Window - AvatarItem Editor** in the navigation menu of the Maker.
3. Select the downloaded **Avatar_Cap_A1.psd** after clicking the **[Select PSD File]** button.
4. After a while, the psd file is applied. Choose the desired name in the **ActionName** list. You can check the selected animation. ![action](https://mod-file.dn.nexoncdn.co.kr/bbs/16667653519861a35fd34874248b9a83f0b983525f3bc.gif)

You can utilize **ActionName** with **CoreActionName** and **PartsActionName**. As described above, **CoreActionName** is avatar's **bare body action** and **PartsActionName** are **the actions of avatar's equipped items** except for face accessories. If you look at the avatar's movements with different settings of **CoreActionName** and **PartsActionName** it's easy to understand. For example, look at the image below. The avatar's torso is walking as the **CoreActionName** is set to **walk1**, but the clothes and shoes stand still as the **PartsActionName** is set to **stand1**. ![walk](https://mod-file.dn.nexoncdn.co.kr/bbs/1666850718269278086006fbe4b198a9c492c952bd8c4.gif)

In general, you should set **CoreActionName** and **PartsActionName** identically because it causes unnatural motion if they're different. Of course, sometimes they have to be set differently to appear natural, like the **Death** action, where you set the **CoreActionName** to **dead** and the **PartsActionName** to **stand1**. The creator can set **CoreActionName** and **PartsActionName** according to their own intentions.

## PlayRate

Control the play speed of the animation. The bigger the number is, the faster the play speed.

## PlayType

Set how to play the animation. **PlayType** includes **OneTime, Loop, and ZigzagLoop**.

| SpriteAnimClipPlayType | Description |
| :---: | --- |
| OneTime | Play once. |
| Loop | Play repeatedly in order. |
| ZigzagLoop | Play repeatedly in order - in reverse order. |

## Start/End Frame

You can check the total frames of each animation in **AvatarItem Editor**.

![01](https://mod-file.dn.nexoncdn.co.kr/bbs/16667657292657df3e93d54f8437cb7a709131c0ab531.png)

The creator can set the start frame (StartFrameIndex) and the end frame (EndFrameIndex) of the desired animation to play after checking the total frames. Note the following when setting frames.

- The frame must be set to a positive number.
- The start frame must be less than or equal to the end frame.
- The end frame must be less than or equal to the total animation frame.
- You can correct the frame value if it's incorrect.
- The frame value is set with the default value if not entered.
- The normal output of animations through the input of **CoreActionName**(torso action) and **PartsActionName**(parts action).

## Example

You should send an event to the **GetBodyEntity** of the **AvatarRendererComponent** because **ActionStateChangedEvent** occurs through the avatar's **body**. The default settings are as follows.

```
local body = self.Entity.AvatarRendererComponent:GetBodyEntity()
local event = ActionStateChangedEvent("walk1", "walk1", 1, SpriteAnimClipPlayType.Loop, 1, 2)
body:SendEvent(event)
```

Some properties operate normally even when omitted. However, you must input **CoreActionName** and **PartsActionName**.

```
local body = self.Entity.AvatarRendererComponent:GetBodyEntity()
local event = ActionStateChangedEvent("walk1", "walk1")
-- You can omit the playback speed, playback type, start frame, and end frame.
-- It's the same meaning as ActionStateChangedEvent("walk1", "walk1", 1, SpriteAnimClipPlayType.Loop, 0, End Frame).
body:SendEvent(event)
```

If you enter the wrong frame value, it's automatically corrected.

```
local body = self.Entity.AvatarRendererComponent:GetBodyEntity()
local event = ActionStateChangedEvent("walk1", "walk1", 1, SpriteAnimClipPlayType.Loop, -1, 4) 
-- The frame value should be a positive number. If you enter a negative number as startFrameIndex above, it's corrected to "0".
-- When endFrame is "3", if entering "4" for endFrameIndex, it would be corrected to "3".
-- It would be finally corrected to ActionStateChangedEvent("walk1", "walk1", 1, SpriteAnimClipPlayType.Loop, 0, 3).
body:SendEvent(event)
```

You can fine-tune multiple actions like the different modification between torso and parts animations respectively using **ActionStateChangedEvent**. However, there is also the hassle of having to specify an action each time. If you set frequently used animations like 'Stand' or 'Walk' like this every time, you will increase the amount of unnecessary repetitive code. Also, you need different animations for when your avatar is holding a one-handed weapon versus a two-handed weapon. You can get rid of these inconveniences by using **BodyActionStateChangeEvent**.

# Control with BodyActionStateChangeEvent

[BodyActionStateChangeEvent](/apiReference/Events/BodyActionStateChangeEvent) is the event to literally change the bodyActionState. This event is convenient because you don't need to specify an animation for each weapon type separately. **BodyActionStateChangeEvent** controls animations with **MapleAvatarBodyActionState**. **MapleAvatarBodyActionState** predefines which torso action and parts action to use for each state and what the play speed and the play type are. It's easy to understand if you think of it as the animation presets used frequently are defined.  **MapleAvatarBodyActionState** matches **ActionStateChangedEvent** as shown in the table below.

| MapleAvatarBodyActionState | CoreActionName | PartsActionName | PlayRate | PlayType |
| :---: | :---: | :---: | :---: | :---: |
| Stand | stand1 | stand1 | 1 | ZigzagLoop |
| stand2 | stand2 | 1 | ZigzagLoop |
| Walk | walk1 | walk1 | 1 | Loop |
| walk2 | walk2 | 1 | Loop |
| Attack | alert | alert | 1 | Loop |
| Crouch | prone | prone | 1 | Loop |
| Fall | jump | jump | 1 | Loop |
| Sit | sit | sit | 1 | Loop |
| Rope | rope | rope | 1 | Loop |
| Ladder | ladder | ladder | 1 | Loop |
| Dead | dead | stand1 | 1 | Loop |
| Blink | blink | blink | 1 | Loop |
| Fly | fly | fly | 1 | Loop |
| Hit | alert | alert | 1 | ZigzagLoop |
| Alert | alert | alert | 1 | ZigzagLoop |
| Heal | heal | heal | 1 | Loop |
| Invalid | - | - | - | - |

## Example

Let's look at an example where **BodyActionStateChangeEvent** calls the **Fly** state with **MapleAvatarBodyActionState**.

```
local event = BodyActionStateChangeEvent()
event.ActionState = MapleAvatarBodyActionState.Fly
event.needResetAction = true
event.startFrameIndex = 1
event.endFrameIndex = 2
self.Entity:SendEvent(event)
```

The event finally calls **ActionStateChangedEvent** as seen in the matching table above.

```
ActionStateChangedEvent("fly", "fly", 1, SpriteAnimClipPlayType.Loop, 1, 2)
```

Even if the wrong Start/End frame is entered in **BodyActionStateChangeEvent**, it can be corrected in **ActionStateChangedEvent**.

# Control with ActionSheet and StateComponent

It can also be cumbersome to change the animation by sending an event every time the state of a predefined or newly defined avatar changes. It would be very convenient if the animation would also change whenever the avatar state changes without sending an event. You can easily change animations by changing your avatar state at any time you want with [StateComponent](/apiReference/Components/StateComponent) after setting up an animation to be connected to the avatar state in **ActionSheet** of [AvatarStateAnimationComponent](/apiReference/Components/AvatarStateAnimationComponent).

The default **ActionSheet** provided by **AvatarStateAnimationComponent** is as follows. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/1666838653260b4a969d3d22a438990ede8add75f3edb.png)

| Key | Value |
| :---: | :---: |
| IDLE | stand |
| MOVE | walk |
| ATTACK | attack |
| HIT | hit |
| CROUCH | crouch |
| FALL | fall |
| JUMP | fall |
| CLIMB | rope |
| LADDER | ladder |
| DEAD | dead |
| SIT | sit |

**ActionSheet**In ,

- **Key** means **State**.
- **Value** means **MapleAvatarBodyActionState**. | ActionSheet Value | MapleAvatarBodyActionState |
| :---: | :---: | | stand | Stand | | walk | Walk | | attack | Attack | | crouch | Crouch | | fall | Fall | | sit | Sit | | rope | Rope | | ladder | Ladder | | dead | Dead | | blink | Blink | | fly | Fly | | hit | Hit | | alert | Alert |

If an avatar reaches a specific **State**, it finds the **MapleAvatarBodyActionState** that matches the **Value** of the **State** in the **ActionSheet**. As you saw above, **MapleAvatarBodyActionState** predefines which torso and parts animation to play. Therefore, the avatar's animation will change according to the **State** changed with **StateComponent**.  As such, **ActionSheet** conveniently and easily changes animations along with the state. For example, if you want to play the **walk** animation in the **IDLE** state, you just change the value of **Value** to **walk**. It's also easy for creators to add new states manually.

> **Learn more** Refer to the [Easy Control of Avatar Animation with ActionSheet](/docs/?postId=545) guide to easily change animations using **ActionSheet** and **StateComponent**.

Changing animations with **ActionSheet** and **StateComponent** is easy, but it also has its drawbacks.

- You cannot select the start and end frames of the animation.
- If there is a defined default/user state change condition, the state can be changed automatically by this condition. Therefore, the state may change immediately before the desired animation is output.

## Summary

A summary of the changing animation process is as follows. ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/1666767739753193f598641f64746982ab39b9808c9b4.png)

The table below summarizes the pros and cons of the three methods for controlling avatar's animation as seen above. Each method has clear pros and cons, so a creator just needs to choose the method that matches their intent.

| Controlling Avatar Animation | Pros | Cons |
| :---: | --- | --- |
| ActionStateChangedEvent | <ul><li>You can adjust the body and parts animations separately.</li><li>You can set the play speed, play type, and animation start/end frame in detail.</li></ul> | <ul><li>It's cumbersome to set up frequently used actions like this every time.</li><li>You need to specify a separate animation depending on the weapon.</li></ul> |
| BodyActionStateChangeEvent | <ul><li>You don't need to specify an animation depending on the weapon.</li><li>You can set the start/end frame of animations.</li></ul> | <ul><li>You cannot adjust the body and parts animations separately.</li><li>You cannot change state to undefined in MapleAvatarBodyActionState.</li></ul> |
| ActionSheet and StateComponent | <ul><li>You can simply change the animation for each avatar state in the ActionSheet of the property editor.</li><li>You can easily add your avatar state.</li><li>If you change the State at the desired timing, the animation changes accordingly with StateComponent.</li></ul> | <ul><li>You cannot set the start/end frame of animations.</li><li>If the state is automatically changed by another state change condition, the desired animation may not be output.</li></ul> |

# Animation Frame Event

Let's look at three events to tell the frame information of the playing animation. Let's check out an example to change to another animation with a specific frame using obtained frame information.

| Event | Description |
| :---: | --- |
| [SpriteAnimPlayerChangeFrameEvent](/apiReference/Events/SpriteAnimPlayerChangeFrameEvent) | It occurs when changing the sprite animation's frame. |
| [SpriteAnimPlayerStartFrameEvent](/apiReference/Events/SpriteAnimPlayerStartFrameEvent) | It occurs when playing the first frame of sprite animation. |
| [SpriteAnimPlayerEndFrameEvent](/apiReference/Events/SpriteAnimPlayerEndFrameEvent) | It occurs when playing the last frame of sprite animation. |

Each event sends the frame number (FrameIndex), whether it's reverse playing (ReversePlaying), and total frame count (TotalFrameCount). The event is normally operated when connecting to avatar's **Body** or **Face** with **ConnectEvent**.

## Example

Let's see how to use **FrameEvent** in the following example code.

1. Suppose you want to change to another animation when playing the second frame of an avatar's animation. If so, you can utilize **SpriteAnimPlayerChangeFrameEvent**. Add the `OnBeginPlay` function and connect the event to **Body** as described above. In case of cancellation of subscription, the handler of the connected event should have it as a property.```
Property:
[None]
any handler = nil

Method:
[client only]
void OnBeginPlay()
{
    local body = self.Entity.AvatarRendererComponent:GetBodyEntity()
    self.handler = body:ConnectEvent("SpriteAnimPlayerChangeFrameEvent", self.ChangeFrameEvent)
    -- Connect SpriteAnimPlayerChangeFrameEvent to the body. 
    -- If SpriteAnimPlayerChangeFrameEvent occurs, call the ChangeFrameEvent function.
}
``` Now, call the `ChangeFrameEvent` function when **SpriteAnimPlayerChangeFrameEvent** occurs.
2. Write the `ChangeFrameEvent` function. Set the **swingOF** animation to **Play 2-3 frames repeatedly** with a play speed **0.5** through **ActionStateChangedEvent** when changing the animation frame to 2.```
[client]
void ChangeFrameEvent(any event)
{
    if event.FrameIndex == 2 then
        local body = self.Entity.AvatarRendererComponent:GetBodyEntity()
        local actionEvent = ActionStateChangedEvent("swingOF", "swingOF", 0.5, SpriteAnimClipPlayType.Loop, 2,3)
        body:SendEvent(actionEvent)
    end
}
``` The code above works normally until the animation plays. However, since we are still subscribing to **SpriteAnimPlayerChangeFrameEvent**, as soon as the animation starts, the process will repeat again sending a new **ActionStateChangedEvent**. You will need to unsubscribe from **SpriteAnimPlayerChangeFrameEvent** as this will not give you the desired result.
3. Unsubscribe from **SpriteAnimPlayerChangeFrameEvent** via the saved **handler** earlier. Let's modify the `ChangeFrameEvent` function.```
[client]
void ChangeFrameEvent(any event)
{
    if event.FrameIndex == 2 then
        local body = self.Entity.AvatarRendererComponent:GetBodyEntity()
        body:DisconnectEvent("SpriteAnimPlayerChangeFrameEvent", self.handler) 
        -- Unsubscribe from SpriteAnimPlayerChangeFrameEvent
        local actionEvent = ActionStateChangedEvent("swingOF", "swingOF", 0.5, SpriteAnimClipPlayType.Loop, 2,3)
        body:SendEvent(actionEvent)
    end
}
``` Now after play, when the second frame of the first animation plays, it changes to the **swingOF** animation.  **SpriteAnimPlayerStartFrameEvent** and **SpriteAnimPlayerEndFrameEvent** are the same. Let's create the desired animation using events according to the creator's implementation intention.

> **Tip.** The avatar animation is played through the client, so you need to control it with the client.

Update 2025-11-17 PM 08:14


# Easy Control of Avatar Animation with ActionSheet

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's find out how to control animations easily through avatar's state in **StateToAvatarBodyActionSheet**.

# Avatar Animation

In order for the user to recognize when the avatar is walking, sitting, attacking, or jumping, an animation that matches the state is required. If there is **Key** and **AvatarBodyActionStateName** in **StateToAvatarBodyActionSheet** of [AvatarStateAnimationComponent](/apiReference/Components/AvatarStateAnimationComponent), when the avatar enters a certain state, the corresponding animation is played. You can use this feature to delete the original animation value and create a new state and animation to connect with your avatar. For example, pressing the attack key will play the **attack** animation by default, but you can change it to the **dead** animation.

**StateToAvatarBodyActionSheet** defines 11 states (Key) of the avatar and animations (AvatarBodyActionStateName) associated with them by default. When the avatar enters a certain state, the **Key** sends a request to play an action and plays the animation corresponding to **AvatarBodyActionStateName**. If you only enter **AvatarBodyActionStateName** but do not enter a state (Key), the animation will not play because there's no connected state. **AvatarStateAnimationComponent** is the default component of **Player** models. You can deactivate this component in **DefaultPlayer** and add properties to the component. To add/delete a **Key**, you can change the **StateToAvatarBodyActionSheet** property's **Size** value or click the **[+] and [-]** buttons at the bottom.

![animation105](https://mod-file.dn.nexoncdn.co.kr/bbs/167927196496004370d09cca342d0b0ae918cc40e24ac.png)

**StateToAvatarBodyActionSheet** has default values as shown below. If you change or delete the default, the corresponding animation will not play. For example, if you delete **ladder** from **AvatarBodyActionStateName**, when the avatar climbs the ladder, the ladder ascending animation (ladder) does not play, and the walking animation stops while climbing. **PlayRate** allows you to adjust the default playback rate for avatar animations. The default values are different according to AvatarBodyActionStateName.

| Key | AvatarBodyActionStateName | PlayRate |
| --- | --- | --- |
| IDLE | stand | 1 |
| MOVE | walk | 1.68 |
| ATTACK | attack | 1.33 |
| HIT | hit | 1 |
| CROUCH | crouch | 1 |
| FALL | fall | 1 |
| JUMP | fall | 1 |
| CLIMB | rope | 1 |
| LADDER | ladder | 1 |
| DEAD | dead | 1 |
| SIT | sit | 1 |

> **Tip.** Key has to be in **Upper case**.

# Connecting Different Animation to Existing State Key

You can modify the **AvatarBodyActionStateName** value of the **StateToAvatarBodyActionSheet** property to connect a different animation to an existing state.

1. Change **attack** to **dead**. ![animation104](https://mod-file.dn.nexoncdn.co.kr/bbs/16793645420245e8a2fcc25234f7391c1c2585fb08417.png)
2. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and test. Press the left **Ctrl** key to attack. Before modification, it plays the attack animation. However, after the modification, it plays the dead animation due to changing the connected animation to **Dead**.![animation103](https://mod-file.dn.nexoncdn.co.kr/bbs/1656037601843938b5091f64c4a3499ff0940db8d3670.gif)

# Adding New State Key and Animation

You can also add new states (Keys) and assign animations. If you add new states and actions without using the existing one, the two states will operate together. Let's play a certain animation upon pressing number keys 6, 7, 8, 9.

1. Change **Size** of **Workspace - DefaultPlayer - AvatarStateAnimationComponent** to **15**.
2. Enter a new **Key** and **AvatarBodyActionStateName** in the added fields. | Key | AvatarBodyActionStateName |
| --- | --- | | NEW_ATTACK | attack | | NEW_DEAD | dead | | NEW_JUMP | fall | | NEW_CROUCH | crouch |![ActionSheet100](https://mod-file.dn.nexoncdn.co.kr/bbs/1679272025027f89505b96cf948aba9190b4a1bac83be.png)
3. Create the new **NewAvatarAnimation** script component in **MyDesk** and add it to **DefaultPlayer**.
4. Open the **NewAvatarAnimation** script. Write it with the `AddState()` and `ChangeState()` function of **StateComponent** to play the new added **Key**.```
Property:
[None]
any stateComponent = nil

Method:
[client only]
void OnBeginPlay()
{
    self.stateComponent = self.Entity.StateComponent
    self.stateComponent:AddState("NEW_ATTACK") -- Adds a new state.
    self.stateComponent:AddState("NEW_DEAD")
    self.stateComponent:AddState("NEW_JUMP")
    self.stateComponent:AddState("NEW_CROUCH")
}

[client only]
void Animate(number key) 
{
    if key == 6 then
        self.stateComponent:ChangeState("NEW_ATTACK") 
    elseif key == 7 then
        self.stateComponent:ChangeState("NEW_DEAD")
    elseif key == 8 then
        self.stateComponent:ChangeState("NEW_JUMP")
    elseif key == 9 then
        self.stateComponent:ChangeState("NEW_CROUCH")
    end
}

Event Handler:
[client only] [service: InputService] 
HandleKeyDownEvent(KeyDownEvent event) 
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------

    if key == KeyboardKey.Alpha6 then
        self:Animate(6) 
    elseif key == KeyboardKey.Alpha7 then
        self:Animate(7)
    elseif key == KeyboardKey.Alpha8 then
        self:Animate(8)
    elseif key == KeyboardKey.Alpha9 then
        self:Animate(9)
    end
}
```
  > **Learn more** We added new state and action but did not delete the existing one, so the two inputs operate together.
5. Press Start followed by the number key to play the animation. ![animation101](https://mod-file.dn.nexoncdn.co.kr/bbs/1656037637302737656324fc249a3a33872e34f4e54c4.gif)

Update 2025-11-20 PM 02:03


# Representing Avatars in the UI

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

You can use **AvatarGUIRendererComponent** to display character information in the UI. Let's learn how to use **AvatarGUIRendererComponent** through this course.

##### Reference Guide

[Controlling Avatar Animations](docs/?postId=820)

##### API Reference

[AvatarGUIRendererComponent](/apiReference/Components/AvatarGUIRendererComponent)

#### AvatarGUIRendererComponent Property

Let's look at the main properties of **AvatarGUIRendererComponent**.

| Property | Description |
| --- | --- |
| Color | Adjusts the color. |
| FlipX | Determines whether to invert based on the X axis. |
| FlipY | Determines whether to invert based on the Y axis. |
| PlayRate | You can specify the playback speed of avatar animations. <br> It supports a value of 0 or more. The higher the number, the faster it is. |
| PreserveAvatar | <ul><li>None: Resize freely regardless of the original proportions.</li><li>AspectOnly: Resize while maintaining original proportions.</li><li>NativeSize: Maintain original size.</li></ul> |
| RaycastTarget | If it is set to true, it becomes the target of screen touches or mouse clicks. The UI hidden behind AvatarGUIRendererComponent can't receive the input of screen touches and mouse clicks. |

# Example

Let's adjust the properties of **AvatarGUIRendererComponent** in the script or use functions to change the appearance of the avatar shown in the UI.

#### Show Avatar in UI

Let's take a quick look at how to display an avatar in the UI.

1. After opening the UI editor, press the **[Image]** button to add an entity. In the example, we'll add it to **DefaultGroup**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16734983895969a0457ac51754fd2923c7d97e8360a34.png)
2. Rename the image entity you added to **MyInfoWindow** and enter the following to **ImageRUID**. Then, enter the proper value in **RectSize**.
  - **ImageRUID** : **8122dd6f67f3d9b4db8a3152172f9063**
  - **RectSize** : **X = 350, Y : 460**
3. Open the context menu in **Hierarchy**, click **Create Entity - Create UIEmpty** to create **UIEmpty**.
4. Rename **UIEmpty** as **MyInfo** and add **CostumeManagerComponent** and **AvatarGUIRendererComponent** in the property editor. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16747841322955b99b98e5ecc4c569cf74afef544d15b.png)
5. Enter the proper value in **RectSize**. Then position it at an appropriate place above **MyInfoWindow**.
  - **RectSize** : **X = 270, Y : 400** ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16747852539050f91bb139c244f2190199e8436edaf5c.png)
6. Move the **MyInfo** position to **MyInfoWindow** in **Hierarchy**. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16734988019776451e912fdc64b22947bb1f22db571c0.png)

#### Changing UI Avatar Clothes

Let's take a look at an example where the character's clothes change when they hit a specific object, and the avatar's clothes visible in the UI also change.

1. After placing any object in **Preset List**, enter the following values in **SpriteRUID**. Change the object' name to **Pinkbean**.
  - **SpriteRUID**: **5a81ed24c1354d08b38f8db4b497b607** ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1673503382686e463830b58984fe0a02931f0950220a3.png)
2. In the context menu of **BaseEnvironment - NativeScripts - Component - TriggerComponent**, click **Extend**.
3. Rename the script component you extended as **ChangeUIAvatar**.
4. Add the **ChangeUIAvatar** component to the **Pinkbean** object placed above.
5. Open the **ChangeUIAvatar** script and add the property as follows.```
Property:
[None]
Entity myInfo = /ui/DefaultGroup/MyInfoWindow/MyInfo
[None]
string changeCap = "1e6e49a6ecf94cc6872926598dcf179c"
[None]
string changeLongcoat = "22ab95fb9c3c4539b04d6a540f464e79"
[None]
string changeOHWeapon = "bbe63d40682c4f8ebcdbc22e7d92a5eb"
```
6. Add the `OnEnterTriggerBody()` function and compose its content as follows in **Overridable Function**.```
override void OnEnterTriggerBody(TriggerEnterEvent enterEvent)
{
    __base:OnEnterTriggerBody(enterEvent)

    -- Get a target (player) that collided with the object.
    local player = enterEvent.TriggerBodyEntity

    -- If the collided target with the object doesn't have AvatarRendererComponent, clothes do not change.
    local costumeManager = player.CostumeManagerComponent
    if costumeManager == nil then
        return
    end

    -- Change my character equipment.
    costumeManager.CustomCapEquip = self.changeCap
    costumeManager.CustomLongcoatEquip = self.changeLongcoat
    costumeManager.CustomOneHandedWeaponEquip = self.changeOHWeapon

    if self:IsServer() then 
        return 
    end

    -- Change UI avatar equipment.
    local myInfo = self.myInfo
    local myInfoCostumeManager = myInfo.CostumeManagerComponent

    myInfoCostumeManager.CustomCapEquip = self.changeCap
    myInfoCostumeManager.CustomLongcoatEquip = self.changeLongcoat
    myInfoCostumeManager.CustomOneHandedWeaponEquip = self.changeOHWeapon
}
```
7. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. Confirm that when the character touches the Pinkbean object, both the character's costume and the UI avatar's costume change. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16735057387005fe75284eb82440fa0f179c088110d32.gif)

#### Change Avatar Colors

Let's change the **Color** property of **AvatarGUIRendererComponent** with script. Let's look at an example where the color value of the avatar shown in the UI changes randomly when pressing a button.

1. Add a button in the UI editor and enter it as **SetColorBtn**. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1673836836089d930239e5f034b8785e475aa09296d7c.png)
2. Add **TextComponent** to **SetColorBtn** and set the properties as follows. | Component | Property | Value |
| :---: | :---: | :---: | | TextComponent | Text | SetColor | | FontColor | #FFFFFF |
3. Add `SetColor()` function to the **ChangeUIAvatar** script component and write as follows. Set the execution space to **client only**.```
[client Only]
void SetColor()
{
    local r = _UtilLogic:RandomDouble()
    local g = _UtilLogic:RandomDouble()
    local b = _UtilLogic:RandomDouble()
    local a = _UtilLogic:RandomDouble()
    self.myInfo.AvatarGUIRendererComponent.Color = Color(r,g,b,a)
}
```
4. Create a new script component **TestUIBtn**. Then add the **TestUIBtn** component to **SetColorBtn**.
5. Open the **TestUIBtn** script and add the property as follows.```
Property:
[None]
ChangeUIAvatar changeUIAvatar = /maps/map01/Pinkbean
```
  > **Tip.** If you want to set the property type to ChangeUIAvatar, click Component in the property type and search to add the ChangeUIAvatar component.
6. Add **ButtonClickEvent** to the event handler of the **TestUIBtn** script and write as follows.```
[self]
HandleButtonClickEvent(ButtonClickEvent event)
{
    --Parameters
    local Entity = event.Entity
    --------------------------------
    local name = Entity.Name
    local changeUIAvatar = self.changeUIAvatar

    --Property
    if name == "SetColorBtn" then
        changeUIAvatar:SetColor()
    end
}
```
7. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. The color value of the UI avatar changes each time the **[SetColor]** button is pressed. ![color](https://mod-file.dn.nexoncdn.co.kr/bbs/1673935701110863dae7d69624a3bb8f1f747cd007fbf.gif)

#### Change Parts Colors

The following is an example where the color value of the avatar parts shown in the UI changes randomly when pressing a button.

1. Click to copy **Duplicate** in the context menu of the **SetColorBtn** button.
2. Move the buttons appropriately and rename it to **SetPartColorBtn**.
3. Enter **SetPartColor** to the **SetPartColorBtn - TextComponent - Text** property.
4. Add `SetPartColor()` function to the **ChangeUIAvatar** script component and write as follows. Set the execution space to **client only**.```
[client Only]
void SetPartColor()
{
    local parts = 
    {
    	MapleAvatarItemCategory.Body,
    	MapleAvatarItemCategory.Cap,
    	MapleAvatarItemCategory.Cape,
    	MapleAvatarItemCategory.Coat,
    	MapleAvatarItemCategory.Ear,
    	MapleAvatarItemCategory.EarAccessory,
    	MapleAvatarItemCategory.EyeAccessory,
    	MapleAvatarItemCategory.Face,
    	MapleAvatarItemCategory.FaceAccessory,
    	MapleAvatarItemCategory.Glove,
    	MapleAvatarItemCategory.Hair,
    	MapleAvatarItemCategory.Head,
    	MapleAvatarItemCategory.Longcoat,
    	MapleAvatarItemCategory.OneHandedWeapon,
    	MapleAvatarItemCategory.Pants,
    	MapleAvatarItemCategory.Shoes,
    	MapleAvatarItemCategory.SubWeapon,
    	MapleAvatarItemCategory.TwoHandedWeapon
    }

    local r = _UtilLogic:RandomDouble()
    local g = _UtilLogic:RandomDouble()
    local b = _UtilLogic:RandomDouble()
    local a = _UtilLogic:RandomDouble()

    local index = _UtilLogic:RandomIntegerRange(1,18)

    self.myInfo.AvatarGUIRendererComponent:SetAvatarPartColor(parts[index], r, g, b, a)
}
```
5. Add the following to **ButtonClickEvent** of the **TestUIBtn** script.```
[self]
HandleButtonClickEvent(ButtonClickEvent event)
{
    --Parameters
    local Entity = event.Entity
    --------------------------------
    local name = Entity.Name
    local changeUIAvatar = self.changeUIAvatar

    --Property
    if name == "SetColorBtn" then
        changeUIAvatar:SetColor()
    -- Add the following content
    elseif name == "SetPartColorBtn" then
    	changeUIAvatar:SetPartColor()
    end
}
```
6. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. The color value of the UI avatar's random parts changes each time the **[SetPartColorBtn]** button is pressed. ![partcolor](https://mod-file.dn.nexoncdn.co.kr/bbs/167393592286102105ba6e40f42b099350d3a70dfb1f4.gif)

#### Change Emotion

The following is an example where the avatar's emotion shown in the UI changes randomly when pressing a button.

1. Click to copy **Duplicate** in the context menu of the **SetColorBtn** button.
2. Move the buttons appropriately and rename it to **SetEmotionBtn**.
3. Enter **SetEmotion** to the **SetEmotionBtn - TextComponent - Text** property.
4. Add the `SetEmotion()` function to the **ChangeUIAvatar** script component and write as follows. Set the execution space to **client only**.```
[client Only]
void SetEmotion()
{
    local emotions = 
    {
    	EmotionalType.Hit,
    	EmotionalType.Smile,
    	EmotionalType.Troubled,
    	EmotionalType.Cry,
    	EmotionalType.Angry,
    	EmotionalType.Bewildered,
    	EmotionalType.Stunned,
    	EmotionalType.Vomit,
    	EmotionalType.Oops,
    	EmotionalType.Cheers,
    	EmotionalType.Chu,
    	EmotionalType.Wink,
    	EmotionalType.Pain,
    	EmotionalType.Glitter,
    	EmotionalType.Despair,
    	EmotionalType.Love,
    	EmotionalType.Shine,
    	EmotionalType.Blaze,
    	EmotionalType.Hum,
    	EmotionalType.Bowing,
    	EmotionalType.Hot,
    	EmotionalType.Dam,
    	EmotionalType.qBlue
    }

    local index = _UtilLogic:RandomIntegerRange(1, 23)
    self.myInfo.AvatarGUIRendererComponent:PlayEmotion(emotions[index], 3)
}
```
5. Add the following to **ButtonClickEvent** of the **TestUIBtn** script.```
[self]
HandleButtonClickEvent(ButtonClickEvent event)
{
    --Parameters
    local Entity = event.Entity
    --------------------------------
    local name = Entity.Name
    local changeUIAvatar = self.changeUIAvatar

    --Property
    if name == "SetColorBtn" then
        changeUIAvatar:SetColor()
    elseif name == "SetPartColorBtn" then
    	changeUIAvatar:SetPartColor()
    -- Add the following content
    elseif name == "SetEmotionBtn" then
        changeUIAvatar:SetEmotion()
    end
}
```
6. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. The avatar's emotion changes each time the **[SetEmotion]** button is pressed. ![emotion](https://mod-file.dn.nexoncdn.co.kr/bbs/16739360881637f9ea067d7444efd8b7148aafc5cb01c.gif)

Update 2025-11-17 PM 08:14


# Playing Videos

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

You can import and play your videos, or import videos that you'd like to share.

# YouTube-related Components

You can use a video as UI or place it in the world. YoutubeGUIPlayerComponent is used when a video is used as UI, and YoutubePlayerWorldComponent is used when placed in the world. Using it as UI will fix the video at a single location. It will stay at that position even if the user wanders around the map. Using it in the world will fix the video at a placed location, and will basically stay there even when the player moves around. ![youtube](https://mod-file.dn.nexoncdn.co.kr/bbs/1639617553145463b36f7117043408f8c0fea93f888fe.gif)

> **Tip** Even if you set the video to be played immediately, it will be played when you test the game.

#### YoutubePlayerWorldComponent Property

| Property | Explanation |
| --- | --- |
| ControllerScale | Sets the size of the buttons and the seek bar to control the video. |
| IgnoreMapLayerCheck | Activating it will disable the function to designate SortingLayer with the name shown in the map layer. |
| LocalScale | Sets the video size. |
| OrderInLayer | Aligns layer. You can set the order of entities within a layer. |
| ShowController | Shows UI to control video. |
| SortingLayer | SortingLayer will decide the display priority when 2 or more YoutubePlayers overlap. |
| Loop | Plays the video repeatedly. |
| PlayOnAwake | Activating it will auto-play the video upon entering the world. |
| Shuffle | Activating it will shuffle the playing sequence of videos. |
| Urls | Enter the URL of the video to play. <br><li>Size: The input number will be how many video Urls you can enter.</li> |

#### YoutubePlayerGUIComponent Property

| Property | Explanation |
| --- | --- |
| Loop | Activating it will play the video repeatedly. |
| PlayOnAwake | Activating it will auto-play the video upon entering the world. |
| Shuffle | Activating it will shuffle the sequence of videos. |
| Urls | Enter the URL of the video to play. <br><li>Size: The input number will be how many video Urls you can enter.</li> |

# Playing Video in the World

1. Select **![Tab_Workspace](https://mod-file.dn.nexoncdn.co.kr/bbs/1634542479186400047df886b445e959cb1503f312508.png) Workspace - ![workspace_NativeFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/1634598960433b8c2accd227347b29b0efb94f1320156.png) NativeModel - ![workspace_Model](https://mod-file.dn.nexoncdn.co.kr/bbs/16345998699992db91451454e4357a1a26f2fc8d94b61.png) YoutubePlayerWorld** to place it.![youtube01](https://mod-file.dn.nexoncdn.co.kr/bbs/1638869874178184b15bdee814320afc34e98cac68bdf.png)
2. Enter 2 for Size, and enter the video Url.
  - https://www.youtube.com/watch?v=hvzp4kOtaSw
  - https://youtu.be/3Kom6vz6nic
3. Set the property value, then click ![Common_SoundPlay](https://mod-file.dn.nexoncdn.co.kr/bbs/1635317657654c59c47ffc44d414db579b8d2fc0715a8.png) Start to check.![youtube02](https://mod-file.dn.nexoncdn.co.kr/bbs/163886989504016bb3fe6c3374db3ae0875f29add252f.png)

# Playing Video with GUI

1. Switch to ![TabUI](https://mod-file.dn.nexoncdn.co.kr/bbs/16345246682320aa0a7ca88a64b33b1bdeddb56363f63.png) UI Editor and select the **![Tab_Asset](https://mod-file.dn.nexoncdn.co.kr/bbs/1634542426491c95a16f3ea3e4ffcb78909e4c6bbbd3d.png) YouTube model in Preset List** to place it on the screen.![youtube15](https://mod-file.dn.nexoncdn.co.kr/bbs/1639102697425418eca0a352b42ab89c28ba2ce5e2a15.png)
2. Enter value of 2 for Size, and enter the video Url.
  - https://youtu.be/3Kom6vz6nic
  - https://www.youtube.com/watch?v=hvzp4kOtaSw
3. Set the property value, then click ![Common_SoundPlay](https://mod-file.dn.nexoncdn.co.kr/bbs/1635317657654c59c47ffc44d414db579b8d2fc0715a8.png) Start to check.![youtube03](https://mod-file.dn.nexoncdn.co.kr/bbs/1638871880838e765a1ff0c754da9b2396f95522c81c0.png)

# Function Use Example

Video will be played from 00:20 upon world entrance, and entering a specific key while playing will trigger a function. You can use YoutubePlayerWorldComponent and YoutubePlayerGUIComponent functions in the same way. The example will use YoutubePlayerWorldComponent. Example Url: https://www.youtube.com/watch?v=9pL_b1fl9LQ&t=1s

1. Make a YoutubePlayerController script component, and add it to the placed YouTube model.![youtube20](https://mod-file.dn.nexoncdn.co.kr/bbs/16391219258191430dbcee5304feb98a12e950231b349.png)
2. Let's compose a script that will control the video when a certain key is entered.
  - Video plays automatically from 00:20 upon world entrance
  - Pressing the P key stops the video
  - Pressing the L key stops the pauses and resumes the video
  - Pressing the 0 key jumps back to the start of the video

> **Learn more** Because the execution control of all functions is configured using ClientOnly, not all users are seeing the same screen at a given time. If you'd like the users to see the same part of the video simultaneously, you need to synchronize.

#### Playing Video from a Certain Point

Set video's starting point as 00:20 and play from there.

```
[client only]
void Jump(int timeInSeconds, string targetUserId)
{
    void OnBeginPlay()
    self.Entity.YoutubePlayerWorldComponent:Jump(20.0)
}
```

#### Press P to Stop Video

```
[client only]
void Pause(string targetUserId) 
{
    void Pause() 
    self.Entity.YoutubePlayerWorldComponent:Pause()
}
```

#### Press 0 to Play from the Beginning

```
[client only]
void PlayFromStart()
{
  self.Entity.YoutubePlayerWorldComponent:Play()
    self.Entity.YoutubePlayerWorldComponent:Jump(0)
}
```

#### Press L to Pause and Resume Video

```
[client only]
void PlayPause(string targetUserId)
{
    self.Entity.YoutubePlayerCommonComponent:PlayPause()
}
```

#### Utilizing KeyDownEvent

For a key input event, you need to utilize KeyDownEvent from **EntityEventHandler** as shown below. Write a function that will be executed upon key input in Event Handler.

```
[Service: InputService] 
HandleKeyDownEvent(KeyDownEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    -- local key = event.key
    ---------------------------------------------------------

    local keyStr = tostring(key)
    if keyStr == "P" then
        self:Pause()
    elseif keyStr == "Alpha0" or keyStr == "Keypad0" then
        self:PlayFromStart()
    elseif keyStr == "L" then
        self:PlayPause()
    end
}
```

Composing script with each component will look like the followings.

- Left: YoutubePlayerGUIComponent
- Right: YoutubePlayerWorldComponent ![youtube20](https://mod-file.dn.nexoncdn.co.kr/bbs/1639051697502ac3f6036d2984b4098b7f24116e3a2eb.png)

Update 2025-11-17 PM 08:14


# Draw Various Lines

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=25m&amp;color=green)

# Course Introduction

You can draw various lines in the World freely by using LineRendererComponent.

# LineRendererComponent

LineRendererComponent can designate the number of points to draw straight lines and curve lines you want on MapleTile and RectTile. You can draw one line for one LineRendererComponent, so if you want to express several lines, you should use the entity where several LineRendererComponents are included. The main properties are as follows.

#### IsSmooth

It draws smooth curve lines on enable and sharp broken lines on disable. ![IsSmoothExample](https://mod-file.dn.nexoncdn.co.kr/bbs/1657956230168af666af68a884bebbd5e2bf9694bc4cd.png)

#### Loop

On enable, it draws a closed line by connecting the start and end points. The default value is the disabled state. ![LoopExample](https://mod-file.dn.nexoncdn.co.kr/bbs/16579562450262b41e742a8cb4ddf835fd8b7db4c87cd.png)

#### Points

The group of dots that form a line.

- Click the **Points Edit**: [Edit] button to activate Edit. You can modify, add, and delete the point location in the Scene.
- **Size**: Indicates the number of points connecting lines. The number starts from 0, and the points will be added as much as the value you entered for Size.
- **[Numbers]**: Refer to the number of connecting points of a line.
- **Color**: Specifies the color of the line. When you specify different colors for each Size from one component, the point where the colors are crossed will be mixed up naturally. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16944139559805794266b75bd4670835226315bec0354.png)
- **Position**: Indicates the position of the point of connecting lines. You can draw the line upon making at least two positions. You can draw a line by changing the x and y values by setting the first [1] as (0,0) basis.
- **Width**: Sets the thickness of the line. A greater number makes the line thicker.![WidthExample](https://mod-file.dn.nexoncdn.co.kr/bbs/1657949740811c064ec15791d40c0a2fc0c98dbbf57b6.png)

# Draw a Line in the World

#### Draw a Straight Line

You can draw straight lines by setting two Points and the Position.

1. ![entity](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_entity_no.png)Create EmptyEntity and add LineRendererComponent.
2. Enter 3 for Size, and set Color and Width.
3. Enter (0,0) and (4,0) for each Position. ![line](https://mod-file.dn.nexoncdn.co.kr/bbs/166358584146243474ff4f1644094891eed7a6da66834.png)

#### Draw Triangle

You can draw triangles by connecting the start and end points by using three Points.

1. ![entity](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_entity_no.png)Create EmptyEntity and add LineRendererComponent.
2. Enter 3 for Size, and set Color and Width.
3. Enter (0,0), (1,1), and (2,0) for each Position.
4. Activate Loop Property. ![triangle](https://mod-file.dn.nexoncdn.co.kr/bbs/1663844235905ace8de03857e44f1b9c55a8c83d2199d.png)

#### Draw Shape with Curve Line

You can draw a curve line by using four Points and IsSmooth Property.

1. ![entity](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_entity_no.png)Create EmptyEntity and add LineRendererComponent.
2. Enter 4 for Size, and set Color and Width.
3. Enter (0,0), (1,1), (2,-1), and (3,0) for each Position.
4. Activate IsSmooth and Loop Property. ![loop](https://mod-file.dn.nexoncdn.co.kr/bbs/16579497886734ab7d8aba66a4ceab4f245a45535c6cd.png)

#### Drawing with Material

You can use Material's SpritePattern Shader to draw lines. For questions about how to use the Material, please refer to [Utilizing Material](docs/?postId=828). You can use both user resources and cloned MSW resources as sprites available for LineRendererComponent. To learn how to clone MSW resources, see [Managing Resources](docs/?postId=690).

1. Select **Workspace - MyDesk - Create Material** to make a new Material.
2. In the Properties window of the Material you've created, select **Shader - LineRenderer - SpritePattern**.
3. **Select the image you'd like to use for SpriteRUID**. If necessary, adjust the Offset and Scale values.
4. ![entity](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_entity_no.png)Create EmptyEntity and add LineRendererComponent.
5. In the **MaterialId** of LineRendererComponent, press ![open](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_open_folder.png) and specify the Material.
6. Change the Size and Position values to draw the line. ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/16842378305042dc663a11c3b49eebd58b8804d407e88.png)

> **Tip.** Both the user resource and the cloned MSW resource must have their lab mode set to **Repeat**. ![Repeat](https://mod-file.dn.nexoncdn.co.kr/bbs/168422631874542cfe7bb765e4d659b113e430d223b99.png)
> **Tip.** If the number of LinePoints exceeds 10,000, any LinePoints beyond that limit will not be drawn. In addition, using IsSmooth will reduce the total number of LinePoints that can be drawn to approximately 1,000.

# Use Example

Let us create a model following the player, then make it draw and disappear lines following the player's movement.

![TrailExample](https://mod-file.dn.nexoncdn.co.kr/bbs/1657952569571be162fe5c3c64716b82f6a51e091f1cc.gif)

1. ![model](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_model_no.png)Create Trail model, and add TransformComponent and LineRendererComponent.
2. Create a new ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) TrailDrawer component, and add it to the Trail model.```
[None]
Vector3 PrevPos = Vector3(0,0,0)
[None]
number Threshold = 0.1
[None]
number PointLife = 2
[None]
SyncTable<number> PointLives
[None]
Entity Target = nil

Method:
[client only]
void OnUpdate(number delta)
{
    self:EraseTail(delta)

    local currPos = self.Target.TransformComponent.WorldPosition
    local dist = Vector3.Distance(self.PrevPos, currPos)

    if dist < self.Threshold then
    	return
    end

    self.PrevPos = currPos
    self:AddPoint(currPos)
}

void EraseTail(number delta)
{
    local currPos = self.Target.TransformComponent.WorldPosition

    for i = 1, #(self.PointLives) do
    	local life = self.PointLives[i]
    	life = life - delta
    	self.PointLives[i] = life
    end

    if #(self.PointLives) == 1 then
    	self:RemovePointAt(1)
    	self:AddPoint(currPos)
    	return
    end

    if self.PointLives[1] <= 0 then
    	self:RemovePointAt(1)
    end
}

void AddPoint(Vector3 pos)
{
    local line = self.Entity.LineRendererComponent
    local pointPos = Vector2(pos.x, pos.y + 0.25)

    -- Draw Random Color
    local r = _UtilLogic:RandomDouble()
    local g = _UtilLogic:RandomDouble()
    local b = _UtilLogic:RandomDouble()
    line.Points:Add(LinePoint(pointPos, Color(r, g, b), 1))
    table.insert(self.PointLives, self.PointLife)
}

void RemovePointAt(number idx)
{
    -- Delete Line
    table.remove(self.PointLives, idx)
    self.Entity.LineRendererComponent.Points:RemoveAt(idx)
}


void Init(Entity target)
{
    self.Target = target

    local pos = target.TransformComponent.WorldPosition

    self.PrevPos = pos

    self:AddPoint(pos)
}
```
3. Create a new ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) TrailSpawner component and add it to ![DefaultPlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png) DefaultPlayer.
4. To spawn the line following the ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) TrailSpawner component movement, you should write as below using `SpawnService`. In SpawnByModelId, you should enter the ![model](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_model_no.png) Trail's ID. If you use the ID in the example, it will not work properly. So please be careful in writing.```
Property:
[None]
Entity TrailEntity = nil

Method:
[client only]
void OnBeginPlay ()
{
    self.TrailEntity = _SpawnService:SpawnByModelId("8ae67c69-32ac-40e3-82b1-03d1409be467", "Trail", Vector3.zero, nil)
    self.TrailEntity.TrailDrawer:Init(self.Entity)
}

void OnEndPlay ()
{
    if self.TrailEntity ~= nil then
    	self.TrailEntity:Destroy()
    end
}
```

##### Reference Guide

- [Utilization of RectTileMap](/docs/?postId=589)
- [Changing Location, Size, Rotation of Entities](/docs/?postId=82)

Update 2025-11-17 PM 08:14


# Draw Polygon

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

You can draw various lines in the World freely by using PolygonRendererComponent.

# PolygonRendererComponent

`PolygonRendererComponent` can draw polygons in the World by connecting points. A polygon is drawn according to the order of the points added. If the lines intersect when connecting points, the polygon will not be drawn. If you need to check whether a polygon is drawn, use the `IsDrawable()` function.

If you enter the coordinates of the points as below, the polygon is not drawn because the line connecting (0,0) (3,2) and the line connecting (1,0) (2,2) intersect. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1692247765816f43f2f51cd72421fa5b6b38c8f1a1b4e.png)

The polygon is drawn if you enter the coordinates of points so that the lines don't intersect. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16922477424456fa94597546b46dfb64ac2eed48916c7.png)

The main properties of `PolygonRendererComponent` are as follows.

- Click the **Points Edit**: [Edit] button to enable Edit. You can modify, add, and delete the point location in the Scene.
- **Color**: Specifies the color of the polygon.
- **Points**: The group of points that form a line.
  - **Size**: Indicates the number of points connecting lines. The number starts from 0, and the points will be added as much as the value you entered for Size.
  - **[Number]**: The number of the point. The X, Y values are the coordinates of the point.

# Usage Example

#### Draw Polygon

1. Create the new ![entity](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_entity_no.png) EmptyEntity, and add it to **TransformComponent, PolygonRendererComponent**.
2. Select **Points** of the PolygonRendererComponent and add the number to the **Size**.
3. Enter the coordinates of the point, and specify the **Color**. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16944121241288615fed41bbe4d32bc36b4eea6e4b651.png)

> **Tip** If there are more than 2,000 points, no more points are drawn. If the points are placed to intersect different sides, the polygon will not be drawn.

#### Draw Polygon with Material

You can use Material's **PolygonSprite** Shader to paint a polygon. For questions about how to use the Material, please refer to [Utilizing Material](docs/?postId=828). You can use both user resources and cloned MSW resources as the Material's sprites available for PolygonRendererComponent. To learn how to clone MSW resources, see [Managing Resources](docs/?postId=690).

1. Select **Workspace - MyDesk - Create Material** to make a new Material.
2. In the Properties window of the Material you've created, select **Shader - PolygonRenderer - PolygonSprite**.
3. **Select the image you'd like to use for SpriteRUID**. If necessary, adjust the Offset and Scale values.
4. ![entity](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_entity_no.png)Create EmptyEntity and add PolygonRendererComponent.
5. In the **MaterialId** of PolygonRendererComponent, press ![open](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_open_folder.png) and specify the Material. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1694413381584443e343db0c5476daf441bf8017867cf.png)

> **Tip** Both the user resource and the cloned MSW resource must have their lab mode set to **Repeat**. ![Repeat](https://mod-file.dn.nexoncdn.co.kr/bbs/168422631874542cfe7bb765e4d659b113e430d223b99.png)
> **Tip** If you increase the size of the polygon to which the material is applied, the size of the material will also increase. When the Rotate value of the polygon changes, the Material's sprites will change accordingly. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/169225197319446744ec0a8594315ade9ee52da40ac70.png)

Update 2025-11-17 PM 08:14


# Use Web Browser

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

If you use **WebViewComponent**, you can place a web browser in a World and explore it. Let's learn how to use a web browser in a World through a simple example.

##### API Reference

[WebViewComponent](/apiReference/Components/WebViewComponent)

# WebViewComponent Introduction

If you add **WebViewComponent** to an entity, you can place a web browser in the World. Let's look at the properties of **WebViewComponent** first. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16903331826638ab8d0e6040e4a46848cae80cc1028fe.png)

| Property | Description |
| --- | --- |
| ClickingEnabled | Sets whether to enable clicks in WebView. |
| HoveringEnabled | Sets whether the web element can be interacted with when the mouse is placed over WebView. |
| ScrollingEnabled | Set whether WebView is scrollable or not. |
| DragMode | DragToScroll | It operates as a scroll when dragging. <br> Therefore, even if you drag the scroll bar, it does not operate in a way that controls the scroll bar directly. Instead, it works like starting drag on the page. <br> To make it operate in the same way as dragging the scroll bar from Desktop, you should use DragWithinPage with DragMode. |
| DragWithinPage | If you drag it within a page, it usually operates like dragging with a mouse on the web page. |
| Disabled | Drag does not work. |
| DragThreshold | This is a threshold to ensure it recognizes dragging instead of clicking. If the number is very high, dragging will be recognized as a click. |
| PixelPerUnit | It is the number of pixels to be displayed per 1 Unit. <br>It uses values from 100 to 500. <br>If the number is big, much more content can be shown, but the web elements will be shown as small. |
| ScrollSensitivity | Determines how much will scroll when the page is scrolled with the mouse wheel. |
| Url | This is the URL of the webpage. <br>If you change the Url, the web page will load.<br> If you type empty strings or invalid forms of address, it will not work. |
| SortingLayer | When two or more Entities overlap, the priority is determined according to the Sorting Layer. |
| OrderInLayer | Determines the priority within the same Layer. A greater number indicates higher priority. |
| IgnoreMapLayerCheck | Does not perform automatic replace when designating the Map Layer name to SortingLayer. |

> **Learn More** 1 Unit is a distance unit within a World. The distance of WorldPosition from (0,0) to (1,0) is 1 Unit.

# Place Web Browser to World

If you place a web browser in the World, you can show the browser in a certain position. ![webview](https://mod-file.dn.nexoncdn.co.kr/bbs/1659077818567422ad8f56f884d0286111efe8a38b2ed.gif)

1. Select the desired map from the **Hierarchy** tab, then open the context menu. Select **Create Entity - Create Empty** to create **EmptyEntity**.
2. In the property editor, add **TransformComponent** to **EmptyEntity**.
3. In the property editor, add **WebViewComponent** to **EmptyEntity** and enter the desired URL.
4. Change the **SortingLayer** property of **WebViewComponent** into **Layer1**.
5. After resizing the entity appropriately, press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** to begin the test. You can see the web browser in a certain position in the World.

# Place Web Browser using UI

If you place a web browser using UI, you can have the web browser always shown in a certain position on the screen. ![webviewui](https://mod-file.dn.nexoncdn.co.kr/bbs/165931683546031588f00cec548c0b1707a90878786ab.gif)

1. Open the context menu for the desired UI group below **Hierarchy - ui**. Select **Create Entity - Create UIEmpty** to create **UIEmpty**.
2. In the property editor, add **WebViewComponent** to **UIEmpty** and enter the desired URL.
3. After resizing the entity appropriately, press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** to begin the test. The web browser is shown in a certain position on the screen.

# Function Use Example

## Control Web Browser by Key Input

Let's look at the example of controlling the web browser by key input.

1. In the **Workspace - MyDesk**, add a new script component and enter **WebViewTest** as its name.
2. Add the **WebViewTest** script component into the property editor of the desired entity. Add **WebViewComponent**, too.
3. As shown below, write a script to control the web browser when pressing a certain key on the keyboard. Add **KeyDownEvent** to **WebViewTest** script and write as follows.```
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    -- local key = event.key
    ---------------------------------------------------------

    if key == KeyboardKey.Backspace then
    	self.Entity.WebViewComponent:GoBack()
    	-- Backspace : Go back
    end

    if key == KeyboardKey.Alpha0 then
    	self.Entity.WebViewComponent:GoForward()
    	-- 0 : Go forward
    end

    if key == KeyboardKey.Alpha5 then
    	self.Entity.WebViewComponent:Reload()
    	-- 5 : Refresh page
    end

    if key == KeyboardKey.Equals then
    	self.Entity.WebViewComponent:ZoomIn()
    	-- = : Zoom in screen
    end

    if key == KeyboardKey.Minus then
    	self.Entity.WebViewComponent:ZoomOut()
    	-- - : Zoom out screen
    end

    if key == KeyboardKey.Home then
    	self.Entity.WebViewComponent:Scroll(Vector2(0, -100))	
    	-- Home : Move to the Start page
    end

    if key == KeyboardKey.End then
    	self.Entity.WebViewComponent:Scroll(Vector2(0, 100))	
    	-- End : Move to the End page
    end
}
```
4. Let's press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** and then enter the keys set by the script to use each feature.

## Clicked Coordinates Record

Leave the coordinates of the points that are clicked on the web browser in the log. You can use **WebViewClickedEvent** to check the **normalizedPosition** of the clicked point. **normalizedPosition** refers to the position where the upper left corner is expressed as (0,0) and the lower right corner is expressed as (1,1) when the web view is a flat coordinate system. The central coordinate on the screen is (0.5,0.5). ![normalizedPosition](https://mod-file.dn.nexoncdn.co.kr/bbs/1659333200156ced814fff9734a89a53c313e6f386874.png)

1. Add **WebViewClickedEvent** to **WebViewTest** script and write as follows.```
Event Handler:
[self]
HandleWebViewClickedEvent(WebViewClickedEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: WebViewComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    -- local NormalizedPosition = event.NormalizedPosition
    ---------------------------------------------------------

    log("Clicked: ("..NormalizedPosition.x..", "..NormalizedPosition.y..")")
}
```
2. Press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** and test it. If you click a certain point of the web view, you can see the **normalizedPosition** coordinates of the position in the log. ![log](https://mod-file.dn.nexoncdn.co.kr/bbs/16593302650606bb94d2db1ca44a5882d429e6338bc84.png)

Update 2025-11-17 PM 08:14


# Changing Location, Size, and Rotation of Entities

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=25m&amp;color=green)

# Course Introduction

Let's examine the configuration of **TransformComponent** and how to use it. You'll learn the concept of components, and use them to adjust entity movement, rotation, and size.

# Transforming Entities

There are two ways to transform entities. The creator can choose either of them.

- In the Property Editor window, change the property value of **TransformComponent**. *In **Scene**, adjust entities by selecting, dragging, or using handlers.

# Understanding Coordinates

To use **TransformComponent**, first we'll look into the concept of coordinates. Entities placed in **World** can be adjusted in terms of 'location, scale, and rotation' based on their coordinates. The X axis indicates left and right, Y axis top and bottom, and Z axis front and back. Increases and decreases in value are represented with positive and negative numbers. ![Transform01](https://mod-file.dn.nexoncdn.co.kr/bbs/1637114783017401b498e2b214c02a549e756b19f3bb3.png) Axes X, Y, and Z are concepts most commonly used in 3D games. Since MapleStory Worlds uses a 2D model, we won't be using all three axes to change an entity's state. **Position**and **Scale** mostly use X and Y values. In 2D entities, Z values are only used when necessary. When multiple entities overlap, larger Z values are placed in front, and smaller Z values are placed behind them, making it look like a layer. **Rotation** only moves around the Z axis. Therefore, unlike **Position and Scale**, it is independently named **ZRotation/WorldZRotation** and can only have one value. Below is a table that shows how often each axis is used.

|  | PositionWorldPosition | Scale | ZRotationWorldZRotation |
| --- | --- | --- | --- |
| **X** | ● | ● | X |
| **Y** | ● | ● | X |
| **Z** | ▲ | ▲ | ● |

#### Using Z Values

Z values in **Position** and **Scale** are rarely used because we are using 2D images. 2D is like a surface. We can only transform its surface area. Even if we change the Z value, it is not noticeable, as there is no volume moving back and forth. However, when multiple entities are overlapping, the order of the layers can be affected by adjusting the Z value. ![transform02](https://mod-file.dn.nexoncdn.co.kr/bbs/1637114865603b3dbe59028114cbc95e80edb39e3d4aa.png) **Rotation** uses only the Z value also because it is a 2D image. Imagine holding the top of a piece of paper in front of your eyes and rotating it. At first you see the image as a whole, but at some point, you can only see the thin side of the paper. On-screen, the images rotates around the Y axis. The image will get thinner and thinner until it becomes distorted. It's hard to call this a proper rotation, which is why it isn't used.  Rotating the image around the Z axis won't distort the image. It might seem as if it rotates horizontally on-screen, but likewise, it's because this is a 2D image. ![transform04](https://mod-file.dn.nexoncdn.co.kr/bbs/16371150089380390a89a833549279015e3acd4cd728d.png)

# Change Position

1. Select the entity you placed and activate Property Editor.
2. Change the **X and Y values of Position** in **TransformComponent**.
3. In the **Scene**, click and move the entity to your desired position.

#### Example of Changing X Value

Enter **4** for the value of **Position X**, and the entity will move to the right. ![transform50](https://mod-file.dn.nexoncdn.co.kr/bbs/163711505255438094dc5f40847b980a0ec74bf336520.png)

#### Example of Changing Y Value

Enter **3** for the value of **Position Y**, and the entity will move up. ![transform52](https://mod-file.dn.nexoncdn.co.kr/bbs/163711533385082094259354448c59298d1f60f084bad.png)

#### Example of Changing Z Value

If you enter **1** and **2** for the value of **Position Z**, the smaller number is placed in the front. ![50](https://mod-file.dn.nexoncdn.co.kr/bbs/1637129854895b7a5e5c04c754a389026df1017ff4c2f.png)

> **Tip - Changing Order of Entities** It is best to change the order using **OrderInLayer** of **SpriteRendererComponent**.

# Adjusting Size

- In the Property Editor, change the **X and Y** values for **Scale**.
- In the **Scene**, move the activated handler.

#### Example of Changing X Value

Increasing the **X** value of **Scale** will increase the size left and right. ![53](https://mod-file.dn.nexoncdn.co.kr/bbs/163712981670835563d7a4c624c498e242240e3b8a9c4.png)

#### Example of Changing Y Value

Increasing the **Y** value of **Scale** will increase the size up and down. ![54](https://mod-file.dn.nexoncdn.co.kr/bbs/1637129906868ea6b4f61f3b34d25835aa40b8cd54d67.png)

#### Example of Changing X and Y Values

Entering **4** for the **X and Y** values of **Scale** will make the image 4 times bigger proportionally. ![55](https://mod-file.dn.nexoncdn.co.kr/bbs/163712992630702c9e1c108bb41f1920d778f71388559.png)

# Rotation

**WorldZRotation** and **ZRotaion** interchange values.

#### Method 1

Change the **ZRotation** value of **TransformComponent** into **45**. See how the entity has been rotated 45 degrees counterclockwise. ![70](https://mod-file.dn.nexoncdn.co.kr/bbs/1637129956129332db21c233f45dba0e6741eff67ec52.png)

#### Method 2

1. In the **Scene**, click the entity to activate the handler.
2. Move the cursor towards the edge of the handler box.
3. When the cursor is changed into the ![CursorRotate](https://mod-file.dn.nexoncdn.co.kr/bbs/163452377985689268fa2aa5c412989c41cbb81e3e13f.jpg) shape, rotate the entity to the desired direction.![transformrotate](https://mod-file.dn.nexoncdn.co.kr/bbs/163538582711066d4943dd3814f5fa29565c837aa53a4.gif)

# Utilize TransformComponent Function

#### Translate Function

The `Translate` function is for moving the entity's location. It takes the entity position as the origin and moves it relative to the entered value. The following code is an example of how the entity moves upon starting the game.

```
void OnBeginPlay()
{
    self.Entity.TransformComponent:Translate(4,5)  -- Moves the entity by 4 along the X-axis and 5 along the Y-axis from the current location.
    log("move on")  --  When the movement has been completed, Move On is printed to the console window.
}
```

Add the script to the entity and see if it works. Once the game starts, the cat object placed near the tile **will move according to input coordinate values**. ![transformgif](https://mod-file.dn.nexoncdn.co.kr/bbs/16353203939604dd5bf2ec48549a2880226e944ec5021.gif)

#### Rotate Function

`Rotate` function is used to rotate the entity counterclockwise. It rotates the entity to the left (counterclockwise) of it's placed position according to the input value. The following code is an example of how the entity rotates when executing the game.

```
void OnBeginPlay()
{
    self.Entity.TransformComponent:Rotate(6) -- Rotates the entity counterclockwise by 6 from the current location.
    log("Move On") -- When completed, Move On is printed to the console window.
}
```

Add the script to the entity and see if it works. Once the game starts, the cat object placed near the tile **rotates counterclockwise by 6**. ![transformgif02](https://mod-file.dn.nexoncdn.co.kr/bbs/163532046690887f78a7c6d9549fe8eb9b63f036d6060.gif)

Update 2025-11-20 PM 02:03


# Entity Section Movement

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=25m&amp;color=green)

# Course Introduction

We'll look into three concepts of **Tween Component** to create action in entities. You can use components to adjust the direction and range of the entity's movement.

##### Reference Guide

[Changing Location, Size, Rotation of Entities](/docs?postId=82)

# Introducing Tween Component

You can use **Tween Component** to create movement in entities and adjust the movement in detail. There are three different components depending on the type of movement. You can also combine them to your convenience.

Types of **Tween Component** are as follows.

| Tweener | Type of Movement |
| --- | --- |
| TweenFloatingComponent | Floating movement around original point |
| TweenLineComponent | Linear movement from original position to destination |
| TweenCircularComponent | Circular movement around original point |

> **Tip** Using multiple components might lead to malfunction or a bug where only one component operates. We recommend one Tween component for an entity.

# TweenFloatingComponent

**TweenFloatingComponent** is used to make the entity float around a single location. It moves up and down relative to the origin of the entity. By adjusting the amplitude and cycle time, you can control its distance and range. ![tween01](https://mod-file.dn.nexoncdn.co.kr/bbs/1656418837727e9f305cc0d504a878ddf7c19063705e5.png) Let's take a look at the properties of **TweenFloatingComponent**.

| Name | Description |
| --- | --- |
| TweenType | Default value is Linear. Refer to the document below for more information of floating movement type. |
| OneCycleTime | Time spent in round-tripping amplitude value. The bigger the value, the slower the movement. |
| Amplitude | Sets the distance the entity travels up/down from the original point. The bigger the value, the further it will move. |
| AutoStart | If enabled, the movement begins automatically upon the game's start. |
| AutoDestroy | If enabled, the component will be automatically deleted after the movement is finished. |
| SyncType | Choose whether the component will be synchronized with server or client.<ul><li>Default: Operates in server, appears same in all Clients.</li></ul><ul><li>ClientOnly: Appears and operates only on that particular Client.</li></ul> |

#### Application

1. Add **TweenFloatingComponent** to the Entity. Enter each property value of **TweenFloatingComponent** in the Property Editor window as follows.![tween02](https://mod-file.dn.nexoncdn.co.kr/bbs/16462833345885523a1977e4446a99b1974de5d14eb58.png)
2. Tap the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. Make sure the entity floats up and down.![tween03](https://mod-file.dn.nexoncdn.co.kr/bbs/16351278266829a1fa2002d524f72bbeedbf7d481793b.gif)

> **Tip** Amplitude Value 1: It's hardly visible to the human eye, but considering each grid is 0.6 high, you can estimate it as 2 grids.

# TweenLineComponent

It is used to make linear movement from the original point to the destination. You can set if the trip goes one way, as well as accelerating/decelerating, bouncing upon arrival, etc. ![tween12](https://mod-file.dn.nexoncdn.co.kr/bbs/1656418848585c69dc780ccb44ddf91083ec563dfc053.png) Let's take a look at the properties of **TweenLineComponent**.

| Property Name | Description |
| --- | --- |
| TweenType | Default value is Linear. You can choose movement in another type.<br>Refer to the document below for more information of linear movement type. |
| Duration | Indicates time taken to reach the destination. |
| StopType | Chooses stop type.<ul><li>Oneway: Entity goes one way and terminates movement upon reaching destination.</li><li>OneRoundTrip: Entity goes for a round-trip, considering destination as the halfway point. Stops movement after 1 round-trip.</li><li>RepeatRoundTrip: Entity repeats round-trip, considering destination as the halfway point.</li></ul> |
| UseReturnTweenType | If enabled, entity follows separate method after turning halfway point. |
| ReturnTweenType | Designate the post-halfway point trip type if you have chosen OneRoundTrip/RepeatRoundTrip as the stop method.<br>Refer to the document below for more information on return trip type. |
| ReturnDuration | Indicates time taken to move from the destination to the starting point. |
| DestinationCoordinateType | It's how the entity recognizes its destination.<ul><li>Relative: Recognizes destination in relative coordinates.</li></ul><ul><li>Absolute: The values entered for the destination are interpreted as absolute coordinates.</li></ul> |
| Positions | You can add several destinations in the moving direction. The number of destinations is not displayed in ![TabScene](https://mod-file.dn.nexoncdn.co.kr/bbs/163452458863504f49c7a23aa4a41af56b5b4611a6daf.png) Scene.<br>Size: Refers to the number of destinations. The number starts from 0, and the value you entered in Size will be the number of destinations.<br>Number: Enter the destination's X and Y coordinates. Coordinates of [1] will be the entity's first destination. Then it moves to the next number. |
| Interpolation | Determines the point's interpolation method. Operation is valid when there are more than 2 points.<ul><li>None: Default value, does not interpolate.</li><li>SplineTypeA: Interpolate in SplineTypeA. Entity might not pass points in the middle.</li></ul> *Interpolation: If the entity follows a straight line between several points, the movement does not look smooth. Interpolation compensates for this by making the movement more soft by smoothing the path into a curve. |
| AutoStart | If enabled, the movement begins automatically upon the game's start. |
| AutoDestroy | If enabled, the component will be automatically deleted after the movement is finished. |
| SyncType | Chooses whetherthe component will be synchronized with server or client.<ul><li>Default: Operates in server, appears same in all Clients.</li><li>ClientOnly: Appears and operates only on that particular Client.</li></ul> |

#### Application

1. Add **TweenLineComponent** to the Entity and set as follows.![tween04](https://mod-file.dn.nexoncdn.co.kr/bbs/1646283379788c89d5799ffb74e478c8d62d6db6be1e2.png)
2. Tap the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and test.![tween05](https://mod-file.dn.nexoncdn.co.kr/bbs/1635128047869e1e7391ce85e4e7989395243e2590395.gif)

# TweenCircularComponent

It is used to make circular movement around the original point. You can adjust the number, speed, and range of rotation.

Let's take a look at the properties of **TweenCircularComponent**.

| Property Name | Description |
| --- | --- |
| Radius | Moves away from original point by input value before circular movement.<br>The bigger the value, the further from center. |
| Speed | The bigger the number, the faster the entity's movement. |
| LookAtCenter | If enabled, the topside of the entity's square edge will face the centerpoint. |
| Degree | Rotates by input angle and then stops. When this is set to 0, the object will move continuously without stopping. |
| IsClockwise | Defines the direction of rotation. Rotate clockwise if set to true. |
| AutoStart | If enabled, the movement begins automatically upon the game's start. |
| AutoDestroy | If enabled, the component will be automatically deleted after the movement is finished. |
| SyncType | Chooses whether the component will be synchronized with server or client.<ul><li>Default: Operates in server, appears same in all Clients.</li><li>ClientOnly: Appears and operates only on that particular Client.</li></ul> |

#### Application

1. Add **TweenCircularComponent** to the Entity and set as follows.  ![tween06](https://mod-file.dn.nexoncdn.co.kr/bbs/164628347830889af06e47ea34c718e77f29897772157.png)
2. Tap the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test.If you only enter a **Radius** value, the entity will only rotate along the radius.If you apply **LookAtCenter**, the top edge of the entity's rectangle border is attached to the rotation radius and rotates toward the base point of the rotation.

| Basic Rotation | Apply LookAtCenter |
| --- | --- |
| ![tween07](https://mod-file.dn.nexoncdn.co.kr/bbs/1635132897859b8a88490ede14cf3ab4961b279af2fbc.png) | ![tween08](https://mod-file.dn.nexoncdn.co.kr/bbs/16370579280376c43e57eec704eaea6bac377ce481b5c.png) |
| ![tween09](https://mod-file.dn.nexoncdn.co.kr/bbs/16351329567296ac3abbf46b64488b31bd416bd566412.gif) | ![tween10](https://mod-file.dn.nexoncdn.co.kr/bbs/16351329728073d33972360c648cd9e11a4c70eb1c05f.gif) |

# Reference - Ease Type

Imagine you wound up a clockwork toy and put it on the ground. It will slowly start, move at a constant speed, get slower, and then come to a complete stop. Most of the objects we encounter in our daily life move at different speeds. So a robot that keeps moving at the same speed looks rather awkward. In MapleStory Worlds, you can set different movement speeds and recoil of entities so that they move naturally. Maker offers 10 different types, and each of them has 3 variations. You can refer to the table below.

Types: **Quad, Expo, Cubic, Quart, Quint, Circ, Sine, Elastic, Bounce, Back**

Variation

- **Ease Out**: It starts moving fast, slows down at the end, and stops at its destination.
- **Ease In**: It starts to move slowly, accelerates, and stops at its destination.
- **Ease In-Out**: Starts moving slowly, accelerates in the middle, then decelerates and stops at its destination.

![easetype](https://mod-file.dn.nexoncdn.co.kr/bbs/1635132999893719a42ed301645e8afcf19bb1a302ea9.png)

Update 2025-11-20 PM 02:03


# Teleportation

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Let's create a feature that moves a character to a different map every time a specific time is reached, and take a look at how to use the `TeleportToEntityPath` function of `TeleportService`.

##### API Reference

[TeleportService](/apiReference/Services/TeleportService)

# Creating the Destination Map

First, create the map the character will move to.

1. Select **Window - Map List**. ![Teleport_1](https://mod-file.dn.nexoncdn.co.kr/bbs/168775942033420815d67e57a4a5e8089b084e57856fa.png)
2. Click **[Create New Map]** button in the **Map List** window. Since we're going to make the teleport cycle through three maps, add two new maps. ![Teleport_2](https://mod-file.dn.nexoncdn.co.kr/bbs/1656418919196d6fe11492e9648bd8ce12f3dfa31a0b3.png)
3. Decorate each map so that they can be distinguished from each other when you move to another map. Also, place an entity that will be the destination when you teleport to each map. | **Map** | **Map Creation Example** |
| --- | --- | | map01 | ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/165665674992362b0791572c143caac4932432ffabccd.png) | | map02 | ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16566567844498a1bd211546447a397a044a8bc9c5df1.png) | | map03 | ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1656656814159bbb5a8e0966b4ae388dda9382e40ec95.png) |
4. Check the path for the destination entity. Open the context menu of each entity in the **Hierarchy** and click **Copy Entity Path** to copy the path and record it separately. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16862103427568f6a56e7203741289157a083b3cd4c20.png) Paths for the destination entities in this example are as follows: | **Map** | **Destination Entity Path** |
| --- | --- | | map01 | /maps/map01/object-19_1 | | map02 | /maps/map02/object-6_1 | | map03 | /maps/map03/object-42_1 |

# Creating a Teleport Feature

In order to teleport, we'll need some scripts. Create a new script component and add it to the character.

1. In the context menu of **Workspace - MyDesk**, click **Create Scripts - Create Component** to add a new component. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1687756376627c84b1418872c42a2bb42529622985e1f.png)
2. Name the component **Teleport**. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1635423340528786df9745a5e455c96c59ebc7d949ce9.png)
3. Add the **Teleport** component to **Workspace - DefaultPlayer**. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1635423349810751f20bc31d24e4aa10027ab4d58f36e.png)

Now let's get down to writing the script.

1. Open the **Teleport** script. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/163542336059313a91256a8d64ff6bfb60b3534702e55.png)
2. Add the `OnUpdate` function to the script and write as follows:```
[server only]
void OnUpdate(number delta)
{
    --Property synchronization is not necessary, so we use _T property
    if self._T.accTime == nil then self._T.accTime = 0 end
    if self._T.teleportCnt == nil then self._T.teleportCnt = 0 end

    --Declares table type property, and enters the Path of the destination entity placed on each map
    if self._T.destinationTable == nil then
        self._T.destinationTable = {}
        self._T.destinationTable[1] = "/maps/map01/object-19_1"
        self._T.destinationTable[2] = "/maps/map02/object-6_1"
        self._T.destinationTable[3] = "/maps/map03/object-42_1"
    end

    self._T.accTime = self._T.accTime + delta

    --Moves the character to a different map every 3 seconds
    if self._T.accTime >= 3 then
        self._T.accTime = 0
        self._T.teleportCnt = self._T.teleportCnt + 1
        local destinationNum = self._T.teleportCnt % 3 + 1

    --Uses the TeleportToEntityPath function of TeleportService
    --The path of the entity to be moved and that of the destination entity are passed as parameters
        _TeleportService:TeleportToEntityPath(self.Entity, self._T.destinationTable[destinationNum])
    end
}
```
3. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and test. Check if the character is transported to a different map every 3 seconds. ![teleport](https://mod-file.dn.nexoncdn.co.kr/bbs/16566569336433dc028f996c541839f32ad85efbd8755.gif)

Update 2025-11-17 PM 08:14


# Warp World

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

You can move from one world to another using the TeleportService function.

# Move to Another World

TeleportService can move users to a certain place, or move from one connected world to another. The movement is available when the connecting world and the world to move to have both been released. For this reason, it is not possible to test warp during production.

| Current World | World to Move | Warp or Not |
| --- | --- | --- |
| Published | Published | **◯** |
| Not Published | Published | **◯** |
| Published | Not Published | X |
| Not Published | Not Published | X |

When moving a user to another world, `WarpUserToWorldAndWait()` and `WarpUserToWorldAsync()` functions are used, and two pieces of data, such as **the user ID to move and the world ID to move to**, are required. If you want to use the data that the user collected from the current world in the new world to move to when a user warps to another world, you can transfer the data when the user moves by using `WarpUserToWorldAndWait()` and then access and acquire the data with GetWarpRecord(). For detailed information, please refer to [TeleportService](/apiReference?postId=315).

> **Tip** You can warp to every world released, even if the creator has not made those worlds.

# See World ID

You can see WorldID with the URL of the world information page on the MapleStory Worlds official website. The numbers at the end of the URL may be used as a World ID.

- https://maplestoryworlds.nexon.com/play/**Number**

![WorldID](https://mod-file.dn.nexoncdn.co.kr/bbs/1675147124079c0e09e99888c4f9bb0ed894fa8d6ba59.png)

# Use Example

#### To Warp

Let's make it so a user can warp to another world through a portal.

![worldwarp](https://mod-file.dn.nexoncdn.co.kr/bbs/16751473183921f72083c0b094c9fb0a4aa7d407d2b8d.gif)

1. New: Create a new Warp ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) component and add it to a portal.
2. Add WorldId to Property and enter World ID on the Property Editor window.![warp](https://mod-file.dn.nexoncdn.co.kr/bbs/16577946836778dbd808244d6421e99a67c482d4aa1b8.png)
3. To make it so a user can move to the world assigned, write the following portal event:```
Property:
[Sync]
string WorldId = ""

Method:
[server]
void Warp(string userId)
{
    local warpDataTable = {}
    warpDataTable.userId = userId

    local serializedData = _UtilLogic:TableToString(warpDataTable)

    _TeleportService:WarpUserToWorldAndWait(userId, self.WorldId, serializedData)
}

Event Handler:
[self]
HandlePortalUseEvent(PortalUseEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: PortalComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local PortalUser = event.PortalUser
    ---------------------------------------------------------

    self:Warp(PortalUser.Name)
}
```

#### See If a User Entered into a World through a Warp

With `GetWarpRecord()`, you can see if a user entered a world through a warp.

1. Create a new script component ![common](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_asset_no.png), and add it to Common.
2. Write the following to see if a user entered the world via a warp:```
Event Handler:
[server only] [service: UserService]
HandleUserEnterEvent(UserEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: UserService
    -- Space: Server
    ---------------------------------------------------------

    -- Parameters
    -- local ProfileCode = event.ProfileCode
    local UserId = event.UserId
    ---------------------------------------------------------

    local warpRecord = _TeleportService:GetWarpRecord(UserId)

    -- For a case of general world entry GetWarpRecord() returns nil.
    if warpRecord == nil then 
        return
    end
}
```

#### Check the Warped-From World

With `GetWarpRecord()`, you can see which world the user who moved by Warp came from.

1. Create a new script component ![common](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_asset_no.png), and add it to Common.
2. Write the following to see which world a user who moved using warp came from:```
Event Handler:
[server only] [service: UserService]
HandleUserEnterEvent(UserEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: UserService
    -- Space: Server
    ---------------------------------------------------------

    -- Parameters
    -- local ProfileCode = event.ProfileCode
    local UserId = event.UserId
    ---------------------------------------------------------

    local warpRecord = _TeleportService:GetWarpRecord(UserId)
    if warpRecord == nil then
        return
    end

    local currentWorldId = warpRecord.CurrentWorldId
    local prevWorldId = warpRecord.PreviousWorldId -- You can see the previous world.
}
```

#### Deliver Data to Another World

You can deliver a user's data to the world the user moves to.

1. Create a new script component.
2. Add a portal to the map, then add the created script component to the portal.
3. You can deliver the data to another World by using `WarpUserToWorldAndWait()` and `UtilLogic` as below.```
Property:
[Sync]
string WorldId = ""

Method:
[server]
void Warp(string userId)
{
    local warpDataTable = {}
    warpDataTable.testData = "test"

    local warpData= _UtilLogic:TableToString(warpDataTable)

    _TeleportService:WarpUserToWorldAndWait(userId, self.WorldId, warpData)
}

Event Handler:
[self]
HandlePortalUseEvent(PortalUseEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: PortalComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local PortalUser = event.PortalUser
    ---------------------------------------------------------

    self:Warp(PortalUser.Name)
}
```

#### Get Data Delivered from the Previous World

You can receive the values delivered from the previous world.

1. Create a new script component ![common](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_asset_no.png), and add it to Common.
2. Write using `WarpUserToWorldAndWait()` and `UtilLogic` as below.```
Event Handler:
[server only] [service: UserService]
HandleUserEnterEvent(UserEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: UserService
    -- Space: Server
    ---------------------------------------------------------

    -- Parameters
    -- local ProfileCode = event.ProfileCode
    local UserId = event.UserId
    ---------------------------------------------------------

    local warpRecord = _TeleportService:GetWarpRecord(UserId)
    if warpRecord == nil then
        return
    end

    local warpDataTable = _UtilLogic:StringToTable(warpRecord.Data)
    log(warpDataTable.testData)
}
```

##### Reference Guide

- [Teleportation](/docs/?postId=59)

Update 2025-11-17 PM 08:14


# Warping to a Specific World Instance

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=25m&amp;color=green)

# Course Introduction

You can use `WorldInstanceService` to check the current World InstanceId and the status of other World instances. You can also utilize `TeleportService` to warp the player to a specific World instance.

##### Reference Guide

[World Instance](/docs/?postId=984) [World Instance Communication](d/ocs/?postId=999) [Warp World](/docs/?postId=743)

##### APIReference for Reference

[TeleportService](/apiReference?postId=315) [WorldInstanceService](/apiReference?postId=1034) [WorldInstanceInfo](/apiReference?postId=1128)

# Learn WorldInstanceId

#### WorldInstanceId

**WorldInstanceId** is a unique value issued when the [World Instance](/docs/?postId=984) is created. It is used to distinguish between World instances. For example, if 30 World instances of World A are created, a WorldInstanceId is created for each World instance, for a total of 30 WorldInstanceIds.

There are two ways to know the Id of the World instance the user is currently connected to.

1. You can use the `WorldInstanceId` property of `WorldInstanceService` to know the `WorldInstanceId` of the World instance the user is currently connected to.
2. You can use `GetWorldInstanceInfoPagesAndWait()` and `GetWorldInstanceInfoPagesAsync()` of the WorldInstanceService to search the WorldInstanceInfo by page.

#### WorldInstanceInfo

**[WorldInstanceInfo](/apiReference/Misc/WorldInstanceInfo)** has the information for each World instance. The properties of WorldInstanceInfo are as follows.

- **Id**: A unique value that each World instance has.
- **MaxUserCount**: The maximum number of users that can access World Instance.
- **CurrentUserCount**: The number of users currently in the World instance.

#### WorldInstanceInfoPages

**[WorldInstanceInfoPages](/apiReference/Misc/WorldInstanceInfoPages)**Object for retrieving information about the World Instance. You can use the `GetCurrentPageDatas()` and `MoveToNextPageAndWait()` functions to get a list of data or move to the next page.

# Warping World Instance

You can use **TeleportService**'s `WarpUserToWorldInstanceAndWait()` and `WorldUserToWorldInstanceAsync()` functions to warp the user to another World instance.

To warp a player, you need the **UserId** of the user to warp and the **WorldInstanceId** of the World instance to warp to. You can warp to another World instance by retrieving the information of the most recent World instances at the time the player attempts to warp. For more information about the recent WorldInstanceInfo, you can use the WorldInstanceService's `GetWorldInstanceInfoPagesAndWait()` and `GetWorldInstanceInfoPagesAsync()` functions to search the WorldInstanceInfo by page. However, the World instances for warping must be within the World the user is currently connected to.

Use `WarpUserToWorldAndWait()` to pass the user's accumulated data when warping to another World instance. You can get the passed data by accessing it with `GetWarpRecord()`. For detailed information, please refer to [TeleportService](/apiReference?postId=315).

> **Tip** World instance warp is only available in the **publicly released Worlds**. World instance warp is not available in the private Worlds. You cannot test the World instance warp **during production**. You need to make sure that World instance warp works in the released World.
> **Learn More** `WarpUserToWorldAndWait` and `WarpUserToWorldAsync` warp the World by the WorldId. The destination World for the warp is the second or third World, not the World the user is in, and it is impossible to specify which World instance to warp to. In addition, if there is no World instance to warp to, a new World instance will be created to warp.

#### Non-Warpable World Instance

Sometimes you may not be able to move to the World instance you attempted to warp to. If the warp fails, the player will see a failure message screen and be returned to the World's lobby screen. You cannot return to the World instance from which you attempted to warp. The reason why World instance warps fail is because the state of the World instance is constantly changing. The World instance may have reached its full capacity, or the World instance may be preparing to retire and no longer accept new users.

# Use Example

#### Warp

```
[server]
void WarpToAnotherWorldInstance (string userId, string worldInstanceId)
{
   local warpData = {}
   local serializedData = _UtilLogic:TableToString(warpData)
   
   _TeleportService:WarpUserToWorldInstanceAndWait(userId, worldInstanceId, serializedData)
}
```

#### Searching World Instance Information by Page

This is an example of how to search the World instance information by page using the `GetWorldInstanceInfoPagesAndWait()` function.

```
    local result, pages = _WorldInstanceService:GetWorldInstanceInfoPagesAndWait()
    
    while true do
    
       -- You can get a list of current pages with GetCurrentPageDatas().
    	local datas = pages:GetCurrentPageDatas() 
    	
    	for _, data in pair(datas) do
    		log(data.Id)
    	end
        
       --You can check if the current page is the last page by using the IsLastPage property.
    	if pages.IsLastPage == true then 
    		break
    	end
    	
    	--You can move to the next page with MoveToNextPageAndWait().
    	pages:MoveToNextPageAndWait() 
    	
    end
```

This is an example of how to view the World instance information by page using the `GetWorldInstanceInfoPagesAsync()` function.

```
    local callback = function (result, pages)
    
    	while true do
    		local datas = pages:GetCurrentPageDatas()
    		
    		for _, data in pair(datas) do
    			log(data.Id)
    		end
    
    		if pages.IsLastPage == true then
    			break
    		end
    
    		pages:MoveToNextPageAndWait()
    	end
    end
    
    _WorldInstanceService:GetWorldInstanceInfoPagesAsync(callback)
```

Update 2025-11-20 PM 02:03


# Creating, Deleting, and Validating Entity Effectiveness

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

Creation and deletion of entities are the most frequently used functions when creating a world. In this course, we'll look at how to create and delete entities, as well as discuss an effectiveness validation function to check the existence of entities.

# Creating Entity

**SpawnService** provides a function to create an entity. We'll look into `SpawnByEntity` and `SpawnByModelId`, the main functions used when creating entities.

## SpawnByEntity

Creates a new entity based on an entity.

#### Parameter

| Parameter | Type | Description |
| :---: | :---: | --- |
| entity | Entity | Specifies the entity to be duplicated. |
| name | string | Set the name of the entity that will be created. |
| spawnPosition | Vector3 | Set the location coordinate where the entity will be created. |
| parent<br>(Optional) | Entity | Enter the parent entity of the entity that will be created. |
| includeChild<br>(Optional) | boolean | Decide whether you will also copy the child entity of the entity to be duplicated. |

#### Return Value

- In case of successful spawning, returns **Entity**.
- In case of failed spawning, returns **nil**.

#### Usage Example

Let's learn how to create an entity identical to the entity placed in a map.

1. In **Preset List**, place the entity to be duplicated on the map. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16602756252223e544189296248be9e622a6f6aede534.png)
2. Generate the new script component **SpawnManager**. Double-click **SpawnManager** to open Script Editor, and create the `SpawnByEntity` function.```
void SpawnByEntity()
{
    local entity = _EntityService:GetEntityByPath("/maps/map01/monster-8") -- Right click on placed entity - Select Copy Entity Path to get the Path.
    local name = entity.Name .. "Copy" -- Set the entity name to be created
    local spawnPosition = Vector3(0,0,0) -- Set the location to be created

    local spawnEntity = _SpawnService:SpawnByEntity(entity,name,spawnPosition)
    if isvalid(spawnEntity) == false then 
        log("Spawn Failed")
    end
}
```
3. Upon completion, add the `OnBeginPlay` function and write as follows.```
[server only]
void OnBeginPlay()
{
    self:SpawnByEntity()
}
```
4. Add the **SpawnManager** script component to **common**. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1659601195286fbb9556ae01c4adb8b44b90ab8e68840.png)
5. ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png)Click **[Start]** to check if an entity identical to the entity placed on the map is created. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1655870326527ec7ce48fd9b74ea799d7072cf1ac7f5f.png)

## SpawnByModelId

#### Description

Assign one model from the models added to **Workspace** and create as an entity.

#### Parameter

| Parameter | Type | Description |
| :---: | :---: | --- |
| id | string | Among the models added to the workspace, enter the Entry ID that will serve as the template for the newly created entity.<br>You can import an Entry ID by selecting **Workspace - Model (to become the template for the entity to be created) - Copy Entry ID**. |
| name | string | Set the name of the entity that will be created. |
| spawnPosition | Vector3 | Set the location coordinate where the entity will be created. |
| parent | Entity | Enter the parent entity of the entity that will be created. |

#### Return Value

- In case of successful spawning, returns **Entity**.
- In case of failed spawning, returns **nil**.

#### Usage Example

1. In **Preset List**, open the context menu for the desired model, press **Add to Workspace** to add the model to **Workspace**. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/165995860982314bcc1601e8c44d885b2067b34ea32f3.png)
2. In the context menu of the added model, press **Copy Entry ID** to copy the **Entry ID** to the clipboard. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1687760366731d075f28ddc3b4f14ac0791f36257437a.png)
3. Open **SpawnManager** component and create the `SpawnByModelId` function.```
void SpawnByModelId()
{
    local id = "maplestorymonster$0108737afb9548309c03795430b20c05" -- Click Copy Entry ID to paste the copied ID. Remove the preceding "model://".
    local name = "SpawnedEntity" -- Set the entity name to be created
    local spawnPosition = Vector3(0,0,0) -- Set the location to be created
    local parent = _EntityService:GetEntityByPath("/maps/map01") --The parent entity of the entity to be created

    local spawnedEntity = _SpawnService:SpawnByModelId(id, name, spawnPosition, parent)
    if isvalid(spawnedEntity) == false then
        log("Spawn Failed")
    end
}
```
4. Modify the `OnBeginPlay` function as below.```
[server only]
void OnBeginPlay()
{
    -- self:SpawnByEntity()
    self:SpawnByModelId()
}
```
5. ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png)Click **[Start]** to check if the same entity as the model in **Workspace** is created. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1655816153693283ae21166b6476ea65044a4ffde1a21.png)

# Removing Entity

MapleStory Worlds provides two methods to remove entities, `_EntityService:Destroy` and `Entity:Destroy`. `_EntityService:Destroy` deletes an entity that was passed as a parameter, while `Entity:Destroy` deletes the entity itself that called **Destroy**. Hence, the two functions share the same deletion movement with only a difference in the target.

## Destroy

#### Parameter

| Parameter | Description |
| :---: | --- |
| entity | Enter the entity, which is the target of removal. |

#### Usage Example

Create an entity via **SpawnService**'s spawn function, then remove it 3 seconds after creation. For the example, use the **SpawnManager** script component, which was used in the creation of the entity above.

1. Add a property, and set the type and name as follows.```
Property:
[none]
any SpawnedEntity = nil
```
2. Modify the `SpawnByModelId` function as follows.```
void SpawnByModelId()
{
    local id = "maplestorymonster$0108737afb9548309c03795430b20c05"
    local name = "SpawnedEntity"
    local spawnPosition = Vector3(0,0,0)
    local parent = _EntityService:GetEntityByPath("/maps/map01")

    -- Modify the part below.
    self.SpawnedEntity = _SpawnService:SpawnByModelId(id, name, spawnPosition, parent)
    if isvalid(self.SpawnedEntity) == false then
        log("Spawn Failed")
    end
}
```
3. Add the `OnUpdate` function and compose its content as follows. Write a script that deletes the entity 3 seconds after its creation.```
[server only]
void OnUpdate(number delta)
{
    if isvalid(self.SpawnedEntity) == false then
        return
    end

    if self._T.time == nil then
        self._T.time = 0
    end

    self._T.time = self._T.time + delta

    if self._T.time >= 3 then
        _EntityService:Destroy(self.SpawnedEntity)
    end
}
```
4. ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png)Click **[Start]** to check that the entity disappears 3 seconds after its creation.
  > **Tip** You can delete entities using `Entity:Destroy`. The following is a script using `Entity:Destroy`.```
[server only]
void OnUpdate(number delta) 
{
    if isvalid(self.SpawnedEntity) == false then
        return
    end

    if self._T.time == nil then
        self._T.time = 0
    end

    self._T.time = self._T.time + delta

    if self._T.time >= 3 then
    self.SpawnedEntity:Destroy() -- Replace _EntityService:Destroy with Entity:Destroy.
    end
}
```

# Entity Effectiveness Validation

When creating or deleting an entity, check the state of the entity. Normally you would perform a **nil check of the entity**, but you often don't obtain the desired value, such as when the entity is **waiting to be deleted**, for instance. In this case, you can use the entity effectiveness check feature. Entity effectiveness can be checked via `isvalid`, a global function.

## isvalid

The `isvalid` function checks if an entity is **waiting to be deleted** or if it has been **already deleted**, then returns **true** or **false**.

#### Parameter

| Parameter | Description |
| :---: | --- |
| entity | Enter the entity, which is the target of effectiveness validation. |

#### Return Value

- If the entity passed as a parameter exists, returns **true**.
- If the entity is nil, waiting to be deleted, or has already been deleted, returns **false**.

#### Usage Example

In continuation of the above `Destroy` function example, let's see which value the `isvalid` function returns before and after the deletion of the entity, and how to use the method.

1. Edit the `OnUpdate` function of **SpawnManager** as follows.```
[server only]
void OnUpdate(number delta)
{
    if isvalid(self.SpawnedEntity) == false then
        return
    end

    if self._T.time == nil then
        self._T.time = 0
    end

    self._T.time = self._T.time + delta

    if self._T.time >= 3 then
        local isvalidValue = isvalid(self.SpawnedEntity)
        log("Before deletion : "..tostring(isvalidValue))
        self.SpawnedEntity:Destroy()
        isvalidValue = isvalid(self.SpawnedEntity)
        log("After deletion : "..tostring(isvalidValue))
    end
}
```
2. ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png)Click **[Start]** to test. Check the log for before and after entity deletion in the console window. ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/1655869031532a1ede31bc9bd46d8b521d0e7b328442f.png)
  > **Tip** Although we usually use the global function `isvalid` for effectiveness check, `EntityService:IsValid(entity)` offers a similar function. So if you modify the above script as follows, the result will be the same.```
 [server only]
 void OnUpdate(number delta)
 {
     if isvalid(self.SpawnedEntity) == false then
         return
     end

     if self._T.time == nil then
         self._T.time = 0
     end

     self._T.time = self._T.time + delta

     if self._T.time >= 3 then
         local isvalidValue = _EntityService:IsValid(self.SpawnedEntity)
         log("Before deletion : "..tostring(isvalidValue))
         self.SpawnedEntity:Destroy()
         isvalidValue = _EntityService:IsValid(self.SpawnedEntity)
         log("After deletion : "..tostring(isvalidValue))
     end
}
```

Update 2025-11-20 PM 02:03


# EntityService to Search for Entities

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

While producing the world, you often have to search and receive a particular entity, or receive multiple entities that are related at the same time. This is when you can utilize [**EntityService**](/apiReference/Services/EntityService). **EntityService** provides functions such as entity discovery, deletion, and effectiveness validation. We'll take a look into the features offered by **EntityService**.

**Test Environment** ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/16862117142285e8a5ff6889342debf36acfcd7fdccf4.png) Proceed with the test using the example code after creating a component in **common**.

# Search Entity Function

**EntityService** offers eight functions to search for entities. Each function receives world path, entity ID, model ID, etc. as parameters and searches for and returns an entity through them. Individual entities or multiple entities can be returned based on the function of each function's task.

#### GetEntityByPath()

The function returns a single entity that matches the path within the world. If there are more than 2 entities with the same world path, it returns the one found first. Therefore, you are advised to use **GetEntityByPath** to search for entities that have a unique world path. **worldPath** can be imported as **Copy Entity Path** from each entity context menu in the **Hierarchy**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1686210532005a4a5c0075ed74dfd84667cb938b58532.png)

```
void GetEntityByPathExample()
{
    local entity = _EntityService:GetEntityByPath("/maps/map01/npc-320_1")
    local uiEntity = _EntityService:GetEntityByPath("/ui/DefaultGroup/Image_1")
    
    log(entity.Name)
    log(uiEntity.Name)
}
```

#### GetEntitiesByPath()

The function that returns all entities that match the world path that was delivered as a parameter. This is used if there are multiple entities to find and they have the same world path. For example, using this function to get bullet entities in a shooting game would be efficient. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16862119603211b489e0a3c2e42dc91e46ea4837b80f8.png)

```
void GetEntitiesByPathExample()
{
    local entityArray = _EntityService:GetEntitiesByPath("/maps/map01/Bullet")
    
    for i, entity in pairs(entityArray) do
        log(entity.Name)
    end
}
```

#### GetEntity()

Returns all entities identical to the entity ID entered as a parameter. This function is efficient when you're trying to get one entity among entities that have the same name, like above. To get the Entity ID, go to **Hierarchy**, open the right-click menu, and click **Copy Entity ID**. You can also get an entity ID from the script. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16862106228295b326090f635424abcc59cf1e2980a19.png)

```
void GetEntityExample()
{
    local bulletEntity = _EntityService:GetEntityByPath("/maps/map01/Bullet")
    local bulletEntityId = bulletEntity.Id
    
    local bulletEntityById = _EntityService:GetEntity(bulletEntityId)
    
    if bulletEntity == bulletEntityById then
        log(bulletEntity.Id)
    end
}
```

#### GetEntitiesSpawnedByModelId()

Returns all entities that were created from the model with the model ID. It's especially useful when you're getting all entities created from the same model when there are multiple entities placed. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1635310632309132b8a9defb34af18a8bd72812a72a56.png)  You can receive all entities created by a model that were recieved by accessing a certain entity.

```
void GetEntitiesSpawnedByModelIdExample()
{
    local modelId = _EntityService:GetEntityByPath("/maps/map02/npc-5396_1").Model.BaseModelId
    
    local entities = _EntityService:GetEntitiesSpawnedByModelId(modelId)
    
    for i, v in pairs(entities) do
        log(v.Name)
    end
}
```

#### GetEntitiesSpawnedByModel()

Returns all entities created from the model that were delivered from a parameter. It's useful when you're getting all entities created from the same model when there are multiple entities placed.

```
void GetEntitiesSpawnedByModelExample()
{
    local model = _EntityService:GetEntityByPath("/maps/map02/npc-5396_1").Model
    
    local entities = _EntityService:GetEntitiesSpawnedByModel(model)
    
    for i, entity in pairs(entities) do
        log(entity.Name)
    end
}
```

#### GetSameModelEntities(Entity entity)

Returns all entities created from the circular model from the entity that was delivered as a parameter.

```
void GetSameModelEntitiesExample()
{
    local templateEntity = _EntityService:GetEntityByPath("/maps/map02/npc-5396_1")
    
    local entities = _EntityService:GetSameModelEntities(templateEntity)
    
    for i, entity in pairs(entities) do
        log(entity.Name)
    end
}
```

#### GetEntityByTag()

Returns all entities identical to the tag value delivered as a parameter. You can set the tag with **TagComponent**. You can set multiple tags for a single entity. If any of the tags is a match, the function will return that entity. If there are multiple entities with the same tag, it returns the entity found first. Therefore, you are advised to use **GetEntityByTag** to search for entities that have a unique tag. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/168621240536469fbf1de6ee5420083d94f7cf1b1a48c.png)

```
void GetEntityByTagExample()
{
    local entity = _EntityService:GetEntityByTag("FlayingMonster")
    
    log(entity.Name)
}
```

#### GetEntitiesByTag()

Returns all entities that match the tag value that was delivered as a parameter. You can use it to get all entities with a specific tag value among numerous entities.

```
void GetEntitiesByTagExample()
{
    local monsterEntities = _EntityService:GetEntitiesByTag("Monster")
    
    for i, monsterEntity in pairs(monsterEntities) do
        log(monsterEntity.Name)
    end
}
```

# Deleting Entity and Validating Effectiveness

**EntityService** offers functions to delete Entities and to validate Entities. In other words, it sees if an Entity has been deleted and if it is currently valid.

#### Destroy()

Deletes the entity delivered as a parameter.

```
void DestroyExample()
{
    local entity = _EntityService:GetEntityByPath("/maps/map01/Monster1_1")
    _EntityService:Destroy(entity)
    
    if isvalid(entity) == false then
        log("Entity is destroyed")
    end
}
```

You can use Entity's `Destroy` function as well, aside from `EntityService:Destroy`.

```
void DestroyExample()
{
    local entity = _EntityService:GetEntityByPath("/maps/map01/Monster1_1")
    entity:Destroy()
    
    if isvalid(entity) == false then
        log("Entity is destroyed")
    end
}
```

#### IsValid()

The function checks if the entity delivered as a parameter has been deleted. Of course, you can use nil to check if an entity exists. However, when you're checking if an entity that existed has been deleted, we recommend using the `IsValid` function rather than nil.

```
void IsValidExample()
{
    local entity = _EntityService:GetEntityByPath("/maps/map01/Monster1_1")
    _EntityService:Destroy(entity)
    
    if _EntityService:IsValid(entity) == false then
        log("Entity is destroyed")
    end
}
```

`EntityService:IsValid` can be replaced with the `isvalid` function.

```
void IsvalidExample()
{
    local entity = _EntityService:GetEntityByPath("/maps/map01/Monster1_1")
    _EntityService:Destroy(entity)
    
    if isvalid(entity) == false then
        log("Entity is destroyed")
    end
}
```

# Entity Creation and Deletion Event

When an entity is created or deleted, a corresponding event occurs in **EntityService**. A handler for each event can be added through **Entity Event Handler** of Script Editor. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16564190006160cea97bbfec24f528b7b1a9cd5a920c5.png)  Add an event handler and then see if event sender is set to **EntityService**. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1637567490394c7e585c8bc1e4288a36d0cd99d7aa9dc.png)

#### EntityCreateEvent

This event occurs when an entity is created. You can add a handler from **Entity Event Handler**. The event is sent to Event Handler's parameter, which contains information about the created entity.

```
Method:
[server only]
void OnBeginPlay()
{
    local monsterTemplate = _EntityService:GetEntityByPath("/maps/map01/monster-1")

    -- Spawns monster entity named "spawnedMonster"
    _SpawnService:SpawnByEntityTemplate(monsterTemplate, "spawnedMonster", Vector3(0,0,0), true, true, true, true)
}

Event Handler:
[service: EntityService]
HandleEntityCreateEvent (EntityCreateEvent event)
{
    -- Parameters
    local Entity = event.Entity
    --------------------------------------------------------
    
    -- Prints entities only created from OnBeginPlay.
    if Entity.Name ~= "spawnedMonster" then
    	return	
    end
    
    log(Entity.Name) -- Check if 'spawnedMonster' is printed.
}
```

#### EntityDestroyEvent

This event occurs when an entity is deleted. You can add a handler from **Entity Event Handler**. The event is sent to Event Handler's parameter, which contains information about the entity that is waiting to be deleted.

```
Method:
[server only]
void OnBeginPlay()
{
    local monsterTemplate = _EntityService:GetEntityByPath("/maps/map01/monster-1")
    
    -- Spawns monster entity named "spawnedMonster".
    local spawnedEntity = _SpawnService:SpawnByEntityTemplate(monsterTemplate, "spawnedMonster", Vector3(0,0,0), true, true, true, true)
    
    local callBack = function()
    _EntityService:Destroy(spawnedEntity)
    end
    
    _TimerService:SetTimerOnce(callBack, 5) -- Deletes spawned entity after 5 seconds.
}
    
Event Handler:
[service: EntityService]
HandleEntityCreateEvent(EntityCreateEvent event)
{
    -- Parameters
    local Entity = event.Entity
    --------------------------------------------------------
    
    -- Prints entities only created from OnBeginPlay.
    if Entity.Name ~= "spawnedMonster" then
    	return	
    end
    
    log("CreatedEntity : "..Entity.Name) -- Check if 'CreatedEntity : spawnedMonster' is printed.
}

[service: EntityService]
HandleEntityDestroyEvent(EntityDestroyEvent event)
{
    -- Parameters
    local Entity = event.Entity
    --------------------------------------------------------
    
    -- Prints entities only created from OnBeginPlay.
    if Entity.Name ~= "spawnedMonster" then
    	return	
    end
    
    log("DestroyedEntity : "..Entity.Name) -- Check if 'DestroyedEntity : spawnedMonster' is printed.
}
```

Update 2025-11-17 PM 08:14


# UserService to Find User Entities

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

This course explains how to use `UserService` to get **UserEntity** in context. Let's use a simple script example to examine the functions of `UserService`.

# Before We Begin

The following guides will be useful in understanding this course. [Server and Client](/docs?postId=207) [Execution Space Control](/docs?postId=210) [Event System](/docs?postId=73) [Entity Event System](/docs?postId=176)

# Ready for Examples?

First, click **Create Scripts - Create Component** in the context menu of **Workspace - MyDesk** to create a new script component. Then, change the name to **Test**. Add the **Test** component to the **Hierarchy - Common** entity. ![UserService_2](https://mod-file.dn.nexoncdn.co.kr/bbs/1659503134261e00f6eb7162b47738b3b6a65843ebbf6.png)  Double-click the **Test** component to open the Script Editor. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1635462948231d6af9c28df8e41f599fc4b0a19942bd9.png)  Now let's go through the example and learn about `UserService`.

# User Entrance/Exit Event

When a user enters or leaves the world, the entry and exit events occur in `UserService`. You can add additional processing at the time of user entry and exit by adding an event handler to the script component.

### UserEnterEvent

This event occurs when a user enters the world. You can add processing when the user enters by adding an event handler in the script component.

The following is an example of outputting the **UserId** of the entered user as a log when the user enters the world. Through this, we'll learn how to add and utilize the **UserEnterEvent** handler. You can add the **UserEnterEvent** handler as follows. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1656418968417ab321677f0454e6c80ae2bc330434ad8.png)  The added handler receives the **event** as a parameter, and through this, it receives the **UserId** that entered the current game. If you write the code as follows, whenever a user enters the game, the **UserId** is output to the Console window.

```
Event Handler:
[service: UserService]
HandleUserEnterEvent (UserEnterEvent event)
{
    -- Parameters
    local UserId = event.UserId
    --------------------------------------------------------
    -- Output the UserId of the entering user to the Console window
    log("User Enter! : "..UserId)
}
```

Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Add a new client as shown below. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/163546298427140ee964bea9b4eaaa80eab3d2d65555d.png)  Logs are output in the Console window when a new user enters the game. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1672227283289a41676c3ff0c4a90907a28f386e37728.png)

### UserLeaveEvent

This event occurs when a user exits the world. The following is an example of outputting the **UserId** of the exiting user to the Console window as a log when the user exits the world. Add the **UserLeaveEvent** handler and compose the code as follows.

```
Event Handler:
[service: UserService]
HandleUserLeaveEvent (UserLeaveEvent event)
{
    -- Parameters
    local UserId = event.UserId
    --------------------------------------------------------
    -- Output the UserId of the exiting user to the Console window
    log("User Leave! : "..UserId) 
}
```

Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. We need to check the log output when the user leaves, so we add a client. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/163546298427140ee964bea9b4eaaa80eab3d2d65555d.png)  After a new user enters, exit the new user by closing the added client again. When the user exits, check that the log is output as shown below. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/167222742821522c171b011e14d8783129decfdaa0f35.png)

# User Disconnect/Reconnect Event

If the user's network is unstable, the connection may be lost. They can also reconnect again. Like this, disconnect/reconnect events occur in `UserService`. You can add a separate process when a user disconnects or reconnects by adding a corresponding event handler in the script component.

### UserDisconnectEvent

This event occurs when the user's network connection is disconnected due to instability. You can add processing when the connection is lost by adding a corresponding event handler in the script component.

The following is an example of outputting the disconnected **UserId** and the time. Let's add **UserDisconnectEvent** to the event handler through the script below.

```
Event Handler:
[service: UserService]
HandleUserDisconnectEvent (UserDisconnectEvent event)
{
    -- Parameters
    local DisconnectMapName = event.DisconnectMapName
    local TimeNetworkClosed = event.TimeNetworkClosed
    local UserId = event.UserId
    --------------------------------------------------------
    log("UserDisconnectEvent : "..UserId.." : "..DisconnectMapName.." : "..tostring(TimeNetworkClosed))
}
```

If written as above, the log will output to the Console window when the user is disconnected. ![disconnect](https://mod-file.dn.nexoncdn.co.kr/bbs/1672228212685cf51c1549431482d912ea1a35a6926f5.png)

### UserReconnectEvent

This event occurs when the user reconnects. You can add processing when reconnection occurs by adding the corresponding event handler in the script component.

The following is an example of outputting the reconnected **UserId** and the reconnection time. Let's add **UserReconnectEvent** to the event handler as below.

```
Event Handler:
[service: UserService]
HandleUserReconnectEvent (UserReconnectEvent event)
{
    -- Parameters
    local ReconnectMapName = event.ReconnectMapName
    local TimeNetworkClosed = event.TimeNetworkClosed
    local UserId = event.UserId
    --------------------------------------------------------
    log("UserReconnectEvent : "..UserId.." : "..ReconnectMapName.." : "..tostring(TimeNetworkClosed))
}
```

If written as above, the log will be output to the Console window when the user reconnects. ![reconnect](https://mod-file.dn.nexoncdn.co.kr/bbs/16722281637717ebb64a50b5841c290651809013e8fb8.png)

> **Learn More** Disconnect and reconnect situations are difficult to test in general. Please note that you can leave a log by writing the code as in the example above.

# Importing Entities for All Users in Game

### Dictionary<string, MODEntity> UserEntities

**UserService** provides the **UserEntities** property that retrieves all user entities participating in the game. **UserEntities** is a Dictionary type. It returns **UserId - MODEntity** as **Key - Value**. The following is an example that loops through all players and outputs **Entity Name** whenever a user enters the game. Modify **UserEnterEvent** as follows.

```
Event Handler:
[service: UserService]
HandleUserEnterEvent (UserEnterEvent event)
{
    -- Parameters
    local UserId = event.UserId
    --------------------------------------------------------
    --UserService receives all users as Dictionary
    local AllUserEntitiesDic = _UserService.UserEntities                    
    for userId, playerEntity in pairs(AllUserEntitiesDic) do
        --Sort through all users and output userId and Entity.Name
        log("userId : playerEntity = "..userId.." : "..playerEntity.Name)
    end
}
```

Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. **Key** values, **UserId** and **MODEntity.Name** are output to the Console window. ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/167221497602480f42eb437ee456fa0b18f0d9e7192a3.png)  Let's click the Add Client button. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/163546298427140ee964bea9b4eaaa80eab3d2d65555d.png)  Whenever a new user enters the game, it sorts through all users participating in the game, and outputs **UserId** and **MODEntity.Name**. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/1672228433360de5251fa28be4d35b3717ba6ad4d5ce6.png)

# Importing Information for All Users in the Game

### Dictionary<string, User> Users

**UserService** provides the **Users** property that retrieves the information on all users participating in the game. **Users** returns the **UserId, profile name (nickname), and profile code** of all the users. The example below traverses through all users and outputs user information whenever a user enters the game. Modify **UserEnterEvent** as follows:

```
Event Handler:
[service: UserService]
HandleUserEnterEvent (UserEnterEvent event)
{
    -- Parameters
    local UserId = event.UserId
    --------------------------------------------------------
    local users = tostring(#_UserService.Users).."\n"
    for i, j in pairs(_UserService.Users) do
     users = users..j.UserId.." "..j.Nickname.." "..j.ProfileCode.."\n"
    end
    
    log(users)
}
```

Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and test. **The number of users, UserIds, profile names, and profile codes** are output on the Console window. ![001](https://mod-file.dn.nexoncdn.co.kr/bbs/16841317926502cfd39a5736348c085c6ed944866d293.png 01")

Press the Add Client button and make sure that all the user information is output each time a new user enters the game. ![002](https://mod-file.dn.nexoncdn.co.kr/bbs/16841318084419983ed6428cd40b18fe37140c1cab7ca.png 02")

# Loading Number of Users in Game

### Number GetUserCount()

The `GetUserCount()` function returns the number of users currently participating in the game. Next example is outputting the number of all users in-game whenever a user enters the game. Modify **UserEnterEvent** as follows.

```
Event Handler:
[service: UserService]
HandleUserEnterEvent (UserEnterEvent event)
{
    -- Parameters
    local UserId = event.UserId
    --------------------------------------------------------
    local userCount = _UserService:GetUserCount()
    log("CurrentUserCount : "..userCount)
}
```

Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. **CurrentUserCount** increases in the Console window every time you add a client. ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/1672215824554745c215f00d04ee39a610cf32aed3948.png)

# Importing All Users in a Certain Map

`UserService` provides a function to import users from a certain map.

### Array GetUsersByMapName(string mapName)

The function uses **mapName** to return an array of user entities from a certain map. Pass **mapName** as a string. Returned array values can be iterated to import entities for individual users.  The following code uses the `GetUserByMapName()` function to import all users in map01. Modify **UserEnterEvent** as follows.

```
Event Handler:
[service: UserService]
HandleUserEnterEvent (UserEnterEvent event)
{
    -- Parameters
    local UserId = event.UserId
    --------------------------------------------------------
    local mapName = _EntityService:GetEntityByPath("/maps/map01").Name
    local playersArr = _UserService:GetUsersByMapName(mapName)
    for index, player in pairs(playersArr) do
        log("PlayerName : CurrentMap = "..player.Name.." : "..player.CurrentMap.Name)
    end
}
```

Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. Whenever a user is added, the names of all users in map01 and the map name where they are currently located are output. ![21](https://mod-file.dn.nexoncdn.co.kr/bbs/1672216028360db04c07342b346e986b136760d153527.png)

> **Learn More**  For more precise results, you can add maps and clients to run the test. To learn about creating maps and connecting portals, refer to [Creating and Managing Maps](https://mod-developers.nexon.com/docs?postId=61). 1. Add map02, and a portal that connects map01 and map02. ![UserService_22](https://mod-file.dn.nexoncdn.co.kr/bbs/16346262603985e23a20893c549ff9c1f1994e4cb9b3e.png) 2. Add three more clients during play. Place two users in map01 and the other two in map02. ![UserService_23](https://mod-file.dn.nexoncdn.co.kr/bbs/1634626281994fff64361306f49d1ac1da0670453e014.png) 3. Put each user in different maps, then add users one by one. Confirm that all user names in map01 and the map name appear whenever a new user is added. ![24](https://mod-file.dn.nexoncdn.co.kr/bbs/167222862898698a874a1c74848cda4a51f1960180331.png)

### Array GetUsersByMapComponent(MapComponent mapComponent)

`GetUsersByMapComponent()` is another function that imports user entities from a certain map. Pass **mapComponent** as a parameter, not the **mapId** of a specific map.  The following code uses `GetUsersByMapComponent()` to import all users in map01. Modify **UserEnterEvent** as follows.

```
Event Handler:
[service: UserService]
HandleUserEnterEvent (UserEnterEvent event)
{
    -- Parameters
    local UserId = event.UserId
    --------------------------------------------------------
    -- Receive the components of map01.
    local mapComponent = _EntityService:GetEntityByPath("/maps/map01").MapComponent    
    -- Pass mapComponent as a parameter to receive the users in map01 as an array.
    local playersArr = _UserService:GetUsersByMapComponent(mapComponent)
    for index, player in pairs(playersArr) do
       log("PlayerName : CurrentMap = "..player.Name.." : "..player.CurrentMap.Name)         
    end
}
```

Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Whenever a user is added, the names of all users in map01 and the map name where they are currently located are output. ![26](https://mod-file.dn.nexoncdn.co.kr/bbs/16722287638923d83b1cd8b494f378f926520c621dce8.png)

# Importing Player Entity with UserId

### MODEntity GetUserEntityByUserId(string userId)

`GetUserEntityByUserId()` is the function to return the corresponding player entity through the user ID.  You might want to import a player entity only with the player's **UserId**. You can use **UserEntities** to import all users and itinerate to find an entity with the same ID. However, it is somewhat inefficient.  `GetUserEntityByUserId()` is a function that can be used in this situation. Since you only need to pass the user ID as a parameter, you can easily receive the desired user entity. The following code uses the **UserId** of the user who entered the game, imports the user entity, and outputs the name.

```
Event Handler:
[service: UserService]
HandleUserEnterEvent (UserEnterEvent event)
{
    -- Parameters
    local UserId = event.UserId
    --------------------------------------------------------
    local EnterdPlayerEntity = _UserService:GetUserEntityByUserId(UserId)
    log("EnterdPlayerEntityName : "..EnterdPlayerEntity.Name)  
}
```

Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. The name of the user who most recently entered is output whenever a new client is added. ![28](https://mod-file.dn.nexoncdn.co.kr/bbs/1672228927792d3bae34457444e4c80d92776b8025571.png)

# Importing My Player (Client-only)

### MODEntity LocalPlayer

The **LocalPlayer** property can import my user entity within the client. The concept of my character on a particular client is valid only on that client. Therefore, it cannot be used on the server and must only be used on the client.  Since **UserEnterEventType** only occurs in servers, we'll add a function that can be executed in the client, so we can write code that will output your character's name whenever a user enters the game.

```
Method: 
[client]
void PrintLocalPlayerName()
{
    -- Load my user from client.
    local MyPlayer = _UserService.LocalPlayer   
    log("MyPlayerName : "..MyPlayer.Name)
}
Event Handler: 
[service: UserService]
HandleUserEnterEvent (UserEnterEvent event)
{
    -- Parameters
    local UserId = event.UserId
    --------------------------------------------------------
    --Since the event occurs in server, call the client function that can load LocalPlayer.
    self:PrintLocalPlayerName()
}
```

Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. No matter which user enters, the output is the current character name in the current client. ![30](https://mod-file.dn.nexoncdn.co.kr/bbs/1672229156613a492a8ce464c496ab49c4a0fb15c5779.png)

> Learn More To learn about executing functions in clients and servers, refer to [Execution Space Control](https://mod-developers.nexon.com/docs?postId=210).

Update 2025-12-02 PM 03:52


# Making a Portal to Move to Another Location

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

You can add portals within the maps of your world to allow players to quickly travel from place to place. Let's explore how to use [PortalComponent](/apiReference/Components/PortalComponent).

# Making Portals

[PortalComponent](/apiReference/Components/PortalComponent) allows you to set an entity with the same PortalComponent as the destination, and enables the player avatar to move to the destination when performing a specific action (such as a key input) within the portal area. We recommend using visually prominent sprites when creating entities that serve as functional portals. For example, a pair of shining circles or two distinct images will help the user distinguish the portals from other objects.

#### Making Portals with a Portal Model

Select **Preset List - Portal** and place it in the **Scene**. Portal models automatically include **PortalComponent**.![101](https://mod-file.dn.nexoncdn.co.kr/bbs/1663915370804d5440d19b5644734bd933e7778f83708.png)

#### Making Portals from Scratch

1. Place an entity that uses a custom-made sprite or MSW resource sprite.
2. Open the Property Editor window and add **PortalComponent**. ![portal03](https://mod-file.dn.nexoncdn.co.kr/bbs/16877649298670292c6aaa1a24154979d84844e1418f3.png) ![portal04](https://mod-file.dn.nexoncdn.co.kr/bbs/1634802949512ccfae4badddf4a9b94e54c465e52fe6a.png)

# Setting Portal Destinations

You can target an entity with **PortalComponent** to set it as the destination. Only one destination can be set per component and the portal is one-way only.

1. Place 2 or more portals.![portal05](https://mod-file.dn.nexoncdn.co.kr/bbs/1634802987275d1041c5e61784d01aa9e0f46471e9154.png)
2. Click **PortalComponent - PortalEntityRef** and select the destination portal.![portal06](https://mod-file.dn.nexoncdn.co.kr/bbs/1634803045300b9122896120d423ea925ee9a2a3f89c2.png)
3. Press the Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) to check if it works.![portal4_1](https://mod-file.dn.nexoncdn.co.kr/bbs/16348033108010ff14400fad74976a47ac11befbe43e3.gif)

> **Tip** You can refresh the portal path by placing it in ![workspace_world](https://mod-file.dn.nexoncdn.co.kr/bbs/1634520188174b448bb50e5c64320bb3c882a5b438d6d.png)World, and then **Saving (Ctrl + S) or ![Common_SoundPlay](https://mod-file.dn.nexoncdn.co.kr/bbs/1635317657654c59c47ffc44d414db579b8d2fc0715a8.png) test playing**. Please save or test, as you need to refresh to see the set portal path.

# Making Two-Way Portals

You can connect two portals so that they go both ways. This can work on the same map, or between two different maps.

#### Two-Way Portals on the Same Map

1. Place portals in their positions.
2. Choose the destination for each **PortalComponent - PortalEntityRef**.![portral11](https://mod-file.dn.nexoncdn.co.kr/bbs/163480347290834c9258780db465485f2abcf0bc3c64c.png)
3. Press Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) to see the movement.![portalediting6](https://mod-file.dn.nexoncdn.co.kr/bbs/16348058145167aaa89d461ff4c1c8946f863262bd401.gif)

#### Two-Way Portal between Maps

1. Place portals in their positions in different maps.
2. Press **PortalComponent - PortalEntityRef** and select the destination.![portal12](https://mod-file.dn.nexoncdn.co.kr/bbs/1634804528834453c58fe14e24cc8adb4ab9e4a3e0a5b.png)
3. Press the Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) to see the movement.![portal55](https://mod-file.dn.nexoncdn.co.kr/bbs/16348062106844c69bcbaa6df4e4e9f3a6cd65394b137.gif)

# Setting Portal Areas

You can set the portal area regardless of the Sprite size. Box Size and Box Offset are synchronized. ![portal07](https://mod-file.dn.nexoncdn.co.kr/bbs/1634804632410373ff4eeb66a406facf39bb888857a1d.png)

- BoxCollider: Activates the portal range editing function.
- BoxOffset: The area that's considered the portal.
- BoxSize: Changes the size of the portal box.

1. Press **Box Collider - Edit** to enable editing mode.In editing mode, the area will turn red.![portal10](https://mod-file.dn.nexoncdn.co.kr/bbs/16348046753553247448f7d1e4b83add5fac2e7b76e80.png)
2. You can change the X and Y values, or drag the box handler to adjust its size.![portalboxsize](https://mod-file.dn.nexoncdn.co.kr/bbs/1634804819824c51759c6a62848348bb5f7f339bbf701.gif)
3. Press Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) to see the changed area. As the box is bigger than the portal sprite, you can also move from the side of the portal.

| Basic box setting | After changing box size |
| --- | --- |
| ![portal33](https://mod-file.dn.nexoncdn.co.kr/bbs/16348050501643cf72b5f23084b3794b9a405f1cbeceb.gif) | ![portal22](https://mod-file.dn.nexoncdn.co.kr/bbs/1634805074080dd3861e6a9bc4ec89beff04deb974bf0.gif) |

Update 2025-11-20 PM 02:03


# Attack and Hit

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

In MapleStory, the player becomes an adventurer that explores the Maple World and battles against monsters. During battle, the player either attacks or gets hit by monsters. Not only in MapleStory, but in various games, attacking and hitting are important concepts. In this course, we will learn how to implement attacks and hits.

##### Reference Guide/Reference

[AttackComponent](/apiReference/Components/AttackComponent) [HitComponent](/apiReference/Components/HitComponent) [Making Collision Groups](/docs?postId=754) [Entity Collision](/docs/?postId=175) [Controlling Entity Status](/docs/?postId=686) [Setting and Controlling Player](/docs/?postId=547)

# Learning About AttackComponent

Pressing the 'Ctrl' key plays the attack animation in MapleStory Worlds, but an actual attack isn't made. For the animation to also register as an attack, the **AttackComponent** must be used. A player can make various attacks in a game, and the range for each attack can be set differently. `AttackComponent` is used to create and implement attacks.

#### Setting Attack Ranges

You can use the AttackComponent's `Attack()` and `AttackFrom()` functions to set attack ranges.

- `Attack()`: Set the attack range based on the character's position. The attack range form is set by the shape type. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16621061020831776c9b26fd14098bed69cf25a44963f.png)
- `AttackFrom()`: Set a square attack area based on the world coordinates. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/166210611645871cd92bfcd6640b6b83e6fce31be8829.png)
- `AttackFast()`: An Attack function with no return value. It can reduce the creation of unneeded table entities based on the character's position. The attack range form is set by the shape type.

#### Damage Settings

Damage can be made with the `CalcDamage()` function. Critical attack damage can be used by creating formulas using the `CalcCritical()` function. You can use the `GetCriticalDamageRate()` function to set how much more damage will be done compared to the default damage amount.

# Learning about HitComponent

A `HitComponent` is needed for an entity to get hit. `HitComponent` can set the entity's collider shape, size, and collider group. If there is an entity that has a `HitComponent` within the valid attack range for an attack made using the `AttackComponent` function, that entity will be a hit target. `HitComponent` judges if the entity is a hit target, and determines the final damage the entity will take.

# Relationship Between Attacks and Being Hit

To create an organic attack and hit relationship, both `AttackComponent` and `HitComponent` must be used. In boxing, there are cases where opponents will dodge attacks or take minimal damage. If you wish to create a variety of outcomes even if an attack lands, each attack and hit must be implemented with the two components.

#### Determining Attack Targets

You can use the `IsAttackTarget()` based on the creator's attack creation method. The `IsAttackTarget()` function makes it so the attacker isn't included in the attack box, so there is no need to set it so that the attacker doesn't get hit. The **Entity** type's `defender` parameter receives inforamtion that determines if the collided entity is an attack target. If the return value is **false**, **AttackComponent** determines if it's a proper attack target and passes the decision to **HitComponent**. If you want to include the attacker as a potential target, change the return value to **true** as shown below.

```
override boolean IsAttackTarget(Entity defender)
{
    return true
}
```

Attacks and hits function in the following way. First the attacking entity's `IsAttackTarget()` function for `AttackComponent` returns **false** if the attack fails and **true** if the attack is a success. **false** ends the process due to attack failure. If you want to guarantee a hit, it can be changed to **true**. In this case, `IsHitTarget()` won't be called and will always deal damage.

The target's `IsHitTarget()` function for `HitComponent` detemines if the attack landed. `HitComponent` calculates the target's evasion etc and the final damage amount. If the target's `IsHitTarget()` returns **true**, the damage is applied to the target. ![14](https://mod-file.dn.nexoncdn.co.kr/bbs/16621062233862d80a40f725a44b2bd383f597906dca9.png)

#### Damage Calculation

The damage value uses the attacker's `CalcDamage()` function for **AttackComponent**. This function returns attack damage. The target's **HitComponent** `OnHit()` function can receive the `CalcDamage()` value as a parameter. The value can then be used as-is or can undergo additional calculations from the `OnHit()` function to determine the final damage value. For example, the attacker's damage and defender's evasion can be calculated by the `OnHit()` function to produce the final damage as a return value.

![15](https://mod-file.dn.nexoncdn.co.kr/bbs/1662106244457dbfb15dbce134b3c8acc56b4dd23dfc8.png)

#### HitEvent

The `OnHit()` function triggers a **HitEvent** when called. If you want to make a special process when one is attacked by monsters 100 times, you can check the event trigger count to implment it. ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/166210626375732ffa55d90e0452ab96703bf0137e84a.png)

# Example

Let's make it so that someone can attack monsters by pressing the `Ctrl` key, and for monsters to increase in size by a set ratio each time they're hit.

#### Implementing Player Attacks

1. Select **Workspace - BaseEnvironment - NativeScripts - Component - AttackComponent**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1687765469788eef28e43cf6e478aadce01fbf58c566b.png)
2. Expand the component by pressing **Extend** in the context menu. Change the expanded component's name to **CharacterAttack**.
3. Double-click the **CharacterAttack** compoonent to open the script editor.
4. Add a new function from **Method** and change the name to **NormalAttack**.
5. Define the attack range that will be used from the `Attack` function and write the following so it can recieve it as a parameter.```
Method:
void NormalAttack()
{
	local attackSize = Vector2(1, 1)
	local attackOffset = Vector2(0,0)

	self:Attack(attackSize, attackOffset, nil)
}
```
6. Add **PlayerActionEvent** to **Event Handler** so it can receive a player's action change. Call the `NormalAttack()` function each time the player presses the `ctrl` key.```
Event Handler:
[self]
HandlePlayerActionEvent(PlayerActionEvent event) 
{
	--------------- Native Event Sender Info ----------------
	-- Sender: PlayerControllerComponent
	-- Space: Server, Client
	---------------------------------------------------------

	-- Parameters
	local ActionName = event.ActionName
	-- local PlayerEntity = event.PlayerEntity
	---------------------------------------------------------

	if ActionName == "Attack" then
		self:NormalAttack()
	end
}
```
  > **Tip** You can undo the `local ActionName = event.ActionName` annotation under Parameters for use.
7. Add the **CharacterAttack** component to **DefaultPlayer**.
8. Place the monster on the map and press [Start] to see if the monster can be attacked.

# Calculating Attack Damage

Use the `CalcDamage()` function for `AttackComponent` to calculate and output the damage value of an attack. This function returns damage when a collision is detected.

1. Add the `CalcDamage()` function to the **CharacterAttack** component. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1635473274032dd346b758c4743be834dcc36af950302.png)
2. Set the attack damage value as 100 like below.```
override int CalcDamage(Entity attacker, Entity defender, string attackInfo)
{
	return 100
}
```
3. Press [Start] and attack the monster to see if **100** damage is triggered.

# Implementing Monster Hits

When an entity with an **AttackComponent** attacks an entity with a **HitComponent**, the entity is hit without the need of a separate process. Since there is no additional processing, the damage skin plays with the default value of 1. Damage can be dealt equal to the attack when implementing a hit, but the damage taken can be calculated by using formulas other than the attack. For example, an attack can deal 100 damage, but if the monster's defense is high, it can be made to deal half damage. This time, let's implement the two examples below and see if they register hits and their final damage dealt.

- Change the damage dealt from the attack to 20.
- The size increases with each attack.

1. Select **Workspace - BaseEnvironment - NativeScripts - HitComponent** and select **Context Menu- Extend** to expand the component.
2. Change the name to **MonsterHit**. ![19-2](https://mod-file.dn.nexoncdn.co.kr/bbs/16353330342954504d937277b4fada89371a5e3da7faa.png)
3. Select the **MoveMonster** model from **Workspace - BaseEnvironment - NativeModel**. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/1635473322027345d4d4d82df42d283fe2d7c9ef91747.png)
4. Delete **HitComponent** from the model by pressing **Context Menu - ![Common_menu](https://mod-file.dn.nexoncdn.co.kr/bbs/163453706197553d527cb3ea34392bc2829f15976f3d8.png) - Remove Component** under **HitComponent** from the property editor. This is because using the expanded HitComponent with the default HitComponent may cause an error. ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/16353328810860b81ed55939d474aaaea5cd238480c92.png)
  > **Tip** Monsters already placed on the map don't have model property changes applied to them, so they must be deleted and placed again.
5. Add the **MonsterHit** component to the placed monster.
6. Add the `OnHit()` function to the **MonsterHit** component. ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/163547333521453f7d5d7ff6a4e20bd2f5c20a78ea254.png)
7. Change the **damage** value from the default text within the function to **20**. This determines the damage value of the target.```
method:
override void OnHit(Entity attacker, int damage, boolean isCritical, string attackInfo, int hitCount)
{
	__base:OnHit(attacker,20,isCritical,attackInfo,hitCount)
}
```
8. Add the following to the `OnHit()` function so that the monster that is hit gets larger. Increase the **TransformComponent.Scale** value by 1.3 times each time a **HitEvent** is triggered.```
method:
override void OnHit(Entity attacker, int damage, boolean isCritical, string attackInfo, int hitCount)
{
	__base:OnHit(attacker,20,isCritical,attackInfo,hitCount)

	local scale = self.Entity.TransformComponent.Scale
	scale = scale * 1.3
	self.Entity.TransformComponent.Scale = scale
}
```
9. Press [Start] to see if **20** is output as the damage value and if the monster gets larger each time it is attacked. ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/1662107300698572fbabb48b54d5d92f06e1ae6487794.png)

Update 2025-12-03 PM 03:40


# Controlling Entity Status

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=40m&amp;color=green)

# Course Introduction

Let's learn the concepts of [StateComponent](/apiReference/Components/StateComponent) and StateType and understand the process of playing an animation according to the Entity's state.

# Learn about State, StateComponent

**State** represents the entity's specific state. The creator can define different states, such as standing, prone, attacking, etc. It may seem obvious that my character is standing still in the World without doing anything, but this means that the State is **IDLE**, where "the character is playing a standing animation". To play state-specific animations like this, you need to leverage [StateAnimationComponent](/apiReference?postId=367).  State names must be capitalized in English. Even if English lowercase letters are used, they are automatically converted and registered as capital letters when calling functions such as 'AddState()', but the behavior may be different than expected, so name it with the uppercase letters.

> **Tip** StateAnimationComponent can only be applied to monsters and NPCs.

StateComponent is responsible for giving states to entities and defining relationships between states. It has **IDLE, DEAD** states by default, so a creator wishing to add a new state needs to keep these two default states in mind and utilize them. StateComponent has a State that is automatically added when it is with other components. For example, DefaultPlayer contains by default a PlayerControllerComponent that is responsible for multiple states, so when a certain key is pressed, the state changes and the animation associated with that state (sit, walk, etc.) plays automatically.

#### Relationship between StateComponent and a Specific Component

StateComponent can automatically add a new state or process default states when working with a specific component. The automatically added states are transitioned to the corresponding state when a specific key is entered, a specific condition is satisfied, when performing an action, or when playing an animation. You can make an entity perform a user-defined action when it is in a certain state and use it in conjunction with StateAnimationComponent to play an animation clip.

- When with PlayerComponent, you can process **DEAD** or respawn.
- When with PlayerControllerComponent, **MOVE, CLIMB, LADDER, CROUCH, JUMP, FALL, ATTACK, ATTACK_WAIT, and SIT** are added.
- When with AIChaseComponent or AIWanderComponent, **MOVE** is added. When keystroke to move the entity is entered, it transitions to the MOVE state and plays a walking animation.

#### State Transition and Event Occurrence

Changing from one state to the next is called a state transition (Transition). Various events are fired when a state transition occurs, which can be used by a specific entity to detect the state transition. Events have information about the state before the state transition occurred and the current state (changed state). An event occurs under the following circumstances.

- When StateComponent's state transition occurs, [StateChangeEvent](/apiReference/Events/StateChangeEvent) is also raised.
- When entering the StateComponent **DEAD** state, [DeadEvent](/apiReference/Events/DeadEvent) occurs.
- If DefaultPlayer has StateComponent and PlayerComponent together, when the `PlayerComponent:Respawn()` function is called, [ReviveEvent](/apiReference/Events/ReviveEvent) occurs.
- HitComponent fires HitEvent, so StateComponent receives HitEvent fired from the entity and transitions to HIT. It automatically transitions to IDLE 0.5 seconds after entering HIT state.
- AttackComponent calls the `IsAttackTarget()` function when searching for an attack target. At this time, if the state of the entity corresponding to the target is DEAD, false is returned.

# StateType

Used to create a user defined State. In StateType, user-defined actions can be performed when entering and exiting a state, or state exit conditions can be defined. If you want multiple states, we recommend creating and using a new ![StateType](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_state_type.png) **StateType** for each state. You can add multiple states to one StateType using the If statement. But other states may be added or deleted during production, so it's more efficient to create a StateType for each state. For example, if you create a StateType to create your own new monster, we recommend creating and managing a number of new StateType except for IDLE and DEAD, which are the default states of StateComponent. The name of the new StateType you add will be the type of the StateType you created.

StateType is a type that defines a state, so it cannot be used in a form that is directly added to an entity like a script component. StateType is automatically assigned when the `AddState()` function of StateComponent is called. After defining the behavior of the state on the Script Editor window, you need to add StateType using `StateComponent:AddState()` to one of the script components of the entity you want to use the StateType for.

You can define how StateType will behave in `OnEnter()`, `OnUpdate()`, `OnExit()`, and `OnConditionCheck()`.

- **OnEnter()**: Execute the action when entering the state for the first time.
- **OnUpdate()**: Executes an action while the state is maintained.
- **OnExit()**: Executes when changing states.
- **OnConditionCheck(string nextStateName)**: Specifies the transition condition. You can use the nextStateName parameter to return a different result depending on the connected state.
  - You can branch to nextStateName, and when true, a state transition is made.

#### Create StateType

Press **MyDesk - Create Scripts - Create StateType** to create a new ![StateType](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_state_type.png) StateType and define the state. You can create a state transition condition using `OnConditionCheck()`. You can create **MoveDown** StateType as shown below and use it like the example code below.

```
Method:
void OnUpdate()
{
    self.ParentComponent.Entity.TransformComponent:Translate(0, -0.01)
}
    
boolean OnConditionCheck(string nextStateName)
{
    local rotationAngle = self.ParentComponent.Entity.TransformComponent.Rotation.z
    if rotationAngle ~= 0 and rotationAngle % 90 == 0 then
        return true
    else
        return false
    end
}
```

#### Add a State

You can add a state to an entity as in the example code below using `StateComponent:AddState(string stateName, Type stateType)`.

```
self.Entity.StateComponent:AddState("MOVEUP", MoveUp)
```

#### Defining the State to Be Transitioned

Use `StateComponent:AddCondition(string stateName, string nextStateName, boolean reverseResult = false)` to enter the next state to pass from and connect it to the current state. If you write it like the example code below, the state transitions from **MOVEDOWN** to **MOVEUP**.

```
self.Entity.StateComponent:AddCondition("MOVEDOWN", "MOVEUP", false)
```

#### Delete State Transition Condition

Use `StateComponent:RemoveCondition(string stateName, string nextStateName)` to delete the condition for the transition from the current state to the next state. Write the following to delete the condition that was added as `AddCondition()` above (state transition from **MOVEDOWN** to **MOVEUP**).

```
self.Entity.StateComponent:RemoveCondition("MOVEDOWN", "MOVEUP")
```

# Use Example

Let's make a wooden crate that changes state when the player attacks. It utilizes the default state IDLE, DEAD, and the new BROKEN state created by the creator. By adding specific animation or sprite for each state, you can intuitively check the state change. In this example, the state transitions from IDLE → BROKEN → DEAD → IDLE, and different sprites and animations are connected and played for each state.

![example](https://mod-file.dn.nexoncdn.co.kr/bbs/16559702783894245b9b6f57f41bc80bea36df066edd1.gif)

> **Tip** Use the Create - New - **Basic** template to configure the player's basic attack and hit. Check if the ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) PlayerHit and ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) PlayerAttack components exist in the template of DefaultPlayer.

List of Animations and Sprites RUID

- IDLE: b871399ae18d41c4b76c2ae79feefa7d
- BROKEN: 76815f621e354f57b5adb5b9faaf9eb3
- Apple: 014e7c98ad374cf49e7bf7ea72844241

1. Press Workspace - MyDesk - Create Model to create **![Model](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_model_no.png) Model_Box**. Add TransformComponent, SpriteRendererComponent, StateComponent, and HitComponent. Add the box RUID (b871399ae18d41c4b76c2ae79feefa7d) to SpriteRUID of SpriteRendererComponent. ![modelbox](https://mod-file.dn.nexoncdn.co.kr/bbs/165596740975009ece0c49b59481fa2b86a0d736f770d.png)
2. Press Workspace - MyDesk - Create Model to create **![Model](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_model_no.png) Model_Apple**. Add TransformComponent and SpriteRenderComponent. Add the apple RUID (014e7c98ad374cf49e7bf7ea72844241) to SpriteRUID of SpriteRendererComponent. ![modelapple](https://mod-file.dn.nexoncdn.co.kr/bbs/16559673922967908df7d77a04ff2b354bcb7740742da.png)
3. Press MyDesk - Create Scripts - Create StateType to create**![StateType](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_state_type.png) BrokenBox**. Compose the behavior when entering the Broken state in the new BrokenBox as follows. The ID of the model to be called from `SpawnService:SpawnByModelId()` is Model_Apple.```
Property:
boolean exitFlag = false
number timerId = 0

Method:
void OnEnter()
{
    self.exitFlag = false
    self.timerId = _TimerService:SetTimerOnce(function() self.exitFlag = true end, 1.1)

    local spriteRenderer = self.ParentComponent.Entity.SpriteRendererComponent
    spriteRenderer.SpriteRUID = "76815f621e354f57b5adb5b9faaf9eb3"  --BROKEN RUID

    _TimerService:SetTimerOnce(function() 
    	_SpawnService:SpawnByModelId("model://4ac51a4c-ecf6-4ddf-b32a-516fc66234be", "Item", self.ParentComponent.Entity.TransformComponent.Position + Vector3(0,0.12,0), self.ParentComponent.Entity.Parent) 
    end, 0.21) 

    -- Model_Apple's model ID
}
```
4. In `OnConditionCheck()`, when moving to the next state and when the state ends, write as follows.```
boolean OnConditionCheck(string nextStateName)
 {
     return self.exitFlag
 }

 void OnExit()
 {
     self.ParentComponent.Entity.SpriteRendererComponent.SpriteRUID = "b871399ae18d41c4b76c2ae79feefa7d" --IDLE RUID
     _TimerService:ClearTimer(self.timerId)
 }
```
5. Create the new **ItemBoxComponent** and add it to **![Model](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_model_no.png) Model_Box**. Add the new state **BROKEN**, and add the state transition from BROKEN to DEAD.```
Method:
[server only]
void OnBeginPlay()
{
    local state = self.Entity.StateComponent

    state:AddState("BROKEN", BrokenBox)
    state:AddCondition("BROKEN", "DEAD")
}
```
6. In the state **ItemBoxComponent**, use the StateChangeEvent that occurs when the state changes and write the timing at which the box reappears and the entity change at the time of state transition as follows.```
Event Handler:
[self]
HandleStateChangeEvent(StateChangeEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: StateComponent
    -- Space: Server, Client
    ---------------------------------------------------------

    -- Parameters
    -- local CurrentStateName = event.CurrentStateName
    -- local PrevStateName = event.PrevStateName
    ---------------------------------------------------------

    -- There's no BROKEN state on client side of StateComponent.
    if self:IsServer() then
    	if CurrentStateName == "HIT" then
    		self.Entity.StateComponent:ChangeState("BROKEN")
    	elseif CurrentStateName == "DEAD" then
    		_TimerService:SetTimerOnce(function() self.Entity.StateComponent:ChangeState("IDLE") end, 5)
    	end
    else
    	if CurrentStateName == "IDLE" then
    		self.Entity.SpriteRendererComponent.Color.a = 1
    	end
    end
}
```
7. If you want to make it invisible after the animation is finished playing, in **ItemBoxComponent**, you can make the last frame transparent using SpriteAnimPlayerEndEvent.```
[self]
HandleSpriteAnimPlayerEndFrameEvent(SpriteAnimPlayerEndFrameEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ClimbableSpriteRendererComponent
    -- Space: Client
    ---------------------------------------------------------
    -- Sender: SpriteRendererComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    -- local FrameIndex = event.FrameIndex
    -- local ReversePlaying = event.ReversePlaying
    -- local TotalFrameCount = event.TotalFrameCount
    -- local AnimPlayer = event.AnimPlayer
    ---------------------------------------------------------

    if TotalFrameCount > 1 then
    	self.Entity.SpriteRendererComponent.Color.a = 0 
    end
}
```

> **Learn More** If you want to give the apple a bouncing feel as in this example, add a new script component to Modle_Apple and use `TweenLogic:MakeTween()`.

##### Reference Guide

- [Controlling Avatar Animations](/docs/?postId=545)

Update 2025-11-17 PM 08:14


# Setting and Controlling Player

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Player models are useful when making the initial properties of characters, but they are also useful when moving characters or controlling their status. Let's look into the concept of PlayerComponent and PlayerControllerComponent, and the relationship between an action and state animation so that the creator can make the player move as intended.

# PlayerComponent Concept

The **PlayerComponent** component is a collection of traits of players that differ from entities. The most common example is in PvP mode, where players can damage each other. The function of PlayerComponent is used to control players. You can let the player die, or move the player to another map or location. Player models without PlayerComponent will not be recognized as players. As it is only used in Players, you can also use PlayerComponent to identify Players. For instance, you can move the entity with PlayerComponent to a certain location, or put it in dead status under an additional condition.

#### Introducing Major Properties

| Property | Explanation |
| --- | --- |
| MaxHp | Sets the Player's maximum HP. Default value is 1000.<br> The value is linked with HP in the UI status window model, so the change will be reflected in the UI model. |
| PVPMode | If activated, players can damage each other. |
| RespawnDuration | Sets the time taken until respawn after player's death. Default value is 5 seconds. |
| Enable | Sets whether to activate or deactivate the component. |
| Nickname | Refers to nickname Player set in web. If Player model has NameTagComponent, the player's nickname will be shown.<br> It is not shown in the Property Editor. You can use it when composing scripts. |
| RespawnPosition | Sets the location where player will respawn. If not specified, it will follow SpawnLocation or the map entrance location.<br> It is not shown in the Property Editor. You can use it when composing scripts. |
| RespawnTime | Refers to time taken until player re-enters map. It is not shown in the Property Editor. You can use it when composing scripts. |
| UserId | A unique identifier for the player. It can be used in the targetUserId parameter of the Client execution space control function. |

# Concept of PlayerControllerComponent

**PlayerControllerComponent** executes actions and processes certain conditions according to input. For example, if you connect an action where a particular animation is played upon pressing the attack key, it will operate at every input of the attack key. However, when the player is climbing a ladder, the climbing animation will play. In this case, the attack animation should not be played. Therefore, when the player is on a ladder, you can add a condition: Pressing the attack key will not play the attack animation.

The basic Player model has both PlayerControllerComponent and StateComponent. However, if you delete either of them, the model will not work properly. That's because PlayerControllerComponent is referring to StateComponent. In order for PlayerControllerComponent to work, Player model also needs StateComponent.

> **Tip** PlayerControllerComponent processes input, action, and condition, while StateStringToAvatarActionComponent takes care of playing the animation. If the user presses a key to trigger Input, PlayerControllerComponent detects it and processes the Action after changing to a proper State. Then StateComponent processes the change of State and the action, triggering StateChangeEvent. Animation-related component like AvatarRendererComponent will receive this event to play the animation.

#### Introducing Properties

| Property | Explanation |
| --- | --- |
| AlwaysMovingState | If activated, the moving animation will keep playing, even if character stays still. |
| FixedLookAt | If you change the value, the direction of the moving animation will not change, even if the character changes direction.<br> You can use it to make the character face one direction only. |
| LookDirectionX | If you change the value to a positive number, the default state is the character looking to the right. |
| Enable | Sets whether to activate/deactivate the component. |

#### Basic Controls - key, value

These are default moving and action keys in MapleStory Worlds. You can use the keys as they are, or add more keys if necessary.

| key | value |
| --- | --- |
| W, UpArrow | MoveUp |
| A, DownArrow | MoveLeft |
| S, LeftArrow | MoveDown |
| D, RightArrow | MoveRight |
| Space | Jump |
| LeftAlt | Jump2 |
| LeftControl | Attack |
| C | Sit |

> **Tip** LeftAlt will be integrated to Jump. Please keep it in mind when creating.

# Example

#### Moving to a Different Map after a Limited Time

You can use `MoveToMapPosition()` to move players to a particular position. You can use this function to move users to several maps so that they can play a new game in a new map.

1. In ![workspace_UserFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/1634600723422190820861d63456fa40e21031bd5ffa2.png) **MyDesk**, create a new PlayerManagement component, and add it to ![workspace_MyAvatar](https://mod-file.dn.nexoncdn.co.kr/bbs/16346008379922a9b756c3912461db7195808cb554abd.png) DefaultPlayer.
2. Let's use `TimerService` to count 10 seconds, and enter the name and location of the map to move to in 10 seconds. The name of the map must be the same as the name in Hierarchy.

> **Learn more** `TeleportService:TeleportToEntityPath()` can move all Entities, but `PlayerComponent:MoveToMapPosition()` can only move players.

```
Method:
[server only]
void OnBeginPlay()
{
    _TimerService:SetTimerOnce(function()
        for userId, userEntity in pairs(_UserService.UserEntities) do
            userEntity.PlayerComponent:MoveToMapPosition('map02',Vector2(2,2)) 
        end
    end, 10)
 }
```

![MoveToMapPosition](https://mod-file.dn.nexoncdn.co.kr/bbs/1656586279970675fa3b0db73418d92fccc5d03da1a6e.gif)

#### Respawning from Where the Player Died

Player's respawn position depends on SpawnLocation and map entrance location, but the creator can choose to respawn the player from where they died.

1. In ![workspace_UserFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/1634600723422190820861d63456fa40e21031bd5ffa2.png) **MyDesk**, create a new PlayerSetting component, and add it to ![workspace_MyAvatar](https://mod-file.dn.nexoncdn.co.kr/bbs/16346008379922a9b756c3912461db7195808cb554abd.png) DefaultPlayer.
2. We'll use `ConnectEvent` to get the location where the player died and set it as the respawn location.

```
Method:
[client only]
void OnBeginPlay()
{
    self.Entity:ConnectEvent(DeadEvent, function()
        self.Entity.PlayerComponent.RespawnPosition = self.Entity.TransformComponent.Position
    end)
}
```

![RespawnPosition](https://mod-file.dn.nexoncdn.co.kr/bbs/16565863334284c08832fec434f4789427b1b5a33d6ef.gif)

#### Moving the Player to Certain Location

Among numerous entities, you can identify an entity with PlayerComponent as a player and move the player to a certain location. Let's make sure the TriggerComponent included in certain entities can identify PlayerComponent. Only players can identify this entity, so entities in the same space, like monsters, cannot be moved.

1. Place an entity that can collide with the player in the map, name it **MagicStone**, and add TriggerComponent.
2. To designate a certain entity's path as the destination, add a portal object in the map.
3. In ![workspace_UserFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/1634600723422190820861d63456fa40e21031bd5ffa2.png) **MyDesk**, add a new PlayerMangement component, and add it to ![workspace_MyAvatar](https://mod-file.dn.nexoncdn.co.kr/bbs/16346008379922a9b756c3912461db7195808cb554abd.png) DefaultPlayer.
4. If the entity that collided with a certain entity has PlayerComponent, the player will be moved to the **input path ('maps/map01/portal-3')**.

```
Method:
[server only]
void OnBeginPlay()
{
     local MagicStone = _EntityService:GetEntityByPath('/maps/map01/MagicStone') -- Enter the path of the entity that will collide with player. 
     MagicStone:ConnectEvent(TriggerEnterEvent, function(event)
        if event.TriggerBodyEntity.PlayerComponent then
            event.TriggerBodyEntity.PlayerComponent:MoveToEntityByPath('/maps/map01/portal-3')
        end
     end)
}
```

![moveentity](https://mod-file.dn.nexoncdn.co.kr/bbs/1656586368440e1c78d968dba467b9b2d5cca978b4996.gif)

#### Creating Conditional Actions

You can add a condition that can influence players' basic properties. With `AddCondition()` function, you can add conditions that can limit player actions. You can put limitations on the basic functions, attack, jump, and so on, under certain conditions for more fun.

1. In ![workspace_UserFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/1634600723422190820861d63456fa40e21031bd5ffa2.png) **MyDesk**, create a PlayerSetting component, and add it to ![workspace_MyAvatar](https://mod-file.dn.nexoncdn.co.kr/bbs/16346008379922a9b756c3912461db7195808cb554abd.png) DefaultPlayer.
2. Write a condition under which Jump action will be executed. If you write the condition to execute Jump when the value is bigger than 10, the opposite will also be true.
3. Add a log so that you can see whether pressing the space bar to jump executes the jumping action.

```
Method:
[client only]
void OnBeginPlay()
{
    local playerController = self.Entity.PlayerControllerComponent
    playerController:AddCondition("Jump", function()
        if self.Entity.PlayerComponent.Hp < 10 then
            log("Stop Jumping")
            return false
        end
        return true
    end
}
```

![stopjumping](https://mod-file.dn.nexoncdn.co.kr/bbs/1656586397424b751fb67c7974fe694521961c9a7ecab.gif)

#### Deleting Existing Key, Creating New Key

Creators can choose to delete existing keys and replace them with new keys. You can use this function to delete the moving keys (W, A, S, and D), and replace them with other keys.

1. In ![workspace_UserFolder](https://mod-file.dn.nexoncdn.co.kr/bbs/1634600723422190820861d63456fa40e21031bd5ffa2.png) **MyDesk**, create a PlayerSetting component, and add it to ![workspace_MyAvatar](https://mod-file.dn.nexoncdn.co.kr/bbs/16346008379922a9b756c3912461db7195808cb554abd.png) DefaultPlayer.
2. Use `RemoveActionKey` to delete the action connected to the left Ctrl key. Then use SetActionKey to compose a script that links **Attack to F key**.

```
Method:
[client only]
void OnBeginPlay()
{
    local playerController = self.Entity.PlayerControllerComponent
    playerController:RemoveActionKey(KeyboardKey.LeftControl)
    playerController:SetActionKey(KeyboardKey.F, "Attack")
}
```

##### Reference Guide

- [Editing Initial Character Properties](/docs?postId=48)
- [Attack and Hit](/docs?postId=206)

Update 2025-11-17 PM 08:14


# Creating AI with Behavior Tree

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

Let's understand the concepts of behaviour trees and BTNodeType and how to create the Action Node using AIComponent. [Creating Behaviour Tree Nodes](/docs?postId=1155) describes how to implement a behaviour tree and gives implementation examples.

##### Reference Guide

- [Creating Behaviour Tree Nodes](/docs?postId=1155)

##### API Reference

- [MODBTNode](/apiReference?postId=455)
- [AIComponent](/apiReference?postId=361)
- [ParallelNode](/apiReference?postId=456)
- [RandomSelectorNode](/apiReference?postId=457)
- [SelectorNode](/apiReference?postId=458)
- [SequenceNode](/apiReference?postId=459)

# Understanding Concepts

### Finite State Machines

**Finite State Machine (FSM)** is a model that converts to one of the finite number of states under condition or operates a certain action to match that state. FSMs are relatively easier to configure and more intuitive to design. It is primarily used for designing AI. FSM is composed of **State** and **Transition**. If certain conditions are met while performing an action for a state, it transitions to the next state. For example, if a player approaches a monster currently in waiting status, the monster changes to attacking status to perform actions and attack the player. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17168764448031671b4e8e02a4b5cb6a933c7a246c29d.png)

However, as there are more states and actions, it becomes difficult to connect and maintain the states. In addition, as scale increases, it becomes difficult to see and reuse the flow of state.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/171687700691298cc5dc178a644d7863dd656f705c7f6.png)

### Hierarchical Finite State Machines

**Hierarchical Finite State Machines (HFSM)** is a concept that modularizes various states and transitions to remedy the shortcomings of FMS. The modulized flow in HFSM can be reused, and it is easier to understand the flow of the current state. However, it is difficult to reuse individual states. Each subordinate state has to be transitioned from a certain state. So it is impossible to access an individual state from another group. For example, a state named 'HIT' may be subordinate to 'IDLE' or to 'BATTLE'. Therefore, you need to add a 'HIT' state under the 'IDLE' state and a 'BATTLE' state, respectively.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17168770274270c242d640e824e7a8de6e55f9e475212.png)

### Behaviour Tree

**Behaviour Tree (BT)** is a collection of individual tasks called nodes. Unlike Finite State Machines, which consist of state and transition, each node in a behaviour tree is modularized with individual logic. It can be reused depending on the situation and purpose. It also makes it easy to connect and disconnect specific behaviours, as each node is executed sequentially in the order of binding. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17168770533307c70cdaacf4741df8155b0d942229b73.png)

# How the Behaviour Tree Works

The behaviour tree starts at the Root node every frame. After that, they are executed sequentially. Execution order is from top to bottom and from left to right. Parent nodes execute child nodes, and the execution order follows the sequence registered in each parent. Different parent nodes have different conditions of executing child nodes. Parents execute all child nodes in sequence, as long as they meet the condition. For example, if the parent node has the child nodes A, B, and C registered sequentially, node A is placed on the far left, and node C on the far right. Executing the parent node will execute child nodes A, B, and C in order. And if the child node A has its own child nodes D and F, then both the child nodes D and F will be executed before executing node B.

All nodes return a state value of [**BehaviourTreeStatus**](/apiReference/Enums/BehaviourTreeStatus) upon execution. It returns a total of three values: **Running, Success, and Failure**. Each parent node decides whether to execute the next child node depending on which value its child node returns. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/171774458675144ffe3ccb3334751afda1dcf151b5387.png)

# Understanding Behaviour Tree Nodes

Behaviour tree consists of an **Action Node** that defines action and a **Composite Node** that controls flow of action. Action Node must be created and used by the creator using BTNodeType, and Composite Node is provided by MapleStory Worlds.

## Action Node

**Action Node** defines an action of an entity. It is also called Leaf Node and is characterized by having no child nodes. Action Node defines the entity's actual action or condition of an action. Each action and condition are defined in individual Action Nodes, and each node should be registered as Composite's child node. For instance, it defines actions for a monster's 'waiting' state or 'attacking' state.

## Composite Node

**Composite Node** is the node that controls the flow and can have multiple child nodes. When a child node returns Success or Failure, certain rules determine whether the next child node should be executed. There are four types of Composite Nodes, and each node has different rules for how child nodes execute and how state values are returned to the parent.

- **Sequence Node, Selector Node, Random Selector Node, Parallel Node**

#### Sequence Node

**Sequence Node** executes its child nodes in sequence, and if a child node returns Failure, it stops executing and returns Failure to its parent node. Returns Success to its parent node if all child nodes return Success. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1719214998441707cc625005241ec8bef19f44d51277a.png)

#### Selector Node

**Selector Node** executes its child nodes in sequence, and if a child node returns Success, it stops executing and returns Success to its parent node. It returns Failure to its parent node if all child nodes return Failure. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17168858785873218b87041fd46df9756a267a30ce29e.png)

#### RandomSelector Node

**RandomSelector Node** randomly selects one of its child nodes and executes it. It returns Success to its parent node if a child node returns Success and returns Failure if a child node returns Failure. RandomSelector Node draws a random number and selects a node with a probability in the range to which the random number belongs. For example, when the RandomSelector Node has 0.2 (20%), 0.3 (30%), and 0.5 (50%) probabilities of a child node being selected as shown below, the Action2 node will be executed if the random number is determined to be 0.4, and the Action3 node will be executed if the random number is determined to be 0.9. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17192150545723d6a5611d3c24cf5b75b12d37935a549.png)

#### Parallel Node

**Parallel Node** executes all child nodes, and if all child nodes return Success, it returns Success to its parent node. On the other hand, if any of the child nodes returns Failure, it returns Failure to its parent node. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/171774512352277dc3a613298479ab8ac9fb4f430a259.png)

## Decorator Node

A **Decorator Node** has one child and can determine whether to execute the child or process a return value. It can have a Composite Node or Action Node as a child. MapleStory Worlds provides for creators to create Decorator Nodes. The Decorator Node is located halfway between the parent node and child node A and determines whether or not to execute node A based on conditions. It can also deliver a different value to the parent instead of the value returned by node A. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17177451607950c32f6a27e8d4ffd8c5c67eb1aeefb69.png)

# Nodes Run for Multiple Frames

When a child node returns Success or Failure, the parent node executes the next child node. However, if a child node returns Running, the parent node will re-execute the child node that returned Running on the next frame. You can use this nature to create nodes that behave for multiple frames. For Sequence Node and Selector Node that have child nodes A, B, and C as shown below, node C is not executed while node B returns Running. RandomSelector Node continues to execute the selected nodes. Due to the nature of Parallel Node that executes its child nodes simultaneously, all of nodes A, B, and C are executed, and in the next frame, only nodes A and B which returned Running are executed, but node C is not.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1716887214774390c0a3ef79d41519e77b73dcc166b9b.png)![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1716887242595459c3c005ce24bdfab35c3742a2d36a1.png)

Using this nature of node, you can create a Wait node that waits for a certain amount of time as shown below.

```
Property:
[None]
number Time = 2
[None]
number ElapsedTime = 0

Method:
void OnInit()
{
    -- OnInit() is not called while Running is returned.    

    self.ElapsedTime = 0
}

any OnBehave(number delta)
{
    -- Prevents the next child node from executing by continuing to return Running until Time has elapsed.
    -- OnBehave() continues to return while Running is returned.

    self.ElapsedTime += delta
    if self.ElapsedTime < self.Time then
        return BehaviourTreeStatus.Running
    end

    return BehaviourTreeStatus.Success
}
```

# Creating Action Nodes and Defining Function

MapleStory Worlds allows you to create an Action Node using BTNodeType. You can use it by defining the behaviour of the node in BTNodeType and creating a node object with AIComponent.

## Defining in BTNodeType

BTNodeType provides `OnInit()` and `OnBehave()` as default event functions. Define the behaviour of the node in the default event function.

#### OnInit()

`OnInit()` is the function that is executed before calling `OnBehave()`. It is called whenever the node is executed, but if **Running** is returned, `OnInit()` is not called in the next frame.

#### OnBehave()

`OnBehave()` is a method called once whenever the corresponding Action node is executed. It must return a value of **BehaviourTreeStatus**. It is a method used to define AI actions or conditions to actions, so it must be added to Action node type. It can be used to implement measurement of movement or time using the **delta**, the time per frame parameter.

```
Property : 
[Sync]
number Num = 0

Method: 
void OnBehave(number delta)
{
	self.Num = self.Num + delta
	
	if self.Num >= 3 then
		self.Num
		return BehaviourTreeStatus.Success
	else	
		return BehaviourTreeStatus.Running
	end
}
```

## Creating an Action Node

The entity to be used as an AI must contain **AIComponent or an extended AIComponent**, because AIComponent creates the Action Node as a separate object with the content defined in BTNodeType or gives AI to entities by setting the highest node of the created behaviour tree as the Root node. When creating an Action Node, you can use AIComponent's `CreateNode()` and `CreateLeafNode()`.

#### CreateNode()

When creating a node object with **BTNodeType**, use the `CreateNode()` function of **AIComponent**. Passes the BTNodeType and name to be created as parameters.

```
local node = self.Entity.AIComponent:CreateNode("NewBTNode", "actionNode")
```

#### CreateLeafNode()

If you want to create a simple Action Node, you can define the action of the node by passing a function directly to it as shown below. Unlike `CreateNode()`, `CreateLeafNode()` does not require BTNodeType. As a parameter, deliver the name of the node that will be created as entity and the function that will be called upon executing the node.

```
local func = function() 
    log("ActionNode!") 
    return BehaviourTreeStatus.Success
end

local printLogNode = self.Entity.AIComponent:CreateLeafNode("NodeInstanceName", func)
```

Update 2025-11-17 PM 08:14


# Creating Behavior Tree Nodes

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

This will teach you about nodes that are used to create behaviour trees. You can follow along with the examples to create an AI monster that moves in accordance with the behaviour tree.

##### Reference Guide

- [Creating AI with Behavior Trees](/docs?postId=562)

##### API Reference

- [BTNode](/apiReference?postId=455)
- [AIComponent](/apiReference?postId=361)
- [ParallelNode](/apiReference?postId=456)
- [RandomSelectorNode](/apiReference?postId=457)
- [SelectorNode](/apiReference?postId=458)
- [SequenceNode](/apiReference?postId=459)

# Creating Behavior Trees

#### Creating Composite Nodes

Composite node entities can be created with each node's creator. A composite node's creator is as follows.

| Node | Constructor |
| --- | --- |
| Sequence | SequenceNode(string name = "SequenceNode") |
| Selector | SelectorNode(string name = "SelectorNode") |
| RandomSelector | RandomSelectorNode(string name = "RandomSelectorNode") |
| Parallel | ParallelNode(string name = "ParallelNode") |

```
[server only]
void OnBeginPlay()
{
	local seqNode = SequenceNode("sq")
	local selNode = Selector("sel")
	local randomNode = RandomSelector("rand")
	local prNode = Parallel("pr")
}
```

#### AttachChild()

A composite node can have a child node. You can use `AttachChild()` to create a child node. A Composite Node can have both an Action Node and another Composite Node as a child, and you can use it to create a complex tree structure.

#### AttachChildAt()

A tree structure will run sequentially in the order child nodes are registered. There are two ways to change the execution sequence. The first method is to change the sequence within the code. The second method is to use the `AttachChildAt()` function.

The `AttachChildAt()` function allows you to register a node at a certain position regardless of the order it was registered. You can use the `AttachChildAt()` function in the same way you use the `AttachChild()` function. The only difference is that you have to pass the node's position as the second parameter. The order starts from 0. If you register a new node to a position already occupied by another node, existing nodes will be pushed to the next position. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17168956058276319a1ddbdab49bdb2588b236c875a84.png)

```
[server only]
void OnBeginPlay()
{
	--CREATE NODE
	local sequence = SequenceNode("sq")
	local actionA = self:CreateNode("ActionA")
	local actionB = self:CreateNode("ActionB")
	local actionC = self:CreateNode("ActionC")
	local actionD = self:CreateNode("ActionD")
	
	--SET TREE
	sequence:AttachChild(actionA)
	sequence:AttachChild(actionB)
	sequence:AttachChild(actionC)
	sequence:AttachChildAt(actionD,1)
}
```

#### Removing Nodes

When removing a registered child node, you can use `DetachChild()`, `DetachChildAt()`.

- `DetachChild()` passes the entity of the child node that will be removed as parameter to remove it.
- `DetachChildAt()` passes the position of the child node that will be removed as parameter to remove it.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17168956211348925ff93ffd347379cb977b79e710f7c.png)

```
[server only]
void OnBeginPlay()
{
	--CREATE NODE
	local sequence = SequenceNode("sq")
	local actionA = self:CreateNode("ActionA")
	local actionB = self:CreateNode("ActionB")
	local actionC = self:CreateNode("ActionC")
	
	--SET TREE
	sequence:AttachChild(actionA)
	sequence:AttachChild(actionB)
	sequence:AttachChild(actionC)
	
	--DETACH NODE
	sequence:DetachChildAt(1)
	sequence:DetachChild(actionC)
}
```

#### Root Node Setting

**Root Node** uses `SetRootNode()`. Root node passes the node as parameter to the top-level node. You can set the highest node as Root node to give AI to an entity and operate the BT.

```
[server only]
void OnBeginPlay()
{
	--CREATE NODE
	local sequence = SequenceNode("sq")
	local actionA = self:CreateNode("ActionA")
	local actionB = self:CreateNode("ActionB")
	local actionC = self:CreateNode("ActionC")
	
	--SET TREE
	sequence:AttachChild(actionA)
	sequence:AttachChild(actionB)
	sequence:AttachChild(actionC)
	
	--SET ROOT NODE
	self:SetRootNode(sequence)
}
```

#### Creating Decorator Nodes

To create a Decorator node, you can use BTNodeType. Create a new BTNodeType, then add **Child** or **child** of any type as property to create a Decorator Node. If you'd like to execute a child node, call the `Behave()` function.

```
Property: 
[None]
any Child = nil

Method: 
any OnBehave(number delta)
{
	if self.Child == nil then
		return BehaviourTreeStatus.Failure
	end
	
	local result = self.Child:Behave(delta)
	
	if result == BehaviourTreeStatus.Success then
		return BehaviourTreeStatus.Failure
	
	elseif result == BehaviourTreeStatus.Failure then
		return BehaviourTreeStatus.Running
	else
		return BehaviourTreeStatus.Success
	end
}
```

You can create an entity node and assign a child node to the created Decorator BTNodeType, like shown below.

```
[server only]
void OnBeginPlay()
{
	local aiComponent = self.Entity.AIComponent
	
	local childNode = aiComponent:CreateLeafNode("childNode", function(delta) return BehaviourTreeStatus.Success end)
	local decorator = self:CreateNode("Decorator")
	decorator.Child = childNode
}
```

#### Behavior Tree Completion

After configuring the Root Node setting, the AIComponent will operate according to the created behaviour tree. ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/1645011460737db32f055d8984de6a762c4129e12207c.png)

```
[server only]
void OnBeginPlay()
{
	--CREATE COMPOSITE NODE
	local sequence = SequenceNode("Sequence")
	local sequenceA = SequenceNode("SequenceA")
	local sequenceB = SequenceNode("SequenceB")
	local sequenceC = SequenceNode("SequenceC")
	local selectorA = SelectorNode("SelectorA")
	local randomSelectorA = RandomSelectorNode("RandomSelectorA")
	local parallelA = ParallelNode("ParallelA")
	local parallelB = ParallelNode("ParallelB")
		
	--CREATE ACTION NODE
	local actionA1 = self:CreateNode("ActionA", "ActionA1")
	local actionA2 = self:CreateNode("ActionA", "ActionA2")
	local actionB1 = self:CreateNode("ActionB", "ActionB1")
	local actionB2 = self:CreateNode("ActionB", "ActionB2")
	local actionC1 = self:CreateNode("ActionC", "ActionC1")
	local actionC2 = self:CreateNode("ActionC", "ActionC2")
	local actionD1 = self:CreateNode("ActionD", "ActionD1")
	local actionD2 = self:CreateNode("ActionD", "ActionD2")
	local actionE = self:CreateNode("ActionE", "ActionE")
	local actionF = self:CreateNode("ActionF", "ActionF")
	local actionG = self:CreateNode("ActionG", "ActionG")
	
	--SET TREE
	sequence:AttachChild(sequenceA)
	sequence:AttachChild(parallelA)
	sequenceA:AttachChild(randomSelectorA)
	sequenceA:AttachChild(actionA1)
	parallelA:AttachChild(sequenceB)
	parallelA:AttachChild(actionB1)
	parallelA:AttachChild(selectorA)
	randomSelectorA:AttachChild(sequenceC)
	randomSelectorA:AttachChild(actionA2)
	sequenceB:AttachChild(actionB2)
	sequenceB:AttachChild(actionC1)
	selectorA:AttachChild(parallelB)
	selectorA:AttachChild(actionD1)
	sequenceC:AttachChild(actionC2)
	sequenceC:AttachChild(actionD2)
	parallelB:AttachChild(actionE)
	parallelB:AttachChild(actionF)
	parallelB:AttachChild(actionG)
}
```

# Behaviour Tree Utilization Example

Let's use AIComponent and BTNodeType to create an AI monster than can detect players and wander around within a certain range. There are three major elements in this example.

- When the player is far away, the monster will wander around, moving in random directions.
- When the player approaches, the monster will start chasing the player.
- When the player moves far away, the monster will stop giving chase and start wandering again.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17168958937950674e59a9a8744ca81444187e01c8e85.png)

## Preparation

1. Switch to **RectTile** mode and place tiles. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1717483867395248704741b464dfa9bbf21b93f26f45e.png)
2. Select **Workspace - MyDesk - Create Material** and add a new Alert material.
  - Shader: Rainbow
  - Blend: 0.5
  - Rotate: 0
  - Spread: 0.25
  - TimeOffset: 0
  - TimeScale: 1![Material](https://mod-file.dn.nexoncdn.co.kr/bbs/1717483885157c4309e9ef2e34691a871092dd75b1906.png)
3. Select **Preset List - Monster - monster2358** and add a preset. Leave TransformComponent, StateAnimationComponent, and SpriteRendererComponent in place and add the following three components.
  - StateComponent, MovementComponent, KinematicbodyComponent

![monster](https://mod-file.dn.nexoncdn.co.kr/bbs/17174839092271a14772637854b71abaf190445ea359b.png)

## Create AIPatrolComponent

1. Select **Workspace - BaseEnvironment - NativeScripts - Component - AIComponent** and click Extend. Rename it as **AIPatrolComponent**.
2. Add AIPatrolComponent to the monster you placed in the map. ![AIPatrolComponent](https://mod-file.dn.nexoncdn.co.kr/bbs/1717488266930702706135fff47409f16850ee919f377.png)
3. Add the `DrawRange()` function. Use **PolygonRendererComponent** to show the range where the monster can detect a player, like below.```
Property:
[None]
number DetectionRange = 5

Method:
[server only]
void DrawRange()
{
    ---@type PolygonRendererComponent
    local polygon = self.Entity:AddComponent("PolygonRendererComponent")
    polygon.Color = Color(0, 1, 0, 0.25)

    local res = 24
    local radius = self.DetectionRange
    for i = 1, res do
        local rad = 2 * math.pi * (i / tonumber(res))
        local x = math.cos(rad) * radius
        local y = math.sin(rad) * radius
        polygon.Points:Add(Vector2(x, y))
    end
}
```
4. Create a `Flip()` function. Write as follows to flip the monster's sprite horizontally, in accordance with its movement direction.```
[server only]
void Flip()
{
    local kb = self.Entity.KinematicbodyComponent
    local sprite = self.Entity.SpriteRendererComponent

    if kb.MoveVelocity:Magnitude() > 0 then
        if kb.MoveVelocity.x < 0 then
            sprite.FlipX = false
        else
            sprite.FlipX = true
        end
    end
}
```
5. Create a `DetectPlayer()` function and write the following, so it can sense the distance between itself and the player. If the distance from the player is closer than the range, player entity will be recorded in the memory; if the distance is further than the range, player entity will be removed from memory. Detected players will be used in **ActionFollow, DecoHasTarget, DecoHasNoTarget**.```
[server only]
void DetectPlayer()
{
    local target = nil
    local minDist = self.DetectionRange
    local myPos = self.Entity.TransformComponent.WorldPosition:ToVector2()

    local users = _UserService.UserEntities
    for userId, user in pairs(users) do
        local userPos = user.TransformComponent.WorldPosition:ToVector2()
        local dist = userPos:Distance(myPos)
        if dist < minDist then
            target = user
            minDist = dist
            break
        end
    end

    if target == nil then
        self:SetMemory("PlayerInRange", nil)
    else
        self:SetMemory("PlayerInRange", target)
    end
}
```
6. Add `OnUpdate`, and then write as follows to call `DetectPlayer()`, `Flip()` functions.```
void OnUpdate(number delta)
{
    self:DetectPlayer()
    self:Flip()
}
```
7. Add 'OnBeginPlay', and then write the following to call up the `DrawRange()` function.```
void OnBeginPlay()
{
    self:DrawRange()
}
```
8. Add a `Memory` property.```
Property:
[None]
table Memory = {}
```
9. Create a `SetMemory()` function and write the following, so it can store the value to key.```
[server only]
void SetMemory(string key, any value)
{
    self.Memory[key] = value
}
```
10. Create a `GetMemory()` function and write the following, so it can get the value stored in key.```
[server only]
any GetMemory(string key)
{
    return self.Memory[key]
}
```

## Create BTNodeType

Let's create a tree structure like below using BTNodeType. In the example, you will create eight BTNodeType nodes. These nodes will operate together to make the monster move around and chase the player.

1. Select **Workspace - MyDesk - Create Scripts - BTNodeType** and create eight new BTNodeType nodes. These eight BTNodeType nodes will serve different roles, as shown below.

| Node | Description |
| --- | --- |
| ActionChangeStateAlert | Modifies the monster's material. The detection range will be shown in red. |
| ActionChangeStateCalm | Reverts the monster's material to the original. The detection range will be shown in green. |
| ActionFollow | Tracks down a player. |
| ActionMoveRandom | Moves in a random direction. |
| ActionStop | Stops moving. |
| ActionWait | Stands still for a certain amount of time. |
| DecoHasNoTarget | The Decorator executes the child node if no players are detected and returns Failure if a player is detected. |
| DecoHasTarget | The Decorator executes the child node if a player is detected and returns Failure if no players are detected. |

#### ActionChangeStateAlert

Write the following to change the monster's appearance to the Rainbow material in **ActionChangeStateAlert**, and change the color of the detection range in PolygonRendererComponent.

```
Method:
any OnBehave(number delta)
{
    local sprite = self.ParentAI.Entity.SpriteRendererComponent
    local polygon = self.ParentAI.Entity.PolygonRendererComponent

    if sprite == nil or polygon == nil then
        return BehaviourTreeStatus.Failure
    end

    sprite:ChangeMaterial("material://EntryID")
    polygon.Color = Color(1, 0, 0, 0.25)

    return BehaviourTreeStatus.Success
}
```

#### ActionChangeStateCalm

Write the following to show the detection range in green and set the monster's material to be turned off when no player entities are detected within the detection range.

```
Method:
any OnBehave(number delta)
{
    -- Modifies the monster's appearance.
    -- Modifies the sprite's material to basic material and the color of the polygon renderer to green.

    local sprite = self.ParentAI.Entity.SpriteRendererComponent
    local polygon = self.ParentAI.Entity.PolygonRendererComponent

    if sprite == nil or polygon == nil then
        return BehaviourTreeStatus.Failure
    end

    sprite:ChangeMaterial(nil)
    polygon.Color = Color(0, 1, 0, 0.25)

    return BehaviourTreeStatus.Success
}
```

#### ActionFollow

Write the following to let the monster chase the player when it enters the specified range. Use `AIPatrolComponent:GetMemory()` to check for the identified players.

```
Method:
any OnBehave(number delta)
{
    ---@type AIPatrolComponent
    local parentAI = self.ParentAI
    local transform = parentAI.Entity.TransformComponent
    local target = parentAI:GetMemory("PlayerInRange")

    if target == nil then
        return BehaviourTreeStatus.Failure
    end

    local diff = target.TransformComponent.WorldPosition - transform.WorldPosition
    diff = diff:ToVector2()
    local dist = diff:Magnitude()

    if dist > 0 then
        local dir = diff:Normalize()
        local movement = self.ParentAI.Entity.MovementComponent
        movement:MoveToDirection(dir, 0)
        return BehaviourTreeStatus.Running
    end

    return BehaviourTreeStatus.Success
}
```

#### ActionMoveRandom

Write the following so that the monster can move around in different directions.

```
Property:
[None]
Vector2 MoveDirection = Vector2(0,0)
[None]
number MoveTime = 0
[None]
number ElapseTime = 0

Method:
void OnInit()
{
    -- Sets new movement direction and time on each execution.

    local randomX = _UtilLogic:RandomDouble() - 0.5
    local randomY = _UtilLogic:RandomDouble() - 0.5
    
    self.MoveDirection = Vector2(randomX, randomY):Normalize()
    self.MoveTime = _UtilLogic:RandomDouble() * 2 + 2
    self.ElapsedTime = 0
    
    local movement = self.ParentAI.Entity.MovementComponent
    movement:MoveToDirection(self.MoveDirection, 0)
}

any OnBehave(number delta)
{
    -- Moves in accordance with the time and direction specified in OnInit().
    -- Returns success when the monster touches the player.
    
    local movement = self.ParentAI.Entity.MovementComponent
    
    self.ElapsedTime += delta
    
    if self.ElapsedTime >= self.MoveTime then
        movement:MoveToDirection(Vector2.zero, 0)
        return BehaviourTreeStatus.Success        
    end

    return BehaviourTreeStatus.Running       
}
```

#### ActionStop

Write the following, so the monster can stop moving.

```
Method:
any OnBehave(number delta)
{
    -- Stops moving.
    local movement = self.ParentAI.Entity.MovementComponent

    if movement ~= nil then
        movement:Stop()
    end

    return BehaviourTreeStatus.Success
}
```

#### ActionWait

Write the following, so the monster stands still and waits for a certain amount of time. Returns Running before the specified time passes, and returns Success otherwise.

```
Property:
[None]
number ElapsedTime = 0
[None]
number Time = 0

Method:
void OnInt()
{
    self.ElapsedTime = 0
}

any OnBehave(number delta)
{
    self.ElapsedTime += delta

    if self.ElapsedTime >= self.Time then
        return BehaviourTreeStatus.Success
    else
        return BehaviourTreeStatus.Running
    end
}
```

#### DecoHasNoTarget

Write the following, so the child node is executed if no players are detected and returns Failure otherwise.

```
Property:
[None]
any Child = nil

Method:
any OnBehave(number delta)
{
    ---@type AIPatrolComponent
    local parentAI = self.ParentAI
    local target = parentAI:GetMemory("PlayerInRange")

    if target == nil then
        return self.Child:Behave(delta)
    else
        return BehaviourTreeStatus.Failure
    end
}
```

#### DecoHasTarget

Write the following, so the child node is executed if a player is detected and Failure is returned otherwise.

```
Property:
[None]
any Child = nil

Method:
any OnBehave(number delta)
{
    ---@type AIPatrolComponent
    local parentAI = self.ParentAI
    local target = parentAI:GetMemory("PlayerInRange")

    if target == nil then
        return BehaviourTreeStatus.Failure
    else
        return self.Child:Behave(delta)
    end
}
```

## Creating Behaviour Trees

1. Add a new `CreateBehaviourTree()` function in **AIPatrolComponent**. Create a tree structure as follows.```
[server only]
void CreateBehaviourTree()
{
    local root = SelectorNode("Root")

    local seqAttack = SequenceNode("Attack")
    local actAlertState = self:CreateNode("ActionChangeStateAlert", "ChangeState: Alert")
    local actFollow = self:CreateNode("ActionFollow", "Follow")

    seqAttack:AttachChild(actAlertState)
    seqAttack:AttachChild(actFollow)

    local decoHasTarget = self:CreateNode("DecoHasTarget", "HasTarget (Attack)")
    decoHasTarget.Child = seqAttack

    local seqPatrol = SequenceNode("Patrol")
    local seqMove = SequenceNode("Move")
    local actCalmState = self:CreateNode("ActionChangeStateCalm", "ChangeState: Calm")
    local actStop = self:CreateNode("ActionStop", "Stop")
    local actMoveRandom = self:CreateNode("ActionMoveRandom", "MoveRandom")
    local actWait = self:CreateNode("ActionWait", "Wait")
    actWait.Time = 3

    seqMove:AttachChild(actWait)
    seqMove:AttachChild(actMoveRandom)

    local decoHasNoTarget = self:CreateNode("DecoHasNoTarget", "HasNoTarget (Move)")
    decoHasNoTarget.Child = seqMove

    seqPatrol:AttachChild(actCalmState)
    seqPatrol:AttachChild(actStop)
    seqPatrol:AttachChild(decoHasNoTarget)

    root:AttachChild(decoHasTarget)
    root:AttachChild(seqPatrol)

    self:SetRootNode(root)
}
```
2. Modify as shown below, so the `OnBeginPlay()` function calls the `CreateBehaviourTree()` function.```
void OnBeginPlay()
{
    self:CreateBehaviourTree()
    self:DrawRange()
}
```

Update 2025-11-17 PM 08:14


# Dynamically create and destroy maps

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Learn how to dynamically create and destroy maps.

##### Reference Guide

- [World Instance](/docs?postId=984)
- [Create Instance Map](/docs/?postId=540)
- [DynamicMapService](/apiReference/Services/DynamicMapService)
- [DynamicMapResultCode](/apiReference/Enums/DynamicMapResultCode)

# Source Map

Source maps are maps created by the creator in Maker, which are automatically created when entering the world without any script calls. The maps that can be used as source maps when creating dynamic maps depend on the type of room. In static rooms, only static maps can be used as source maps, and in instance rooms, only instance maps can be used as source maps.

#### Source Map Initial State

The initial state of the source map refers to the state of the map at the earliest point in time when it is automatically created upon entering the world. Dynamic maps are always created with the same initial state as the source map, regardless of the state of the source map at the time the map is dynamically created.

# Dynamic Map

Dynamic maps are maps that are dynamically created while playing the world. For example, depending on the world you're creating, you may need the same type of map with only certain people allowed on a map. You could copy the maps created by the creator in Maker and create as many maps as you need in advance. However, as the number of maps increases, it can put a strain on the world server and slow down world loading. This is where the DynamicMapService can help you create worlds efficiently by only creating them when you need them.

# Create Dynamic Map

When creating maps dynamically, use the `CreateDynamicMap()` function. When you create a map with this function, it returns a [DynamicMapResultCode](/apiReference/Enums/DynamicMapResultCode) as the result after `OnBeginPlay()` is called on all components belonging to the source map ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1757313592097179ef701cdbc4f06847445e16dbe93dd.png) For maps that use dynamic maps, you should be careful not to perform operations in `OnBeginPlay()` that take a long time to execute, as this can adversely affect server performance. You should also be careful not to create dynamic maps in `OnBeginPlay()` when you create them. If you create a dynamic map in `OnBeginPlay()`, the return call can cause the dynamic map to be created infinitely repeatedly, resulting in an error

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17573136093876287b8a065484a47ae8ebb646ea7a3f7.png)

> **Tip.** When creating a dynamic map, you cannot change the properties of the map. Static maps of static rooms are created only as static maps, and instance maps are created dynamically only as instance maps.

#### Notes When Creating Dynamic Maps

When creating a dynamic map with the `DynamicMapService`, the basis is the initial state of the source map. If the map created in Maker looks like the one below, the dynamically created map will always be created in the state below. Even if the data in the source map that was first created in the world has changed, the changed data will not be reflected in the newly created dynamic map, but will be created in the initial state.

| Initial State | Source Map in Play |
| --- | --- |
| ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1756980791490973aeecd2496440faba844a80585270c.png) | ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1756980818537570eca05f30a4376ba796d157114aeb7.png) |

When you create a dynamic map, it is created with the initial state as shown below. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1756980791490973aeecd2496440faba844a80585270c.png)

# Dynamic Maps and Property Types

When you create a dynamic map, if the property of the type that uses a path is in the initial state, you must use a relative path instead of an absolute path. The following property types must use relative paths.

- **Entity, Component, EntityRef, ComponentRef**

For example, imagine that in the source map, as shown below, the destination of Portal A is Portal B and the destination of Portal B is Portal A. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1756980939504b01e26564c99479094d726cf011279f4.png)

Because the nature of dynamic maps is to replicate the initial data in the source map, this creates a problem when creating a dynamic map. The path remains the same absolute path in the newly created dynamic map, so if you navigate to Portal A in the newly created dynamic map, you will be directed to Portal B in DynamicMap1 (the source map).

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/175730580015799115a0e1bf842aa88bf70fb01616fe8.png)

You can counteract this problem by directly specifying a reference destination at a specific point in time, such as `OnBeginPlay()`. For example, you can **Extend** the `PortalComponent` to specify the destination of the portal as a relative path.

```
Property:
[None]
string PortalEntityPath = "nil"

Method:
void OnBeginPlay()
{
	local fullPath = self.Entity.CurrentMap.Path .. "/" .. self.PortalEntityPath
	local targetEntity = _EntityService:GetEntityByPath(fullPath)
	
	if targetEntity == nil or targetEntity.PortalComponent == nil then
	 log_warning("Target entity is invalid. path : " .. fullPath)
		return
	end
	self.PortalEntityRef = targetEntity
}
```

# Removing a Dynamic Map

Use the `DestroyDynamicMap()` function to remove a dynamic map. It can only be removed if there are no users in the dynamic map. When you run the remove dynamic map function, it returns the result as [DynamicMapResultCode](/apiReference/Enums/DynamicMapResultCode).

Update 2025-11-17 PM 08:14


# World Instance Communication

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's learn how to share data and send events between world instances using WorldInstanceService and WorldInstanceSharedMemory. To learn the basics of world instances and rooms, please refer to [World Instances](/docs?postId=984), [Creating Instance Maps](/docs/?postId=540).

> **Tip** If you want to implement communication between rooms, try using the RoomService function.

# WorldInstanceSharedMemory

Since world instances cannot directly communicate, you must use [WorldInstanceSharedMemory](/apiReference/Misc/WorldInstanceSharedMemory) to share data between instances. WorldInstanceSharedMemory is a group of shared variables. Once specified, these variables can be read and written to in real time. The characteristics of WorldInstanceSharedMemory are **volatile**. Meaning, WorldInstanceSharedMemory will disappear if there are no active world instances.

> **Tip** If communication between rooms is required, use RoomService and RoomSharedMemory.

#### Shared Variables

**Shared variables** are values shared between world instances. If you change any data in WorldInstanceSharedMemory, it means that you have changed the value of a shared variable. Below is an example how one might implement shared variables using WorldInstanceService and WorldInstanceSharedMemory.

```
-- Acquires WorldInstanceSharedMemory.
local getMemResultCode, mem = _WorldInstanceService:GetSharedMemory("MemoryName")
 
-- Create the shared variable var1.
local createVarResult = mem:CreateVariableAndWait("var1", "value1")
log (createVarResult.Info.Name)        -- var1
log (createVarResult.Info.Value)       -- value1
 
-- Look up the shared variable var1.
local getVarResult = mem:GetVariableAndWait("var1")
log (getVarResult.Info.Name)           -- var1
log (getVarResult.Info.Value)          -- value1
 
-- Modify the value of the shared variable var1 to value2.
local keyInfo = SharedVariableKeyInfo("var1", nil)
local updateVarResult = mem:UpdateVariableAndWait(keyInfo, "value2")
log (updateVarResult.Info.Value)       -- value2
 
-- Delete the shared variable var1.
local deleteVarResultCode = mem:DeleteVariableAndWait("var1")
 
-- Delete WorldInstanceSharedMemory. Any remaining shared variables are also deleted.
local deleteMemResultCode = _WorldInstanceService:DeleteSharedMemoryAndWait("MemoryName")
```

#### Shared Variable References

If a world instance creates, views, or edits shared variables, those shared variables are referenced. A world instance that has referenced certain shared variables will maintain the reference status until the shared variable is deleted. If a certain shared variable referenced by multiple world instances is deleted from a certain world instance, the shared variable won't be able to be used by other world instances. To prevent impacting all world instances by deleting data from a single place like this, MapleStory Worlds recommends disabling referencing instead of deleting WorldInstanceSharedMemory shared variables. If referencing the same shared variable is disabled for all world instances, then the shared variable is automatically deleted.

```
-- Remove the reference to the shared variable var1.
local releaseVarResult = mem:ReleaseVariableAndWait("var1")
 
-- Remove the reference to all shared variables in WorldInstanceSharedMemory.
local releaseMemResultCode = _WorldInstanceService:ReleaseSharedMemoryAndWait("MemoryName")
```

#### Batch Requesting WorldInstanceSharedMemory

Functions **prefixed with "Batch"** allow batch requests to create, inquire, or modify shared variables. This can be more efficient when you need to process multiple variables.

```
local code, mem = _WorldInstanceService:GetSharedMemory("MemoryName")
 
local nameValues = { ["b_var1"] = "b_value1", ["b_var2"] = "b_value2", ["b_var3"] = "b_value3" }
local results = mem:BatchCreateVariableAndWait(nameValues)
 
log (results["b_var1"].Info.Value)        -- b_value1
log (results["b_var2"].Info.Value)        -- b_value2
log (results["b_var3"].Info.Value)        -- b_value3
```

#### ETag

**ETag** is an identifier which is required to ensure that the data in the shared variable is up to date. Issue a new ETag whenever data is created or modified, or records are looked up. The issued ETag is used to record and compare data versions. It's important to use ETags because, when a variable is shared across multiple world instances, it becomes difficult to know which data is newer and which has been modified. Also, since multiple world instances access shared variables, sometimes data can be overwritten unexpectedly.

A shared variable and an ETag are pairs that are used together. If you modify the value of a shared variable, you must send the ETag along with the shared variable name and value in the request. At this time, if the ETag included in the request and the latest ETag are different, the value of the shared variable is not modified. However, depending on the creator's intention, the ETag verification process can be omitted. In this case, enter nil or an empty string to bypass the verification process unconditionally and modify the value of the shared variable.

The code below is an example using an ETag.

```
local code, mem = _WorldInstanceService:GetSharedMemory("MemoryName")
  
-- current.Info.ETag contains the latest ETag.
local current = mem:GetVariableAndWait("varname")
  
-- The shared variable is modified only when the latest ETag is sent in keyInfo. If you put a different value, it will not be modified. However, if an empty string or nil is contained, the shared variable is modified unconditionally.
local keyInfo = SharedVariableKeyInfo(current.Info.Name, current.Info.ETag)
 
-- When a shared variable is successfully modified, updated.Info.ETag contains the newly issued latest ETag.
local updated = mem:UpdateVariableAndWait(keyInfo, "new value")
 
-- When a shared variable modification fails due to an ETag mismatch, a SharedMemoryResultCode.PreconditionFailed error code is returned.
if updated.Code == SharedMemoryResultCode.PreconditionFailed then
    error ("ETag Mismatch.")
end
```

# WorldInstanceService

You can use the function WorldInstanceService to share data between world instances or send events. You can get WorldInstanceSharedMemory with WorldInstanceService. You can create or modify a shared variable with the obtained WorldInstanceSharedMemory. ![WorldInstanceService01](https://mod-file.dn.nexoncdn.co.kr/bbs/1679450541490552c575873394cd49aedb25f7cf2f979.png)

# Sending and Receiving Events between World Instances

You can send events to all other world instances using the RequestSendEventToAllWorldInstancesAndWait() and RequestSendEventToAllWorldInstancesAsync() functions. If you want to send an event only to a specific world instance, use RequestSendEventToWorldInstanceAndWait() or RequestSendEventToWorldInstanceAsync().

#### Send Event

To send events to other world instances, you must use the target world's **world instance Id**. The world instance Id can be found as WorldInstanceService.WorldInstanceId.

```
-- Send the MyWorldInstanceEvent event to all world instances.
local evt = MyWorldInstanceEvent()
local code = _WorldInstanceService:RequestSendEventToAllWorldInstancesAndWait(evt)
 
if code ~= SendEventRequestResultCode.OK then
     error ("_WorldInstanceService:RequestSendEventToAllWorldInstancesAndWait failed.")
end
```

#### Receiving Events

Creators must attach an event handler to WorldInstanceService to receive events. Events occur on the server.

```
Event Handler:
[service: WorldInstanceService]
HandleMyWorldInstanceEvent(MyWorldInstanceEvent event )
{
    log ("Receive MyWorldInstanceEvent.")
}
```

# Limitations of WorldInstanceService

**WorldInstanceService** should be used with the following limitations in mind.

#### Naming Rules

WorldInstanceMemory and shared variable names can only be named with the following characters. The name must be at least 1 character long and can be a maximum of 100 characters.

- **Alphabet upper case, lower case**
- **Number**
- **Blank**
- **_, -**

#### Quantity and Size Limit

- You can create up to **100** WorldInstanceSharedMemory variables per world.
- The maximum value that can be saved in one shared variable is **80,000 bytes**.
- The total capacity of one shared memory cannot exceed **80 MiB**.
- The total size of the event properties to be transmitted cannot exceed **80,000 bytes**.

#### Usage Limitations

- There can be up to **1,000** WorldInstanceSharedMemory function calls per minute across all generated world instances.
  - If you change the values of 100 shared variables with one batch function call, the number of function calls is 100.
  - 100 simultaneous calls from 10 world instances equals 1,000 calls.
- The maximum number of event transfers between world instances is **1,000** per minute.

# Usage Example

This is an example of detecting events between world instances.

1. Workspace - MyDesk - Create Scripts - Create EventType - create a new **MyUserEnterEvent**.
2. Add the property to **MyUserEnterEvent**.```
Property:
string WorldInstanceId = ""
string Nickname = ""
```
3. Workspace - MyDesk - Create Scripts - Create Logic - create a new **MyUserEnterLogic**.
4. Press [+] in the Entity Event Handler of **MyUserEnterLogic** and add **UserEnterEvent**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16794535826480d4537b7507743b7be90ce6f1e6666b7.png) Write the following so that when a new user enters a world instance, an event is sent to all world instances.```
Event Handler:
[Service: UserService]
HandleUserEnterEvnet(UserEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: UserService
    -- Space: Server
    ---------------------------------------------------------

    -- Parameters
    local UserId = event.UserId
    ---------------------------------------------------------

    local worldInstId = _WorldInstanceService.WorldInstanceId
    local user = _UserService:GetUserEntityByUserId(UserId)
    local nickname = user.PlayerComponent.Nickname

    local evt = MyUserEnterEvent(worldInstId, nickname)
    _WorldInstanceService:RequestSendEventToAllWorldInstancesAndWait(evt)
}
```
5. Press [+] in the Entity Event Handler and add **MyUserEnterEvent**. Change self to **service**. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1679453622421b14075cdc1894563be692c22e59996f5.png)
6. Press ![open](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_open_folder.png) and specify **WorldInstanceService**. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16794536057958e520b24e60e46ad8b842e580a652971.png) Write the following so that you'll know which world instance the user entered from.```
[service: WorldInstanceService]
HandleMyUserEnterEvent(MyUserEnterEvent event)
{
    -- Parameters
    local WorldInstanceId = event.WorldInstanceId
    local Nickname = event.Nickname
    ---------------------------------------------------------

    local currWorldInstId = _WorldInstanceService.WorldInstanceId

    if currWorldInstId == WorldInstanceId then
    	log ("User '" .. Nickname .. "' has entered this world instance.")
    else
    	log ("User '" .. Nickname .. "' has entered another world instance.")
    end
}
```
7. You can launch a world and check the logs to see if you are entering from different world instances. If you check in the Maker, they all enter the same world instance.

Update 2025-11-20 PM 02:03


# Creating Instance Map

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

When creating a World, you sometimes want to create a separate space like a special dungeon that only certain users can enter. This is when you can utilize `RoomService`. Let's look at `RoomService`, which creates an independent space that can be separated from other users and move users. To utilize instance maps, the concepts of static rooms and static maps will be explored together.

# Static Room

One World includes one **Static Room (Static Room)**. A static map is created for a static room. Users can freely move between static maps.

# Static Map

**A static map (Static Map)** is created within the World instance. The default for creator-created maps in a World is a static map. When a World is created, a static map is also created.

# Instance Room

**Instance Room (Instance Room)** is a basket to hold **instance maps**. Creators can create instances by including specific instance maps in the instance room. Even different instance rooms can be packed with instance maps of the same composition. This is because if rooms are configured with the same instance map configuration, a key is used to differentiate them into distinct instance rooms.

It is also possible to create different instance rooms at the same time. If an instance room has already been created, even if a new user connects to the static room, the created instance room will not be affected in any way. This is because after creating an instance room and moving the user to the instance room, only the information of the instance room is loaded.

In order to send users to the instance map of the instance room, they must first go through the static map of the static room. You can specify MapName as the static map to return to when you leave the instance room and return to the static map. If you haven't decided on a static map to return to, you'll be taken back to your start map.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/167220613027481fbeaab9552405b9d54bf9c2d7e9ed3.png)

#### Key

Because different instance rooms can be created, even though they are composed of the same instance map, an **identification key** is required to distinguish instance maps. The **Key's** intended use is manipulation.

# Instance Map

The map defaults to a static map. If the creator wants to use a specific map as an instance map, the **InstanceMap** property of the Map's **MapComponent** must be **true**.

# RoomService

`RoomService` can create or destroy instance rooms or transfer users to a specific instance room. For detailed information, please refer to [RoomService](/apiReference/Services/RoomService).

#### Move to Instance Room

Users can move between instance maps created within an instance room. However, you cannot move from one instance room to another instance room. Also, you cannot move between a static room and an instance room except via `RoomService`. For example, even if you create a portal on an instance map that can be moved to a static map, it is normal to not be able to move it. Let's take a look at the diagram below. Users can freely move within Maps 01, 02, and 03 created in the static room. If you want to move specific users from the static map Map01 to Instance Room A, use `RoomService:MoveUsersToInstanceRoom()`. Users who moved to Instance Room A can move within map 04, 05, 06, 07, which is an instance map created in the room. However, they cannot go directly from Instance Room A to Instance Room B. If you want to move from Instance Room A to InstanceRoom B, you have to go back to static map Map 01 and move to another instance room via `MoveUsersToInstanceRoom()`. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/167514939683374cba8eb14d44671bed868c1e16516a3.png)

#### Accessing Data from Instance Rooms

Static Rooms and Instance Rooms are separate spaces and cannot access each other's data. Therefore, entries such as Service and Logic exist in each space. One World uses one DataStorage. So, keep in mind that both static rooms and created instance rooms use the same DataStorage.

# Use Example

Among the users in the waiting room, let's move 3 users who pressed the Ready button to the map where the game will be played. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16728923078067133fe9f934c494fb88daec6cd7da953.png) ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1672892340962e23f260871484cac83c21fcfefaadb2c.gif)

#### Ready

This example uses the start map as the static room to send to the instance map, and the static room to return.

1. Create waiting maps and instance maps.
  - Static Map Name: waitingmap
  - Instance Map Name: dungeon ![instancemaps](https://mod-file.dn.nexoncdn.co.kr/bbs/1638498213055cf9e5651d3744ef987655fc87ef9add2.png)
2. To use the dungeon map as the instance map, in the Property Editor window, activate the **MapComponent's InstanceMap property** ![Editbox_Check](https://mod-file.dn.nexoncdn.co.kr/bbs/16346176407708cb3de01eaaf48a68ab2dd6fe1b1183f.png).![InstanceMap](https://mod-file.dn.nexoncdn.co.kr/bbs/1679381963752d7fcf722dd3543888ed05edabe847044.png)
3. Create the Ready button by using the ![Tool_UI](https://mod-file.dn.nexoncdn.co.kr/bbs/163453120840744616a62243642e889159a68a78a56c2.png) UI Editor - Left Default Tool - ![button](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_button.png) button to **DefaultGroup**. ![instance05](https://mod-file.dn.nexoncdn.co.kr/bbs/1638498359187950b047e63934e33a1a76ac3dbef58cf.png)

> **Tip** You need several users to test the RoomService. Press ![Common_SoundPlay](https://mod-file.dn.nexoncdn.co.kr/bbs/1635317657654c59c47ffc44d414db579b8d2fc0715a8.png)[Start] and click the ![Common_MultiPlayer](https://mod-file.dn.nexoncdn.co.kr/bbs/163453813155295c09654c5824a6d825788e3d97c4b7d.png) Add a MultiPlayer button to add users as necessary.

#### Creating an Instance Room

Create an instance room using the `GetOrCreateInstanceRoom()` function.

1. Create **GameManager script component** and add it to **waitingmap**.![instance02](https://mod-file.dn.nexoncdn.co.kr/bbs/1638498169847ea785d529504411b94811514d2fe0c42.png)
2. Compose a script to create an instance room at **GameManager Script Component** as follows.```
Property:
[None]
integer roomIdx = 0

Method:
any GetOrCreateInstanceRoom ()
{
    -- Use RoomService to create an Instance Room and increase roomIdx by 1.
    -- Use roomIdx as a key to create an Instance Room so that a brand new InstanceRoom is created each time.
    local instanceRoom = _RoomService:GetOrCreateInstanceRoom("DungeonMap"..tostring(self.roomIdx))
    self.roomIdx = self.roomIdx + 1
    return instanceRoom
}
```

#### Moving to Particular Instance Room

Now let's set the conditions for the users who can enter the game-playing instance room. You can set the conditions to match your intent. In the example, **3 or more users who pressed the Ready button** will be moved to a new instance room.

1. Compose a script at **GameManager Script Component** that regularly checks user's Ready state to move the user to an instance room.```
Property:
[None]
number checkReadyPlayerTimer = 0
[None]
integer playerNumPerGame = 0

Method:
[server only]
void OnUpdate(number delta)  
{
    self.checkReadyPlayerTimer = self.checkReadyPlayerTimer + delta
    -- Checks players in Ready state at a set interval.
    if self.checkReadyPlayerTimer >= 5.0 then
        self.checkReadyPlayerTimer = 0.0

        -- Gets the number and names of players in Ready state.
        local readyPlayerNum = 0
        local readyPlayers = {}
            for k, v in pairs(_UserService.UserEntities) do
            if v.Player.isReady == true then
                readyPlayerNum = readyPlayerNum + 1
                readyPlayers[#readyPlayers+1] = v.Name
            end
        end

        -- If the number of players in Ready state is more than the set value, execute logic to move the players to a new Instance Room.
        if readyPlayerNum >= self.playerNumPerGame then

            -- Repeat as many times as the number of Instance Rooms you need to make.
            for i = 1, math.floor(readyPlayerNum / self.playerNumPerGame) do

                -- Creates an Instance Room.
                local instanceRoom = self:GetOrCreateInstanceRoom()
                local toSendPlayers = {}

                -- Places in each Instance Room.
                for j = 1, self.playerNumPerGame do
                    local idx = (i-1) * self.playerNumPerGame + j
                    toSendPlayers[#toSendPlayers+1] = readyPlayers[idx]
                end

                -- Uses players' information to send them to the corresponding Instance Room.
                _RoomService:MoveUsersToInstanceRoom(instanceRoom.InstanceKey, toSendPlayers)
            end
        end
    end
}
```
2. In **waitingmap**'s Property Editor, enter 3** to GameManager's **playerNumPerGame. ![instance14](https://mod-file.dn.nexoncdn.co.kr/bbs/1638779042401ec936b5ae88046b085ded53f0bae7132.png)
3. Create the **ReadyButton** script component and add it to the **Ready UI button**.When the user is in the Ready state, it sends information to the server that the user is ready.```
Property:
[None]
boolean isReady = false

Event Handler:
[client only] [Entity: UIButton(/ui/DefaultGroup/UIButton)] 
HandleButtonClickEvent(ButtonClickEvent event) 
{
    -- Parameters
    local Entity = event.Entity
    --------------------------------------------------------

    -- If the player was already in a Ready state upon clicking the button, cancel the Ready state, modify the UI text, and notify the server.
    if self.isReady  == true then
        self.isReady = false
        self.Entity.TextComponent.Text = "Ready"
        _UserService.LocalPlayer.Player:OnCancelReady()
    -- If the player was not in a Ready state upon clicking the button, change to a Ready state, modify the UI text, and notify the server.
    else
        self.isReady = true
        self.Entity.TextComponent.Text = "Cancel"
        _UserService.LocalPlayer.Player:OnReady()
    end
}
```
4. Create **Player script component** and add it to ![workspace_MyAvatar](https://mod-file.dn.nexoncdn.co.kr/bbs/16346008379922a9b756c3912461db7195808cb554abd.png) DefaultPlayer. Synchronize the player's ready status information to the server to check the current user status.```
Property:
[None]
boolean isReady = false
[None]
number roomIdx = 0
[None]
any readyButton = nil

Method:
[client only]
void OnBeginPlay() 
{
    wait(1)
    self.readyButton = _EntityService:GetEntity("Entity ID") -- Enter the Entity ID of readyButton.
    -- The Ready button will not be shown once moved to Instance Room.
    if _UserService.LocalPlayer.CurrentMapName == "dungeon" then
        self.readyButton.Enable = false
    end  
}

[server]
void OnReady() 
{
    self.isReady = true
}

[server] 
void OnCancelReady()
{
    self.isReady = false
}
```

#### Moving to Static Room

Let's use the `MoveUsersToStaticRoom()` function to return users to the static room after the game. If you haven't decided on a static map to return to, you'll be taken back to your start map.

- Create and compose **InstanceGameManager script component** and add the script component to dungeon map.```
Method:
[server only]
void OnBeginPlay()
{
    local playFunc = function()
        local users = {}
        -- Gets players in current map.
        for k, v in pairs(_UserService.UserEntities) do
            users[#users+1] = v.Name
        end
        -- Returns the players to the static room.
        _RoomService:MoveUsersToStaticRoom(users)
    end

    -- Executes the playFunc function 10 seconds after the game has begun.
    _TimerService:SetTimerOnce(playFunc, 10.0)
}
```

##### Reference Guide

- [UserService to Find User Entities](/docs?postId=60)
- [EntityService to Search for Entities](/docs?postId=201)
- [World Instance](/docs?postId=984)

Update 2025-11-17 PM 08:14


# Communicating Between Rooms using RoomService

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

You can use RoomService to communicate between static and instance rooms within a single world instance. This guide is example-oriented, and the basic concepts are the same as with [WorldInstanceService](/apiReference?postId=1034). We recommend that you study the [World Instance](/docs/?postId=984), [World Instance Communication](/docs/?postId=999), and [Creating Instance Maps](/docs/?postId=540) guides first.

# Communicate with RoomService

Since static and instance rooms cannot communicate directly, the [RoomService](/apiReference?postId=1032) function must be used to share events or data with each other. RoomService can create instance rooms and move users to them. You can also share a state between rooms within the same world instance, using the same shared memory. When using shared memory, you can create or obtain it using the `GetSharedMemory()` function. Use the `DeleteSharedMemoryAndWait()` or `DeleteSharedMemoryAsync()` function when deleting shared memory.

# Communication between Static Rooms and Instance Rooms

Let's create an example of checking the instance room state in real time in a static room. We'll change the state of the instance room between playing and waiting every 8 seconds. You can check the state of the changing instance room and share it with the static room. This example uses two Logic and Event Types.

![Example](https://mod-file.dn.nexoncdn.co.kr/bbs/1681289120098258bc9cbd81049859f1cb80d6adf314f.gif)

#### Preparation

1. You need two maps. Use one as a static map and the other as an instance map.
  - **map01**: Static Map
  - **map02**: Instance Map
  > **Tip** You can use MapComponent's InstanceMap to designate it as an instance map. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1681288311051aad86e9170a64def8052f805cdc11628.gif)
2. Add two [Button] UIs in **[UI] - DefaultGroup** and rename them **Btn_Enter and Txt_RoomState** respectively.
  - Btn_Enter![Btn_Enter](https://mod-file.dn.nexoncdn.co.kr/bbs/16813830576229c09ca4ff95f4e91950f82bcb34765bd.png)
  - Txt_RoomState![Txt_RoomState](https://mod-file.dn.nexoncdn.co.kr/bbs/1681383449551f8ad79acbf0c47d097d10110033af6fc.png)

#### Display Room State

1. In the context menu of **Workspace - MyDesk, click Create Scripts - Create Logic** to create a new **StaticRoomLogic**.
2. Add a new **ButtonEnter** property and change the return type to Entity. Connect **Btn_Enter**.```
Property:
[None]
Entity ButtonEnter = /ui/DefaultGroup/Btn_Enter
```
3. Write the following to show the button to go to the instance room only in the static room.```
Method:
[client only]
void OnBeginPlay()
{
    -- Activate the entry button entity only in static rooms.
    if _RoomService:IsInstanceRoom() == true then
    	self.ButtonEnter.Enable = false
    else
    	self.ButtonEnter.Enable = true
    end
}
```
4. In the context menu of **Workspace - MyDesk, click Create Scripts - Create Logic** to create a new **InstanceRoomLogic**.
5. Add two properties as shown below.```
Property:
[Sync]
boolean IsPlaying = false
[None]
Entity TextRoomState = /ui/DefaultGroup/Txt_RoomState
```
6. Add the **OnBeginPlay** function to **InstanceRoomLogic**. Write the following to show only the button displaying the state of the instance room.```
Method:
[client only]
void OnBeginPlay ()
{
    -- Activate state entities only in instance rooms.
    if _RoomService:IsInstanceRoom() == true then
    	self.TextRoomState.Enable = true
    else
    	self.TextRoomState.Enable = false
    end
}
```

#### Display Instance Room State

Let's make the content of the button change according to the value of the IsPlaying property of InstanceRoomLogic. Since the logic is executed separately in the static and instance rooms, we need to transfer the changed IsPlaying value in the instance room to the static room. We'll write some code that changes the UI so we can transfer the IsPlaying value as shown below. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/168119241933126ff4ac0778142d291c516d5db5bd7d9.png)

1. Add `OnUpdate` to StaticRoomLogic.```
[client only]
void OnUpdate(number delta)
{
    -- Execute only in static rooms.
    if _RoomService:IsInstanceRoom() == true then
    	return
    end

    -- Check the state of the instance room and update the button state.
    local isPlaying = _InstanceRoomLogic.IsPlaying
    self:UpdateButton(isPlaying)
}
```
2. Add a new `UpdateButton` function and add a boolean type parameter **isPlaying**. Write the following so that the text displayed on the button can be changed according to the isPlaying state.```
[client]
void UpdateButton(boolean isPlaying)
{
    if isPlaying == true then
        local text = "No entry <color=red>(Playing)</color>"
        self.ButtonEnter.TextComponent.Text = text
        self.ButtonEnter.ButtonComponent.Enable = false
    else
        local text = "Entry <color=lime>(Waiting)</color>"
        self.ButtonEnter.TextComponent.Text = text
        self.ButtonEnter.ButtonComponent.Enable = true
    end
}
```
3. Add the **OnUpdate** function to **InstanceRoomLogic**.```
[client only]
void OnUpdate(number delta)
{
    -- Execute only in instance rooms.
    if _RoomService:IsInstanceRoom() == false then
    	return
    end

    -- -- Check the room state and update text.
    self:UpdateText(self.IsPlaying)
}
```
4. Add the **UpdateText** function to **InstanceRoomLogic**. Add a boolean type isPlaying parameter.```
[client only]
void UpdateText(boolean isPlaying)
{
    if isPlaying == true then
    	local text = "<color=red>Playing</color>"
    	self.TextRoomState.TextComponent.Text = text
    else
    	local text = "<color=lime>Waiting</color>"
    	self.TextRoomState.TextComponent.Text = text
    end
}
```

#### Enter an Instance Room

Write the following so that the player who presses the enter button can enter the instance room.

1. Add a new **EnterInstanceRoom** to **StaticRoomLogic**. After selecting Add Parameter, add a string type userId parameter. Use `RoomService` to get the key of the instance room and write the following so that the user can be sent to the instance room.```
[server]
void EnterInstanceRoom(string userId)
{
    local roomKey = "ExampleRoom"
    local mapName = "map02"

    _RoomService:GetOrCreateInstanceRoom(roomKey)
    _RoomService:MoveUserToInstanceRoom(roomKey, userId, mapName)
}
```
2. Add **ButtonClickEvent** to Event Handler. Change it to **entity** and connect **Btn_Enter**. Write the `EnterInstanceRoom` function to be executed in the static room as shown below.```
Event Handler:
[entity: Btn_Enter(/ui/DefaultGroup/Btn_Enter)
HandleButtonClickEvent(ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------

    -- Execute only in static rooms.
    if _RoomService:IsInstanceRoom() == true then
    	return
    end

    local me = _UserService.LocalPlayer
    self:EnterInstanceRoom(me.Name)
}
```

#### Share Instance Room State to Static Room

Let's create a new event and use that event to share the instance room's state with the static room.

1. In the context menu of **Workspace - MyDesk, click Create Scripts - Create Event** to create a new **RoomStateChangedEvent**.
2. Add a boolean type **IsPlaying** property.```
Property:
boolean IsPlaying = false
```
3. Open **InstanceRoomLogic** and add **RoomBeginEvent** to the event handler. Write to change the **IsPlaying** state of the instance room once every 8 seconds on the server. Use the `RoomService:RequestSendEventToRoomAndWait()` function to transfer the IsPlaying state to the static room.```
Event Hanlder:
[service: RoomService]
HandleRoomBeginEvent(RoomBeginEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: RoomService
    -- Space: Server
    ---------------------------------------------------------

    -- Parameters
    ---------------------------------------------------------

    -- Use RoomBeginEvent to perform the first time when an instance room is created.

    -- Execute only in instance rooms.
    if _RoomService:IsInstanceRoom() == false then
    	return
    end

    -- The server changes the play state once every 8 seconds.
    local timerFunc = function()
    	self.IsPlaying = not self.IsPlaying

    	-- Send the IsPlaying value from the instance room to the static room using an event.
        local evt = RoomStateChangedEvent()
        evt.IsPlaying = self.IsPlaying
        _RoomService:RequestSendEventToRoomAndWait(evt, _RoomService.StaticRoomKey)        	
    end

    _TimerService:SetTimerRepeat(timerFunc, 8)
}
```
4. Add **RoomStateChangedEvent** in **InstanceRoomLogic**. Press [self] to change to [service] and connect RoomService. Write the following so that the static room can save the IsPlaying value it receives.```
[service: RoomService]
HandleRoomStateChangedEvent(RoomStateChangedEvent event)
{
    -- Parameters
    local IsPlaying = event.IsPlaying
    ---------------------------------------------------------

    -- The event occurs on the server.
    -- Execute only in static rooms!
    if _RoomService:IsInstanceRoom() == true then
    	return
    end

    -- The static room saves the IsPlaying value received from the instance room.
    self.IsPlaying = IsPlaying
}
```
5. Add **RoomEndEvent**. Write the following so that the IsPlaying state can be initialized when the instance room is destroyed.```
[service: RoomService]
HandleRoomEndEvent(RoomEndEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: RoomService
    -- Space: Server
    ---------------------------------------------------------

    -- Parameters
    ---------------------------------------------------------

    -- Execute only in instance rooms.
    if _RoomService:IsInstanceRoom() == false then
    	return
    end

    -- Reset the state when the instance room is destroyed.
    self.IsPlaying = false
    local evt = RoomStateChangedEvent(self.IsPlaying)
    _RoomService:RequestSendEventToRoomAndWait(evt, _RoomService.StaticRoomKey)
}
```

# Utilize Shared Memory

Let's add a new UI to the example world created above and make the content of the shared memory appear when entering the instance room. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16812899032225448790431404595a01853837b8e53a1.png)

1. Add a Text UI to DefaultGroup and name it **Txt_RoomTitle**. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1681289321574fd8a803ee75f4db9a94e2109a6a1acd2.png)
2. Add a new Entity type **TextRoomTitle** property to **InstanceRoomLogic**. Connect the Txt_RoomTitle UI.```
Property:
[None]
Entity TextRoomTitle = /ui/DefaultGroup/Txt_RoomTitle
```
3. Write the following in OnBeginPlay of **InstanceRoomLogic** so that the Txt_RoomTitle UI is activated when entering the instance room.```
Method:
[client only]
void OnBeginPlay()
{
    if _RoomService:IsInstanceRoom () == true then
        self.TextRoomState.Enable = true
        self.TextRoomTitle.Enable = true
    else
        self.TextRoomState.Enable = false
        self.TextRoomTitle.Enable = false
    end    
}
```
4. Add a string type **Title** property to **InstanceRoomLogic**.```
Property:
[Sync]
string Title = ""
```
5. Add the code below to the last line of the **UpdateText** function of **InstanceRoomLogic** so that the room name appears.```
self.TextRoomTitle.TextComponent.Text = self.Title
```
6. Before creating an instance room, we need to save the room name in shared memory. To do this, add the following content under `local mapName = "map02"` in **EnterInstanceRoom** function of **StaticRoomLogic**.```
local roomTitleVarName = "roomTitle"
local roomTitle = "Hello, MapleStory Worlds!"

-- Get shared memory.
local code, mem = _RoomService:GetSharedMemory(roomKey)

if code ~= SharedMemoryResultCode.OK then
	error ("Failed to GetSharedMemory.")
	return
end

-- Save the room title in a variable named 'roomTitle'.
local setResult = mem:SetVariableAndWait(roomTitleVarName, roomTitle)

if setResult.Code ~= SharedMemoryResultCode.OK then
	error ("Failed to SetSharedVariableAndWait.")
	return
end
```
7. Add a new **ReadTitleFromSharedMemory** function to **InstanceRoomLogic**.```
[server only]
void ReadTitleFromSharedMemory()
{
    local memKey = "ExampleRoom"
    local varName = "roomTitle"

    local code, mem = _RoomService:GetSharedMemory(memKey)

    if code ~= SharedMemoryResultCode.OK then
    	error ("Failed to GetSharedMemory.")
    	return
    end

    local getResult = mem:GetVariableAndWait(varName)

    if getResult.Code ~= SharedMemoryResultCode.OK then
    	error ("Failed to GetSharedVariableAndWait.")
    	return
    end

    self.Title = getResult.Info.Value

    -- Delete the deprecated shared memory.
    -- When shared memory is deleted, all internal variables are also deleted.
    _RoomService:DeleteSharedMemoryAndWait(memKey)
}
```
8. Add the following to the end of **HandleRoomBeginEvent** to read the title from shared memory.```
-- Read the title from shared memory.
self:ReadTitleFromSharedMemory()
```

Update 2025-11-17 PM 08:14


# Entity Collision

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

Let's learn about collision events and how to process collisions.

##### Reference Guide

[Event System](https://mod-developers.nexon.com/docs?postId=73) [Entity Event System](https://mod-developers.nexon.com/docs?postId=176)

# Collision

**Collision** refers to when the collision areas of the entity containing the colliding body intersect each other. If [TriggerComponent](/apiReference/Components/TriggerComponent) or [HitComponent](/apiReference/Components/HitComponent) are added to an entity, colliding bodies are automatically created. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16564849378616ff1f365457f40cca4aaccfdcca2ea41.png)

# Editing Colliding Bodies

Attributes such as size, position, and shape of the colliding body can be edited as properties of the components that can control the colliding body. Typically, they are [TriggerComponent](/apiReference/Components/TriggerComponent) and/or [HitComponent](/apiReference/Components/HitComponent). **TriggerComponent** uses a colliding body when setting a **collision range**, and **HitComponent** uses a colliding body when setting a **hit range**.

#### Enable Editing Mode

In the Property Editor, click the **[Edit]** button to activate editing. When activated, the collision area turns green.

| Collider Edit Deactivated | Collider Edit Activated |
| --- | --- |
| ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1647419996497c2317d38c37c4266a041e44a7962be00.png) | ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16474200145049bb170d059a94a9ebe454f0c79ede8e6.png) |
| ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1650933070591cc3f53205067484db1c6e758a07eda52.png) | ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1650933106203672a48645eb14948b2f02f2b115be9ff.png) |

#### Editing Size

When editing is enabled, you can pull the point and edit it to the desired size. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1647420159680d2bd972d40cd407cbacb51c32f411bdd.png)

#### Edit Offset

You can set **ColliderOffset** by dragging the point of the colliding body. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1647420135543c8ede53b0cf54ae9bb8ab318c12134e9.png)

# ColliderType

There are three shapes of colliding bodies: **Box, Circle, Polygon**.

#### Box

Sets the colliding body to a box. The X is the horizontal size, and the Y is the vertical size. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/16751561869387728a07df928485bafa17874b7bedb30.png)

#### Circle

Sets the colliding body to a circle. CircleRadius is the radius value. You can set the size of the circle with the value of CircleRadius. ![9-1](https://mod-file.dn.nexoncdn.co.kr/bbs/1675156219035249c8c3667a646f8bfbc7b128c1fe38d.png)

#### Polygon

Sets the colliding body to a polygon. Add as many PolygonPoints as needed to create any colliding body shape you want. ![9-2](https://mod-file.dn.nexoncdn.co.kr/bbs/16792881867493ee65f9122fe47dfbb775527e2ea19ff.png)

# TransformComponent and Collider

The colliding body is affected by the **Scale** and **Rotation** values of **TransformComponent**.

- When the entity scales by a value of **Scale**, the colliding body size also changes.
- If the entity rotates by a value of **Rotation**, the colliding body will also rotate.

Below is an example that turns yellow when an entity detects a collision. The **Transform**'s **Scale** and **Rotation** values change and turn yellow whenever it collides with another entity.

**Example of Transform.Scale change**

**Example of Transform.Rotation change**

All entities are organized in a hierarchical structure. Therefore, the **TransformComponent of the extended entity** is always affected by the **TransformComponent of the parent entity**. Similarly, colliding bodies are also affected by the **TransformComponent of parent entities**. Let's create four entities by extending a parent entity and see how they are affected. If you rotate the parent entity as shown below, the four extended entities will also rotate, and you will see that they collide with other entities.

# Adding Action After Collision

After the collision event, the action uses **Entity Event System** or **extended TriggerComponent**. Suppose there are two entities in the world, A and B, which contain **TriggerComponent**. When A and B collide, a collision event occurs. However, there will be no significant changes after that. This is because there is no further action to take after the collision event occurs. **TriggerComponent** allows you to add an action that will happen when a collision event occurs. For example, if A and B collide, A and B's health will be reduced, or A or B may be eliminated.

![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1656485418269b988142433d34bb69e3de8e4da44a1fe.png)

# Use Entity Event System

#### Structure

Add handlers (or listeners) to the entity to perform actions when a collision event occurs. After that, when a collision event occurs in the **TriggerComponent** of the entity, it is a structure that calls the handler's function. For this structure to work, you need to add **TriggerComponent** and **Script Component** (reactors) to the entity. For example, if you want to reduce A and B's HP when entities A and B collide, you need to add a **TriggerComponent** and script component to A and B, respectively. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/16577115670559954f9e64a574fcc965846f902236144.png)

#### Adding Handlers

A **handler** that will perform the action can be added through **Entity Event Handler** of the script component (reactor). Open the script component and click the **[+]** button of **Entity Event Handler** to add the **Handler**. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1656485699517a16e81436edd4343b354db1f31290178.png)

If you enter **Trigger** in the search box, you'll see handlers for collision events like the following. Select the handler that will fit your action's purpose. Use the necessary event appropriately by referring to the occurrence time of each event.

- **TriggerEnterEvent**: Occurs once upon the first collision between entities.
- **TriggerStayEvent**: If entities are colliding, occurs every frame.
- **TriggerLeaveEvent**: Occurs once when the collision between entities is ended.

![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1656485878094a57bbd99ec4f4a2783cb0f99d1d5a674.png)

#### Setting Collision Event Sender

Selecting a handler will add a function. On the top of the handler, you can set the sender. ![14](https://mod-file.dn.nexoncdn.co.kr/bbs/16371498027637a7ba3588b494f30a2dfca16bedba70e.png)

Set the sender to **self** to receive collision events for entities containing that script component (reactor). To receive collision events from other entities, set the sender to **entity** and specify the entity you want. ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/163714981203633674070dae14e1180ec0cc07e6c07ec.png)

#### Handler Configuration

Handler is called upon event occurrence, and it receives collision event as a parameter. The event entered as a parameter contains the **entity where the event occurred** and the **collision partner entity's information**. ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/165648590724409f8204419c64f98a14a79c5bc1bf198.png)

# Use the extended TriggerComponent

#### Structure

**TriggerComponent** has an internal function that is called when a collision event occurs to an entity. You can utilize this function to add an action after an entity collision event. However, the functions of **TriggerComponent** cannot be edited directly. As such, you need to edit that function in the component that extends **TriggerComponent** to add collision processing. As extended components include the features from the original component, just add the **extended TriggerComponent** to the entity. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/1657699624889b386c531319b425d99274f1b11566ce2.png)

#### Extend TriggerComponent

In the **Workspace**, search and select **TriggerComponent**. Selecting **Extend** from the context menu will create an extended component of **TriggerComponent** in the **MyDesk** folder. ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/1687754755702bcecc1f59a204f3ca931773a1849464d.png)

#### Function Override

Unlike other script components, the extended **TriggerComponent** can override some functions. These functions are called when a collision event occurs. If you add this function, you can override it by editing the definition of that function. ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/1637149832831df2bfe1ef6384f3184ef8f84be296356.png)

There are three functions that can be overridden. The following is the call time for each function.

- **OnEnterTriggerBody**: Called once upon first collision between entities.
- **OnStayTriggerBody**: Called for every frame while the two entities overlap following a collision.
- **OnLeaveTriggerBody**: Called once when the collision between entities stops.

#### Parameter

The collision event comes in as a parameter. The event contains information about which partner entity collided with the entity. ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/16371498432816cef0f0507714aac9e2f70d25fb3a5ea.png)

Update 2025-11-17 PM 08:14


# Creating Collision Groups

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's create a collision group and learn how to set collision between the entities. You can make it collide between certain groups by using a collision group, or ignore the collision entirely.

# Collision Group Features

A collision group is a feature to bundle up the multiple colliding bodies in MapleStory Worlds by certain group units and control the interactions between those groups. There are **Default, TriggerBox, and HitBox** for the default collision groups, and you can create **up to 15**, including the collision groups the creator made.

- **Default**: This will be set as **Default** when you cannot find the group, the collision group designated as Default when specifying a collision group.
- **TriggerBox**: A collision group that is designated as default to **TriggerComponent**.
- **HitBox**: A collision group that is designated as default to **HitComponent**.

If you use a collision group, you need not write the collision detection conditions using the collision-detecting component for each script, so it will help you create optimized worlds.

![ex](https://mod-file.dn.nexoncdn.co.kr/bbs/16636400041968e29e517aa4a4d1fbebd96e76548c348.png)

If you want to allow players to grab items using **TriggerEnterEvent**, you must write the following condition. However, if you utilize collision groups, you don't have to write the following condition. You just need to designate different collision groups for each entity and set only two groups to collide.

```
Event Handler:
[server only] [self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    if not TriggerBodyEntity.PlayerComponent then
        return
    end
}
```

You can also use the characteristic that can collide between the desired groups only and apply the collision group to the physics system. Please refer to [Apply Physics](/docs?postId=757) for the details of physics.

#### Collider

A Collider is required to make the entity induce collision. A collider can use Circle and Box forms. You can control the collider size and offset location that the creator made. Please refer to [Entity Collision](/docs/?postId=175) for the details.

![ColliderType](https://mod-file.dn.nexoncdn.co.kr/bbs/1658731042366f8819537a3d742f99d669f5070219681.png)

#### Create and Delete Collision Group

1. Select **Panels - Collision Groups**. ![panel](https://mod-file.dn.nexoncdn.co.kr/bbs/165879872581169fd5a2cac2641078636ce0eb587c817.png)
2. Create a new collision group by pressing **[Add Collision Group]** and then change the name. ![AddCollision](https://mod-file.dn.nexoncdn.co.kr/bbs/16584743118836fa224b41e3445d79cdc7f15cf2a3886.png)
3. Erase the collision group to delete by selecting the **[-]** button on the right.

#### Designate Collision Group

You can designate collision groups for each component that generates or detects collisions. Typically, the collision groups are used from **TriggerComponent, HitComponent, and PhysicsColliderComponent**. Let's look at how to designate collision groups from **HitComponent**.

1. Add the **HitComponent** or the **extended HitComponent** to the entity where you will set the collision groups.
2. The collision groups are set from the **CollisionGroup** Property.  ![CollisionPlayer](https://mod-file.dn.nexoncdn.co.kr/bbs/16644408634092cedbdbd0396471b85eb4a2b71e7547c.png)

> **Tip** Next to **CollisionGroup**, click the ![openpanel](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_open_collision.png) **[Open Panel]** button to open the **CollisionGroup** panel.

#### Collision Group Matrix

Collision Group Matrix (Matrix) is used to decide whether to allow the collisions between collision groups. Once you create a collision group, a new collision group will be automatically generated in the matrix. You can simply control whether to allow the collisions between collision groups by selecting the check box. You should enable the ![checkbox](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/checkbox.png) check box to check the relations between the collision groups written in the Matrix and allow the collision.

1. Select **Panels - Collision Groups - Matrix**.![Matrix](https://mod-file.dn.nexoncdn.co.kr/bbs/1658474513854b268965254e847a4933ae4b9a65b9c19.png)
2. When you check the horizontal and vertical group name and then allow the collision, the check box ![checkbox](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/checkbox.png) will be and allow the collisions.

# Example

Let's create a situation where the player character can collide with fallen coins, but not with monsters.

![collision](https://mod-file.dn.nexoncdn.co.kr/bbs/165872039921972bcfdc780bd46d3858e48a54e7f080c.gif)

> **Tip** You can find the omitted attack and hit implementation of the Player and the Monster on **Create - Create New - Default**. ![new](https://mod-file.dn.nexoncdn.co.kr/bbs/16651315251702782341c1ca8470eb874b9b8a69f21bf.png)

1. Create **Player, Monster, Item** for the new collision groups, and then set the Matrix as below. ![CollisionMatrix](https://mod-file.dn.nexoncdn.co.kr/bbs/1658799000407ba127c7e1c444484b8b1c91e8a0892cf.png)
2. In **DefaultPlayer**, set **CollisionGroup** of **TriggerComponent** and **PlayerHit** as **Player**. ![PlayerCollision](https://mod-file.dn.nexoncdn.co.kr/bbs/16587303515703643b6e021f0420084a25b41f08825ea.png)
3. Select the desired model from **Preset List - Monster**, and then open the context menu and press **Add to Workspace**.
4. In the selected Monster model, change **CollisionGroup** of **TriggerComponent and HitComponent** into **Monster**. ![monster](https://mod-file.dn.nexoncdn.co.kr/bbs/16587300227457fa8146e6bd3466bb179b865a3a40ca1.png)
5. Add **TriggerComponent** to the Coin model, assign **CollisionGroup** as **Item**. ![itemCollision](https://mod-file.dn.nexoncdn.co.kr/bbs/165873019590583fa187d2e8a4b6ba01551f193284baf.png)
6. Create a new script component **ItemComponent** and add it into Coin model. Make coins disappear only when hitting with **PlayerComponent** as below.```
Event Handler:
[server only] [self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    self.Entity:Destroy()
}
```

Update 2025-11-17 PM 08:14


# Using Physics

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Let's learn how to apply the laws of physics to the MapleStory Worlds maps and entities. Using the laws of physics, you can make a variety of movements, from colliding and bouncing off each other, flying in a parabolic motion, or making entities move by connecting them to each other. We recommend learning this in parallel with [Entity Collision](/docs?postId=175) and [Create Collision Group](/docs?postId=754).

# Applying the laws of physics to the map

The basic map follows the MapleStory map composition and movement principle, so the laws of physics are not applied by default. Therefore, a separate setting is required for a map you want to apply the laws of physics to. If you want to use physics features on a map, you must add **![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/move.png) PhysicsSimulatorComponent** to the map. You can set the gravity of the map using the ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/move.png) PhysicsSimulatorComponent's Gravity property. Depending on the x and y values of Gravity, the direction and force of gravity on the map will change. If you want to create a map that applies the laws of physics where gravity acts in the left direction to all entities, specify a negative x value. If you want to create a map in which gravity acts upward, specify a positive y value. You can also create a zero gravity map by setting the x and y values to 0.

1. Choose ![hierachy](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene_maker.png) Hierarchy - ![world](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_world_no.png) World - ![maps](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_maps_no.png) maps - ![map](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_map_no.png) map01.
2. Add PhysicsSimulatorComponent and enter a Gravity value.![simulator](https://mod-file.dn.nexoncdn.co.kr/bbs/16602791075369a9cbb9197f24d2bacf24d88f506eba3.png)

| (-5,-10) | (0,4) |
| --- | --- |
| ![-5](https://mod-file.dn.nexoncdn.co.kr/bbs/1659508219042208f13fd27134e3992c526d914be0b51.gif) | ![+4](https://mod-file.dn.nexoncdn.co.kr/bbs/16595082076157020bb152a804a76b314d6c9eedc6012.gif) |

#### Making the Ground

Since the default World setup doesn't interact with the physics entities, the basic foothold will likewise pass through the physics entities without colliding. If you want physics entities to collide with tiles, activate ![map](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/map.png) TileMapComponent, ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) CustomeFootholdComponent's **PhysicsInteractable**. Let's make a ground and wall role to which physics entities can collide possible by activating ![map](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/map.png) **TileMapComponent's PhysicsInteractable**.

1. Choose ![hierachy](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene_maker.png) Hierarchy - ![world](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_world_no.png) World - ![maps](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_maps_no.png) maps - ![map](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_map_no.png) map01 - ![map](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/map.png) TileMap.
2. Activate ![mapcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/map.png) TileMapComponent's PhysicsInteractable Property ![checkbox](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/checkbox.png). ![interactable](https://mod-file.dn.nexoncdn.co.kr/bbs/1659508535605c9a75f4c314346f7a7917c8414ad7f19.png)

| PhysicsInteractable ![checkboxdisable](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/CheckboxOff.png) | PhysicsInteractable ![checkbox](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/checkbox.png) |
| --- | --- |
| ![off](https://mod-file.dn.nexoncdn.co.kr/bbs/16595852217680f7f0463ddd342b1bae1498907fbe9c8.gif) | ![on](https://mod-file.dn.nexoncdn.co.kr/bbs/16595852355591216ebd84358467e8a22501149d7856a.gif) |

# Applying the Laws of Physics to Entities

You can add **PhysicsRigidbodyComponent** to an entity to adjust the entity's physics type, friction, etc. At this time, **PhysicsColliderComponent** is added together, and you can set the shape and size of the colliding body. Entities that have two added components can collide and raise related Events. If you don't add **PhysicsRigidbodyComponent**, you get a Static type entity with infinite mass. Physics entities are divided into three types and have the following characteristics.

- **Static**: It is treated as an entity with an infinitely large mass and can collide with Dynamic types. ![static](https://mod-file.dn.nexoncdn.co.kr/bbs/1659576952722cf8c504f8d504c7e9086e3bec94a09c9.gif)
- **Dynamic**: Entities behave according to the laws of physics. It can collide with other entities that can collide with physics. ![dynamic](https://mod-file.dn.nexoncdn.co.kr/bbs/1659576966548ee80da29541e440eac920f8b56b56064.gif)
- **Kinematic**: It is treated as an entity with an infinitely large mass, but unlike the Static type, it can move by specifying a speed. ![kinematic](https://mod-file.dn.nexoncdn.co.kr/bbs/165959362285423ac24e7dcdb4ca6b543886eee581004.gif)

##### Reference Guide

- [Applying Physics to Entities](/docs?postId=761)
- [Using Various Physics Joints](/docs?postId=760)
- [Entity Collision](/docs/?postId=175)

Update 2025-11-17 PM 08:14


# Applying Physics to Entities

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's apply the laws of physics to entities and make them collide with each other. For how to create physics in your world, see [Using Physics](/docs?postId=757).

# PhysicsRigidbodyComponent

If you add a PhysicsRigidbodyComponent to an entity, it will be controlled by the physics engine. You can also set the values that influence physics calculation such as the entity's coefficient of resistance, coefficient of friction, mass value, etc. As long as an entity has PhysicsRigidbodyComponent and PhysicsColliderComponent, it can collide with other entities that obey the laws of physics. The main properties of PhysicsRigidbodyComponent are as follows.

| Property | Explanation |
| --- | --- |
| BodyType | <ul><li>Static: Treated as an entity with an infinitely large mass and can collide with Dynamic types.</li></ul><ul><li>Dynamic: Entities behave according to the laws of physics. It can collide with other Entities that can collide with physics.</li><li>Kinematic: Treated as an entity with an infinitely large mass, but unlike the Static type, it can move by specifying a speed.</li></ul> |
| Mass | Sets the mass value. Calculates the density value using the values of the area and mass of the Collider. |
| Friction | Determines the coefficient of friction. The smaller the value is, the better it slides. |
| Restitution | Sets the Entity's coefficient of restitution. 0 is close to a perfectly inelastic collision, and 1 is close to a perfectly elastic collision. |
| AngularDamping | Sets the coefficient of resistance to changes in angular velocity (rotational speed) when an entity moves in a circle. The larger the value is, the more force is required to change the angular velocity. |
| LinearDamping | Sets the coefficient of resistance to linear velocity changes when performing linear motion. The larger the value, the more force is required for a linear velocity change. |
| CollisionDetectionMode | Sets the detection method for physics collisions.<ul><li>Discrete: Checks for collisions intermittently. Depending on the speed and size of the object, collisions may not be detected. The higher the speed or the smaller the size, the more likely it will pass without detecting a collision.</li><li>Continuous: Continually checks for collisions. Prevents objects from passing through without colliding. This computation requires more resources.</li></ul> |
| FixedRotation | If true, the object does not rotate due to physics interactions. |
| GravityScale | Sets how much the entity is affected by the gravity value of PhysiecsSimulatorComponent. When the Gravity value is (0, -10), if the GravityScale value is 1, the gravity value that the entity received is (0, -10), and if the GravityScale value is 2, the gravity value is (0, -20). |
| SleepingMode | Sets the sleep mode.<ul><li>StartAwake: Starts out awake, but can convert to sleep.</li><li>StartAsleep: Starts in a sleeping state, but wakes up on impact.</li><li>NeverSleep: Unavailable to convert to sleep mode.</li></ul> |

> **Learn more**- Coefficient of Restitution: The ratio of the relative velocities of two colliding objects before and after the collision. - Inelastic Collision: Kinetic energy is lost upon collision. - Perfectly Inelastic Collision: Kinetic energy is lost upon collision, and after collision, the two objects move as one. - Perfectly Elastic Collision: A collision in which kinetic energy is conserved upon impact.

# Function Description

Depending on the PhysicsRigidbodyComponent function, you can apply a force to an entity in a specific direction to make it move or perform a circular motion (rotational motion). The ApplyForce series function and the ApplyImpulse series function are affected by the mass value of the physical rigid body corresponding to the Entity. The velocity setting functions in the SetVelocity category can specify a velocity independent of the mass value.

#### Force-Applying Functions

The `ApplyForce()` and `ApplyTorque()` functions can apply a continuous force. This is when you want to continuously apply force in a specific direction by pressing a specific key. The parameter force means force. It is affected by the mass value of the physics rigid body corresponding to that Entity.

#### Impulse-Applying Functions

The `ApplyAngularImpulse()` and `ApplyLinearImpulse()` functions can temporarily apply short shocks. This is related to short-impact actions, such as firing a cannon or swinging a bat. It is affected by the mass value of the physics rigid body corresponding to that entity. The parameter Impulse refers to the amount of impulse and is used to temporarily apply a short shock.

#### Velocity-Setting Functions

The `SetAngularVelocity()` and `SetLinearVelocity()` functions can set the velocity of an entity independent of its mass value.

# PhysicsColliderComponent

You can size the entity's colliding body and set an offset. It is mainly used with **PhysicsRigidbodyComponent**, but entities used without PhysicsRigidbodyComponent are treated as a Static type. Refer to [Entity Collision] for how to set the type, size, and offset of the colliding body (/docs/?postId=175%7B%22target%22:%22_self%22%7D).

| Property | Explanation |
| --- | --- |
| ColliderType | Depending on the classification, you can set the shape of the colliding body differently.<ul><li>Circle: Creates a circular colliding body.</li><li>Box: Creates a rectangular colliding body.</li><li>Polygon: Creates a polygonal colliding body.</li></ul> |
| Collider | Pressing the Edit button can set the size of the colliding body. |
| CollisionGroup | Sets up a collision group that can determine if there is a collision or not. You can set it up by creating a new collision group. |
| Density | Sets the density value to use when UseDensity of the attached PhysicsRigidbodyComponent is true. |
| UseCustomPhysicalProperties | Friction and Restituion values are applied to physics rigid bodies. If false, the value of the connected PhysicsRigidbodyComponent is used. |
| EnableContactEvent | Sets whether PhysicsContactBeginEvent and PhysicsContactEndEvent occur. If false, neither Event occurs. |
| IsSensor | If true, no physical interaction will occur, but a collision event will occur. |
| ClientOnly | If true, physics operation occurs in the Client, and functions and property changes are possible in the Client space. Physics calculation results are not synchronized with other Clients. If false, functions and property changes are possible in the Server space. Physics calculation results are synchronized with other Clients. |

#### Differences in Physics Calculations by Execution Space

Most of **PhysicsRigidbodyComponent**'s Property and Function is divided into the available and accessible execution space depending on **PhysicsColliderComponent**'s ClientOnly property value. They are computed in their respective physics Worlds according to ClientOnly, so they do not collide or affect each other.

- If **ClientOnly is True**: The physics rigid body of the Entity is generated only in the Client, and the physics operation is calculated in each Client. Results are not synchronized with other Clients. It is possible to use related functions and change most of the properties only in the Client.
- If **ClientOnly is False**: The physics rigid body of the Entity is generated in the Server and the Client, and the location of the physics rigid body is synchronized between the Server and all Clients according to the result of the physics calculation. It is possible to use related functions and change most properties only in the Server.

# Setting Collision Group

By setting a collision group, you can set whether or not entities to which the laws of physics apply collide with each other according to your needs. Specify the CollisionGroup of PhysicsColliderComponent and select whether or not the groups collide. When you start the world after creating gravity on the map and placing a dynamic type physics entity with various elasticity on top of the map, the entities will descend and bounce off each other. For details on how to set up a collision group, see [Creating Collision Groups](/docs?postId=754).

# Example

You will need to apply physics to the world using PhysicsInteractable from PhysicsSimulatorComponent and TileMapComponent to see the example.

#### Throwing Objects on the Floor into the Air

Let's throw an entity placed on the ground into the air when the J key is pressed. Entities that are raised will fall to the bottom due to gravity. ![eg1](https://mod-file.dn.nexoncdn.co.kr/bbs/16601123764643cfe3adec2534fb68a22b98573a3713c.gif)

1. Place the object with PhysicsRigidbodyComponent and PhysicsColliderComponent added on the scene.
2. After generating a new script component, write the following to apply force to move the object to the entered location when J is pressed.

```
Method:
void Jump()
{
    self.Entity.PhysicsRigidbodyComponent:ApplyLinearImpulse(Vector2(0,10))
}

Event Handler:
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    -- local key = event.key
    ---------------------------------------------------------
    
    if key == KeyboardKey.J then
        self:Jump()
    end
}
```

#### Colliding Physics Entities with Collision Groups

1. Place several objects with PhysicsRigidbodyComponent and PhysicsColliderComponent added, and set each Mass and Restitution values differently.
2. Add a new physics group to CollisionGroup and set them to collide with each other as shown below. ![collisionmatrix](https://mod-file.dn.nexoncdn.co.kr/bbs/16601112357375799a6ba9d5e4f17b1d7096d2d0e02ba.png)
3. Click Start to see if entities collide with each other. ![eg2](https://mod-file.dn.nexoncdn.co.kr/bbs/16601137220417735c37efe64470ab00e710e1c460242.gif)

##### Reference Guide

- [Using Physics](/docs?postId=757)
- [Creating Collision Groups](/docs?postId=754)
- [Using Various Physics Joints](/docs?postId=760)

Update 2025-11-17 PM 08:14


# Using Various Physics Joints

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's see how to set the trip type of specific entities in a map that uses physics. You can use various JointComponents to create entities that perform various movements and use them to create Worlds.

# Joint

A joint refers to a specific link section that connects the particular entities on a map that applies the laws of physics, so that they can influence each other. Like the image below, the link section that allows Entity A and Entity B to influence each other is Joint. Once you set a Joint attachment location (LocalAnchor A) on Entity A, the standard entity, and set another Joint attachment location (LocalAnchor B) on the entity to connect to (TargetEntityRef), Entity B, Entity A and Entity B become connected.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1663837353395619ae9a35f0a47a481baf3f797bb5446.png)

The Anchor's location sets the distance relative to the entity's ColliderOffset. Entities linked to each other may or may not collide, depending on the creator's intent.

- **Entity A**: You can use another entity as TargetEntityRef by adding Joint as an entity with JointComponent.
  - **ColliderOffset**: An Entity's PhysicsColliderComponent's ColliderOffset. It is used as the origin of the LocalAnchor location.
  - **LocalAnchorA**: Set Anchor for Entity A with JointComponent. Take ColliderOffset of Entity A as the origin.
- **Entity B**: Specify TargetEntityRef in JointComponent of Entity A as the entity to connect the Joint to.
  - **TargetEntityRef**: The Entity to connect the Joint to.
  - **LocalAnchorB**: Set the Anchor of Entity B, which is the Entity to connect the Joint to. Take ColliderOffset of Entity B as the origin.

![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16638373662946c98c73c26ec4d78933f46034b0179c2.png)

#### Anchor

This is the reference point at which the joint operates. The entity's ColliderOffset location is used as the Anchor's origin. For example, as shown in the figure below, even if the values of LocalAnchor A and B are the same (3,0), the base entities' offset locations are different. LocalAnchor is located elsewhere, and the origin point of Entity A and B is the foothold.

The base Offset of LocalAnchor A is Entity A, and the base Offset of LocalAnchor B is Entity B.

![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1663839068005e7743548cf8e44349be58cdf0cbf9300.png)

![anchor1](https://mod-file.dn.nexoncdn.co.kr/bbs/16638363593571f7fb2dde7e7440cb0c1b9447f4123e4.gif)

#### Motor

Using Motor forces the Entity to move in a specific direction. It is used in RevoluteJointComponent, WheelJointComponent, and PrismaticJointComponent. If you set the MotorEnable property to true to use the motor, the entity will rotate according to the set target speed. Target speed means the value of MotorSpeed. For example, if MotorSpeed is 100, and the MotorSpeed value reduces to 10 once the speed reaches 100, the speed will decrease.

![motor](https://mod-file.dn.nexoncdn.co.kr/bbs/16638363279474aea43c2e0f849e78e12f9371b760269.gif)

# Type of JointComponent

It includes six types: DistanceJointComponent, RevoluteJointComponent, PrismaticJointComponent, PulleyJointComponent, WeldJointComponent, and WheelJointComponent. Since each type has different characteristics, you should use the JointComponent that best fits what you want to create.

#### DistanceJointComponent

DistanceJointComponent sets the distance-related limits between two entities. The distance (Length) between LocalAnchorA and B remains constant.

| Major Properties | Description |
| --- | --- |
| **Length** | Sets the distance that will be maintained between two Entities connected by a Joint. |

![distance](https://mod-file.dn.nexoncdn.co.kr/bbs/1660634671012e4dbb294cfa94678b6af5dfc7804bc7f.gif)

#### RevoluteJointComponent

RevoluteJoint sets the rotation-related limits between two entities. After activating UseLimits, you can control the rotation angle using LowerAngle and UpperAngle. When an entity rotates, the point where LocalAnchorA and B meet becomes the common Anchor. Also if you use Motor, you can receive the rotational power based on the Anchor.

| Major Properties | Description |
| --- | --- |
| **UseLimits** | Determines whether to set limits on relative angles. |
| **LowerAngle** | Sets the minimum relative angle. It's based on the Entity's Local Vector2 (1, 0). |
| **UpperAngle** | Sets the maximum relative angle. It's based on the Entity's Local Vector2 (1, 0). |
| **MotorSpeed** | Sets the target speed of Motor. If it is a positive number, it rotates in a CCW (counterclockwise) direction. |

![revolute](https://mod-file.dn.nexoncdn.co.kr/bbs/1660634686437edf5ce687bf04396952bf91d804c774c.gif)

#### PrismaticJointComponent

PrismaticJointComponent sets the entity to move linearly along the axis (LocalAxis). You can set the LowerTranslation and UpperTranslation values to limit the maximum and minimum distance the entity moves. The location of LocalAxis is relative to LocalAnchor.

| Major Properties | Description |
| --- | --- |
| **UseLimits** | Sets whether or not to limit the relative movement distance. |
| **LowerTranslation** | Sets the minimum relative travel distance. |
| **UpperTranslation** | Sets the maximum relative travel distance. |
| **MotorEnable** | Sets whether to use Motor. If True, the attached Entity will receive a force in the direction of LocalAxis. |
| **MotorSpeed** | Sets the target speed of Motor. MotorEnable must be True to operate. |

![primatic](https://mod-file.dn.nexoncdn.co.kr/bbs/16606347060771a318324cf13474ba3e52d4b6f847f92.gif)

#### PulleyJointComponent

PulleyJointComponent maintains the sum of the total length of the distances between LocalAnchor and GroundAnchor. If one entity's line length (Length) gets shortened, the other entities' line length will get longer, maintaining the total length of the line. The total length is determined by the formula: Initial distance between Entity A and GroundAnchorA + Ratio * Initial distance between Entity B and GroundAnchorB. **The lines of each entity** are the distance between LocalAnchor and GroundAnchor, and the origin of GroundAnchor is the location of LocalAnchor. **Ratio** determines the percentage by which the distance between the Entity and GroundAnchor decreases. If the Ratio is 3 and the line of Entity A is reduced by 3, even if the line with Entity B is increased by 1, the line of Entity A has 1/3 of the constraint force compared to the line of Entity B.

| Major Properties | Description |
| --- | --- |
| **Ratio** | Sets the constraint force ratio of both imaginary lines that form PulleyJoint. |

![pulley](https://mod-file.dn.nexoncdn.co.kr/bbs/1660634724636c6a1887dec234a97ad13994d906a7ebc.gif)

#### WeldJointComponent

Sets it so that connected entities move together. They move while maintaining a certain distance apart, as if the two ends were attached to a skewer. Connected entities are constrained to relative movement and rotation.

![weld](https://mod-file.dn.nexoncdn.co.kr/bbs/1660634741001b728a6793af4499e8f64070bcf551639.gif)

#### WheelJointComponent

WheelJoint sets the constraint to make the connected entity behave like a wheel. TargetEntityRef using Motor uses the MotorSpeed value as the target speed.

| Major Properties | Description |
| --- | --- |
| **MaxMotorTorque** | Sets the maximum strength applicable to the motor of the Joint in order to reach the target motor speed. |
| **MotorEnable** | Sets whether to use Motor. If True, the attached Entity will receive a force in the direction of LocalAxis. |
| **MotorSpeed** | Set the target motor speed of the Joint. MotorEnable must be True to operate. |

![wheel](https://mod-file.dn.nexoncdn.co.kr/bbs/16606347549715160d2650c9c4197a2b2b2ba189ecc6a.gif)

# Adding Joint

The way to add a JointComponent is the same.

1. Generate two entities with PhysicsRigidbodyComponent and PhysicsColliderComponent added and place them.
2. Add the JointComponent you want to use. Enter the number of joints to generate in **Size**. ![size](https://mod-file.dn.nexoncdn.co.kr/bbs/1690259361892e5e2bdd02e44452fb93da6ac7a30c4d6.png)
3. After selecting the desired entity by using **TargetEntityRef**, set the location of LocalAnchor A and B. ![joint](https://mod-file.dn.nexoncdn.co.kr/bbs/1690259508600e65c1ca226c84bcfbdfa719299acb7a5.png)

# Example

Let's make a simple game that bounces a ball using RevoluteJointComponent. ![example](https://mod-file.dn.nexoncdn.co.kr/bbs/1660804708258db7c651cc14d4beb87fc23eee95cc3c8.gif)

#### Ready

1. Change the tile mode to **RectTile**. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16902702934039459adc7e8234eb4950ba11f2d11493f.png)
2. Add **Hierarchy - World - maps - map01 - PhysicsSimulatorComponent**.
3. Activate **Hierarchy - World - maps - map01 - RectTileMap - RectTileMapComponent - PhysicsInteractable**.
4. Place a **Static** type physics entity so that the ball can hit it. Place it in a trapezoid shape with a hole in the bottom.
  - SpriteRUID: **1ce2eff829ae4346bc89a3f0a357ac0e** ![static](https://mod-file.dn.nexoncdn.co.kr/bbs/169026003093236f6d51367a14dd4a906324c452a0d7d.png)

#### Making a Ball

1. Create a new **Ball** model and add **PhysicsRigidbodyComponent, PhysicsColliderComponent**.
  - Ball SpriteRUID: **164e94bea20441adac2af9c6f800bdf3**
2. Change **PhysicsRigidbodyComponent**'s **BodyType** to **Dynamic**.
3. Change **PhysicsColliderComponent**'s **ColliderType** to **Circle** and adjust the **CircleRadius** to fit the sprite size.
4. Place it in the air, allowing the ball to fall under gravity.

#### Creating Obstacles

1. Create a new **Obstacle** model and add **PhysicsRigidbodyComponent, PhysicsColliderComponent**.
  - SpriteRUID: **3ada0e4cc7f44cb988932f1b183ec778**
2. Change **PhysicsRigidbodyComponent**'s **BodyType** to **Static**.
3. Change **PhysicsColliderComponent**'s **ColliderType** to **Circle** and adjust the **CircleRadius** to fit the sprite size.

#### Creating a Lever

1. Generate a new object Entity of **LeftEntity, LeftBar** and add **PhysicsRigidbodyComponent, PhysicsColliderComponent**.
  - LeftEntity SpriteRUID: **e75cac80f719471fa482195531ed57cc**
  - LeftBar SpriteRUID: **0308ac89b10843fcab6384aa43f6ae22**
2. Add **RevoluteJointComponent** to the circular Entity, and enter **1** for **Joint**. Specify LeftBar to TargetEntityRef, and assign the values of **LocalAnchorB, LowerAngle, UpperAngle, MotorSpeed, UseLimits** as follows. ![left](https://mod-file.dn.nexoncdn.co.kr/bbs/16902694608421c03f7e8bfc44e6eba274aefaef0bbf7.png)
3. Copy the two entities above to create the opposite side. ![right](https://mod-file.dn.nexoncdn.co.kr/bbs/1690269890755b731c1c566234f999b810610411cf45f.png)
4. Create the new **Swing** script component and add it to **DefaultPlayer**.
5. Enter as follows to make it so that when N or M is pressed, the motor of RevoluteJoint is used, and when released, it is not used.```
Property:
[Sync]
Entity Left = /maps/map01/LeftEntity
[Sync]
Entity Right = /maps/map01/RightEntity

Method:
[server]
void MoveLeft(boolean enable)
{
    self.Left.RevoluteJointComponent:SetMotorEnable(1, enable)
}

[server]
void MoveRight(boolean enable)
{
    self.Right.RevoluteJointComponent:SetMotorEnable(1, enable)
}

Event Handler:
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event)
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    if key == KeyboardKey.N then
    	self:MoveLeft(true)
    elseif key == KeyboardKey.M then
    	self:MoveRight(true)
    end
}

[service: InputService]
HandleKeyReleaseEvent(KeyReleaseEvent event)
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    if key == KeyboardKey.N then
    	self:MoveLeft(false)
    elseif key == KeyboardKey.M then
    	self:MoveRight(false)
    end
}
```
6. Press Start to see if the bar moves when you press N and M respectively.

##### Reference Guide

- [Using Physics](/docs?postId=757)
- [Create Collision Group](/docs?postId=754)
- [Applying Physics to Entities](/docs?postId=761)

Update 2025-11-17 PM 08:14


# Item Creation and Deletion

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

In this course, we will learn how to create and delete items. We'll be going through the following examples.

- Obtaining an item from the map creates a random item in the inventory.
- After obtaining an item, a new item will be created on the same spot after 5 seconds.
- Obtaining another item from the map deletes all items in the inventory.

# Creating an Item Table

Let's start by creating individual items. Individual items can be defined in the item table. **DataSet** can create the item table. Open the context menu from **Workspace - MyDesk** and click **Create DataSet**. Set its name to **UserItemDataSet**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1659661729006e5721ddcf57b483b988411014b023136.png)

> **Learn more** Creating an item passes the defined data to the item table. If you use a different name for the item table, the data will not be passed over. As such, you must name the item table **UserItemDataSet**.

Double-click the created **UserItemDataSet** to open Data Editor. First, add 2 columns and name them as follows. ![item_3copy](https://mod-file.dn.nexoncdn.co.kr/bbs/163470329201303a32b2e6abd46be91bb61406acce0cc.png)

> **Learn more** In the item, **Name, IconRUID, and Description** are required data, so create them with the same names as above.

Let's add some data to the items that are needed in-game. In the example, we'll add the **MaxStackCount and EffectAmount** columns. ![item_4](https://mod-file.dn.nexoncdn.co.kr/bbs/163470336846867242a6390754c5694eaac3cd773da56.png)  Create an item under each column and write the data. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1656659510837b79b1579311e41a29c7cfdd31709bde7.png)  Add an image to be used as an item icon to **Workspace**. ![14](https://mod-file.dn.nexoncdn.co.kr/bbs/163470407132182780528c94e4a88b622e8d63bf3c3f9.png) ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/16347040853985fca895297de463887ac192f38bcdca2.png) ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/1634704096454abc93bc20fb14144bdc2ab9d9311482e.png) ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/1634704110489ee2e5ad6aa8544abb51ffa5bff0398a2.png) ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/1634704122717081685317e9a425d9355cdc45ce05ce6.png)  Open the context menu from **Workspace - MyDesk** and select **Import From - Import Image** to add images. ![ImportImage](https://mod-file.dn.nexoncdn.co.kr/bbs/16878275447201b5a1f02e9c140018a1ed696ef1c8e69.png) ![19-1](https://mod-file.dn.nexoncdn.co.kr/bbs/165665937154925a357cbc58a4577b508c57c30a2c163.png)  Enter the image RUID into **IconRUID** in the item table. The RUID of an image can be copied by clicking **Copy RUID** in the context menu of each image. ![copyruid](https://mod-file.dn.nexoncdn.co.kr/bbs/16878279122598c71d67dc23e4ea6981bf22394a22507.png)  Paste the copied RUID into **IconRUID** in the item table. ![21](https://mod-file.dn.nexoncdn.co.kr/bbs/165665958375411fb5a6f0fd74ab09659dc62686d344d.png)

# Create ItemType

Open the context menu of **Workspace - MyDesk** and click **Create Scripts - Create ItemType** to create a new **ItemType**. Set the name of the new **ItemType** to **Potion**.

> **Tip** You can choose to create an ItemType for each item, like the example on the left. However, generally, we recommended creating an ItemType for each type, like the example on the right. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16357553281761f7ea579470447b79b837aeb3f0bc3fa.png) ![7-1](https://mod-file.dn.nexoncdn.co.kr/bbs/1635755340293013f41e698e14213b3b7f609fc657fa6.png)

Open **Potion**, the ItemType you created, and add the necessary properties for the potion type item. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/163470344820046b9ef55b9db485495f82429417850eb.png)  After adding the `OnCreate()` function, write the contents. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/16357553544880d1191f6ddc446598724d2fce9e3ef88.png)

```
void OnCreate()
{
    self.Name = self.ItemTableData:GetItem("Name")
    self.MaxStackCount = tonumber(self.ItemTableData:GetItem("MaxStackCount"))
    self.EffectAmount = tonumber(self.ItemTableData:GetItem("EffectAmount"))
    log("Item is Created!")
}
```

> **Learn More** Creating an item calls OnCreate, and data from the item table will be passed to the item entity. The data passed over to the item entity can be accessed with self.ItemTableData:GetItem("column name").

Duplicate the above ItemType to add three more ItemType as follows. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1687829481362e88637cb403f453e851344c7d782fd0c.png)

# Adding Inventory UI

This time, add an inventory UI to display the created items. In the top menu, click the ![ui](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_ui.png) button to open the UI Editor. In **Preset List**, add **[Inventory]**, **[Button collection]** UI. ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/1659959486996e63cae97be33487ab542d2e6aa257e1c.png)  If **InventoryBtnPath** is empty in the **UIInventory** component of the **Inventory** entity, open the ![Common_menu](https://mod-file.dn.nexoncdn.co.kr/bbs/163453706197553d527cb3ea34392bc2829f15976f3d8.png) hamburger menu and select **Reset All Properties**. Then the normal path is set as below. ![22-1](https://mod-file.dn.nexoncdn.co.kr/bbs/16373057873214e1d4994f8834292a9904f34fb279d3c.png)

# Placing Item Entity and Adding Function

Press the ![ui](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_ui.png) button to exit UI edit mode. Place tiles and item entities on the map as follows. ![23](https://mod-file.dn.nexoncdn.co.kr/bbs/1637756481320c2e0c4ab0011419b8c001eaa398df0b6.png)  Create a script component to add a new function to the placed item entity. Name the new script component **GiftBox**. ![24](https://mod-file.dn.nexoncdn.co.kr/bbs/1656659256401f67aae760e8b43a5b62fb01dcbc612e2.png)  Add **TriggerEnterEvent** to the **GiftBox** script. ![25](https://mod-file.dn.nexoncdn.co.kr/bbs/16564196659068e46274b583442cfa37526fc257c05e4.png)  Then write the content as below.

```
[self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    --Takes inventory of the entity that collided with the item entity. Returns if there's no inventory.
    local inventory = TriggerBodyEntity.InventoryComponent
    if inventory == nil then return end
     
    --Changes names and type names of items in UserItemDataSet into Table.
    local itemNames = {{"RedPotion",Potion},
        {"BluePotion",Potion},
        {"IronSword",Weapon},
        {"IronShield",Armor},
        {"GreenShirts",Clothes}}
     
    --Selects a random item to obtain.
    local index = _UtilLogic:RandomIntegerRange(1,5)
    local getItemName = itemNames[index]
     
    --Creates an item and puts it in the inventory of the entity that collided.
    _ItemService:CreateItem(getItemName[2],getItemName[1],inventory)
      
    --When an item is created in the inventory of the collided entity, deletes the item and reserves it to re-appear in 5 seconds.
    local myEntityPath = self.Entity.Path
    _TimerService:SetTimerOnce(function()
            --Path enters the Path for an entity that has this component attached to it.
            local myEntity = _EntityService:GetEntityByPath(myEntityPath)
            myEntity:SetEnable(true)  
        end, 5)
      
    self.Entity:SetEnable(false)
}
```

Add the **GiftBox** component and **TriggerComponent** to the item entity you placed on the map. ![26](https://mod-file.dn.nexoncdn.co.kr/bbs/1659662714941efaa23b3166645ae97fec8b1f42f581c.png)  Let's press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. Check if the item is created in the inventory UI whenever the character touches the item entity. ![27](https://mod-file.dn.nexoncdn.co.kr/bbs/165665955361463219cb3037e43e6893464ccb78a94d4.png)

# Deleting Items

Place any entity from **Preset List**. ![28](https://mod-file.dn.nexoncdn.co.kr/bbs/1637756501388a259dddae19f4870bed5f7494303f2dc.png)  Then add a new script component named **ItemDelete**. ![29](https://mod-file.dn.nexoncdn.co.kr/bbs/1637756514221ac0df63469bf4810bf3a6c4f7f31222a.png)  Open the **ItemDelete** script and add **TriggerEnterEvent**. ![30](https://mod-file.dn.nexoncdn.co.kr/bbs/1656419693462d04cb7497fde45bb81a3e3552331eaf5.png)  Then write the content as below.

```
[self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    --Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    local inventory = TriggerBodyEntity.InventoryComponent
    local items = inventory:GetItemList()
    
    for index, item in pairs(items) do
    	_ItemService:RemoveItem(item)
    end
}
```

Add the **TriggerComponent** and **ItemDelete** component to the placed entities above. ![32](https://mod-file.dn.nexoncdn.co.kr/bbs/16377565496814502cb717a044fa5be2239c99a623f8b.png)  Let's press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. Check if all the items are deleted from the inventory whenever the character touches the entity on the left.

Update 2025-11-17 PM 08:14


# Badge Registration

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Badges are achievements that users can earn by accomplishing certain missions set by the creator. Badges are used to show the user's achievement goals or to encourage users to collect items, helping them enjoy the world further.

# Badge Registration

There are two ways to register badges. One is to register it on the MapleStory Worlds [Official Website](https://maplestoryworlds.nexon.com/). The other is to register it within the Maker. The registration screen and process are the same, so creators can register badges using their preferred method. Entering the badge grade, acquisition period, and badge thumbnail is required when registering a badge, and you can add badge descriptions as needed.

![Badge Registration](https://mod-file.dn.nexoncdn.co.kr/bbs/1685680051719e6d71872ba3048989bafa0366e0d87e2.png)

| Number | Name | Explanation |
| --- | --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Badge Grade | There are three tiers of badges: Normal, Rare, and Epic. Creators can define each grade. You can refer to the following classification method in case you find it hard to distinguish badges. You must enter your name when registering badges.<ul><li>**Normal**: for easily obtainable achievements</li><li>**Rare**: for achievements that are difficult to obtain</li><li>**Epic**: for achievements that are very difficult to obtain</li></ul> |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Badge Name | Enter a badge name that will be visible to users. You can enter up to 50 characters. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Acquisition Period | Set a period when users can earn badges in the world.<ul><li>**Indefinite**: Badges can be acquired anytime in the world.</li><li>**Definite**: You can set a given term for acquiring badges. You can set the acquisition start date, end date, and time. When the set start date is reached, the state of the badge changes to **Obtainable**, and the badge becomes possible to earn.</li></ul> |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Release State | Set whether to release badges > - For group worlds, only the group leader can release a badge.<ul><li>**Unreleased**: The badge is not available. Badges will be excluded from product lists and become unavailable for sale when switching from Released to Unreleased. Likewise, it will not appear on the badge list of users who already own them.</li><li>**Released**: The badge has been released.</li></ul> |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | Badge Thumbnail | You can upload an image file of the badges that users acquire. Only a single jpg or png file with a size of 2MB or less can be registered, and using an image with size of 120 x 120 pixels is recommended. You must register a badge thumbnail. |
| ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) | Badge Description | You can enter the description of the badge that will be visible to users. Entering a description is optional. |

#### Register on the Web

1. After logging in, select Create World, and select the world you want to create a badge for.
2. Select **Manage Badges - Register**.
3. In the badge registration window, specify the badge grade, name, thumbnail, and acquisition period. Then, click Register.
4. Check whether the registered badge is added on the badge management window and the state is **Unreleased**.

#### Register in the Maker

1. Open **Panels - Badge Viewer**.
2. Right-click to open the context menu and select **Create New Badge**.
3. In the opened new window, just like registering on the web, set the badge grade, name, thumbnail, and acquisition period. Then, click Register.
4. Check whether the registered badge is added and the state is **Unreleased**.

# Badge State

There are five states of badges in all. When you test a product in the Maker, you can purchase it regardless of its state. The state of the badge must be **Obtainable** for it to be actually acquired in the world.

| Name | Explanation |
| --- | --- |
| Unreleased | The release state has been set to 'Unreleased'. Even if the product reaches its sale period, it will be invisible and unavailable for sale in the world web badge page and clients. Neither will it be shown in the badge lists of players who own it. |
| Waiting | The state in which registering is completed before the start date of the Obtainable period. On the start date, the state will automatically switch to **Obtainable** in accordance with the start date when you set the acquisition period while in released state. |
| Obtainable | You can earn badges. Badges can only be earned in the corresponding period if the Obtainable period is set. |
| Unobtainable | Badges cannot be earned if the Obtainable term has expired. |
| Restricted | Restricted badges cannot be earned regardless of whether it is released and the Obtainable term. Creators can modify restricted badges, but inquiries regarding the state of restricted ones should be made to the customer center. |

# Registering Products in the Group World

Only the **the group leader** can register or edit badges.

##### Reference Guide

- [Badge Management](/docs/?postId=663)
- [Using Badge Service](/docs/?postId=664)

Update 2025-11-17 PM 08:14


# Badge Management

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

Let's learn about the Badge Viewer, how to use it, and the functional limitations by badge state.

# Badge Viewer

This is the window where you can register and manage badges in the Maker. Registered badges are automatically classified in each folder according to the badge grade. The main context menu is shown as below.

![badgeviewer](https://mod-file.dn.nexoncdn.co.kr/bbs/166444482138718392dcdaa9c440ca19d6f1c6ca9acbc.png)

| Menu Name | Explanation |
| --- | --- |
| Copy Badge ID | Copies the ID of the registered badge. |
| Copy Badge Thumbnail RUID | Copy the thumbnail RUID of the registered badge. |
| Create New Badge | Creates a new badge. |
| Edit Badge | Modifies the registered badge. |
| Open Badge List(Web) | Opens an external browser window to check the state of the badges you have created. |
| Refresh Viewer | Refresh the list of badges. |

You can check badge information by hovering your mouse over the registered badge. ![Information](https://mod-file.dn.nexoncdn.co.kr/bbs/16751414919496d184ad530e2496fa89fe5471583d0bc.png)

# Feature Limitations by Badge State

Features are limited depending on the state of the badge. Please refer to the table below. Badges set to Waiting can be changed to Unreleased so they won't be inquired when searching all badges.

| State | Information Inquiry in the World | Exposing Badges in the World | Actual Acquisition | Test Acquisition | Modifying Information for Maker/Web | Exposing Badges on Official Website |
| --- | --- | --- | --- | --- | --- | --- |
| **Unreleased** | Unavailable | Not Visible | Unavailable | Available | Available | Not Visible |
| **Waiting** | Available | Visible | Unavailable | Available | Available | Visible |
| **Obtainable** | Available | Visible | Available | Available | Available | Not Visible |
| **Unobtainable** | Available | Visible | Unavailable | Available | Available | Visible |
| **Restricted** | Available | Visible | Available: Restriction is marked when earned | Available: Restriction is marked when earned | Available | Not Visible |

#### Badge Restriction Guide

Restrictions can be put on badges created by creators according to the [Operating Policy](https://maplestoryworlds.nexon.com/legal/policy) of MapleStory Worlds. The name of the restricted badge will be altered to Violation of Operating Policy and become visible to users. In addition, the badge thumbnail will be altered. You can check the contents of the badge restriction in the tooltip of Badge Viewer.

For inquiries regarding restricted products, please visit [Customer Center](https://cs.nexon.com/HelpBoard/Nexon?gamecode=363).

# Differences Between the Maker and World

Depending on the environment where badges are earned, the following differences exist.

| Item | Maker | Released World |
| --- | --- | --- |
| Badge Acquisition Information | Badges are always checked as absent at the start of test play. When the test play ends, remove the acquired badge information. | Once acquired, badge information cannot be changed. |
| Badge Inquiry | Can be queried in all states: **Unreleased, Waiting for Acquisition, Acquirable, and Acquisition Unavailable**. | Can be queried in all states: **Waiting for Acquisition, Acquirable, and Acquired**. |
| Obtainable State | Can be queried in all statuses, which are **Unreleased, Waiting, Obtainable, and Unobtainable**. | Acquirable only in **Obtainable state**. |

##### Reference Guide

- [Badge Registration](/docs/?postId=656)
- [Using Badge Service](/docs/?postId=664)

Update 2025-11-17 PM 08:14


# Using Badge Service

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

Let's register the badge on the web and make it possible to obtain a badge when touching a specific object in the World by utilizing `BadgeService`. Keep in mind that in an unreleased World, you cannot actually earn the badge even if you already released it.

# BadgeService

You can use the registered badge via the badge service. For users who have acquired the badge, the acquisition notification window will appear for eight seconds, and the badge information will be displayed. If multiple badges are acquired consecutively, the notification window will appear in the order in which they were acquired.

# Use Example

Let's register three badges of different ranks and make it possible to get badges when you reach certain locations.

#### Preparation

Register a badge following [Badge Registration](/docs/?postId=656).

| Badge Information | Badge 1 | Badge 2 | Badge 3 |
| --- | --- | --- | --- |
| Badge Grade | Normal | Rare | Epic |
| Badge Name | Arrived at Forest Village | Arrived at the Clock Tower | Arrived at the entrance of the Royal Palace |
| Acquisition Period | Indefinite | Indefinite | Indefinite |
| Badge Thumbnail | ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1646351123383a964ad8465424f30b49639e7ca5c4593.png) | ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1646351139128655068f53362491b9a0f7fbcec64136c.png) | ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1646351152274a308bfb2c7b84d1bbd0114c87a9d716d.png) |
| Badge Description | You receive this badge upon arriving at the entrance of Forest Village. | You receive this badge upon reaching the Clock Tower at the center of town. | You receive this badge upon arriving at the entrance of the Royal Palace. |

#### Giving Badges

Let's give badges to players when they pass certain places. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/16656411326436988d380fbbe4f44ac5cf34416a38aaa.gif)

1. Pick an object that will serve as a place for your player character to earn badges and place them in the World. ![objet](https://mod-file.dn.nexoncdn.co.kr/bbs/1665631051376747462ce6e7946dd9287caebe3462ee5.png)
2. Add **TriggerComponent** to an object.
3. Create a new **SendBadgeInfo component** into Workspace - MyDesk and add it to the place object to earn badges. ![SendBadgeInfo](https://mod-file.dn.nexoncdn.co.kr/bbs/16661642796074bf718f61bf849b99b9abace8e97342e.png)
4. Open Script Editor and add a property to check the badge ID in **SendBadgeInfo component**.```
Property:
[None]
string BadgeInfo = ""
```
5. In **Badge Viewer**, select **Copy Badge ID** and paste the copied ID into the **BadgeInfo** property of the **SendBadgeInfo** component of the entity that can obtain the badge. ![CopyBadgeId](https://mod-file.dn.nexoncdn.co.kr/bbs/16696880466919cdc990b2864460c9ecf41e1dfcc7ad1.png)
6. Create a new **PlayerGetBadge component** and add it to **DefaultPlayer**. Write the following using `BadgeService` to check that the user does not have a badge and to make the user receive a badge. ![Player get badge component](https://mod-file.dn.nexoncdn.co.kr/bbs/1665631087798d08c54dcac3a413ca25de89824cfc59d.gif)```
Method:
[server only]
void GetBadge(string BadgeID)
{
    local awardingUserId = self.Entity.PlayerComponent.UserId
    if _BadgeService:AwardBadgeAndWait(awardingUserId, badgeId) then
        self:SendEvent(awardingUserId)
    end        
}

[client]
void SendEvent()
{
    local badgeOpenBtn = _EntityService:GetEntityByPath("/ui/DefaultGroup/BadgeOpenBtn")
    local event = GetBadge()
    badgeOpenBtn:SendEvent(event)
}

Event Handler:
[server only] [self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------

    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------

    if TriggerBodyEntity.SendBadgeInfo then
        self:GetBadge(TriggerBodyEntity.SendBadgeInfo.BadgeInfo)
    end
}
```
7. Click Start and check if the Badge Acquisition window appears when you hit an object.
  > **Tip** Since badges should only be awarded to users who have fulfilled the conditions for obtaining them, it is essential to verify that only users who meet the conditions can obtain badges through a multiplayer test.

#### Create Badge Confirmation Window UI

Let's make a button that opens the badge acquisition confirmation window and, when pressed, changes from View Badge to Close. ![Badge Open Button](https://mod-file.dn.nexoncdn.co.kr/bbs/1669688833513f6d79eb764654c75ad5a287eed5b1a28.gif)

1. Place a button of **UI Editor - DefaultGroup - BadgeOpenBtn**. ![Button](https://mod-file.dn.nexoncdn.co.kr/bbs/1675143487240a34f5c76c84f4cfaaf1f447c3a9a31cf.png)
2. In the property editor, add TextComponent and enter **View Badge** in **Text**.
3. Create a new **BadgeOpenBtn component** and add it to **BadgeOpenBtn**.
4. Receive ButtonClickEvent upon clicking a button, Enable the BadgeLayer entity, and write the following to change the button's Text.```
[self]
HandleButtonClickEvent(ButtonClickEvent event)
{      
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    -- local Entity = event.Entity
    ---------------------------------------------------------

    local BadgeLayerPanel = _EntityService:GetEntityByPath("/ui/BadgeLayer")

    if BadgeLayerPanel.Enable == false then
        BadgeLayerPanel:SetEnable(true)
        self.Entity.TextComponent.Text = "Close"
    else
        BadgeLayerPanel:SetEnable(false)
        self.Entity.TextComponent.Text = "View Badge"
    end
}
```
5. Check if View Badge changes to Close when the button is pressed.

#### Create Badge Confirmation Window UI

1. Add **UI Editor - BadgeLayer**.
2. Create a window to check badge information using images and text. ![badge ui](https://mod-file.dn.nexoncdn.co.kr/bbs/1665631306060d1951767a9be4695ac57542a369e7af1.png)
  > **Tip** You need to put another UI entity under BadgeSlot_01.
3. In **BadgeViewer**, select the **Arrived at Forest Village** badge, open the context menu, and select **Copy Badge Thumbnail RUID**. ![copy badge thumbnail RUID](https://mod-file.dn.nexoncdn.co.kr/bbs/16696880920712cdc8dc41b314cc9a84ea5768b372110.png)
4. Select the image entity to show the badge image and paste the RUID into ImageRUID** of **SpriteGUIRendererComponent. ![Image RUID](https://mod-file.dn.nexoncdn.co.kr/bbs/1665632185530c700ddc5625f484994f1c06880cbc08b.png)

#### Get Badge Information in the Badge Acquisition Confirmation Window

1. Create a new **BadgeSlot** component and add it to **BadgeSlot_01**. ![BadgeSlot](https://mod-file.dn.nexoncdn.co.kr/bbs/16656324011016d410ea46d8b488285c79a14cf05ccec.png)
2. Add properties to get the name, ownership information, and description of the acquired badge.```
Property:
[None]
string BadgeId = "" -- ID of badge to inquire
[None]
TextComponent BadgeTitle = nil -- Badge Name
[None]
TextComponent Hasbadge = nil -- Badge Ownership Information
[None]
TextComponent BadgDesc = nil -- Badge Description
```
  > **Tip** Property's TextComponent can be set to select TextComponent by pressing the ![open](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_open_folder.png) button. ![Text Component](https://mod-file.dn.nexoncdn.co.kr/bbs/1665639334907a1cca5eef1e04d67adad71c5632d75cc.png)
3. `Use GetBadgeInfoAsync()` to retrieve badge information and write the following, so badge-related information is displayed in **TextComponent** when the window is opened.```
Method:
[client only]
void OnBeginPlay()
{
    self.BadgeTitle = self.Entity:GetChildByName("BadgeTitle").TextComponent
    self.HasBadge = self.Entity:GetChildByName("HasBadge").TextComponent
    self.BadgeDesc = self.Entity:GetChildByName("BadgeDesc").TextComponent

    self:BadgeCheck()

    local EventHandler = _EntityService:GetEntityByPath("/ui/DefaultGroup/BadgeOpenBtn")

    EventHandler:ConnectEvent(GetBadge, function()
        self:BadgeCheck()   
    end)
}

[client only]
void BadgeCheck()
{
    local callBack = function(badgeId, badgeInfo)
        if badgeInfo ~= nil then
            self.BadgeTitle.Text = badgeInfo.Name
            self.BadgeDesc.Text = badgeInfo.Description
        end
    end

    _BadgeService:GetBadgeInfoAsync(self.BadgeId, callBack)

    local localUserID = _UserService.LocalPlayer.Name

    if _BadgeService:UserHasBadgeAndWait(localUserID, self.BadgeId) then
        self.HasBadge.Text = "Owned"
    else
        self.HasBadge.Text = "Not Owned"
    end
}
```
4. In **Badge Viewer**, select the **Arrived at Forest Village** badge, open the context menu, and select **Copy Badge ID**. ![Copy Badge ID](https://mod-file.dn.nexoncdn.co.kr/bbs/1669688215591d0cb0710db7848a19f5b8f2e25ac25ce.png)
5. Paste the copied ID into **BadgeSlot - BadgeId** on the **BadgeSlot_01** property window.
6. To create the event we wrote in the above script, select **MyDesk - Create Script - Create EventType** to create a new **GetBadge** event. ![Get Badge Event](https://mod-file.dn.nexoncdn.co.kr/bbs/1665632709258ffdbc73fd6d84d45a2ff7c48dde1f0e9.png)
7. Press Start to earn the badge and see if the badge status changes.

Update 2025-11-17 PM 08:14


# Callback

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

Logic generally progresses in order, but there are exceptions. Let's learn the difference between the synchronous system, where the operations are dealt with sequentially, and the asynchronous system, where they are not. We'll also have a look at Callback, which you need to utilize asynchronous systems.

# Synchronous, Asynchronous

There are two ways of processing logic.

1. Synchronous System
2. Asynchronous System

**The synchronous system** processes logic sequentially. Let's look at it with a real-life example. Today is Tom's cleaning day. He needs to do three things; cleaning, washing dishes, and laundry. Cleaning takes 10 minutes, washing dishes, 30 minutes, and laundry, 50 minutes. If he works in a synchronous system, he will start one task, finish it, and start another task. Since he works sequentially, it takes 90 minutes to finish everything. Like this, the synchronous system waits until the previous operation finishes and starts a new operation when it is over. As it processes operations sequentially, it is easy to know when the operations will be done.

![Synchronous](https://mod-file.dn.nexoncdn.co.kr/bbs/16579560582397e048c3efeb64b4d8cb67cecb7c66092.png)

**The asynchronous system** doesn't process all operations sequentially. Some operations are processed separately. Let's go back to Tom's example. If Tom works in an asynchronous system, he uses the washing machine for the laundry so that he can clean and do the dishes in the meantime. Since Tom works in parallel, it takes 50 minutes to complete all operations. Sometimes, while processing logic, it takes longer than the expected working time due to external factors. This occurs when transferring external data or processing other IO (Input/Output). In MapleStory Worlds, DataStorage is an API related to this. In this case, using the asynchronous system will save you some unnecessary time.

![Asynchronous](https://mod-file.dn.nexoncdn.co.kr/bbs/165940133424639cb2fcd1d0744d4903f5d9340e896f6.png)

#### Learn about the Function Synchronous Method

You can easily find out with the ending of the function name whether the function the creator wants to use has been executed synchronously or asynchronously. The synchronous system shows Wait at the end and the asynchronous system will show Async.

# Callback

Before we learn about Callback, let's return to Tom. For Tom to finish cleaning entirely, he must finish all three tasks and hang up the washing. If Tom works in a synchronous system, he will hang the washing after the laundry is done. But, even if Tom works in an asynchronous system, he still has to hang the washing after the laundry is done. However, the washing machine is doing the laundry for him and he's doing other tasks. He can't know when the laundry will finish. The washing machine must ring an alarm that the laundry is done to let Tom know. Like this, ringing an alarm to indicate when the operation outside the main flow is completed is called Callback. The asynchronous operations are not done sequentially, so we must know when they are done. This is when you use Callback.

Callback can be used for process completion, and also other purposes. You can define what related operations to run after asynchronous work and call the Callback at a certain timing. For instance, TimerService SetTimerRepeat is a function that makes certain operations run at certain hours. If you set the certain operations to be Callback, you can execute a Callback function periodically.

![callback](https://mod-file.dn.nexoncdn.co.kr/bbs/1659403272785463a83a6affa428a8d835cd347e9e1fd.png)

#### Callback Function Use

This is an example of executing the Callback function when the process is completed.

```
Property:
[Sync]
number Power = 0

Method:
[server only]
void OnBeginPlay ()
{
    local data = _DataStorageService:GetGlobalDataStorage("data")
    
    self.Power = 20
    
    local callBack = function (errorcode, key)
        log("Power is saved")
    end
    
    data:SetAsync("Power", tostring(self.Power), callBack)
}
```

> **Tip** When you use Function of Component as Callback, you need to use `self.function()`, not `self:function()`.

Update 2025-11-17 PM 08:14


# TimerService to Reserve and Execute Actions

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

There are times when the timing of some events (actions) have to be controlled, such as a monster starting an attack a few seconds after it spawns or a monster dropping an item 1 second after it dies. You can use TimerService to easily and efficiently control the timing of actions. Let’s learn what TimerService can do and how to use it.

# TimerService Introduction

**TimerService** provides a convenient scheduling function that can trigger an action at a desired time. Let’s see how to create a situation of a monster dropping reward items upon its death without the use of TimerService.

![Timeservice01](https://mod-file.dn.nexoncdn.co.kr/bbs/165604735697978e39853991a4feea1e8253e5602185e.png)

To make an item appear 3 seconds after a monster dies, you need to write a long script as follows. That's because you must check the time of a monster's death frame-by-frame and ensure the item appears after 3 seconds.

```
Property:
[None]
table DropItemList = {}

Method:
[server only]
void OnBeginPlay()
{
    self.DropItemList = {}
}

[server only]
void OnUpdate(number delta)
{
    for i, dropInfo in pairs(self.DropItemList) do
    	if dropInfo.dropTime < os.clock() then
    		continue
    	end
    	
    	self:DropItem(dropInfo.dropItemArr, dropInfo.itemDropPosition)
    end
}

[sever only]
void OnMonsterDestroy(Entity monsterEntity)
{
    local monsterInfo = monsterEntity.MonsterInfo
    local dropItemArr = monsterInfo.dropItemArr
    local itemDropPosition = monsterEntity.TransformComponent.Position
    
    table.insert(self.DropItemList, {["driopItemArr"] = dropItemArr, ["dropTime"] = os.clock() + 3, ["itemDropPosition"] = itemDropPosition})
    
    _EntityService:Destroy(monsterEntity)
}

[server only]
void DropItem(SyncTable<string> itemArr, Vector3 dropPosition)
{
    for i , itemId in pairs(itemArr) do
    	self:SpawnItem(itemId, dropPosition)
    end
}
```

With **TimerService**, you can write much simpler code. Pass the CallBack function for item drop to the `SetTimer()` function of TimerService, then set the number of seconds before it is executed. Instead of using several functions and writing dozens of lines of code, you can simplify the process by triggering the CallBack and `SetTimer()` functions.

```
Method:
[server only]
void OnMonsterDestroy(Entity monsterEntity)
{
    local monsterInfo = monsterEntity.MonsterInfo
    local dropItemArr = monsterInfo.dropItemArr
    local itemDropPosition = monsterEntity.TransformComponent.Position
    
    local dropItem = function()
    	self:DropItem(dropItemArr, itemDropPosition)
    end
    
    _TimerService:SetTimer(self, dropItem, 3, false)
    _EntityService:Destroy(monsterEntity)
}

[server only]
void DropItem(SyncTable<string> itemArr, Vector3 dropPosition)
{
    for i, itemId in pairs(itemArr) do
    	self:SpawnItem(itemId,dropPosition)
    end
}
```

# Using SetTimer

`SetTimer()` is a reserve function. This function can reserve an action to be executed at a designated time, cause it to repeat, and set the repetition interval. The parameter's meaning and usage vary depending on whether the reserved action is repeated. `SetTimer()` returns the integer-type timer's id if the reservation is successful; otherwise, it returns 0. Parameters are as follows.

| Type | Parameter Name | Explanation |
| --- | --- | --- |
| IScriptable | scriptable | Passes the owner of the action to reserve. The action's owner can be logic or component, and normally the component that called `SetTimer()` is passed. |
| func | callback | Passes action to execute in a few seconds in the type of CallBack function. |
| float | intervalSeconds | <li>If **isRepeat value is true**: Sets seconds until the re-execution of the CallBack function after the initial execution.</li><li>If **isRepeat value is false**: Sets when to execute the CallBack function after calling `SetTimer()`.</li> |
| boolean | isRepeat | Sets if the CallBack function will be executed once or repeatedly. <li>**true**: Executes repeatedly</li><li>**false**: Executes once</li> |
| float | startDelaySeconds | Sets how many seconds after an executed function the CallBack function will be executed. Valid if the isRepeat value is true. |

> **Caution! When delivering a component to a `scriptable` parameter, the execution of a callback is affected by the component’s EnableInHierarchy.**

#### Executing the Action Once

When SetTimer is called, it outputs the string "SetTimer!" and the time to execute the code. After 3 seconds, when the CallBack function passed with `SetTimer()` is called, it outputs the string "CallBack!" and the time taken in executing the code. ![Timeservice04](https://mod-file.dn.nexoncdn.co.kr/bbs/1656047389794ca939882847b489ebf4ef39fb011ce3d.png)

Example code will be as follows. Set the intervalSeconds to 3 seconds when passing the CallBack function. Since the execution will not be repeated, set isRepeat to false and ignore startDelaySeconds.

```
[server only]
void OnBeginPlay()
{
    local callBack = function()
        log("CallBack! : "..tostring(os.date()))
    end
 
    log("SetTimer! : "..tostring(os.date()))
    _TimerService:SetTimer(self, callBack, 3, false)
}
```

Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) for a test. Confirm each string and the time taken to execute the code from the console window to make sure the CallBack function is executed 3 seconds after calling `SetTimer()`. It was first called at 39s and then executed at 42s, showing the 3-second interval.

![TimeService06](https://mod-file.dn.nexoncdn.co.kr/bbs/1656047982444631a010e59c04cc8b5865653b19b0c15.png)

#### Executing the Action Repeatedly

Change isRepeat to true for the action to be executed repeatedly. When `SetTimer()` is called, it outputs the string "SetTimer!" and the time taken to execute the code.

![TImeService07](https://mod-file.dn.nexoncdn.co.kr/bbs/16560480360032fd64662b6f94dadb45de7c8f185d25a.png)

Example code will be as follows. Every 3 seconds, when the CallBack function passed with `SetTimer()` is called, it outputs the string "CallBack!" and the time taken to execute the code.

```
Method:
[server only]
void OnBeginPlay()
{
    local callBack = function()
        log("CallBack! : "..tostring(os.date()))
    end
     
    log("SetTimer! :"..tostring(os.date()))
    _TimerService:SetTimer(self, callBack, 3, true)
}
```

Test by clicking Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png). Confirm that the console window’s output time has increased by 3 seconds each time. Unlike a 1-time execution, the "SetTimer!" and "CallBack!" strings have the same output time thanks to the meaning of intervalSeconds when setting `SetTimer()` to repeat. For 1-time executions, intervalSeconds indicates how many seconds after `SetTimer()` the CallBack will be executed. For repeated executions, the CallBack function indicates how many seconds before it will execute again after the first execution. Therefore, `SetTimer()` and the CallBack function are executed at the same time, with the CallBack function being re-executed every 3 seconds. If the interval of time between each CallBack function execution is important, only adjust the intervalSeconds value. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1718961812726747d9d0148fd48bf9d9b923748e84c31.png) If you'd like to set when the CallBack function will be first called after calling `SetTimer()`, enter a value for startDelaySeconds, the last parameter of `SetTimer()`. The CallBack function will be first executed 2 seconds after calling `SetTimer()`, and the CallBack function will be executed every 3 seconds afterward. Next is an example with startDelaySeconds value.

```
[server only]
void OnBeginPlay()
{
    local callBack = function()
        log("CallBack! : "..tostring(os.date()))
    end
 
    log("SetTimer! : "..tostring(os.date()))
    _TimerService:SetTimer(self, callBack, 3, true, 2)
}
```

Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) for a test. Confirm that the console outputs the time as the creator intended. Confirm that the CallBack function was first executed 2 seconds after calling `SetTimer()`, and then every 3 seconds after that. ![TimeService11](https://mod-file.dn.nexoncdn.co.kr/bbs/1656048115485a61aa280dea54528905c8da80da35fb7.png)

#### Canceling Action Reservation

Now that you've set up `SetTimer()` to specify the execution of a certain action, you might want to cancel the reservation under certain conditions. For example, let's say you made a door that opens 3 seconds after turning the switch On. The door will automatically open 3 seconds after the user turns the switch On. That is because you would have used `SetTimer()` to reserve an action that is linked to opening the door. However, if the user turns the switch Off before the door opens, you must cancel the `SetTimer()` to prevent the door from opening when the switch is Off.

![TimerService12](https://mod-file.dn.nexoncdn.co.kr/bbs/1656048132717f15c590130b1464c8451382b95717a37.png)

The following script took our previous example and added code to cancel `SetTimer()` 10 seconds after `SetTimer()` is called.

```
Method:
[server only]
void OnBeginPlay()
{
    local callBack = function()
        log("CallBack! :"..tostring(os.date))
    end
    
    log("SetTimer! :"..tostring(os.date()))
    local timerId = _TimerService:SetTimer(self, callBack, 3, true, 2)
    if timerId == 0 then
        return
    end
    
    local cancelCallBack = function()
        _TimerService:ClearTimer(timerId)
    end
    
    _TimerService:SetTimer(self, cancelCallBack, 10, false)
}
```

Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) for a test. The log is no longer output 10 seconds after SetTimer! is first triggered.

> **Tip** The initial output was at 46s, and the final was at 54s. The log was only output for 8 seconds, since `ClearTimer()` was executed 10 seconds after `SetTimer()`." CallBack was first executed 2 seconds after `SetTimer()`, repeating every 3 seconds. First CallBack execution after 54s should be at 57s, but CallBack was canceled at 56s, leaving no CallBack to be executed at 57s. Therefore, no log was output 8 seconds after the initial execution.

![TImeService14](https://mod-file.dn.nexoncdn.co.kr/bbs/1656048756087cf0360b0140447059661594e84ccd0da.png)

# SetTimer's Spin-Off Features

Depending on your needs, you can use `SetTimerOnce()` and `SetTimerRepeat()` as action reservation and action performance features, respectively. `SetTimerOnce()` is used for single action reservation, and `SetTimerRepeat()` is used for repeated action performance. Since they are separate, they require fewer parameters, making them easier to use as compared to `SetTimer()`.

#### SetTimerOnce

`SetTimerOnce()` works the same way as `SetTimer()` with its isRepeat set to false. It returns the integer-type timer's id if the reservation is successful; if not, 0 will be returned. The parameters are as follows.

| Type | Parameter Name | Explanation |
| --- | --- | --- |
| func | callback | Passes action to execute in a few seconds in the type of CallBack function. |
| float | delaySeconds | Set when the action will be executed after reserving it. |

```
[server only]
void OnBeginPlay()
{
    local callBack = function()
        log("CallBack! : "..tostring(os.date()))
    end
 
    log("SetTimer! : "..tostring(os.date()))
    _TimerService:SetTimerOnce(callBack, 3)
}
```

Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) for a test. Confirm that the action was executed 3 seconds after `SetTimerOnce()` was called. ![TimeService16](https://mod-file.dn.nexoncdn.co.kr/bbs/1656048219588d8718bc60c154cab8e818e7561f37295.png)

> **Caution! Like ‘_TimerService:SetTimerOnce(self.Method,1)’, when directly delivering a component’s method to the ‘callback’ variable, the execution of the callback will be affected by the component’s EnableInHierarchy.**

#### SetTimerRepeat

`SetTimerRepeat()` is used to reserve repeated actions. It works the same way as `SetTimer()` with its isRepeat set to true. It returns the integer-type timer's id if the reservation is successful; if not, 0 will be returned. The parameters are as follows.

| Type | Parameter Name | Explanation |
| --- | --- | --- |
| func | callback | Passes action to repeat in the type of CallBack function. |
| float | intervalSeconds | Set the repetition interval (sec). |
| float | startDelaySeconds | Set when the repetition will begin after reserving an action. |

```
[server only]
void OnBeginPlay()
{
    local callBack = function()
        log("CallBack! : "..tostring(os.date()))
    end
 
    log("SetTimer! : "..tostring(os.date()))
    _TimerService:SetTimerRepeat(callBack, 3, 2)
}
```

Start ![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) for a test. Confirm that the action is first executed 2 seconds after calling `SetTimer()`, and then repeated every 3 seconds afterward.

![TimeService18](https://mod-file.dn.nexoncdn.co.kr/bbs/16560482841675f11475a77124fb58840efc33d198675.png)

> **Caution! Like ‘_TimerService:SetTimerOnce(self.Method, 1, 1)’, when directly delivering a component’s method to the ‘callback’ variable, the execution of the callback will be affected by the component’s EnableInHierarchy.**

#### Canceling Reservation

‘SetTimerOnce()’ and ‘SetTimerRepeat()’ can cancel scheduled actions. The ‘ClearTimer()’ function is used when canceling a scheduled action. You can cancel an action that is set to trigger in 10 seconds like in the example below.

```
Method:
[server only]
void OnBeginPlay()
{
    local callBack = function()
         log("CallBack! :"..tostring(os.date()))
    end
    
    log("SetTimer! :"..tostring(os.date()))
    local timerId = _TimerService:SetTimerRepeat(callBack, 3, 2)
    if timerId == 0 then
        return
    end
    
    local cancelCallBack = function()
        _TimerService:ClearTimer(timerId)
    end
    
    _TimerService:SetTimerOnce(cancelCallBack, 10)
}
```

You can see that the log is not output after 10 seconds after the initial output.

![TimeService20](https://mod-file.dn.nexoncdn.co.kr/bbs/1656048305326b5db28fd79174da8bec8b26163ab0e74.png)

# Notice

When using the repeated action reservation, you must call the `ClearTimer()` function at the right time to cancel the reservation. We recommend canceling the reservation by calling the `ClearTimer()` function when the OnEndPlay of the component or logic or the owner of the reserved action is destroyed, since excessive accumulation of reserved actions can degrade the World performance. Even if the creator did not call the `ClearTimer()` function, it will automatically try the `ClearTimer()` function internally if the owner of the action reserved for optimization of the World is destroyed.

```
Property:
[None]
integer TimerId = 0

Method:
[server only]
void OnBeginPlay()
{
    local callBack = function()
        log("CallBack! :"..tostring(os.date()))
    end

    self.TimerId = _TimerService:SetTimerRepeat(callBack, 3)
}

[server only]
void OnEndPlay()
{
    if self.TimerId > 0 then
        _TimerService:ClearTimer(self.TimerId)
    end
}
```

Update 2025-11-17 PM 08:14


# Event System

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Creators can write logic in several ways. One way is to utilize **events**. This time, we will look at the MapleStory Worlds event system and how to handle different events.

# Configuration of Event-Based Logic

When writing logic, **things to be done at certain times** may occur. In this case, you should decide what the **agent where the action arises** will do.

For example, let's say the following is implemented when a character is attacked in the world:

1. **Reduce character's HP**
2. **Show the damage**
3. **Make the character invincible for a short time.**

To implement this, we need to call a function that performs each function when the character is attacked. Here, if the creator wants to add a special effect to the hit effect, just add **4. Display the effects of being attacked.**.  With this standard logic, the **agent where the action arises** manages actions. However, event-based logic manages the actions in the **action executor**. That is, the **agent where the action arises** only informs necessary information and timing upon action occurrence, and **action executor** decides the individual action to take.

Let's go back to the above example. When a character is attacked, instead of calling each function, it sends the only **attacked situation** as an event. The **action executor** who received the event performs **internally determined actions** (reduces HP, shows damage, makes the character invincible for a while). For this to work, all the **action executor** needs to do is **subscribe** to when the event occurs. If you want to add a hit effect, you can add an additional **subscribe** to the **attacked situation** event in the effect management area.

Imagine receiving a notification from a famous streamer. The streamer will send notifications to subscribers when some notifications are necessary. It's up to each subscriber to decide what action to take when receiving that notification.  In summary:

- In **Standard Logic**, the **agent where the action arises** gets things done.
- In the **Event System**, the **action executor** does that.

# Configuration of Event System

MapleStory Worlds' event system is composed of three major parts.

| Element | Explanation |
| :---: | --- |
| Event (Event) | : Refers to the occurrence of an incident within a logic. <br>It is data carrying information identifying the Event type along with other additional information. |
| Handler | : The acting agent that processes an event upon receiving it. <br>There are similar terms such as Listener and Subscriber. |
| Sender | The entity that dispatches the event. <br>There are similar terms such as Emitter and Dispatcher. |

Let's say you mail a notice to the entire class. Then the Event, Handler, and Sender would look like this:

- Event: Notice
- Handler: Students in the class
- Sender: Postal carrier

# Pros and Cons of the Event System

Event systems aren't necessarily better than standard logic. Event-based logic is one of many development approaches, which all have their pros and cons. Therefore, it is recommended to utilize the appropriate logic according to the needs of the creator.

## Pros

- Not dependent on any other components or functions. It is advantageous for creating a decentralized structure.
- You can add an action to the operation without having to modify the agent where the action arise.
- There is no need to know another component's information.

## Cons

- It is difficult to understand the overall flow of an event when it occurs. This is because you don't know the time of execution because it processes each one individually.
- Debugging can be a bit difficult.
- Sequential processing can be difficult.

# Summary

Today we looked at the concept of the event system. MapleStory Worlds uses the Entity Event System. The Entity Event System uses entities as a relay station. Let's see more details in [Entity Event System](/docs/?postId=176).

Update 2025-11-17 PM 08:14


# Entity Event System

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

MapleStory Worlds uses the Entity Event System to control events. Let's implement one of the game elements of "Vampire vs Hunter" with the Entity Event System. Looking at the following guides beforehand will be useful in understanding this course. [Event System](https://mod-developers.nexon.com/docs?postId=73)

# Entity Event System

You need to understand the Entity Event System to know how to send and receive events. A component can use an entity as a broadcaster. Each component can register handlers and raise events through entities. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16560446599253c3fab51c71c43a681173496cc4ee5a4.png)  Senders also fire events through entities. Entities send events that have occurred to handlers. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16560447014255f87e1b80f4a4a85b4b4857f01923163.png)  By default, you attach events to your own entity, but you can also attach events to other entities depending on the situation, as shown in the figure below. In particular, the map entity and world entity often exchange events with each other, so the following form is often used. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16560447361361ac2b80437934439be6a9a35b95b41e4.png)

# Creating Sunrise Event

The event system has built-in native type events. Also, creators can declare or import event types themselves. Here's how to do it.

1. In the context menu of **Workspace - MyDesk**, click **Create EventType**. ![eventtype](https://mod-file.dn.nexoncdn.co.kr/bbs/168783084547591cb0c6685e148e799ab7a2caef6d579.png)
2. Enter **SunriseEvent** as the name of the new event type. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/163546931602941f745c54cb0488591fd3c1365f6e2e6.png)
3. Open the **SunriseEvent** script and add Property as follows. We'll use **isSunrise** to check the sunrise in **True / False**.

```
Property:
boolean isSunrise = false
```

# Creating Components and Entities to Process Event

Let's make "Vampire vs Hunter" logic with **SunriseEvent**. Vampires and hunters will receive the **SunriseEvent** during normal combat and movement. During the **Sunrise** state, hunters will recover HP through the warm sunlight, while vampires will lose HP.

1. Let's implement the logic of the **Sunrise** state. First, right-click **Workspace - MyDesk** and select **Create Scripts - Create Component** to create two new script components. Enter **VampireComponent** and **HunterComponent** as the names.
2. Place the vampire NPC entities and hunter NPC entities. In our example, we placed the two NPCs below in **Preset List - NPC**.
  - **Vampire: npc-3842**
  - **Hunter: npc-4064** ![2-3](https://mod-file.dn.nexoncdn.co.kr/bbs/1637219347748447c4479910f480ba61d509d0dbc2779.png)
3. Enter **Vampire, Hunter** in the name of the placed NPC. ![2-4](https://mod-file.dn.nexoncdn.co.kr/bbs/1659663899996526b6c428aba43aa8c9761a74a10840a.png)
4. Add **VampireComponent** to the vampire entity and **HunterComponent** to the hunter entity. ![2-5](https://mod-file.dn.nexoncdn.co.kr/bbs/16372193694020abcd1a02ddd4758985ac713f77e6700.png) ![2-6](https://mod-file.dn.nexoncdn.co.kr/bbs/1637224347613343676d468044fea94a656c843eb9b60.png)

# Handler Logic

Let's write a **HunterComponent** and **VampireComponent** script. First, we have to make sure the two components can receive **SunriseEvent**.

1. Open the **HunterComponent** and **VampireComponent** script. Click the **[+]** button from **Event Handler** to add **SunriseEvent**. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1635299466453111917919dd24abc9a26ab0b1e72ebcd.png)
2. The relay entity for **SunriseEvent** must be set to **map01**. From the top of the handler, set event broadcaster as **map01**. ![6-1](https://mod-file.dn.nexoncdn.co.kr/bbs/163721938434624dd2b604ea948219e9049d898cac1f6.png)
3. Now let's put the logic to handle the **SunriseEvent** received by each. First, write **HunterComponent** to increase the Hunter's HP with the rising sun.```
Property: 
[Sync]
boolean isSunrise = false
[Sync]
number Hp = 0

Method: 
[server Only]
void OnUpdate(number delta)
{
    if self.isSunrise == true then --Checks if the sun is up.
        self.Hp = self.Hp + delta --Gains HP while the sun is up.
        log("Hunter Hp : "..self.Hp) --Shows current HP on the Console window.
        if self.Hp >= 200 then self.Hp = 200 end --If HP increased to 200, the increasing stops.
    end
}

Event Handler: 
[entity: map01(/maps/map01)]
HandlerSunriseEvent(SunriseEvent event)
{
    -- Parameters
    local isSunrise = event.isSunrise
    self.isSunrise = isSunrise
}
```
4. Write **VampireComponent** to decrease the Vampire's HP with the rising sun.```
Property: 
[Sync]
boolean isSunrise = false
[Sync]
number Hp = 0

Method: 
[server Only]
void OnUpdate(number delta)
{
    if self.isSunrise == true then --Checks if the sun is up.
        self.Hp = self.Hp - delta --Loses HP during the sun is up.
        log("Vampire Hp : "..self.Hp) --Shows current HP on the Console window.
        if self.Hp < 0 then self.Hp = 0 end --If HP dropped to 0, the decreasing stops.
    end
}

Event Handler: 
[entity: map01(/maps/map01)]
HandlerSunriseEvent(SunriseEvent event)
{
    -- Parameters
    local isSunrise = event.isSunrise
    self.isSunrise = isSunrise
}
```
5. Set the value of **Hp** to **100** in the Property Editor of both the vampire entity and the hunter entity. ![10-2](https://mod-file.dn.nexoncdn.co.kr/bbs/163729758603854822aa456724b65952386322fb97f20.png) ![10-1](https://mod-file.dn.nexoncdn.co.kr/bbs/1637297514978d0b38497f6764e5a94c193d8f607908a.png)

# Logic for Event Occurrence

Let's create logic where the sun rises and sets at a specific time.

1. We need a script component to manage the sunrise and sunset times. In the context menu of **Workspace - MyDesk**, click **Create Scripts - Create Component** to make a new component. Enter **TimeManager** as a name.
2. Open the **TimeManager** script component. Add the `OnUpdate` function to determine when the sun rises and sets.```
Property: 
[Sync]
boolean isSunrise = false

Method: 
[server only]
void OnUpdate(number delta)
{
    if self._T.Time == nil then self._T.Time = 0 end
    self._T.Time = self._T.Time + delta

    if self._T.Time >= 5 then --Sun sets and rises at a 5-second interval.
        self._T.Time = 0
        if self.isSunrise == true then
            self.isSunrise = false
        else
            self.isSunrise = true --If the sun is not up, isSunrise = false.
        end
        log(self.isSunrise)
        self:SendEvent(self.isSunrise)
    end
}

[server]
void SendEvent(boolean isSunrise)
{
    local event = SunriseEvent()
    event.isSunrise = isSunrise
    self.Entity:SendEvent(event)

    self.isSunrise = isSunrise
    self._T.Time = 0
}
```
3. Click **Add Component** in the context menu from **Hierarchy - map01**. Add the **TimeManager** component. ![11-1](https://mod-file.dn.nexoncdn.co.kr/bbs/16596640785471f0b99b7de3f40bb9a25f6f76911431d.png) You have now created all the necessary script components. We can send and receive the event of sunrise and sunset at a set interval.
4. In addition, let's make the Hunter's ultimate skill, Sunrise. We'll use the Z key to call the event. Add **KeyDownEvent** in **HunterComponent** and compose its content as follows.```
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event) 
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------------------------------
    if key == KeyboardKey.Z then --Press Z, and the message \`Sunrise\` appears on the Console window.
        log("Sunrise")
        local timeManager = self.Entity.CurrentMap.TimeManager
        timeManager:SendEvent(true) --Make Timemanager's Event set to true.
    end
}
```

Now press Z, and the sun will rise.

Update 2025-11-17 PM 08:14


# Input and Action Using InputService

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

All games proceed with the user's input and feedback for that input. MapleStory Worlds can contol actions that respond to user input through InputService. Here, we will learn how to add actions following a user's input.

# Reference Guide

[Event System](https://mod-developers.nexon.com/docs?postId=73) [Entity Event System](https://mod-developers.nexon.com/docs?postId=176)

# InputService

When users make a specific input in MapleStory Worlds, **InputService** triggers events based on the player's input. Specific actions can be triggered through the event handler. The user's input event only takes place in the client, so each event handler is executed in the client as well. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1656484816187fe9902929f28472d9b0cfb1472e42b89.png)

#### Event Handler Added

Event handlers for inputs can be added from the script component.

1. Add a temporary entity after creating a script component.
2. Press the [+] button from **Event Handler** to open the search event window and select an event to be added to the handler. ![3-1](https://mod-file.dn.nexoncdn.co.kr/bbs/16564848334143ca6dd5a61364269b6e867fec890d184.png)
3. When the handler is added, check if the event sender is selected as **InputService**. ![4-1](https://mod-file.dn.nexoncdn.co.kr/bbs/1635337530912f087a6d685594d2face6f4fd8080cf3a.png)

# Traits for Each Event Type

Each event related to user inputs provided from `InputService` has a different trigger point and count based on the input made. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/163533908473345305a0d43684fbe93435fb968f297f8.png)

#### KeyDownEvent

`KeyDownEvent` is an event that's triggered when a key is pressed. If a `KeyDownEvent` is triggered, a **HandleKeyDownEvent** is executed. `KeyDownEvent` will be sent as the handler's parameter, and the user's input key willl be sent as enum in the event. Next is an example of displaying the log when pressing the `T` key.

```
Event Handler:
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    local key = event.key
    ---------------------------------------------------------
    
    if key == KeyboardKey.T then
        log("Press T!")
    end
}
```

![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1687831927516aca6074b6ce04c4cad71ca952bf27f52.png)

You can control the Key input using the `IsKeyPressed()` and `IsAnyKeyPressed()` functions from InputService without the use of an event handler.

- `IsKeyPressed()` returns true when the key is pressed and false when it isn't.
- `IsAnyKeyPressed()` returns true if any key is input at any time, and false when no keys are pressed.

Next is checking the key inputs using two functions.

```
Method:
[client only]
void OnUpdate(number delta)
{
    local enterKeyPressed = _InputService:IsKeyPressed(KeyboardKey.Return)
    local anyKeyPressed = _InputService:IsAnyKeyPressed()

    if enterKeyPressed == true then
        log ("Enter key pressed.")
    end

    if anyKeyPressed == true then
        log ("Any key pressed.")
    end
}
```

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17435591317669f3c092550504c2bb292862d22f84ade.png)

#### KeyUpEvent

`KeyUpEvent` is an event that's triggered 1 time when a key is released after being pressed. **HandleKeyUpEvent** is executed when a `KeyUpEvent` is triggered, and it's executed once when the event is triggered. KeyUpEvent is sent as a handler's parameter, and the user's key values are included as the enum value for the `KeyboardKey` type for events. Next is an example of outputing a log when pressing and then releasing the `T` key.

```
[service: InputService]
HandleKeyUpEvent(KeyUpEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    local key = event.key
    ---------------------------------------------------------
    
    if key == KeyboardKey.T then
        log("Release T!")
    end
}
```

![10](https://mod-file.dn.nexoncdn.co.kr/bbs/168783201564551e95fb513c84de492d85265720ecda0.png)

#### KeyHoldEvent

KeyHoldEvent is triggered each frame while a key on the keyboard is held, and the HandleKeyHoldEvent is also executed each time an event is triggered. KeyHoldEvent is sent as a handler's parameter and includes the user's key input information like other events. Next is an example of outputting a log while a key is being held.

```
[service: InputService]
HandleKeyHoldEvent(KeyHoldEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    local key = event.key
    ---------------------------------------------------------
    
    if key == KeyboardKey.T then
        log("Hold T!")
    end
}
```

![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1687832098369dbf2798f3dbb4658b96fe2923bc09b03.png)

#### KeyReleaseEvent

`KeyReleaseEvent` is an event that triggers once when a key is released after making an input. **HandleKeyReleaseEvent** is also executed when the event is triggered. It's similar to `KeyUpEvent`, but if you wish to add an action upon entering Release status from the Hold status for even a single frame, `HandleKeyReleaseEvent` is used. `KeyReleaseEvent` is sent as the handler's parameter and enters including the user's key input information. Next is an example of outputting a log when releasing a key after holding it down.

```
[service: InputService]
HandleKeyReleaseEvent(KeyReleaseEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    local key = event.key
    ---------------------------------------------------------
    
    if key == KeyboardKey.T then
        log("Release T!")
    end
}
```

![14](https://mod-file.dn.nexoncdn.co.kr/bbs/1687832181689b1e8caaae89744ebb1237a697880ffb9.png)

#### ScreenTouchEvent

`ScreenTouchEvent` is an event triggered once when the screen is clicked or tapped. **HandleScreenTouchEvent** is also executed when the event is triggered. `ScreenTouchEvent` is sent as the handler's parameter and includes the coordinates (Vector2) of the tap on the screen. Next is an example of outputting the tap location coordinates onto the console window.

```
[service: InputService]
HandleScreenTouchEvent(ScreenTouchEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    -- local TouchId = event.TouchId
    local TouchPoint = event.TouchPoint
    ---------------------------------------------------------
    
    log("Touch Point : "..tostring(TouchPoint))
}
```

![16](https://mod-file.dn.nexoncdn.co.kr/bbs/1687832268666958cebf85bba4b81954c6b7335523127.png)

#### ScreenTouchHoldEvent

`ScreenTouchHoldEvent` is triggered for every frame the screen is tapped. **HandleScreenTouchHoldEvent** is executed each time the event is triggered. `ScreenTouchHoldEvent` is sent as the handler's parameter and includes the coordinate information of the tap. Here is an example of outputting the tap's coordinates on the console window when it is being held.

```
[service: InputService]
HandleScreenTouchHoldEvent(ScreenTouchHoldEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    -- local TouchId = event.TouchId
    local TouchPoint = event.TouchPoint
    ---------------------------------------------------------
    
    log("Touch Point : "..tostring(TouchPoint))
}
```

![18](https://mod-file.dn.nexoncdn.co.kr/bbs/1687832343471d67ee1e1564d4caf9cd6c15c13c8cf10.png)

#### ScreenTouchReleaseEvent

`ScreenTouchReleaseEvent` triggers once when releasing the screen after holding it. **HandleScreenTouchReleaseEvent** is also executed when the event is triggered. `ScreenTouchReleaseEvent` is sent as the handler's parameter and includes the coordinates of where the release was. Next is an example outputting the last tap coordinates.

```
[service: InputService]
HandleScreenTouchReleaseEvent(ScreenTouchReleaseEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    
    -- Parameters
    -- local TouchId = event.TouchId
    local TouchPoint = event.TouchPoint
    ---------------------------------------------------------
    
    log("Touch Point : "..tostring(TouchPoint))
}
```

![20](https://mod-file.dn.nexoncdn.co.kr/bbs/168783240469618ce325044bd41799cc760387afe94b9.png)

Update 2025-12-03 PM 03:40


# Multi-Touch

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Multi-touch refers to the action of two or more pointers (such as fingers) touching the device screen at the same time. In this course, we'll walk through the examples and learn how to utilize the multi-touch actions.

# Multi-Touch

In MapleStory Worlds, you can recognize and utilize multi-touch actions in your worlds by using `ScreenTouch`-type events or `Touch`-type events.  The `ScreenTouch`-type events below occur at [InputService](/apiReference/Services/InputService) when you touch the screen.

- [ScreenTouchEvent](/apiReference/Events/ScreenTouchEvent)
- [ScreenTouchHoldEvent](/apiReference/Events/ScreenTouchHoldEvent)
- [ScreenTouchReleaseEvent](/apiReference/Events/ScreenTouchReleaseEvent)

The `Touch`-type events below occur only when the entity includes [TouchReceiveComponent](/apiReference/Components/TouchReceiveComponent).

- [TouchEvent](/apiReference/Events/TouchEvent)
- [TouchHoldEvent](/apiReference/Events/TouchHoldEvent)
- [TouchReleaseEvent](/apiReference/Events/TouchReleaseEvent)

When you create a world that uses multi-touch actions, you can refer to the descriptions above as a guide to utilize the events for your intended use.

## Example

Let's look at an example where we touch and move one or more entities with **TouchReceiveComponent** so that the entities can move accordingly.

1. From **Preset List - Object**, place two entities of your choice in the **Scene**. This example used **object-44** and **object-49**. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1684290735891fcf50ce912fe48cf8999f06b6f04c0b8.png)
2. In this example, we will use `TouchEvent`, `TouchHoldEvent`, and `TouchReleaseEvent`. These events occur only when the entity includes **TouchReceiveComponent**. Therefore, we need to add **TouchReceiveComponent** to the two entities (object-44, object-49). ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/1684300809932fceceea870bf4bdf8b179f481124f4f8.png)
3. Create a new script component **MultitouchTest**. Add this component to the two entities (object-44, object-49). ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/16843009914475f72fc6fb811406eac45f2d96ac8d237.png)
4. Open the **MultitouchTest** script and add the following property:```
Property:
[None]
SyncTable<integer> index
[None]
any handler = nil
```
5. Add `TouchEvent` to the event handler. When a touch event occurs, call the `AddHandler()` function and pass on **TouchId**.```
Event Handler:
[self]
HandleTouchEvent(TouchEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TouchReceiveComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local TouchId = event.TouchId
    local TouchPoint = event.TouchPoint
    ---------------------------------------------------------
    self:AddHandler(TouchId)
}
```
6. Add `TouchHoldEvent` as well. Even when a touch action remains, call the `AddHandler()` function and pass on **TouchId**.```
Event Handler:
[self]
HandleTouchHoldEvent(TouchHoldEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TouchReceiveComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local TouchId = event.TouchId
    local TouchPoint = event.TouchPoint
    ---------------------------------------------------------
    self:AddHandler(TouchId)
}
```
7. Add the `AddHandler()` function. Add the **integer** type of **touchId** as a parameter. Connect the `ScreenTouchHoldEvent` and `Move()` functions with each other. To unsubscribe later, you should have the handler of the connected event as a property.```
Method:
[client]
void AddHandler(integer touchId)
{
    if self.handler ~= nil then
        return
    end

    table.insert(self.index, touchId)
    self.handler = _InputService:ConnectEvent(ScreenTouchHoldEvent, self.Move)
}
```
8. Add the `Move()` function. `Move()` receives a parameter of `ScreenTouchHoldEvent`, so it adds **any** type of **screenholdEvent**. When a user touches and moves an entity, this function should move the entity with that action.```
[client]
void Move(any screenholdEvent)
{
    local touchId = screenholdEvent.TouchId
    local touchPoint = screenholdEvent.TouchPoint

    local string
    for i =1, #self.index do
        if self.index[i] == touchId then
            self.Entity.TransformComponent.WorldPosition = _UILogic:ScreenToWorldPosition(touchPoint):ToVector3()
            break
        end
    end
}
```
9. Add `TouchReleaseEvent` as well. Unsubscribe from the event handler you had on `ScreenTouchHoldEvent` when no more entities are touched.```
Event Handler:
[self]
HandleTouchReleaseEvent(TouchReleaseEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TouchReceiveComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local TouchId = event.TouchId
    local TouchPoint = event.TouchPoint
    ---------------------------------------------------------
    for i =1, #self.index do
        if self.index[i] == TouchId then
        table.remove(self.index, i)
            if #self.index <= 0 then
                _InputService:DisconnectEvent(ScreenTouchHoldEvent, self.handler)
                self.handler = nil
            end
            break
        end
    end
}
```
10. Let's press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and test. On PC, you can move an entity by clicking and dragging it with the mouse. On mobile devices, you can also touch and move two entities at once using the touch screen. ![multitouch](https://mod-file.dn.nexoncdn.co.kr/bbs/16843006146740a5849ed9f2b4aae9ef3d48af36b18d5.gif)

Update 2025-11-17 PM 08:14


# Using Editor Services

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

Once you have created the World and started the test play, event functions will be called according to their life cycle. In contrast, [EditorService](/apiReference/Services/EditorService) supports the use of scripts in the Maker. Creators can use **EditorService** to create the crafting tools they need.

# Try the editor service

Let's leave the log using EditorService.

1. Select **MyDesk- Create Scripts - Create Component** to add a script component, and name it **HelloEditor**.
2. Add **EnterEditorEvent, EnterPlayEvent** to Event Handler and write as below.```
Event Handler:
[service: EditorService]
HandleEnterEditorEvent(EnterEditorEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: EditorService
    -- Space: Editor
    ---------------------------------------------------------

    -- Parameters
    ---------------------------------------------------------
    log("Enter Editor Event")
}

[service: EditorService]
HandleEnterPlayEvent(EnterPlayEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: EditorService
    -- Space: Editor
    ---------------------------------------------------------

    -- Parameters
    ---------------------------------------------------------
    log("Enter Play Event")
}
```
3. Add the HelloEditor component to **Hierarchy - World - Common**. ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/16456799439142a316dfd3f4d423faf840a94b8681bc1.png)
4. Click Start![Tool_Play](https://mod-file.dn.nexoncdn.co.kr/bbs/163453086660754178e0ff96a45c58d1a580a4dfab9d1.png) to call **EnterPlayEvent** and see if the log is printed. ![04](https://mod-file.dn.nexoncdn.co.kr/bbs/1687841635285b77ef2ece1e04d24808a25fdba02c8c4.png)
5. Quit playing and return to the UI Editor. Upon returning to the editor, **EnterEditorEvent** is called. **EnterEditorEvent** is also called during the first editor entry in out-of-game. ![05](https://mod-file.dn.nexoncdn.co.kr/bbs/168784164997278c571c6f54c49a282600c1412e2790d.png)

# Using editor-type UI

You can compose an editor-type UI by changing **GroupType** of UIGroupComponent. The editor-type UI can be only viewed and operated while playing or editing the World. Let's check it with a simple example. ![06](https://mod-file.dn.nexoncdn.co.kr/bbs/16560458866694a2f964d7cbb44a1b4e966596d010277.png)

1. Open the UI editor. ![07](https://mod-file.dn.nexoncdn.co.kr/bbs/16611491146220ecdd23bd75c4e0b893476b109727246.png)
2. Add a new UIGroup. ![08](https://mod-file.dn.nexoncdn.co.kr/bbs/16560459550233fba6f0be20f40b8813dd49b8b984959.png)
3. Select the added UIGroup. ![09](https://mod-file.dn.nexoncdn.co.kr/bbs/16560460059060c0a533e60744a3a94c3be9280876c60.png)
4. Go to Property Editor and change GroupType of UIGroupComponent to **EditorType**. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1645680750596d7f27d2366374420b79ae4dfd6ef6d7e.png)
5. Let's add a new button. Click the button in the upper left menu to add it and change the button name to **"Btn_EditorTest"**. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1656046223542857a7fa8661b424a8fb5bbd89e60eb72.png)
6. Click the **[Editor UI]** button on the right top of the scene screen. The added button is visible even when not in play state. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1656046080229263374149c6541d9b49665418b2943ec.png) The button can be clicked, so when it receives and processes the click event, you can make the button work as intended.
7. Open the **HelloEditor** component that was added earlier.
8. Add **ButtonClickEditorEvent** from Event Handler.
9. Set the target of that event to the **Btn_EditorTest** entity added earlier.
10. After adding the log in the form below, close the script editor.```
[entity] Btn_EditorTest(/ui/UIGroup/Btn_EditorTest)
HandleButtonClickEditorEvent(ButtonClickEditorEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Editor
    ---------------------------------------------------------

    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------
    log("Button Click")
}
```
11. Let's click the placed button. You can see that the added log is normally printed. ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/168784179772119cec289725b4252b43efb1499f22b93.png)

# Placement of Properties and Entities Using the Editor UI

You can use the script to access other components in editor state and modify their properties. In this case, property values are stored in a different way than in the World play. During the World play, properties will revert to their original values set when the World was created when the user exits play and returns to the Maker. However, for the Editor UI, the changed values are saved. Most of the APIs provided by MapleStory Worlds can also be used in the editor environment.

#### Change the World Background in the Editor

The following is an example of changing the background of the World when clicking a button in editor state. If you save the changed World background, the World will keep the changed background.

```
Event Handler:
[self]
ButtonClickEditorEvent(ButtonClickEvent event)
{
    self.IsButtonClicked = not self.IsButtonClicked
    
    local backGroundRuid = "000000"
    local backGroundComp = _EntityService:GetEntityByPath("/maps/map01/Background").BackgroundComponent
    
    if self.IsButtonClicked then
        backGroundRuid = "000001"
    end

    backGroundComp:ChangeBackgroundByTemplateRUID(backGroundRuid)
}
```

#### Spawn an Entity in the Editor

You can also spawn and place entities on the editor when clicking a button. The following example spawns an object when clicking a button in editor state.

```
Event Handler:
[self]
HandleButtonClickEvent(ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    -- local Entity = event.Entity
    ---------------------------------------------------------
    
    local spawnModelId = "000000"
    local spawnPosition = Vector2(0,0)
     
    _EditorService:SetSelectedModel(spawnModelId)
    _EditorService:CreateSelectedModel(spawnPosition)
}
```

# Event of Editor Services

The editor service does not use life cycles such as `OnBeginPlay()` or `OnUpdate()` because it does not play the World. Create scripts based on editor events. Detailed information about the available functions and events of the editor service can be found on the API reference site. The most representative events of the editor service are **WorldLoadEditorEvent** and **EnterEditorEvent**.

- **WorldLoadEditorEvent**: Executed once during the process of loading the World after running the editor. So it is a good event for initialization.
- **EnterEditorEvent**: Called when the World is loaded for the first time after launching the editor and at the end of a test play. Note that it is called repeatedly.

Some common types of events are as follows.

| Type | Event |
| --- | --- |
| Events called at specific points in editor usage | EnterEditorEvent<br>WorldLoadEditorEvent<br>EnterPlayEvent |
| Events for selecting an Entity | EntitySelectEditorEvent<br>EntityDeselectEditorEvent |
| Events for Creating and Deleting an Entity | EntityCreateEditorEvent<br>EntityDeleteEditorEvent |
| Events to check the location information clicked with the mouse | ScreenTouchEditorEvent<br>ScreenTouchHoldEditorEvent<br>ScreenTouchReleaseEditorEvent |
| Events to detect the button state | ButtonClickEditorEvent<br>ButtonStateChangeEditorEvent |
| An event to detect the state of a text input field. | TextInputValueChangeEditorEvent<br>TextInputEndEditEditorEvent |

# Saving the Edited Information

You can save the changed value by placing an entity using **SpawnService** or editing the property's value. Changing and editing a property's value gives you the ability to alter a lot of information, but it may not be enough to store complex information.

**EditorService** provides the ability to access data and read and write values. Let's say you have organized your data as follows:

![16](https://mod-file.dn.nexoncdn.co.kr/bbs/16456812592398638debc633f4b4383d1001170926f89.png)

To get the value of the col3 column of dash, you can write as follows.

```
local data = _DataService:GetTable("CustomEditorData")
local rowCount = data:GetRowCount()
 
for i=1, rowCount do
    local name = data:GetCell(i, "name")
    if name == "dash"then
        local value = data:GetCell(i, "col3")
        log("find value : "..value)
        break
    end
end
```

It can be used in the same way as the data service, but the way you set the data is different. To set the data, you must use the API of the EditorService. The editor service supports `DataSetInsertRow()`, `DataSetRemoveRow()`, and `DataSetSetCell()` functions for this purpose.

Below is an example of adding data to the 4th line and setting related data.

```
local data = _DataService:GetTable("CustomEditorData")
local rowCount = data:GetRowCount()
 
_EditorService:DataSetInsertRow("CustomEditorData")
 
_EditorService:DataSetSetCell("CustomEditorData", rowCount + 1, "name", "skill1")
_EditorService:DataSetSetCell("CustomEditorData", rowCount + 1, "col1", "10")
_EditorService:DataSetSetCell("CustomEditorData", rowCount + 1, "col2", "20")
_EditorService:DataSetSetCell("CustomEditorData", rowCount + 1, "col3", "30")
```

If you want to change the col2 column value of dash to 40, write the script as follows.

```
local data = _DataService:GetTable("CustomEditorData")
local rowCount = data:GetRowCount()
 
for i=1, rowCount do
    local name = data:GetCell(i, "name")
    if name == "dash"then
        local value = data:GetCell(i, "col2")
        _EditorService:DataSetSetCell("CustomEditorData", i, "col2", "40")
        break
    end
end
```

Update 2025-11-17 PM 08:14


# Expressing Time with TimeSpan

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

To use DateTime, you need to use TimeSpan. It indicates the units of seconds, minutes, and hours.

# Introduce TimeSpan

TimeSpan indicates the time interval. It indicates only the general interval without any reference to a certain start point or end point, so it cannot indicate any variable year and month units. You can use TimeSpan to calculate the time from a certain time to another time. You can use this to figure out the time that was taken to go through some stage or to save the time in the data storage. The standard format specifier or the user format specifier can be used depending on what suits the creator. The standard format specifier defines certain formats for each specifier with "c", "g", and "G". The user format specifier can be used depending on what suits the creator for the number of digits of the format showing time and how to indicate.

# Creator of TimeSpan

Creators can usually be entered from big time to small time, sometimes classifying the cultural area depending on the creator.

- e.g., hours, minutes, seconds/days, hours, minutes, seconds, milliseconds
- **TimeSpan(int elapsed)**: It resets the entity to the integer in unit of milliseconds.
- **TimeSpan(int hours, int minutes, int seconds)**: It resets the entity to hours, minutes, and seconds.
- **TimeSpan(int days, int hours, int minutes, int seconds)**: It resets the entity to days, hours, minutes, and seconds.
- **TimeSpan(int days, int hours, int minutes, int seconds, int milliseconds)**: It resets the entity to days, hours, minutes, seconds, and milliseconds.
- **TimeSpan(string timeSpanString)**: [ws][-]{ d | [d.]hh:mm[:ss[.ff]] }[ws] format time interval specifications are used as the strings to reset the entity.
- **TimeSpan(string timeSpanString, string format)** : [ws][-]{ d | [d.]hh:mm[:ss[.ff]] }[ws] format time interval specifications are used as the strings to reset the entity. timeSpanString must be exactly matched to the format, and the format includes the standard format specifier and the user format specifier.
- **TimeSpan(string timeSpanString, string format, string cultureName)** : [ws][-]{ d | [d.]hh:mm[:ss[.ff]] }[ws] format time interval specifications are used as the strings to reset the entity. timeSpanString must be exactly matched to the format, and the format includes the standard format specifier and the user format specifier.cultureName provides the information by each cultural area when the format is a standard specifier. The cultural area name follows the standard of BCP-47.

> **Tip** You can use the elements in the square brackets [ ] selectively. As for the elements between braces { }, select and use the things classified by the vertical bar | .

# Time Interval Symbol

This is a common symbol to indicate the time in TimeSpan.

| Symbol | Explanation |
| --- | --- |
| ws | Blank |
| ff | The number of digits for seconds, composed of one digit to seven digits |
| ss | Seconds between 0 and 59 |
| MM | Minutes between 0 and 59 |
| hh | Hours between 0 and 23 |
| d | Days between 0 and 10675199 |
| - | A symbol to indicate TimeSpan negative number |
| . | Cultural area classification symbol to classify the days and hours<br>Cultural area classification symbol to classify the minutes and seconds |
| : | Hours classification symbol that is sensitive to the cultural area |

# Standard TimeSpan Format Specifier

The standard TimeSpan format string determines the text expression of the TimeSpan value that is created by format specification works using a single format specifier.

| Format Specifier | Name | Explanation |
| --- | --- | --- |
| "c" | Constant Format | It doesn't classify the cultural area and use the [-][d'.']hh':'mm':'ss['.'fff] format. |
| "g" | General Informality | It classifies the cultural area and outputs the required content. It uses the [-][d':']h':'mm':'ss[.FFF] format. |
| "G" | General Long Format | It classifies the cultural area and outputs the number of days and the 7 digits of the decimal. It uses the [-]d':'hh':'mm':'ss.fff format. |

> **Tip** It uses the format specifier only when the symbols between [ ] from the format have valid values.

#### Constant Format Specifier

The constant format specifier "c" doesn't classify the cultural area. The format is [-][d'.']hh':'mm':'ss['.'fff].

| Symbol | Explanation |
| --- | --- |
| - | A symbol to indicate a negative number |
| fff | It indicates the decimal part of seconds. The value range is from "001" to "999". |
| ss | It shows the seconds of the range between "0" and "59". |
| mm | It shows the minutes of the range between "00" and "59". |
| hh | It shows the hours of the range between "00" and "23". |
| d | It indicates the number of days. |

```
local timeSpan1 = TimeSpan(7, 45, 16)
local timeSpan2 = TimeSpan(18, 12, 38)
local timeSpanString1 = timeSpan1:ToFormattedString("c")
local timeSpanString2 = timeSpan2:ToFormattedString("c")
local timeSpanString3 = (timeSpan1 + timeSpan2):ToFormattedString("c")
 
log(timeSpanString1) -- 07:45:16
log(timeSpanString2) -- 18:12:38
log(timeSpanString3) -- 1.01:57:54
```

#### General Informality Format Specifier

The general informality format specifier "g" outputs the required content only and classifies the cultural areas. The format is [-][d':']h':'mm':'ss[.FFF].

| Symbol | Explanation |
| --- | --- |
| - | A symbol to indicate a negative number |
| . | It indicates the classification of the seconds decimal. |
| FFF | It indicates the decimal part of seconds. |
| ss | It shows the seconds of the range between "00" and "59". |
| mm | It shows the minutes of the range between "00" and "59". |
| hh | It shows the hours of the range between "00" and "23". |
| d | It indicates the number of days. |

```
local timeSpan1 = TimeSpan(7, 45, 16)
local timeSpan2 = TimeSpan(18, 12, 38)
local timeSpanString1 = timeSpan1:ToFormattedString("g")
local timeSpanString2 = timeSpan2:ToFormattedString("g")
local timeSpanString3 = (timeSpan1 + timeSpan2):ToFormattedString("g", "fr-FR")
 
log(timeSpanString1) -- 07:45:16
log(timeSpanString2) -- 18:12:38
log(timeSpanString3) -- 1:1:57:54
```

#### General Long Format Specifier

The general long format specifier "G" always outputs the number of days and the three digits of decimal and classifies the cultural areas. The format is [-]d':'hh':'mm':'ss.fff.

| Symbol | Explanation |
| --- | --- |
| - | A symbol to indicate a negative number |
| . | It indicates the classification of the seconds decimal. |
| fff | It indicates the decimal part of seconds. |
| ss | It shows the seconds of the range between "00" and "59". |
| mm | It shows the minutes of the range between "00" and "59". |
| hh | It shows the hours of the range between "00" and "23". |
| d | It indicates the number of days. |

```
local timeSpan1 = TimeSpan(7, 45, 16)
local timeSpan2 = TimeSpan(18, 12, 38)
local timeSpanString1 = timeSpan1:ToFormattedString("G")
local timeSpanString2 = timeSpan2:ToFormattedString("G")
local timeSpanString3 = (timeSpan1 + timeSpan2):ToFormattedString("G", "fr-FR")
 
log(timeSpanString1) -- 0:07:45:16.000
log(timeSpanString2) -- 0:18:12:38.000
log(timeSpanString3) -- 1:01:57:54,000
```

# User Custom TimeSpan Format Specifier

The user custom format string is composed of at least one user custom TimeSpan format specifier and an arbitrary number of literal characters. The TimeSpan format string defines the text expression of the TimeSpan values created. The string, not a standard TimeSpan format string, is interpreted as a user custom TimeSpan format string.

#### "d"

The "d" user custom format specifier outputs the value indicating the number of days. It outputs the total number of days even when the value is more than two digits. If the value is 0, the specifier outputs "0". If only the "d" user custom format specifier is used, it designates "%d" so as not to be interpreted incorrectly with the standard format string.

```
local timeSpan = TimeSpan(16, 4, 3, 17, 250)
local timeSpanString = timeSpan:ToFormattedString("%d")
 
log(timeSpanString) -- 16
```

#### "d" - "dddddddd"

The "dd", "ddd", "dddd", "ddddd""dddddd", "ddddddd", and "dddddddd" user custom format specifiers output the values indicating the number of days. The output string contains the minimum number of digits designated with the number of "d" character to the format specifier, and it is filled with 0 in the front as required. If the total number of days exceeds the number of "d" characters of the format specifier, the total number of days will be outputted in the result string.

```
local timeSpan = TimeSpan(365, 21, 19, 45)
  
log(timeSpan:ToFormattedString("dd'.'hh':'mm':'ss")) -- 365.21:19:45
log(timeSpan:ToFormattedString("dddd'.'hh':'mm':'ss")) -- 0365.21:19:45
```

#### "h"

The "h" user custom format specifier outputs the value indicating the number of hours. It returns the one-digit string value if the hour value is 0-9 and the two-digit string if 10-23. If only the "h" user custom format specifier is used, it designates "%h" so as not to be interpreted incorrectly with the standard format string. The string, which usually contains only one number, is interpreted as the number of days. You can interpret the number string as the number of hours using the "h" user custom format specifier instead.

```
local timeSpan = TimeSpan(16, 4, 3, 17, 250)
local timeSpanString = timeSpan:ToFormattedString("%h")
 
log(timeSpanString) -- 4
```

#### "hh"

The "hh" user custom format specifier outputs the value indicating the number of hours. If the hour value is 0-9, there will be 0 in front of the output string. The string, which usually contains only one number, is interpreted as the number of days. You can interpret the number string as the number of hours using the "hh" user custom format specifier instead.

```
local timeSpan = TimeSpan(365, 3, 14, 45)
  
log(timeSpan:ToFormattedString("dd'.'hh':'mm':'ss")) -- 365.03:14:45
```

#### "m"

The "m" user custom format specifier outputs the value indicating the number of minutes. It returns the one-digit string value if the minute value is 0-9 and the two-digit string if 10-59. If only the "m" user custom format specifier is used, it designates "%m" so as not to be interpreted incorrectly with the standard format specifier. The string, which usually contains only one number, is interpreted as the number of days. You can interpret the number string as the number of minutes using the "m" user custom format specifier instead.

```
local timeSpan = TimeSpan(16, 4, 3, 17, 250)
local timeSpanString = timeSpan:ToFormattedString("%m")
 
log(timeSpanString) -- 3
```

#### "mm"

The "mm" user custom format specifier outputs the value indicating the number of minutes. If the minute value is 0-9, there will be 0 in front of the output string. The string, which usually contains only one number, is interpreted as the number of days. You can interpret the number string as the number of minutes using the "mm" user custom format specifier instead.

```
local timeSpan = TimeSpan(365, 21, 4, 45)
  
log(timeSpan:ToFormattedString("dd'.'hh':'mm':'ss")) -- 365.21:04:45
```

#### "s"

The "s" user custom format specifier outputs the value indicating the number of seconds. It returns the one-digit string value if the second value is 0-9 and the two-digit string if 10-59. The string, which usually contains only one number, is interpreted as the number of days. You can interpret the number string as the number of seconds using the "s" user custom format specifier instead. If only "s" is used, it designates "%s" so as not to be interpreted incorrectly with the standard format specifier.

```
local timeSpan = TimeSpan(16, 4, 3, 17, 250)
local timeSpanString = timeSpan:ToFormattedString("%s")
 
log(timeSpanString) -- 17
```

#### "ss"

The "ss" user custom format specifier outputs the value indicating the number of seconds. If the second value is 0-9, there will be 0 in front of the output string. The string, which usually contains only one number, is interpreted as the number of days. You can interpret the number string as the number of seconds using the "ss" user custom format specifier instead.

```
local timeSpan = TimeSpan(365, 21, 4, 5)
  
log(timeSpan:ToFormattedString("dd'.'hh':'mm':'ss")) -- 365.21:04:05
```

#### "f"

The "f" user custom format specifier outputs 1/10 seconds. In the format specification work, the remaining digits of decimal places will be cut. If you create the TimeSpan entity with a string, the string must include the exact one-digit of the decimal place. If only "f" is used, it designates "%f" so as not to be interpreted incorrectly with the standard format specifier.

```
local timeSpan = TimeSpan(876)
  
log(timeSpan:ToFormattedString("%f")) -- 8
```

#### "ff"

The "ff" user custom format specifier outputs 1/100 seconds. In the format specification work, the remaining digits of decimal places will be cut. If you create the TimeSpan entity with a string, the string must include the exact two-digit decimal.

```
local timeSpan = TimeSpan(876)
  
log(timeSpan:ToFormattedString("ff")) -- 87
```

#### "fff"

The "fff" user custom format specifier outputs milliseconds. In the format specification work, the remaining digits of decimal places will be cut. If you create the TimeSpan entity with a string, the string must include the exact three-digit decimal.

```
local timeSpan = TimeSpan(876)
  
log(timeSpan:ToFormattedString("fff")) -- 876
```

#### "F"

The "F" user custom format specifier outputs 1/10 seconds. In the format specification work, the remaining digits of decimal places will be cut. If the 1/10 seconds value is 0, the result string doesn't include this. If you create the TimeSpan entity with a string, the 1/10 seconds numbers need not be indicated. If only "F" is used, it designates "%F" so as not to be interpreted incorrectly with the standard format specifier.

```
local timeSpan = TimeSpan(800)

log(timeSpan:ToFormattedString("%F")) -- 8
```

#### "FF"

The "FF" user custom format specifier outputs 1/100 seconds. In the format specification work, the remaining digits of decimal places will be cut. If the 1/100 seconds value is 0, the result string doesn't include this. If you create the TimeSpan entity with a string, the 1/100 seconds numbers need not be indicated.

```
local timeSpan1 = TimeSpan(876)
local timeSpan2 = TimeSpan(800)
  
log(timeSpan1:ToFormattedString("FF")) -- 87
log(timeSpan2:ToFormattedString("FF")) -- 8
```

#### "FFF"

The "FFF" user custom format specifier outputs milliseconds. In the format specification work, the remaining digits of decimal places will be cut. If the milliseconds value is 0, the result string doesn't include this. If you create the TimeSpan entity with a string, the milliseconds numbers need not be indicated.

```
local timeSpan1 = TimeSpan(876)
local timeSpan2 = TimeSpan(800)
  
log(timeSpan1:ToFormattedString("FFF")) -- 876
log(timeSpan2:ToFormattedString("FFF")) -- 8
```

Update 2025-11-17 PM 08:14


# Utilizing Date and Time

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=40m&amp;color=green)

# Course Introduction

Let's learn about how DateTime expresses date and time, and study various format specifiers you can use.

# Learn DateTime

DateTime is an entity to indicate the time expressed in date and time. The value format indicates the dates and times with the values from 00:00:00 (midnight), 1 January 0001 to 11:59:59 pm, 31 December 9999 A.D. in the Gregorian calendar. DateTime is used to indicate special dates such as the time when users enter the map or the date when the account was created. You need the hour value to use DateTime, so people usually use this with TimeSpan.

# DateTime Constant

You can use the constant of DateTime as `DateTime.UtcNow`, and the value need not be assigned separately.

| Constant | Explanation |
| --- | --- |
| UtcNow | Gets the current date and time in UTC. |
| MaxValue | The maximum value of DateTime. |
| MinValue | The minimum value of DateTime. |

# DateTime Creator

Creators can enter from big time to small time, sometimes classifying the cultural area depending on the creator.

| Creator | Explanation |
| --- | --- |
| DateTime(int elapsed) | Resets the entity from the integer in milliseconds unit to UTC. |
| DateTime(int year, int month, int day, int hour, int minute, int second) | Resets the entity to years, months, days, hours, minutes, and seconds in UTC. |
| DateTime(int year, int month, int day, int hour, int minute, int second, int millisecond) | Resets the entity to years, months, days, hours, minutes, seconds, and milliseconds in UTC. |
| DateTime(string dateTimeString) | Resets the entity to the string. |
| DateTime(string dateTimeString, string format) | Initializes an entity with a string.<br>dateTimeString must be exactly matched to the format, and the format is a string that includes the standard date and time format specifier and the user custom date and time format specifier. |
| DateTime(string dateTimeString, string format, string cultureName) | Initializes an entity with a string.<br> dateTimeString must exactly match the format, and the format is a string that includes the standard date and time format specifier and the user custom date and time format specifier.<br>cultureName provides cultural area-specific information about the format specifiers contained in format. cultureName conforms to the standards of BCP-47. |

# DateTime Property

| Property | Explanation |
| --- | --- |
| Elapsed | Integer in milliseconds unit |
| Day | Day |
| Month | Month |
| Year | Year |
| Millisecond | Millisecond |
| Second | Second |
| Minute | Minute |
| Hour | Hour |

# Example

#### Save and Load DateTime

This is an example of converting DateTime to the integer type Elapsed and saving it to DataStorage or importing Elapsed to restore DateTime.

```
local originDate =  DateTime(2022, 5, 17, 13, 21, 35)
local elapsed = originDate.Elapsed

local dataStorage = _DataStorageService:GetGlobalDataStorage ("dsName")
dataStorage:SetAndWait("date", tostring(elapsed))
 
local errorCode, dateFromDataStorage = dataStorage:GetAndWait("date")
local convertedDate = DateTime(tonumber(dateFromDataStorage))

log(convertedDate)
```

#### Send DateTime to Another Execution Space

You can use DataTime to DateElapsed and utilize DateTime in another execution space.

```
[server only]
void OnBeginPlay()
{
    wait(1)
    local date = DateTime(2022, 5, 17, 13, 21, 35)
    self:ServerToClient(date.Elapsed)
}
 
[client]
void ServerToClient(number dateElapsed)
{
    local date = DateTime(dateElapsed)
    log(date)
}
```

#### Convert DateTime to Local Time

DateTime is set based on UTC by default. If you want to convert this to the local time, you can move it to the Client space through execution control and convert it to the local time with the GetLocalTimeForm method of UtilLogic.

```
[server only]
void OnBeginPlay()
{
    wait(1)
    local date = DateTime(2022, 5, 17, 13, 21, 35)
    self:ServerToClient(date.Elapsed)
}
[client]
void ServerToClient(number dateElapsed)
{
    local date = DateTime(dateElapsed)
    local localTime = _UtilLogic:GetLocalTimeFrom(date)
    log(localTime)
}
```

#### Designate DateTime Format

You can designate and use the format that the creator wants by using various format specifiers.

```
local date = DateTime(2022, 5, 17, 13, 21, 35)
local dateString = date:ToFormattedString("'year is 'yyyy ")
log(dateString) -- year is 2022
```

# Creation Format that Used a String

You can use the format as follows when creating the DateTime entity via string: If you combine and use certain components as in the various formats below and there are no other components, it sets a certain hour, date, day, and year as the standard or assumes based on the present.

#### Date and Time

A component to use both date and time.

```
local dateAsString = "08/18/2022 07:22:16" 
local date = DateTime(dateAsString)
log(date) -- 08/18/2022 07:22:16
```

#### Date

A component with date only. If there is no time component, the time should be assumed as 00:00:00.

```
local dateAsString = "08/18/2022" 
local date = DateTime(dateAsString)
log(date) -- 08/18/2022 00:00:00
```

#### Month and Year

A component with month and year only. In the case of not using day, the day component should be assumed as the first day of the month.

```
local dateAsString = "8/2022" 
local date = DateTime(dateAsString)
log(date) -- 08/18/2022 00:00:00
```

#### Month and Day

A component with month and day only. In the case of not using year, the year component should be assumed as the current year.

```
local dateAsString = "8/18" 
local date = DateTime(dateAsString)
log(date) -- 08/18/2022 00:00:00
```

### Hour

In the case of the string having only time, not date component, it should be assumed as the current date.

```
local dateAsString = "07:22:16" 
local date = DateTime(dateAsString)
log(date) -- 5/9/2022 07:22:16
```

#### Time and AM/PM

In the case of the string having only time and AM/PM specifier, not date component, the date component should be assumed as the current date, and the time (minutes and seconds) should be assumed as 00:00.

```
local dateAsString = "7 PM" 
local date = DateTime(dateAsString)
log(date) -- 05/09/2022 19:00:00
```

#### ISO 8601 String

If it includes the standard time zone information and uses the string complying with ISO 8601, DateTime is set in UTC by default. Therefore, if you set in UTC, the time value will be sustained.

- Example: "2022-11-01T19:35:00.000Z"

```
local dateAsString = "2022-08-18T07:22:16.000Z"
local date = DateTime(dateAsString)
log(date) -- 08/18/2022 07:22:16
```

If you set the standard time zone offset information, it will be saved with the UTC value that changed as much as the offset.

- Example: "2022-11-01T19:35:00.000-07:00"

```
local dateAsString = "2022-08-18T07:22:16.000-07:00" 
local date = DateTime(dateAsString)
log(date) -- 08/18/2022 14:22:16
```

#### RFC 1123 Time format string

You can use the string complying with the RFC 1123 time format. At this time, you need to include GMT specifier.

```
local dateAsString = "Thu, 18 Aug 2022 07:22:16 GMT" 
local date = DateTime(dateAsString)
log(date) -- 08/18/2022 07:22:16
```

#### Standard Time Zone Offset Information

The standard date and time format string determines the string expression of the DateTime value using a single character as a format specifier. The date and time specification that includes more than two characters including blank will be interpreted as the user custom date and time specification string.

```
local dateAsString = "08/18/2022 07:22:16 -5:00" 
local date = DateTime(dateAsString)
log(date) -- 08/18/2022 12:22:16
```

# Standard Date and Time Format Specifier

This determines and uses the standard date and time specification as the string of the DateTime value using the single character as a format specifier. The date and time specification that includes more than two characters including blank will be interpreted as the user custom date and time format specifier, so you need to be cautious if there is a blank or not.

#### Format Specifier

This describes the standard format specifiers briefly. Please refer to the content below for the detailed explanation.

| Format Specifier | Explanation |
| --- | --- |
| "d" | Simple date pattern |
| "D" | Detailed date pattern |
| "f" | Whole date/simple time pattern |
| "F" | Whole date/detailed time pattern |
| "g" | General date/simple time pattern |
| "G" | General date/detailed time pattern |
| "M", "m" | Month/Day pattern |
| "O", "o" | Round-trip date/time pattern |
| "R", "r" | RFC1123 Pattern |
| "s" | Date/Time pattern that can be arranged |
| "t" | Simple time pattern |
| "T" | Detailed time pattern |
| "u" | UTC Date/Time pattern that can be arranged |
| "U" | UTC Date/Time pattern |
| "Y", "y" | Year Month Pattern |

#### "d"

The "d" standard format specifier indicates the simple date format string of a certain cultural area. If you don't designate the cultural area, the format string will use **"MM/dd/yyyy"**.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("d")) -- 04/10/2022
log(date:ToFormattedString("d", "en-US")) -- 4/10/2022
```

#### "D"

The "D" standard format specifier indicates the detailed date format string of a certain cultural area. If you don't designate the cultural area, the format string will use **"dddd, dd MMMM yyyy"**.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("D")) -- Sunday, 10 April 2022
log(date:ToFormattedString("D", "pt-BR")) -- domingo, 10 de abril de 2022
```

#### "f"

The "f" standard format specifier indicates the various patterns of strings combined with the detailed date ("D"), which is classified by blanks, and the simple time ("t"). If you don't designate the cultural area, the format string will use **"dddd, dd MMMM yyyy HH:mm"**.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("f")) -- Sunday, 10 April 2022 00:00
log(date:ToFormattedString("f", "pt-BR")) -- domingo, 10 de abril de 2022 00:00
```

#### "F"

The "F" standard format specifier indicates the whole date and detailed time format string of a certain cultural area. If you don't designate the cultural area, the format string will use **"dddd, dd MMMM yyyy HH:mm:ss"**.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("F")) -- Sundy, 10 April 2022 00:00:00
log(date:ToFormattedString("F", "pt-BR")) -- domingo, 10 de abril de 2022 00:00:00
```

#### "g"

The "g" standard format specifier indicates the various patterns of strings combined with the simple date ("d"), which is classified by blanks, and the simple time ("t"). If you don't designate the cultural area, the format string will be **"MM/dd/yyyy HH:mm"**. If you designate the cultural area, the general date ("d") and the simple time ("t") format string of the cultural area will be indicated.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("g")) -- 04/10/2022 00:00
log(date:ToFormattedString("g", "pt-BR")) -- 10/04/2022 00:00
```

#### "G"

The "G" standard format specifier indicates the various patterns of strings combined with the simple date ("d"), which is classified by blanks, and the detailed time ("T"). If you don't designate the cultural area, the format string will be **"MM/dd/yyyy HH:mm:ss"**. If you designate the cultural area, the simple date ("d") and the detailed time ("T") format string of the cultural area will be indicated.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("G")) -- 04/10/2022 00:00:00
log(date:ToFormattedString("G", "pt-BR")) -- 10/04/2022 00:00:00
```

#### "O", "o"

The "O" and "o" standard format specifier indicates a round-trip date, time format specifier. Round-trip refers to the format that can be converted and restored from the date to the string and from the string to the date. The "O" and "o" standard format specifier is the result string complying with ISO 8601. The "O" and "o" standard format specifier corresponds to the user custom format string of the DateTime values of **"yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fffffffK"**. Next is an example to make the "O" and "o" standard format specifier through the string and then restore it to the date entity again.

```
local date = DateTime(2022, 4, 10)
local formattedString = date:ToFormattedString("o")
log(formattedString) -- 2022-04-10T00:00:00.000Z
 
date = DateTime(formattedString)
log(date) -- 04/10/2022 00:00:00
```

#### "R", "r"

The "R" or "r" standard format specifier indicates the user custom format string for the hour value based on the IETF RFC 1123 specifications. (**"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'"**) The single quotations of user custom format strings corresponds to the literal. It is used to distinguish between hyphen, colon, and development characters. Therefore, they do not appear in the result string. Time is indicated in UTC according to the IETF RFC 1123 standard, so you need to check if the value is UTC before using the format specifier.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("r")) -- Sun, 10 Apr 2022 00:00:00 GMT
```

#### "s"

The "s" standard format specifier indicates the user custom format string. (**"yyyy'-'MM'-'dd'T'HH':'mm':'ss"**) The "s" format specifier is a format specifier for creating the result string that is arranged in ascending and descending order depending on the date and time values. In the user custom format string, the single quotation marks that classify the hyphen, colon, and development character correspond to the literal. The single quotation marks in the result string are not indicated. The date and time values are indicated in the same format, but the values are not modified depending on the types (UTC, Local) of DateTime.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("s")) -- 2022-04-10T00:00:00
```

#### "u"

The "u" standard format specifier indicates the user custom format string. (**"yyyy'-'MM'-'dd HH':'mm':'ss'Z"**) In the user custom format string, the single quotation marks that classify the hyphen, colon, and development character correspond to the literal. The single quotation marks in the result string are not indicated. The time is indicated in UTC in the result string. However, the value is not modified depending on the types (UTC, Local) of DateTime, so you need to check if the value is in UTC before using the format specifier.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("u")) -- 2022-04-10 00:00:00Z
```

#### "U"

The "U" standard format specifier has the same pattern as the "F" standard format specifier, but the "U" standard format specifier converts the value of DateTime to UTC.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("U")) -- Sunday, 10 April 2022 00:00:00
log(date:ToFormattedString("U", "pt-BR")) -- domingo, 10 de abril de 2022 00:00:00
```

#### "t"

The "t" standard format specifier indicates the simple time format string of a certain cultural area. If you don't designate the cultural area, the format string will be **"HH:mm"**.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("t")) -- 00:00
log(date:ToFormattedString("t", "en-US")) -- 12:00 AM
```

#### "T"

The "T" standard format specifier indicates the detailed time format string of a certain cultural area. If you don't designate the cultural area, the format string will be **"HH:mm:ss"**.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("T")) -- 00:00:00
log(date:ToFormattedString("T", "en-US")) -- 12:00:00 AM
```

#### "M", "m"

The "M" or "m" standard format specifier indicates the month format string of a certain cultural area. If you don't designate the cultural area, the format string will use **"MMMM dd"**.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("m")) -- April 10
log(date:ToFormattedString("m", "pt-BR")) -- 10 de abril
```

#### "Y", "y"

The "Y" or "y" standard format specifier indicates the year month format string of a certain cultural area. If you don't designate the cultural area, the format string will use **"yyyy MMMM"**.

```
local date = DateTime(2022, 4, 10)
log(date:ToFormattedString("y")) -- 2022 April
log(date:ToFormattedString("y", "pt-BR")) -- abril de 2022
```

# User Custom Date and Time Format Specifier

The user custom format specifier is composed of at least one user custom date and time format specifier. It determines the text expression of the DateTime value that is created. The string, not the standard date and time format specifier, will be interpreted as the user custom date and time format specifier.

#### Format Specifier

This describes the user custom format specifiers briefly. Please refer to the content below for the detailed explanation.

| Format Specifier | Explanation |
| --- | --- |
| "d" | A format specifier to indicate days from 1 to 31 |
| "dd" | Days from 01 to 31 |
| "ddd" | Informal name of days |
| "dddd" | Whole name of days |
| "f" | 1/10 Seconds of the date and time values |
| "ff" | 1/100 Seconds of the date and time values |
| "fff" | 1/1000 Seconds of the date and time values |
| "F" | 1/10 Seconds of the date and time values. Nothing will be indicated if the valid number of digits is all 0. |
| "FF" | 1/100 Seconds of the date and time values. Nothing will be indicated if the valid number of digits is all 0. |
| "FFF" | 1/1000 Seconds of the date and time values Nothing will be indicated if the valid number of digits is all 0. |
| "g", "gg" | A.D. or Era |
| "h" | Hours from 1 to 12 |
| "hh" | Hours from 01 to 12 |
| "H" | Hours from 0 to 23 |
| "HH" | Hours from 00 to 23 |
| "K" | Time zone information |
| "m" | Minutes from 0 to 59 |
| "mm" | Minutes from 00 to 59 |
| "M" | Month from 0 to 12 |
| "MM" | Month from 01 to 12 |
| "MMM" | Informal name of month |
| "MMMM" | Whole name of month |
| "s" | Minutes from 0 to 59 |
| "ss" | Minutes from 00 to 59 |
| "t" | AM/PM specifier's first character |
| "tt" | AM/PM specifier |
| "y" | Year from 0 to 99 |
| "yy" | Year from 00 to 99 |
| "yyy" | At least three-digit year |
| "yyyy" | Four-digit year |
| ":" | Time classification symbol |
| "/" | Date classification symbol |
| "string". 'string' | Literal string classification symbol |
| % | A format specifier that defines the character coming behind to the user custom format specifier |

#### "d"

The "d" user custom format specifier indicates the day with a number from 1 to 31. If the day is a one-digit number, the ten-digit will be omitted. For example, if the day is 3, then it will be indicated as 3, not 03. If only "d" is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 9, 19, 27, 15)
log(date:ToFormattedString("%d")) -- 9
```

#### "dd"

The "dd" user custom format specifier indicates the day with a number from 01 to 31. If the day is a one-digit number, 0 will be indicated for the ten-digit.

```
local date = DateTime(2022, 8, 9, 19, 27, 15)
log(date:ToFormattedString("dd")) -- 09
```

#### "ddd"

The "ddd" user custom format specifier indicates the day's informal name. If you designate the cultural area, the informal day corresponding to the cultural area will be displayed.

```
local date = DateTime(2022, 8, 29, 19, 27, 15)
log(date:ToFormattedString("ddd")) -- Mon
log(date:ToFormattedString("ddd", "fr-FR")) -- lun.
```

#### "dddd"

The "dddd" user custom format specifier indicates the whole name of the day. If you designate the cultural area, the day corresponding to the cultural area will be displayed.

```
local date = DateTime(2022, 8, 29, 19, 27, 15)
log(date:ToFormattedString("dddd")) -- Monday
log(date:ToFormattedString("dddd", "fr-FR")) -- lundi
```

#### "f"

The "f" user custom format specifier indicates 1/10 seconds from the date and time values. If only "f" is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("%f")) -- 0
```

#### "ff"

The "ff" user custom format specifier indicates 1/100 seconds from the date and time values.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("ff")) -- 02
```

#### "fff"

The "fff" user custom format specifier indicates 1/1000 seconds from the date and time values.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("fff")) -- 023
```

#### "F"

The "F" user custom format specifier indicates 1/10 seconds from the date and time values. Nothing will be indicated if the valid number of digits is all 0. If only "F" is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("%F")) -- empty
```

#### "FF"

The "FF" user custom format specifier indicates 1/100 seconds from the date and time values. Nothing will be indicated if the valid number of digits is 2 and the valid number of digits is all 0. Only 2 valid numbers of digits will be indicated even if the valid number of digits is more than 3.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("FF")) -- 02
```

#### "FFF"

The "FFF" user custom format specifier indicates 1/1000 seconds from the date and time values. Nothing will be indicated if the valid number of digits is 3 and the valid number of digits is all 0.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("FFF")) -- 023
```

#### "g", "gg"

The "g" or "gg" user custom format specifier indicates the era. It shows A.D. (Anno Domini) by default. If only the "g" user custom format specifier is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("%g")) -- A.D.
```

#### "h"

The "h" user custom format specifier indicates the hour with a number from 1 to 12. If the hour is a one-digit number, the ten-digit won't be indicated. It is displayed in 12-hour format, which calculates the total hours after midnight or noon. It cannot classify between the hour after midnight and the hour after noon. If only "h" is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("%h")) -- 7
```

#### "hh"

The "hh" user custom format specifier indicates the hour with a number from 1 to 12. If the hour is a one-digit number, 0 will be indicated for the ten-digit. It is displayed in 12-hour format, which calculates the total hours after midnight or noon. It cannot classify between the hour after midnight and the hour after noon.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("hh")) -- 07
```

#### "H"

The "H" user custom format specifier indicates the hour with a number from 0 to 23. If the hour is a one-digit number, the ten-digit won't be indicated. It is displayed in a 24-hour format, which calculates the hours after midnight. If only "H" is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("%H")) -- 19
```

#### "HH"

The "HH" user custom format specifier indicates the hour with a number from 0 to 23. If the hour is a one-digit number, 0 will be indicated for the ten-digit. It is displayed in a 24-hour format, which calculates the hours after midnight.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("HH")) -- 19
```

#### "K"

The "K" user custom format specifier indicates the standard time zone information of the date and time values. If only the "K" user custom format specifier is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

- If the type of DateTime is Local, this specifier outputs the result string including the local offset in UTC.
- If the type of DateTime is UTC, the result string will include and output the "Z" characters indicating the UTC date.

```
local date = DateTime(2022, 8, 29, 19, 27, 15, 023)
log(date:ToFormattedString("%K")) -- Z
```

#### "m"

The "m" user custom format specifier indicates the minutes with a number from 0 to 59. Minutes indicate the total number of minutes that have been passed after the last time. If the minute is a one-digit number, the ten-digit won't be indicated. If only the "m" user custom format specifier is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 29, 19, 7, 15, 023)
log(date:ToFormattedString("%m")) -- 7
```

#### "mm"

The "mm" user custom format specifier indicates the minutes with a number from 00 to 59. Minutes indicate the total number of minutes that have been passed after the last time. If the minute is a one-digit number, 0 will be indicated for the ten-digit.

```
local date = DateTime(2022, 8, 29, 19, 7, 15, 023)
log(date:ToFormattedString("mm")) -- 07
```

#### "M"

The "M" user custom format specifier indicates the month with a number from 1 to 12. If the month is a one-digit number, the ten-digit won't be indicated. If only the "M" user custom format specifier is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 29, 19, 7, 15, 023)
log(date:ToFormattedString("%M")) -- 8
```

#### "MM"

The "MM" user custom format specifier indicates the month with a number from 01 to 12. If the month is a one-digit number, 0 will be indicated for the ten-digit.

```
local date = DateTime(2022, 8, 29, 19, 7, 15, 023)
log(date:ToFormattedString("MM")) -- 08
```

#### "MMM"

The "MMM" user custom format specifier indicates the month's informal name. If you designate the cultural area, the informal name of the month corresponding to the cultural area will be displayed.

```
local date = DateTime(2022, 8, 29, 19, 7, 15, 023)
log(date:ToFormattedString("MMM")) -- Aug
log(date:ToFormattedString("MMM", "it-IT")) -- ago
```

#### "MMMM"

The "MMMM" user custom format specifier indicates the whole name of the month.

```
local date = DateTime(2022, 8, 29, 19, 7, 15, 023)
log(date:ToFormattedString("MMMM")) -- August
log(date:ToFormattedString("MMMM", "it-IT")) -- agosto
```

#### "s"

The "s" user custom format specifier indicates the seconds with a number from 0 to 59. If the second is a one-digit number, the ten-digit won't be indicated. If only the "s" user custom format specifier is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string. Seconds indicate the total number of seconds that have passed after the last minutes.

```
local date = DateTime(2022, 8, 29, 19, 7, 5, 023)
log(date:ToFormattedString("%s")) -- 5
```

#### "ss"

The "ss" user custom format specifier indicates the seconds with a number from 00 to 59. If the second is a one-digit number, 0 will be indicated for the ten-digit. Seconds indicate the total number of seconds that have passed after the last minutes.

```
local date = DateTime(2022, 8, 29, 19, 7, 5, 023)
log(date:ToFormattedString("ss")) -- 05
```

#### "t"

The "t" user custom format specifier indicates the first character of the AM/PM specifier. The AM specifier is used for all times from 0:00:00 to 11:59:59.999, and the PM specifier is used for all times from 12:00:00 to 23:59:59.999. If only "t" is used, you need to use the "%" user custom format specifier so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 29, 19, 7, 5, 023)
log(date:ToFormattedString("%t")) -- P
```

#### "tt"

The "tt" user custom format specifier indicates the AM/PM specifier. The AM specifier is used for all times from 0:00:00 to 11:59:59.999, and the PM specifier is used for all times from 12:00:00 to 23:59:59.999.

```
local date = DateTime(2022, 8, 29, 19, 7, 5, 023)
log(date:ToFormattedString("tt")) -- PM
```

#### "y"

The "y" user custom format specifier indicates the year with one-digit or two-digit numbers. If the year exceeds two-digit, only the last two-digit numbers will be indicated for the result. If the ten-digit of the year is 0, then 0 won't be indicated. For example, if the year is 2008, then only 8 will be indicated. If only "y" is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime(2022, 8, 29, 19, 7, 5, 023)
log(date:ToFormattedString("%y")) -- 22
```

#### "yy"

The "yy" user custom format specifier indicates the year with two-digit numbers. If the year exceeds two-digit, only the last two-digit numbers will be shown for the result. If the ten-digit of the year shown is 0, it will be shown as it is.

```
local date = DateTime(2022, 8, 29, 19, 7, 5, 023)
log(date:ToFormattedString("yy")) -- 22
```

#### "yyy"

The "yyy" user custom format specifier indicates the year with at least three-digit numbers. Even if the valid number of digits for the year is more than three-digit, it will be included in the result string. If the year is less than the number of three digits, it will be indicated in three-digit by filling with 0.

```
local date = DateTime(2022, 8, 29, 19, 7, 5, 023)
log(date:ToFormattedString("yyy")) -- 2022
```

#### "yyyy"

The "yyyy" user custom format specifier indicates the year with four-digit numbers. If the year is less than the number of four digits, it will be indicated in four-digit by filling with 0.

```
local date = DateTime(2022, 8, 29, 19, 7, 5, 023)
log(date:ToFormattedString("yyyy")) -- 2022
```

#### ":"

The ":" user custom format specifier indicates the time classification symbol used to classify hour, minute, and second. If only the ":" user custom format specifier is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
-- today 2022/05/17
 
local date = DateTime("3:32:22", "h:mm:ss")
log(date) -- 05/17/2022 03:32:22
```

#### "/"

The ":" user custom format specifier indicates the date classification symbol used to classify year, month, and day. If only the "/" user custom format specifier is used, you need to use the "%" user custom format specifier in front so as not to be interpreted incorrectly with the standard format string.

```
local date = DateTime("2022/6/21", "yyyy/M/dd")
log(date) -- 06/21/2022 00:00:00
```

Update 2025-11-17 PM 08:14


# Screenshots and Dynamic Sprites

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

When you create a world and need a sprite, you can choose what MapleStory Worlds provides, or import and use what you've created on your own as a creator. You may also upload an image generated during your world play to the world and share it with other users. Images generated during play in MapleStory Worlds are called **dynamic sprites**. You can upload a **dynamic sprite** to your world by containing it in the data type **RawImage** and use it by issuing an **RUID**.  In this course, we're going to study an example of using the `CaptureFullScreenAsPixelDataAndWait()` function of [ScreenshotService](/apiReference/Services/ScreenshotService) and returning the captured screenshot in **RawImage** format. This example will allow you to understand how to utilize dynamic sprites.

# Showing Screenshot to the World

Let's look at an example of pressing a specific key to capture a screenshot and placing it in a particular location.

1. Select **Hierarchy - Create Entity - Create Empty** to create **EmptyEntity**. Choose **Frame** as the name of **EmptyEntity**. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1668661121252c9d0293976864189952c8b9700eb8368.png)
2. Add **TransformComponent, SpriteRendererComponent** in the Property Editor of the **Frame** entity. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1679371574207593d86d4363d41f990a861fb084b13b7.png)
3. Set the desired sprite to **SpriteRendererComponent - SpriteRUID** in the Property Editor of the **Frame** entity. e.i.) SpriteRUID : **93c2673261874c76b55459a4add2c382** ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16685976953935f7b707c48a74bd8bf90747904f83a34.png)
4. In the context menu of **Hierarchy - Frame**, click **Create Entity as child - Create Empty** to generate a child entity. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16862000936226739727d0fd544f681d63208b2fcd4e7.png) Choose **Canvas** as the name of **EmptyEntity**. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16686612052390bc3806fb1234ebfbd94ca85473612bc.png)
5. Add **TransformComponent, SpriteRendererComponent** in the Property Editor of the **Canvas** entity.
6. In the **Scene**, drag the **Canvas** entity to the center of the **Frame**. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1668598281353fa2830c39674415282afcba0cf2f041f.png)
7. Create a new script component and name it **SpriteUploadTest**.
8. Select **Hierarchy - Common** and then add the **SpriteUploadTest** component in the Property Editor.
9. Open **SpriteUploadTest** and add **Property** in the Script Editor as below.```
Property:
[None]
Entity FrameEntity = /maps/map01/Frame
[None]
Entity CanvasEntity = /maps/map01/Frame/Canvas
```
10. Add the `OnBeginPlay()` function and compose its content as follows. The `SetSpriteUploadValidationCallback()` function decides whether to allow an upload request sent by a user. Write a code that returns **true** if you'd like to allow the request, and **false** if not. In this example, we need to allow the upload, so let's make it return **true**.```
Method:
void OnBeginPlay()
{
    if self:IsServer() then
        -- Set it as true to allow an upload request from a user.
        _ResourceService:SetSpriteUploadValidationCallback(function(userId)
            return true
        end)

        return
    end
}
```
11. Add the `CaptureAndUpload()` function and compose its content as follows.```
[client only]
void CaptureAndUpload()
{
    local frameRUID = self.FrameEntity.SpriteRendererComponent.SpriteRUID%%

    local sprite = _ResourceService:LoadSpriteAndWait(frameRUID)
    -- Check the horizontal and vertical pixels of the frame entity sprite.
    local frameWidth = sprite.Width
    local frameHeight = sprite.Height

    -- Receive the captured screenshot image.
    local error, screenshot = _ScreenshotService:CaptureFullScreenAsPixelDataAndWait()

    -- Check the horizontal and vertical pixels of the screenshot.
    local screenshotWidth = screenshot.Width
    local screenshotHeight = screenshot.Height

    -- Calculate the ratio for resizing the screenshot.
    -- The screenshot should fit in the Frame, so make it a little smaller.
    local horizontalRatio = frameWidth / screenshotWidth * 0.96
    local verticalRatio = frameHeight / screenshotHeight * 0.67

    -- Upload the screenshot image in sprite format.
    _ResourceService:RequestSpriteUploadAsync(screenshot, function(error, ruid)
    	self.CanvasEntity.SpriteRendererComponent.SpriteRUID = ruid
    	-- Enter the ratio calculated above and adjust the scale of the Canvas.	
    	self.CanvasEntity.TransformComponent.Scale = Vector3(horizontalRatio, verticalRatio, 1)
    end) 
}
```
12. Add **KeyDownEvent** to **Event Handler** as below.```
Event Handler:
HandleKeyDownEvent(KeyDownEvent event)
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    -- You can take a screenshot by pressing 1 on the keyboard.
    if key == KeyboardKey.Alpha1 then 
	    self:CaptureAndUpload()
    end
}
```
13. Press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. Take a screenshot by pressing **1** and check whether the screenshot appears in the **Frame**. ![RawImage](https://mod-file.dn.nexoncdn.co.kr/bbs/16686484619418af80fe87df5450b86bea39286b9186c.gif)

> **Learn more**- A resource to upload cannot exceed 3MB. - You can only make one upload request at a time. Uploads fail if the existing request hasn't finished yet and a new request is submitted. - Sprites created during Maker play are temporary resources and will disappear when play stops. - Uploads are limited to five times per minute in the world. If too many upload requests are submitted to the world, some of them could fail. Be sure not to send requests at the same time from multiple clients. - Uploaded screenshots may not appear if you have added a virtual player during testing in the Maker or if you have been to the instance room. They will be properly shown in the actual game when it launches.

Update 2025-11-17 PM 08:14


# Taking and Sharing Screenshots

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's look at how to capture a screen and save an image file using `ScreenshotService`. In addition, we'll learn how to save and share screenshots on mobile.

##### API Reference

[ScreenshotService](/apiReference?postId=807) [MobileShareService](/apiReference/Services/MobileShareService)

# ScreenshotService

You can use `ScreenshotService` to take and save screenshots of MapleStory Worlds on PC or mobile. You can also share screenshots by integrating with `MobileShareService`. The functions provided by `ScreenshotService` are classified as follows according to their intended use.

| Function | Intended use | Save path |
| --- | --- | --- |
| CaptureFullScreenToPhotoLibraryAndWait()<br>CaptureScreenRegionToPhotoLibraryAndWait() | Save screenshots to your photo library | <ul><li>Windows: My PC > Pictures > MapleStory Worlds > World ID > fileName.png</li><li>macOS: Home > Pictures > MapleStory Worlds > World ID > fileName.png</li><li>Android: Gallery - Maplestory Worlds Album</li><li>iOS: Pictures</li></ul> |
| CaptureFullScreenAsFileAndWait()<br>CaptureScreenRegionAsFileAndWait() | Saving screenshots for mobile sharing<br>(used in integration with MobileShareService) | <ul><li>Windows: My PC > Pictures > MapleStory Worlds > World ID > fileName.png</li><li>macOS: Home > Pictures > MapleStory Worlds > World ID > fileName.png</li><li>Android: Built-in memory > Android > data > com.nexon.mod > files > MapleStory Worlds > Screenshots > World ID > fileName_*.png</li><li>iOS: My file > My iPhone > MapleStory Worlds > Screenshots > World ID > fileName_ *.png</li></ul> |

Let's use the function by referring to the intended use and save path of each function.

# Screenshot Capture

## Full Screen Capture

Press the button to capture the full screen.

1. Create a new **FullScreenBtn** button by pressing the ![btn](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_button.png) button in the UI Editor.
2. Add **TextComponent** to **FullScreenBtn** and set the properties as below. | Property | Value |
| :---: | :---: | | Text | Full Screen Capture | | FontColor | #ffffff |
3. In the context menu of **Workspace - MyDesk**, click **Create Scripts - Create Logic** to create new logic. Change the name to **ScreenshotServiceTest**.
4. Open **ScreenshotServiceTest** in Script Editor and add `ButtonClickEvent` in Event Handler. Set the event sender to **Entity** as shown below. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1681187758910df0cdbd4dc784785850f16fb584abbdf.png)  After that, enter the content as below.```
[entity: FullScreenBtn(/ui/DefaultGroup/FullScreenBtn)]
HandleButtonClickEvent (ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------
    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------
    local error, path = _ScreenshotService:CaptureFullScreenToPhotoLibraryAndWait("FullScreen", true)
    log(error, path)

    if error == ScreenshotError.Success then
    	self._T.lastPath = path	
    else
    	_UIToast:ShowMessage("Failed to save! "..tostring(error)..", Path: "..path)
    end
}
```
5. If you press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[ Start]** followed by the **Full Screen Capture** button, the full screen screenshot is captured, and you can see the image saved path in the log. ![full](https://mod-file.dn.nexoncdn.co.kr/bbs/1681191751073ddae20ad59954d928e4210f758bec775.png)  By checking the saved FullScreen.png, you can see that the full screen has been captured as below. ![full2](https://mod-file.dn.nexoncdn.co.kr/bbs/16811917796840a7e9d430cf34b7d86aafb09c99c3a8b.png)

## Partial Screen Capture

Press the button to capture the partial screen.

1. Click **Duplicate** in the context menu of the **FullScreenBtn** button to copy the button and move it to an appropriate location.
2. Rename the copied button **PartialScreenBtn**. Enter **Partial Screen Capture** to **Text**. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/16811921606221a01221441844aae815f4af11770bd37.png)
3. Open **ScreenshotServiceTest** in Script Editor and add `ButtonClickEvent` in Event Handler. Set the event sender to **Entity** as shown below. ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/168119229553433590599d6bb42e1948da148bef1a832.png)  After that, write the content as below.```
[entity: PartialScreenBtn (/ui/DefaultGroup/PartialScreenBtn)]
HandleButtonClickEvent (ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------
    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------
    local startPixel = Vector2(600,0)
    local endPixel = Vector2(1100,700)

    local error, path = _ScreenshotService:CaptureScreenRegionToPhotoLibraryAndWait("PartialScreen", startPixel, endPixel)
    log(error, path)

    if error == ScreenshotError.Success then
    	self._T.lastPath = path	
    else
    	_UIToast:ShowMessage("Failed to save! "..tostring(error)..", Path: "..path)
    end
}
```
4. If you press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** followed by the **Partial Screen Capture** button, the partial screen is captured, and you can see the image saved path in the log. ![Partial](https://mod-file.dn.nexoncdn.co.kr/bbs/16811926961341471a8a6920248e39480c0ee8bc6852f.png)  By checking the saved PartialScreen.png, you can see that the partial screen has been captured as below. ![Partial2](https://mod-file.dn.nexoncdn.co.kr/bbs/1681192771299639cd1d5758642508dce913d1b6afa73.png)

> **Note** For partial screen capture, the location of screen capturing can differ depending on the user's screen resolution. Users should be aware of this when using the partial screen capture feature.

# Share Screenshots from Mobile

Let's see how to share a screenshot from mobile. Sharing is not possible from a PC.

1. Click **Duplicate** in the context menu of the **FullScreenBtn** button to copy the button and move it to an appropriate location.
2. Rename the copied button **ShareBtn**. Enter **Share** in **Text**. ![05](https://mod-file.dn.nexoncdn.co.kr/bbs/168119541043350d44d07d02c4bb98d2de0b5da0f7266.png)
3. Open **ScreenshotServiceTest** from the script editor and search for the event linked to **FullScreenBtn**. Change ‘CaptureFullScreenToPhotoLibraryAndWait()’ to ‘CaptureFullScreenAsFileAndWait()’.```
[entity: FullScreenBtn (/ui/DefaultGroup/FullScreenBtn)]
HandleButtonClickEvent (ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------
    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------
    -- Modified the following function to CaptureFullScreenAsFileAndWait() to save screenshot for mobile sharing.
    local error, path = _ScreenshotService:CaptureFullScreenAsFileAndWait("FullScreen", true)
    log(error, path)

    if error == ScreenshotError.Success then
    	self._T.lastPath = path	
    else
    	_UIToast:ShowMessage("Failed to save! "..tostring(error)..", Path: "..path)
    end
}
```
4. Add `ButtonClickEvent` to the event handler. Set the event sender to **Entity** as shown below. ![04](https://mod-file.dn.nexoncdn.co.kr/bbs/168119303326810820bf91ef54332aa0488d261883a41.png)  After that, write the content as below.```
[entity: ShareBtn (/ui/DefaultGroup/ShareBtn)]
HandleButtonClickEvent (ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------
    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------
    local path = self._T.lastPath
    if path ~= "" then
    	local success = _MobileShareService:ShareFileAndWait(path)
    	log("Share : "..tostring(success))
    end
}
```
5. After pressing ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]**, press the **Full Screen Capture** button to save the screenshot. Then press the **Share** button to share the screenshot.

# Caution

You can only save a screenshot file once per second.

Update 2025-11-17 PM 08:14


# Record and Share Game Screen

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

In MapleStory Worlds, you can use `ScreenRecordService` to record the game screen and save it as a file. Additionally, you can easily share videos recorded on mobile devices using `MobileShareService`. Let's take a look at some examples of how to use `ScreenRecordService` and `MobileShareService`.

##### API Reference

[ScreenRecordService](/apiReference/Services/ScreenRecordService) [MobileShareService](/apiReference/Services/MobileShareService)

# Recording Mode

`ScreenRecordService` contains four recording modes (ScreenRecordMode). Each platform has its own restrictions, and there are instances of some recording modes not being functional on all platforms. Please refer to the table below for more details.

| Recording mode | Description | Windows/macOS | iOS | Android |
| :---: | :---: | :---: | :---: | :---: |
| ScreenOnly | Record screen | O | O | O |
| ScreenAndGameAudio | Record screen + game sound | O | O | O |
| ScreenAndMic | Record screen + mic | O | O | X <br>(replaced by ScreenAndGameAudioAndMic) |
| ScreenAndGameAudioAndMic | Record screen + game sound + mic | X<br>(replace by ScreenAndMic) | O | O |

> **Learn More**- You cannot record on devices that do not properly support Image and Audio codecs. - In this case, the `StartRecordToFileAndWait()` and `StartRecordToPhotoLibraryAndWait()` functions will return "ScreenRecordStartResult.DeviceNotSupported".

# Recording a Gameplay Video

Let's look at an example of recording a video using `ScreenRecordService`. Press the **[Record]** button to start recording, and the **[Stop]** button to end the recording and save the file.

1. Enter the UI Editor and add a new UIGroup with the name **RecordGroup**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1678416050163b3c472a5574e427ab4c6c79e5be50684.png)  Then set **DefaultShow** of **RecordGroup** to **true**. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1678423634296cf0cab991d24471889baefac1f5ee4b5.png)
2. Add a button and name it **Btn_Record**.
3. Add **TextComponent** to **Btn_Record** and set the properties as follows: | Component | Property | Value |
| :---: | :---: | :---: | | TextComponent | Text | Record | | FontColor | #FFFFFF |
4. Click **Duplicate** to copy the button in the context menu of the **Btn_Record** button.
5. Change the name of the copied button to **Btn_Stop** and enter **Stop** in the **Text** field. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16784163562145cecc803405a4a1aa358ed0dc4280deb.png)
6. In the context menu of **Workspace - MyDesk**, click **Create Scripts - Create Logic** to create a new logic. Change its name to **ScreenRecordServiceTest**. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1678416161538b4fd072b7b974d418fb80474e83e816a.png)
7. Open **ScreenRecordServiceTest** in the Script Editor.
8. Add the following to **Property**.```
Property:
[None]
string LastRecordedPath = ""
```
9. Add the `Record()` function and write its content.```
void Record()
{
    _UIPopup:Open("Do you want to start recording?", function()
	    -- set recordMode to ScreenOnly, and excludeSystemUI's option to false)
	    local result = _ScreenRecordService:StartRecordToFileAndWait(ScreenRecordMode.ScreenOnly, false)
	    if result == ScreenRecordStartResult.Success then
		    _UIToast:ShowMessage("Start recording")
	    else
		    _UIToast:ShowMessage("Failed : "..tostring(result))	
	    end
	end, function()
		_UIToast:ShowMessage("Canceled")
	end)
}
``` You can use the `StartRecordToFileAndWait()` or `StartRecordToPhotoLibraryAndWait()` functions when recording a video. The file path for where videos are saved is based on the function used here. | Platform | Save path using StartRecordToFileAndWait() | Save path using StartRecordToPhotoLibraryAndWait() |
| :---: | :---: | :---: | | Windows | My PC > Videos > MapleStory Worlds > World ID > MapleStory Worlds_*.mp4 | | macOS | Home > Videos > MapleStory Worlds > World ID > MapleStory Worlds_*.mp4 | | iOS | My Files > My iPhone > MaplestoryWorlds > MapleStory Worlds > World ID > MapleStory Worlds_*.mp4 | Photos / Gallery | | Android | Internal Storage > Android > data > com.nexon.mod > files > MapleStory Worlds > World ID > MapleStoryWorlds_*.mp4 |
10. Add `ButtonClickEvent` to the event handler to start recording by clicking the **Btn_Record** button. Set the event sender to **Entity** as shown below. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1678417754286bb465689e3e44568a5cc351a0e7688c6.png)  After that, copy the code shown below.```
entity Btn_Record(/ui/RecordGroup/Btn_Record)
HandleButtonClickEvent(ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------
    self:Record()
}
```
11. Add the `Finish()` function and its associated content. Use the `FinishRecordAndWait()` function to stop recording. It returns the save path upon creating the recorded file.```
void Finish()
{
    _UIToast:ShowMessage("End recording")
    self.LastRecordedPath = _ScreenRecordService:FinishRecordAndWait()
    log("Output : ", self.LastRecordedPath)
}
```
  > **Learn More** However, there is no sharing function in the Windows environment, so if you use the `StartRecordToFileAndWait()` function, replace it with the `StartRecordToPhotoLibraryAndWait()` function and call it. If you start and stop recording with `StartRecordToPhotoLibraryAndWait()`, an empty value will be returned as the save path.
12. Add `ButtonClickEvent` to the event handler to stop recording by clicking the **Btn_Stop** button as follows. Set the event sender to Entity as shown below. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1678417899020da7233c0e9a64655bbfe9fa5cecbfc0e.png)  After that, write the content as seen below.```
entity Btn_Stop(/ui/RecordGroup/Btn_Stop)
HandleButtonClickEvent(ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------
    self:Finish()
}
```
13. Click the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. Click the **[Record]** button to start recording and the **[Stop]** button to stop recording and save the file. ![recording](https://mod-file.dn.nexoncdn.co.kr/bbs/1678424192506294a4b8f784946a8aa06241618708fc2.gif) ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1678424210461bbb4c320b08348fab23a6029336dd50a.png)

# Hide the UI and Record Video

Let's see how to hide the UI and record a video.

1. Go to the UI Editor, add one **UIText** to **DefaultGroup**, and set its property as follows. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1678430164183080b4d5df681412da8450337321bb50d.png) | Property | Value |
| --- | --- | | RectSize | X = 700, Y = 100 | | Text | ScreenRecordService TEST | | FontSize | 50 | | ImageRUID | b9ab8455d5737bf4cb21433f00fdc19d | | Color | A = 100%, #FFFFFF |
2. Open **ScreenRecordServiceTest** in the Script Editor.
3. Write the following content in **Property**.```
Property:
[None]
EntityRef DefaultGroup = /ui/DefaultGroup
```
4. Modify the `Record()` function as shown below.```
void Record()
{
    _UIPopup:Open("Do you want to start recording?", function()
		-- Change the visibility of the UIGroup you want to hide to false.
		self.DefaultGroup.Visible = false
		-- Change the excludeSystemUI option to true to hide the right top basic UI.
		local result = _ScreenRecordService:StartRecordToFileAndWait(ScreenRecordMode.ScreenOnly, true)
		if result == ScreenRecordStartResult.Success then
		    _UIToast:ShowMessage("Start recording")
		else
		    _UIToast:ShowMessage("Failed : "..tostring(result))	
		end
	 end, function()
		_UIToast:ShowMessage("Canceled")
	 end)
}
```
5. Modify the `Finish()` function as shown below.```
void Finish()
{
    _UIToast:ShowMessage("End recording")
    self.LastRecordedPath = _ScreenRecordService:FinishRecordAndWait()
    -- Add the following to make the UI visible again after recording stops.
    self.DefaultGroup.Visible = true
    log("Output : ", self.LastRecordedPath)
}
```
6. Click the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. Click the **[Record]** button to hide the UI and record video. When the recording stops, the UI will reappear. ![recording2](https://mod-file.dn.nexoncdn.co.kr/bbs/167843224107397026e661dfd4bdeb1e578fabfac9229.gif)

# Share Recorded Video on Mobile

You can easily share recorded videos on mobile by using `MobileShareService`. Videos to be shared must be recorded using the `StartRecordToFileAndWait()` function. However, the recording time is limited to a maximum of 2 minutes. Let's look at an example of sharing a recorded video on mobile devices.

1. Click **Duplicate** to copy the button in the context menu of the **Btn_Record** button.
2. Change the name of the copied button to **Btn_Share** and enter **Share** in the **Text** field. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1678757498013b1075f65b0e44c508965220c93cbddda.png)
3. Open **ScreenRecordServiceTest** in the Script Editor.
4. Add the `ShareVideo()` function and write its associated content.```
void ShareVideo()
{
    if self.LastRecordedPath ~= "" then
    	log("FilePath: ", self.LastRecordedPath)
    	local shared = _MobileShareService:ShareFileAndWait(self.LastRecordedPath)
    	if shared then
    		_UIToast:ShowMessage("Share success")
    	else
    		_UIToast:ShowMessage("Share Failed")
    	end
    end
}
```
5. Add `ButtonClickEvent` to the event handler to share recorded videos by clicking the **Btn_Share** button. Set the event sender to **Entity** as shown below. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1678757658575e7b78c6fa2f843b2ac8e70e29a8e911d.png)  After that, write the content as seen below.```
entity Btn_Stop(/ui/RecordGroup/Btn_Share)
HandleButtonClickEvent(ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------
    self:ShareVideo()
}
```
6. After launching, make sure your code operates as intended on mobile. Click the **[Record]** button to start recording, click the **[Stop]** button to stop recording, and click the **[Share]** button to share the video. ![share](https://mod-file.dn.nexoncdn.co.kr/bbs/167877261209707c7dda7630d4754b846c68e6b21d002.gif)

# Caution

- If there are multiple microphones, you must provide the player a choice to select which one to use. In such cases, use the ‘GetMicrophoneDevicesAndWait()’ function to select which mic the player will use as an input.
- iOS: Recording is only possible if permissions are enabled for **Settings - MapleStoryWorlds - Photos - Only Add Photos**.
- AOS: Permission must be allowed for **App Info - MapleStory Worlds - Storage** to allow for recording with devices that are below Android 10.

Update 2025-11-17 PM 08:14


# Entity Control Using TweenLogic

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

You can use [TweenLogic](/apiReference?postId=700) to enlarge, reduce, rotate, and move entities. See [Tweener](/apiReference?postId=714) to learn more.

# TweenLogic Concept

**TweenLogic** provides various functions to give animation effects on an entity. You can change the location and size of an entity or rotate it over several frames. You can make the entity Tween using various functions and produce an animation by calling the function once.

#### A Difference with TweenComponent

TweenLogic and TweenComponents seem like a similar action in the World, however, they are different functions. You must select what is suitable for the creator's production plan. **TweenLineComponent, TweenCircularComponent and TweenFloatingComponent** are recommended for the times you wish to give animation effects to an entity without writing a script. Since three components are optimized for the network, we can expect performance improvement when we make the multiple entities Tween in a multi-player environment. **TweenLogic** can be used for Dynamic Tweens. The Tweener entities that TweenLogic function returns include Reverse and Delay features. If you terminate a Tween using the SetOnEndCallback function, you can define the operation to run once it's done.

#### EaseType

When you use the TweenLogic function, you can decide the movement shape by setting up **EaseType**. You can select the desirable type from EaseType and create different movements for each entity. If you used each different EaseType, even though there are two entities toward the same location for a constant time, some entities would bounce similarly to a ball as their movement. Some other entities will start to move slowly and approach the destination faster. For example, the `MoveTo(Entity entity, Vector2 destination, number duration, and EaseTypetype)` function of TweenLogic assigns a certain point as a destination and moves the entity. Once you call the function, it gradually moves to the destination through several frames and arrives. At this time, the entity's movement shape will differ depending on whether **EaseType** is used. EaseType needs to understand the Easing function. The Easing function's x-axis refers to time, and the y-axis refers to movement location. You can find out the x and y axis's origins and end values by assuming the entity moves from (1,1) to (2,2) for 3 seconds. The x's origin value will be 0, and its end value will be 3. The y-axis is the movement location, so the origin value will be (1,1) and the end value will be (3,3). During this time, it moves in different shapes depending on the function, and the acceleration changes will also differ. Please find the reference material in [Entity Section Movement](/docs/?postId=122) for the Easing function graph.

#### Ease Function

The **Ease function** does not create Tweener entities, and it is not automatically updated for each frame. So, if there is a movement required, the creator should directly call the `Ease()` function for each frame. In contrast, the Tweener entity created with `MakeTween()` to call Tweener's `Play()` function, or the Tweener entity created with `PlayTween()` to play automatically, is automatically updated for each frame by TweenLogic.

You can use the function below to figure out the return value from a certain progress rate. The x-axis in the Easing function graph is a value that divides tweenTime by duration with Tweener's progress rate. The y-axis is a return value between startValue and endValue.

```
number Ease(number startValue, number endValue, number duration, EaseType type, number tweenTime)
```

# Use TweenLogic

#### Move

You can move entities by using `MoveTo()`. ![Movement](https://mod-file.dn.nexoncdn.co.kr/bbs/1657616366795ce5a3fc175fa498e8e3a9a096db18941.gif)

1. Create a new component and add it to a certain entity.
2. You write destination, time, and EaseType for the entity to move.
3. You write together whether you will process the returning Tweener's delay time, repetition type, number of times, and automatic destroy. If you set automatic destroy to false or set LoopCount to -1 to keep executing the tween, you may unintentionally accumulate Tweener entities that no longer function. Having too many of these Tweener entities can cause performance degradation in the World, so tweens need to be destroyed at the right time. We recommend destroying the component by calling the Tweener's Destroy() function in OnEndPlay of the component or when the target entity to be tween is destroyed.```
Property:
[None]
any tween = nil
[Sync]
number LoopCount = 0
[Sync]
number Delay = 0

Method:
[server only]
void OnBeginPlay()
{
    self.tween = _TweenLogic:MoveTo(self.Entity, Vector2(0.5, self.Entity.TransformComponent.Position.y), 4, EaseType.BounceEaseOut)
    self.tween.Delay = self.Delay
    self.tween.LoopCount = self.LoopCount
    self.tween.LoopType = TweenLoopType.PingPong
    self.tween.AutoDestroy = false
}

[server only]
void OnEndPlay()
{
    self.tween:Destroy()
}
```

#### Rotate

You can make the entity rotate using `RotateTo()` and make it rotate based on a certain entity's offset using `TweenLogic:RotateAroundOffset()`.

1. Create a new component and add it to a certain entity.
2. Set **angle** as 360 degrees and write to make the entity rotate once.```
Method:
void OnBeginPlay()
{
    self._T.tween = _TweenLogic:RotateTo(self.Entity, 360, 5, EaseType.Linear)
    self._T.tween.LoopCount = -1 
}

[server only]
void OnEndPlay()
{
    self._T.tween:Destroy()
}
```
3. Create a component and add it to a certain entity.
4. Add new **RotateCenter** to the property and select an entity to set as a centerpoint on the property editor window.
5. Write as below to make it rotate around the center entity.```
Property:
[Sync]
Entity RotateCenter = nil

Method:
[server only]
void OnBeginPlay()
{
    if self.RotateCenter == nil then
        do return end
    end

    local offset = self.RotateCenter.TransformComponent.Position - self.Entity.TransformComponent.Position
    self._T.tween = _TweenLogic:RotateAroundOffset(self.Entity, 360, offset:ToVector2(), true, 5, EaseType.Linear)
    self._T.tween.LoopCount = -1
}

[server only]
void OnEndPlay()
{
    self._T.tween:Destroy()
}
```

#### Change Entity Size

You can make an entity's size large or small using `ScaleTo()`.

![Size Adjustment](https://mod-file.dn.nexoncdn.co.kr/bbs/1657616386668608a20252d60459599b9d78530594d46.gif)

1. Create a new component and add it to a certain entity.
2. Enter the entity size you want to enlarge or reduce as `Vector2()` value.```
Method:
[server only]
void OnBeginPlay()
{
    local tween = _TweenLogic:ScaleTo(self.Entity, Vector2(2.5, 2.5), 4, EaseType.QuadEaseInOut)
    tween.LoopCount = -1
    tween.LoopType = TweenLoopType.PingPong
}
```

#### Adjust Transparency

You can adjust the **Alpha** value from `MakeTween()` to make a certain entity fade.

![Alpha](https://mod-file.dn.nexoncdn.co.kr/bbs/16576164032874b4be3d0e5384da9a8858e5d8eacc361.gif)

1. Create a new component and add it to a certain entity.
2. Designate the startvalue of MakeTween() as a SpriteRenderer and write as below, designating the endvalue as 0 to make the entity transparent.```
Method:
[server only]
void OnBeginPlay()
{
    local spriteRenderer = self.Entity.SpriteRendererComponent
    local tween -- Pre-declare the variable to assign the tweener.
    local tweenAlpha = function(tweenValue)
        if isvalid(spriteRenderer) == false then
            tween:Destroy()
        end
        spriteRenderer.Color.a = tweenValue
    end

    tween = _TweenLogic:MakeTween(spriteRenderer.Color.a, 0, 0.5, EaseType.Linear, tweenAlpha)
    tween.LoopCount = -1
    tween.LoopType = TweenLoopType.PingPong
    tween.AutoDestroy = false
    tween:Play()

    _TimerService:SetTimerOnce(function() self.Entity:RemoveComponent(SpriteRendererComponent) end, 5)
}
```

# Example of Use

Let's make a ball bounce forward after throwing it from a high place.

![ball](https://mod-file.dn.nexoncdn.co.kr/bbs/165761643870906375319aaf64fcaa084c94c11f7b1b2.gif)

1. Create a new ![model](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_model_no.png) Model_Ball model. Add ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) TransformComponent and ![sprite](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/sprite.png) SpriteRendererComponent and use Ruid below.
  - SpriteRuid: d4dddd1f07d445939433f70cd1aa82fa
2. Create a new ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) BallComponent, and add it to ![model](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_model_no.png) Model Ball.
3. To make a ball fly away while rotating, write as below using PlayTween() and RotateTo() together.```
Property:
[None]
number posX = 0
[None]
number posY = 0

Method:
[server only]
void OnBeginPlay()
{
    local transform = self.Entity.TransformComponent
    self.posX = transform.Position.x
    self.posY = transform.Position.y

    local yDestination = 0.3
    local tweenDuration = 3

    local xTween = _TweenLogic:PlayTween(self.posX, self.posX + _UtilLogic:RandomIntegerRange(40, 100)/10, tweenDuration, EaseType.CubicEaseOut, function(val) self.posX = val end)
    local yTween1 = _TweenLogic:PlayTween(self.posY, yDestination, tweenDuration, EaseType.BounceEaseOut, function(val) self.posY = val end)

    local rotateTween = _TweenLogic:RotateTo(self.Entity, -1800 * _UtilLogic:RandomIntegerRange(95, 105)/100, tweenDuration, EaseType.QuartEaseOut)
}

[server only]
void OnUpdate(number delta)
{
    --  Assign the posX and PosY property values, which change for each frame, to TransformComponent.Position
    local transform = self.Entity.TransformComponent
    transform.Position = Vector3(self.posX, self.posY, transform.Position.z)
}
``` In the example above, `PlayTween()` receives Action tweenFunction as its last parameter. tweenFunction is called each frame and receives the Ease result values as the parameter once Tween starts. If 1.2 seconds passes after the Tween starts, the Ease result value will be Ease (self.posY, yDestination, tweenDuration, EaseType.BounceEaseOut, 1.2). So, `function(val) self.posX = val end` receives the result value(val) of Ease function to assign it to self.posY property.
  > **Learn more** If you call PlayTween twice, which receives Vector2 as the parameter when using PlayTween, and then implement as below to make one control x and another one to control y, it will not work properly. Vector2 uses x and y as a pair because it overwrites the Tween return value.```
-- Assume throwing a ball to a location(8, 0, 0)
_TweenLogic:PlayTween(current location, Vector3(8, 0, 0), tweenDuration, EaseType.CubicEaseOut, function(val) self.Entity.TransformComponent.Position = val end)
_TweenLogic:PlayTween(current location, Vector3(8, 0, 0), tweenDuration, EaseType.BounceEaseOut, function(val) self.Entity.TransformComponent.Position = val end)
```
4. Create a ![component](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) SpawnBallOnAttack component and add it to ![player](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png) DefaultPlayer. When a player attacks as below, write to make it summon ![model](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_model_no.png) Model_Ball.```
Event Handler:
[server only] [self]
HandlePlayerActionEvent(PlayerActionEvent event)
{
    -- Parameters
    local ActionName = event.ActionName
    local PlayerEntity = event.PlayerEntity
    --------------------------------------------------------
    if ActionName == "Attack" then
    	local parent = self.Entity.Parent
    	local spawnPosition = self.Entity.TransformComponent.Position + Vector3(0, 0.5, 0)
    	_SpawnService:SpawnByModelId("model://8474ac05-aac0-49bf-a171-84b7d8b9f42c", "Ball", spawnPosition, parent)
    end
}
```

##### Reference Guide

- [Entity Section Movement](/docs/?postId=122)
- [Changing Location, Size, Rotation of Entities](/docs/?postId=82)
- [Object Movement Ⅰ](/docs/?postId=123)

Update 2025-11-17 PM 08:14


# Controlling the Player Camera

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

The main camera of the game always follows the player. The camera component that controls the main camera is owned by the MapleStoryPlayer model. By using the Property Editor or script for this model, you can edit the main values. In this course, we will learn about the full functions of the Camera component by editing it in the Property Editor.

# Approaching Camera Component

In Workspace, select DefaultPlayer model. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1635470229255887ebcf3484b4ceb8a43d4b77d8af063.png)  In the Property Editor, check CameraComponent. CameraComponent offers several properties for the camera control. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/1653012043486ba0619b7c3984494b5a7091c43500689.png)  We will examine each of the features of the camera component in detail.

# DeadZone

If you watch the video below, the camera doesn't follow the movement of the player avatar when it moves slightly left or right. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1657019820558b44468bafaf543d09447717a4987613f.gif)  When it jumps, the player avatar moves up and down on the Y axis, but the camera doesn't move. Likewise, while the player avatar stays in the DeadZone, the camera doesn't follow the avatar's movement. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/165702062238605bd4be1a9174ee48bc5ce6512c80f0f.png)  If the DeadZone value is changed to 0, the camera reacts to small movements as shown below. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1657019829316abef7f6dc9b94ec79cc6865a63e25d67.gif)  Depending on the game you are creating, when you don't have a DeadZone, players may tire of sensitive camera movement. However, in a game that requires quick movement, if you set a big DeadZone, the responsiveness may suffer. If you adjust this value in accordance with the style of game you are creating, it can greatly enhance the feel of the action.

# SoftZone

Outside of the DeadZone is SoftZone. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1657017680023250571fd27f94d1cbda001a2b372ae8c.png)  If a player avatar is located in the SoftZone, the camera will chase after the player avatar to ensure that it doesn't move off the screen. When moving outside of the SoftZone, the camera chases after the player avatar even faster.

# Damping

Damping is a ratio that connects the before and after movements smoothly by stopping the fast movement of the camera when a player avatar escapes from the DeadZone. If this value increases, the speed of the camera chasing the player avatar becomes smoother. As an extreme example, if you greatly increase the values of the Damping and SoftZone, the speed of chasing the player avatar becomes very slow, allowing for situations where the avatar might escape from the camera. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/16570191045568fcfc3ae70714c339d1c00f8769f5b1a.gif)

# CameraOffSet

Edit the location where the camera views the player. You can better understand if you see the difference between the default value and the edited value below. (Change x value) ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16570177781742ef034f8531742fb95c3726007ac09c2.png)![6](https://mod-file.dn.nexoncdn.co.kr/bbs/165701780364165f094a24a814c2ba6410832691f10d2.png)

# DutchAngle

Sets the rotation value of the camera. If you enter 80 for the angle, it will look like the image shown below. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16570178319148e3e4420a1164958a85a65787011d4a2.png)

# Screen Offset

Although you can edit the point of showing the player avatar similar to CameraOffset, this value is the proportion value of the screen based on the subject. You can enter a value between 0 and 1, where a value of 0.5 places the camera at the center. For example, an X value of 0.8 will place the Player Avatar on the right side of the screen as shown below. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/16570178556921cd2a75c27ca4ad1ab666cbadf106ba2.png)

# isAllowZoomInOut

In the Maker screen, you can zoom in or out on the screen by moving the mouse wheel up or down. If this value is set to True, the player can also zoom in and out using the mouse wheel while playing. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/165701854542594cce980f29f4bc9b9c14dc75c766830.gif)

# UseCustomBound

You can choose to define and use the camera-restricted area. If the **UseCustomBound** value is **True**, you can use the **LeftBottom, RightTop** property to define camera-restricted area. Press the **Collider Edit** button to either visually check the camera-restricted area through the gizmo displayed in the Scene ![scene](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene.png) or easily adjust the area using a handler. ![UseCustomBound](https://mod-file.dn.nexoncdn.co.kr/bbs/16570204046562c59667490614c61917b3a312c8579a5.gif) If the CameraComponent - UseCustomBound value is **False**, the map area is used as the camera-restricted area. If the MapComponent - UseCustomBound value of the map area is **False**, the map area is set to its default state. When the map area is in the default state, the camera-restricted area is defined as the corrected area based on that default area. However, if the MapComponent - UseCustomBound value is **True**, the map area set by the creator is used as the camera-restricted area. Here is a summary.

| Component configuration | Camera-restricted area |
| --- | --- |
| CameraComponent - UseCustomBound - **True** | Use the camera-restricted area defined by the creator |
| CameraComponent - UseCustomBound - **False** <br>MapComponent - UseCustomBound - **True** | Use the map area defined by the creator as the camera-restricted area |
| CameraComponent - UseCustomBound - **False**<br>MapComponent - UseCustomBound - **False** | Use the area corrected based on the default map area as the camera-restricted area |

Update 2025-11-17 PM 08:14


# Controlling the Camera with CameraService

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=50m&amp;color=green)

# Course Introduction

Sometimes you might want to change the target of the camera, zoom in, or zoom out. In this course, we will explore how to control the target camera using [CameraService](/apiReference/Services/CameraService) and learn about camera transition effects.

##### Reference Guide

[Referring to Entities and Components](docs?postId=164) [TriggerComponent to Sense Entity Collision](docs?postId=175) [Event System](/docs?postId=73) [Entity Event System](/docs?postId=176)

# Preset

To explore the functionalities of **CameraService**, let's create the following scenario:

- When a character touches an object, the camera's target changes to an NPC or zooms in/out.
- Camera starts to move, and returns to its original position after 5 seconds.
- Upon target change or zoom in/out, Blend effect is adjusted.

For this to work, the following presets are required. We need to set the map and component.

#### Map Preset

Make a long horizontal map as shown below. Place SpawnLocation on the far left, and NPC on the far right. Place an object next to SpawnLocation, which will be the trigger for controlling the camera upon contact with the character. SpawnLocation Entity can be placed from the Special category of the Preset List. Object and NPC can be placed from the Object and NPC categories, respectively. ![cameraservicemapsetting](https://mod-file.dn.nexoncdn.co.kr/bbs/1635747662929b64966a13f79452686e64614e2872887.png)

#### Component Preset

Add the following components to the object and NPC placed above.

| Entity | Additional Component |
| --- | --- |
| Object | <ul><li>TriggerComponent</li><li>New Script Component<ul><li>Make a new script component and name it CameraControl.</li><li>Make a new script component and add it to Object.</li><li>Implement the staging of camera when a character touches the object.</li></ul></li></ul> |
| NPC | CameraComponent |

Confirm if **DefaultPlayer** also has **CameraComponent** added to it. If the character does not have a **CameraComponent** attached to it, add one. ![cameraservice01](https://mod-file.dn.nexoncdn.co.kr/bbs/165966452699771f41d7f09c44b2a9d600a871338c465.png)

Next, add **TriggerEnterEvent** to the script component that was added to the object to implement camera control. Set the event sender as **Self**. ![CameraService02](https://mod-file.dn.nexoncdn.co.kr/bbs/16878426310085e90821333e043a9917fef09d35f5ba7.png)

# Changing Camera Target

Now that the preliminary setup is complete, let's explore the functionalities of **CameraService** in more detail. First, let's learn how to set the target of a camera.

##### void SwitchCameraTo(CameraComponent cameraToSwitch)

During gameplay, the camera typically follows the player as the subject (target) and keeps the player in view on the screen. However, to change the camera's subject (target) for genre-specific reasons or special game effects, the camera can make use of the `SwitchCameraTo()` function provided by CameraService.

The `SwitchCameraTo()` function allows you to change the camera's subject (target). When you want to move the camera away from the default subject, the player, and focus it on a specific entity, you can use the `SwitchCameraTo()` function. When you call the `SwitchCameraTo()` function, it accepts the path of the target entity that has **CameraComponent** attached to it, and it moves the camera's subject to the target entity.

The code below demonstrates how to use the `SwitchCameraTo()` function to change the camera target from the character to an NPC. Add the following content to the **TriggerEnterEvent** of the script component that was added during the preliminary setup.

```
[self]
HandleTriggerEnterEvent (TriggerEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------
    
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------
    --Retrieve the NPC entity that will serve as the camera's target.
    --The NPC path may vary depending on which NPC was placed.
    local NPCEntity = _EntityService:GetEntityByPath("/maps/map01/npc-13")
         
    --Use the SwitchCameraTo function to change the camera target to the NPC.
    -- Pass the CameraComponent of the NPC entity as a parameter to the SwitchCameraTo function.
    _CameraService:SwitchCameraTo(NPCEntity.CameraComponent)   
}
```

Press Start to check if the camera successfully changes its target.

#### number TransitionBlendTime

**TransitionBlendTime** is a property provided by **CameraService** that lets you set the time it takes for the camera to transition to the target subject. If you set the **TransitionBlendTime** time before calling the `SwitchCameraTo()` function, you will be able to observe the camera smoothly transitioning to the target subject over the specified time. Therefore, by setting the time for **TransitionBlendTime** before calling the `SwitchCameraTo()` function, you can observe the camera smoothly transitioning to the new target over the specified **TransitionBlendTime** duration. The code below demonstrates assigning a time value to **TransitionBlendTime**, resulting in a faster camera transition.

```
[self]
HandleTriggerEnterEvent (TriggerEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------
    
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------
    --Retrieve the NPC entity that will serve as the camera's target. Enter the path of the NPC entity placed at NPCPath.
    local NPCEntity = _EntityService:GetEntityByPath("/maps/map01/npc-13") 
    
    -- Set the transition time for the camera to switch to a different target. 
    _CameraService.TransitionBlendTime = 1  
    
    --Use the SwitchCameraTo function to change the camera target to the NPC.
    -- Pass the CameraComponent of the NPC entity as a parameter to the SwitchCameraTo function.
    _CameraService:SwitchCameraTo(NPCEntity.CameraComponent)
}
```

Press Start for a test.

#### CameraBlendType TranstionBlendType

**TranstionBlendType** is a property that allows you to control the camera's movement when transitioning to a new subject (target). Before calling `SwitchCameraTo()`, you can assign an enum value from CameraBlendType to **TranstionBlendType**, allowing you to change the blend type during the target transition. Below is the added code that assigns CameraBlendType.Linear to **TranstionBlendType** in the previous example, to change the camera's movement to be slightly more rigid.

```
[self]
HandleTriggerEnterEvent (TriggerEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------
    
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------
    --Retrieve the NPC entity that will serve as the camera's target. "NPCPath" enters the path of each placed NPC entity.
    local NPCEntity = _EntityService:GetEntityByPath("/maps/map01/npc-13")
         
    -- Set the transition time for the camera to switch to a different target.
    _CameraService.TransitionBlendTime = 1
         
    --Set camera movement.
    --Linear moves the camera at a constant speed to transition the view smoothly. 
    -- Since it transitions linearly, it may feel rigid and mechanical. 
    _CameraService.TransitionBlendType = CameraBlendType.Linear
         
    --Use the SwitchCameraTo function to change the camera target to the NPC.
    -- Pass the CameraComponent of the NPC entity as a parameter to the SwitchCameraTo function.
    _CameraService:SwitchCameraTo(NPCEntity.CameraComponent)
}
```

Press Start to test. You will notice a different movement compared to the example without **TransitionBlendType** configuration.

###### Before Configuring TransitionBlendType

###### After Configuring TransitionBlendType

There are six blend types. The default value of **TranstionBlendType** is **EaseInOut**, and it is automatically assigned if no other type value is specified.

| Type | Explanation |
| --- | --- |
| Cut | Immediately switches the position of the camera to that of CameraComponent. The screen is switched as if it performs a teleportation. TranstitionBlendTime is meaningless when TransitionBlendType is Cut. |
| EaseInOut | Softens the beginning and end of transition like a S-curve. Default value for Blend type. |
| EaseIn | Transition starts linearly and ends smoothly. |
| EaseOut | Transition starts smoothly and ends linearly. |
| HardIn | Transition starts smoothly and ends quickly. |
| HardOut | Transition starts quickly and ends smoothly. |
| Linear | Transition is done at constant speed. The transition will become linear, making it look stiff and machine-like. |

# Zoom Control

Let's learn how to control camera zoom in/out during play. We won't be needing the code from above, so delete it, and start from below.

```
[self]
HandleTriggerEnterEvent (TriggerEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------
    
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------
}
```

#### void ZoomTo(number percent, number duration)

The `ZoomTo()` function performs a zoom in or out over a specific duration of time. It takes **Percent** and **Duration** as parameter. **Percent** represents the zoom value to be changed, and you pass a percentage value when calling the function. If the new value is bigger than the current value, it zooms in, and zooms out if the value is smaller. **Duration** is the time it takes to reach the value passed as a parameter (in seconds) from the current zoom value.

Below is an example code that uses the `ZoomTo()` function to zoom in on the character over a period of 5 seconds.

```
[self]
HandleTriggerEnterEvent (TriggerEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------
    
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------
    -- Zooms the camera to 150% for 5 seconds.
    _CameraService:ZoomTo(150, 5)
}
```

Press Start to test. Once the character touches the door, the camera will zoom in on the character (target) for 5 seconds.

#### void ZoomReset()

The `ZoomReset()` function is used to reset the zoom value to its initial value. By using `ZoomReset()`, you can reset the zoom value back to its initial value (100%) even after using `ZoomTo()` to change the zoom.

Continuing from the `ZoomTo()` example, here is example code that uses `ZoomReset()` to change the zoom value back to 100% after 5 seconds. For clarity, **TimerService** is used. Please refer to the [TimerService](/docs?postId=47) guide.

```
[self]
HandleTriggerEnterEvent (TriggerEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------
    
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------
    -- Zoom in to 150% for 5 seconds.
    _CameraService:ZoomTo(150, 5)
     
    -- Create a CallBack function that can be scheduled to run 5 seconds after the zoom-in is complete.
    -- Inside the CallBack function, call ZoomReset.
    local CallBack = function()
        _CameraService:ZoomReset() 
    end
     
    -- By using TimerService and passing the CallBack function to be executed 5 seconds after the zoom-in is complete.
    -- Make sure that the ZoomReset function inside the CallBack function can be executed.
    _TimerService:SetTimerOnce(CallBack, 10)
}
```

Press Start to test. You'll see that the camera zooms to 150% for 5 seconds after touching the door, then comes back to default position after another 5 seconds.

# Other Features

**CameraService** provides several useful features in addition to its core functionalities.

#### Property

**number CurrentZoomRatio (read only)** The property returns the zoom ratio of the camera into a percentage value. Default value is 100. Since this property is read-only, you should use the `ZoomTo()` function when you want to set the zoom ratio.

```
log("zoom : ".._CameraService.currentZoomRatio)  -- Outputs 100
```

#### Functions

**CameraComponent GetCurrentCameraComponent()** Brings in CameraComponent of the Entity the camera is currently tracking.

```
local cameraComponent = _CameraService:GetCurrentCameraComponent()
log(cameraComponent)
```

Update 2025-11-17 PM 08:14


# Let's Sparkle with Skill Effects!

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=40m&amp;color=green)

# Course Introduction

MapleStory Worlds provides many effect resources that were used in MapleStory. By calling such effects at appropriate times and locations, we can create more exciting games. In this course, we will learn about how to call effects via script by executing an example where skill effects are exposed whenever a particular key is pressed. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1657073589665cedf2671ce1f46b1966a5a7b8ce7817f.gif)  Looking at the following guides beforehand will be useful in understanding this course. [Script Editor Orientation](https://mod-developers.nexon.com/docs?postId=56) [Referring to Entities and Components](https://mod-developers.nexon.com/docs?postId=164)

# EffectService

Let's examine a service in MapleStory Worlds to call effects, **_EffectService**. **_EffectService** is a service with an effect control function. Functions to call effects include the `PlayEffect` and `PlayEffectAttached` functions. Each function's function is as follows:

##### PlayEffect (string animationClipRUID, Entity instigator, Vector3 position, number zRotation, Vector3 scale, boolean isLoop = False)

- You can call effects in the desired size in a particular fixed location.
- Parameter:
  - animationClipRUID: RUID of the calling effect resource.
  - instigator: Entity for importing map information. Enter same entity with the map where the effect will be called.
  - position: Enter the location vector where effects will be called.
  - zRotation: Enter rotation value. Enter 0 if you don't need rotation.
  - scale: Enter the vector value of the size of the effect you will call. Basically, you can enter Vector3(1, 1, 1).
  - isLoop: Enter true to loop the effect, or false to play the effect once.

##### PlayEffectAttached(string animationClipRUID, Entity parentEntity, Vector3 localPosition, number localZRotation, Vector3 localScale, boolean isLoop = False)

- Although it calls effects as `PlayEffect`, it selects the parent entity of the effect that will be called and sets the location of calling based on the location of the parent.
- Parameter:
  - animationClipRUID: RUID of the calling effect resource.
  - parentEntity: Enter the entity that will be the parent of the effect that will be called. The called effects are created as the child of the entities.
  - localPosition: Enter the location vector value regarding how far it will be called based on the position of the parent entity. Basically, if you enter Vector3(0,0,0), effects are created in the same location as the parent entity.
  - localZRotation: Enter how much more it will rotate based on the rotation value of the parent entity.
  - localScale: Enter vector value of the size of the effect you will call. Basically, you can enter Vector3(1, 1, 1).
  - isLoop: Enter true to loop the effect, or false to play the effect once.

We briefly looked into the function that calls effects. Let's dive into the example.

# Making a Key Entering Function

Prior to the function of calling skills, we will first create a function for receiving the event when a key is entered.

1. In the **Workspace**, add a new component, and enter **NewSkill** as its name. ![newcomponent](https://mod-file.dn.nexoncdn.co.kr/bbs/16878457449028bebb7ed9b9141288f93dd176baca7c5.png)
2. Add a handler to the **NewSkill** component to handle keystroke events. Press the **[+]** button and add **KeyDownEvent**.
3. Write the code for **HandleKeyDownEvent** as follows.```
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event) 
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    if key == KeyboardKey.Q then
        log("Q")   
    elseif key == KeyboardKey.W then
        log("W")
    elseif key == KeyboardKey.E then
        log("E")
    elseif key == KeyboardKey.R then
        log("R")
    end
}
```
4. In the property of **Workspace - DefaultPlayer**, add the **NewSkill** component. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/163548611402098c3ded642444abfadea659e0d4c11e4.png)
5. Let's press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Try pressing the Q, W, E, R buttons in order and check if log appears in the console window. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/168784592446662b0ed4106354178bf8d999b4e63ce09.png)

# Calling Effects When Inputting a Key

This time, we will call the following skill effects whenever each key is entered. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16570736554871ba7e07a399d41e9ae395e244a86397f.png)  First, we will compose a script with the `PlayEffect` function from the **_EffectService** functions.

1. Modify **HandleKeyDownEvent** of **NewSkill** component as follows.```
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event) 
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    local transform = self.Entity.TransformComponent
    local x = transform.Position.x
    local y = transform.Position.y
    local z = transform.Position.z

    if key == KeyboardKey.Q then
        _EffectService:PlayEffect("f396262ddb6e4d5581360496bb4e9f86",self.Entity,Vector3(x,y,z), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.W then
        _EffectService:PlayEffect("aae828e6daa342a996320e32dc5c2ab6",self.Entity,Vector3(x,y,z), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.E then
        _EffectService:PlayEffect("0da34c3dd7ba4c2890107d743b8c7a97",self.Entity,Vector3(x,y,z), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.R then
        _EffectService:PlayEffect("5f67e1efe0b84d9c9111a21ecfedc937",self.Entity,Vector3(x,y,z), 0, Vector3(1,1,1), false)
    end
}
```
2. Let's press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Try pressing the Q, W, E, R buttons in order and check if the effect is called. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/16570737747217dd51981074941c29e9f0fcb75018662.gif)

# Calling Effects Using PlayEffectAttached

In fact, the effect call method discussed above is not suitable for skill effects. If implemented like the example above, when you move the character after pressing the Q, W, E, or R keys, the character will move out of the effect. Since `PlayEffect` is a function suitable for calling an effect in a fixed position as mentioned briefly above, it is not suitable for an effect that should always be floating on the character, such as a buff skill. In this case, we use a function called `PlayEffectAttached`. In case of `PlayEffectAttached`, you can designate the target entity on which the effect will float, the parent entity here, so you can eliminate the above separation of the character and the effect. Let's modify the script to use `PlayEffectAttached` instead of `PlayEffect` this time.

1. Modify **HandleKeyDownEvent** of **NewSkill** component as follows.```
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event) 
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    if key == KeyboardKey.Q then
        _EffectService:PlayEffectAttached("f396262ddb6e4d5581360496bb4e9f86",self.Entity,Vector3(0,0,0), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.W then
        _EffectService:PlayEffectAttached("aae828e6daa342a996320e32dc5c2ab6",self.Entity,Vector3(0,0,0), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.E then
        _EffectService:PlayEffectAttached("0da34c3dd7ba4c2890107d743b8c7a97",self.Entity,Vector3(0,0,0), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.R then
        _EffectService:PlayEffectAttached("5f67e1efe0b84d9c9111a21ecfedc937",self.Entity,Vector3(0,0,0), 0, Vector3(1,1,1), false)
    end
}
```
2. Let's press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Try pressing the Q, W, E, R buttons in order and check if the effect is called. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1657074462609d91dd217137d4049a2aa8ff3aa5df599.gif)

Update 2025-11-17 PM 08:14


# Let's Sparkle with Skill Effects!

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=40m&amp;color=green)

# Course Introduction

MapleStory Worlds provides many effect resources that were used in MapleStory. By calling such effects at appropriate times and locations, we can create more exciting games. In this course, we will learn about how to call effects via script by executing an example where skill effects are exposed whenever a particular key is pressed. ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1657073589665cedf2671ce1f46b1966a5a7b8ce7817f.gif)  Looking at the following guides beforehand will be useful in understanding this course. [Script Editor Orientation](https://mod-developers.nexon.com/docs?postId=56) [Referring to Entities and Components](https://mod-developers.nexon.com/docs?postId=164)

# EffectService

Let's examine a service in MapleStory Worlds to call effects, **_EffectService**. **_EffectService** is a service with an effect control function. Functions to call effects include the `PlayEffect` and `PlayEffectAttached` functions. Each function's function is as follows:

##### PlayEffect (string animationClipRUID, Entity instigator, Vector3 position, number zRotation, Vector3 scale, boolean isLoop = False)

- You can call effects in the desired size in a particular fixed location.
- Parameter:
  - animationClipRUID: RUID of the calling effect resource.
  - instigator: Entity for importing map information. Enter same entity with the map where the effect will be called.
  - position: Enter the location vector where effects will be called.
  - zRotation: Enter rotation value. Enter 0 if you don't need rotation.
  - scale: Enter the vector value of the size of the effect you will call. Basically, you can enter Vector3(1, 1, 1).
  - isLoop: Enter true to loop the effect, or false to play the effect once.

##### PlayEffectAttached(string animationClipRUID, Entity parentEntity, Vector3 localPosition, number localZRotation, Vector3 localScale, boolean isLoop = False)

- Although it calls effects as `PlayEffect`, it selects the parent entity of the effect that will be called and sets the location of calling based on the location of the parent.
- Parameter:
  - animationClipRUID: RUID of the calling effect resource.
  - parentEntity: Enter the entity that will be the parent of the effect that will be called. The called effects are created as the child of the entities.
  - localPosition: Enter the location vector value regarding how far it will be called based on the position of the parent entity. Basically, if you enter Vector3(0,0,0), effects are created in the same location as the parent entity.
  - localZRotation: Enter how much more it will rotate based on the rotation value of the parent entity.
  - localScale: Enter vector value of the size of the effect you will call. Basically, you can enter Vector3(1, 1, 1).
  - isLoop: Enter true to loop the effect, or false to play the effect once.

We briefly looked into the function that calls effects. Let's dive into the example.

# Making a Key Entering Function

Prior to the function of calling skills, we will first create a function for receiving the event when a key is entered.

1. In the **Workspace**, add a new component, and enter **NewSkill** as its name. ![newcomponent](https://mod-file.dn.nexoncdn.co.kr/bbs/16878457449028bebb7ed9b9141288f93dd176baca7c5.png)
2. Add a handler to the **NewSkill** component to handle keystroke events. Press the **[+]** button and add **KeyDownEvent**.
3. Write the code for **HandleKeyDownEvent** as follows.```
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event) 
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    if key == KeyboardKey.Q then
        log("Q")   
    elseif key == KeyboardKey.W then
        log("W")
    elseif key == KeyboardKey.E then
        log("E")
    elseif key == KeyboardKey.R then
        log("R")
    end
}
```
4. In the property of **Workspace - DefaultPlayer**, add the **NewSkill** component. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/163548611402098c3ded642444abfadea659e0d4c11e4.png)
5. Let's press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Try pressing the Q, W, E, R buttons in order and check if log appears in the console window. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/168784592446662b0ed4106354178bf8d999b4e63ce09.png)

# Calling Effects When Inputting a Key

This time, we will call the following skill effects whenever each key is entered. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16570736554871ba7e07a399d41e9ae395e244a86397f.png)  First, we will compose a script with the `PlayEffect` function from the **_EffectService** functions.

1. Modify **HandleKeyDownEvent** of **NewSkill** component as follows.```
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event) 
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    local transform = self.Entity.TransformComponent
    local x = transform.Position.x
    local y = transform.Position.y
    local z = transform.Position.z

    if key == KeyboardKey.Q then
        _EffectService:PlayEffect("f396262ddb6e4d5581360496bb4e9f86",self.Entity,Vector3(x,y,z), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.W then
        _EffectService:PlayEffect("aae828e6daa342a996320e32dc5c2ab6",self.Entity,Vector3(x,y,z), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.E then
        _EffectService:PlayEffect("0da34c3dd7ba4c2890107d743b8c7a97",self.Entity,Vector3(x,y,z), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.R then
        _EffectService:PlayEffect("5f67e1efe0b84d9c9111a21ecfedc937",self.Entity,Vector3(x,y,z), 0, Vector3(1,1,1), false)
    end
}
```
2. Let's press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Try pressing the Q, W, E, R buttons in order and check if the effect is called. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/16570737747217dd51981074941c29e9f0fcb75018662.gif)

# Calling Effects Using PlayEffectAttached

In fact, the effect call method discussed above is not suitable for skill effects. If implemented like the example above, when you move the character after pressing the Q, W, E, or R keys, the character will move out of the effect. Since `PlayEffect` is a function suitable for calling an effect in a fixed position as mentioned briefly above, it is not suitable for an effect that should always be floating on the character, such as a buff skill. In this case, we use a function called `PlayEffectAttached`. In case of `PlayEffectAttached`, you can designate the target entity on which the effect will float, the parent entity here, so you can eliminate the above separation of the character and the effect. Let's modify the script to use `PlayEffectAttached` instead of `PlayEffect` this time.

1. Modify **HandleKeyDownEvent** of **NewSkill** component as follows.```
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event) 
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    if key == KeyboardKey.Q then
        _EffectService:PlayEffectAttached("f396262ddb6e4d5581360496bb4e9f86",self.Entity,Vector3(0,0,0), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.W then
        _EffectService:PlayEffectAttached("aae828e6daa342a996320e32dc5c2ab6",self.Entity,Vector3(0,0,0), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.E then
        _EffectService:PlayEffectAttached("0da34c3dd7ba4c2890107d743b8c7a97",self.Entity,Vector3(0,0,0), 0, Vector3(1,1,1), false)
    elseif key == KeyboardKey.R then
        _EffectService:PlayEffectAttached("5f67e1efe0b84d9c9111a21ecfedc937",self.Entity,Vector3(0,0,0), 0, Vector3(1,1,1), false)
    end
}
```
2. Let's press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and test. Try pressing the Q, W, E, R buttons in order and check if the effect is called. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1657074462609d91dd217137d4049a2aa8ff3aa5df599.gif)

Update 2025-11-17 PM 08:14


# Creating Sound Effects

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

To create a more realistic world, you will learn how to play and control audio clips appropriately using [**SoundComponent**](/apiReference/Components/SoundComponent) and [**SoundService**](/apiReference/Services/SoundService).

# SoundComponent

To create a more realistic world, you can play sounds here and there and adjust their volume depending on the distance between the player and a given entity. Using **SoundComponent**, you can insert various sounds and play them appropriately for an immersive feeling when interacting with a specific object.  You can add **SoundComponent** to your entity and play or stop the sound. Audio clips use the **Audio RUID** of **Resource Storage** or the **RUID** of the audio clip added by the creator. For detailed information about controllable properties, refer to the [**SoundComponent**](/apiReference/Components/SoundComponent) section.

## Example

You can make your world more immersive with new sounds that play when approaching an object or a monster.

### SetListenerEntity function

For one-of-a-kind staging, you can adjust the volume depending on the distance from a given entity with **SoundComponent** and `SetListenerEntity()`. When a component using this function is attached to a specific entity, the volume increases as it gets closer, and decreases to 0 as it moves away. When the audio clip enters the audible point, the sound is heard again. However, it's not replaying after pausing, but simply changing the volume, and does not immediately follow the last heard part. If the player moves using skills like teleporting, the volume will decrease immediately.

1. Add **SoundComponent** to a specific object.
2. Create a new script component **ObjectSound** in **MyDesk**.
3. Write the following code after adding the `OnBeginPlay()` function and add it to the entity to which **SoundComponent** has been added.
4. Let's press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. Check if the volume changes with sideways movements.

```
[client only]
void OnBeginPlay()
{
    self.Entity.SoundComponent.AudioClipRUID = "12f37a0d7970482e82ceb45718f92674"
    self.Entity.SoundComponent.Loop = true
    self.Entity.SoundComponent:Play()
    wait(2)
    self.Entity.SoundComponent:SetListenerEntity(_UserService.LocalPlayer)
}
```

### SetCameraAsListener property

You can use the **SetCameraAsListener** property. As described in the **SoundComponent** property, enabling **SetCameraAsListener** adjusts the volume of sound according to the distance between the center of the screen and the audio clip. Let's take a quick look at how to use the **SetCameraAsListener** property.

1. After placing any object in **Preset List** to **Scene**, enter the following **RUID** to **SpriteRendererComponent - SpriteRUID**.
  - SpriteRUID : **c5cf1b7c8d6447f7979b544e166965fc** ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/167333830964936922246ca3c4abb9779d0b72e0eb37d.png)
2. Add **SoundComponent** to the object and set as follows. | Property | Value |
| --- | --- | | AudioClipRUID | 74222ba4b41d48dd97175fd691124a67 | | HearingDistance | 10 | | PlayOnEnable | true | | SetCameraAsListener | true | | Loop | true |
3. Let's press the **[Start]** ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) button and run a test. When you get closer to the object you are hammering, you hear a sound effect, and when you get farther away, the sound is muted.

However, remember that even if the **SetCameraAsListener** property is activated, if there is a listener entity specified through the **SetListenerEntity** function, the specified entity becomes the listener.

# SoundService

SoundService is used to call the required function where the creator wishes to control sounds. You can use various functions to play or stop the audio clip or to play it only in a designated area. For detailed functions, please refer to [**SoundService**](/apiReference?postId=316).

## Example

### Adding UI Button Sound Effects

You can make designated sound effects play whenever UI buttons are pressed.

1. Place a button from UI Editor.
2. Create a new script component with a name of **EffectComponent** and add it to the button.
3. Add **ButtonClickEvent** to the event handler to detect the click event.
4. Enter **AudioClipRUID** and the volume of the audio clip to be played when the button is pressed.

```
Event Handler:
[client only]
HandleButtonClickEvent(ButtonClickEvent event) 
{
    -- Parameters
    _SoundService:PlaySound("21600ec9d3a04cfeb69c6fe0c50e197c",1)
}
```

### Skill effects and sound effects

You can make the action more dynamic by adding effect skills and sound effects to the default attack skill.

1. Create a new **SkillSound** script component in **MyDesk** and add it to **DefaultPlayer**.
2. Add **KeyDownEvent** to the event handler and write as follows.

```
Event Handler:
[clinet only] [service: InputService]
HandleKeyDownEvent(KeyDownEvent event)
{
    -- Parameters
    local key = event.key
    --------------------------------------------------------
    if key == KeyboardKey.LeftControl then
        _SoundService:PlaySound("02fe29e7670c447cb23c4ee4e5bf5674", 0.3)
        _EffectService:PlayEffect("01f39ee5971246ed8306bc471d44a1fd", self.Entity, self.Entity.TransformComponent.Position, 0, Vector3(1,1,1), false)
    end
}
```

Update 2025-11-17 PM 08:14


# Using Particles

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Particles refer to many small elements, such as snow, rain, and dust. You can control the properties and state via ParticleComponent. Let's learn more about the concept of particles and how to use particle components.

##### API Reference

[BaseParticleComponent](/apiReference/Components/BaseParticleComponent) [AreaParticleComponent](/apiReference/Components/AreaParticleComponent) [BasicParticleComponent](/apiReference/Components/BasicParticleComponent) [SpriteParticleComponent](/apiReference/Components/SpriteParticleComponent) [UIBaseParticleComponent](/apiReference/Components/UIBaseParticleComponent) [UIAreaParticleComponent](/apiReference/Components/UIAreaParticleComponent) [UIBasicParticleComponent](/apiReference/Components/UIBasicParticleComponent) [UISpriteParticleComponent](/apiReference/Components/UISpriteParticleComponent) [ParticleEmitEndEvent](/apiReference/Events/ParticleEmitEndEvent) [ParticleEmitStartEvent](/apiReference/Events/ParticleEmitStartEvent) [ParticleLoopEvent](/apiReference/Events/ParticleLoopEvent) [ParticleService](/apiReference/Service/ParticleService)

# Using Particles

The movements of various particles can be expressed using particles. ![00](https://mod-file.dn.nexoncdn.co.kr/bbs/166330355094795e601dda1164aac848ae79d1496e768.gif)

There are 3 ways to use particles. The creator can use particles in the method of their choice.

| Place in Preset List | Add particle component to entity | Add from Workspace |
| --- | --- | --- |
| In ![preset](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_asset.png) Preset List - Particle Effect, place the particles you want in the ![scene](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene.png) Scene. | Add a particle component to the ![property](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_inspector.png) property of the entity to generate particles | In ![workspace](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_workspace.png) Workspace, select the particle model, and place it in the ![scene](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene.png) Scene. |
| ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16606313000388e7d4aa6e5374d6196f17bf2166b1b3e.png) | ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16606314685787f65edd3774b494cb32c9f285a4abdbc.png) | ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1660285664348a8db102a53b142f9b04a4e043ab2bb09.png) |

# Types of Particle Components

Particle components are largely classified for world and for UI, and there are 3 particles.

- Particle Component for World: [BasicParticleComponent](/apiReference/Components/BasicParticleComponent), [SpriteParticleComponent](/apiReference/Components/SpriteParticleComponent), [AreaParticleComponent](/apiReference/Components/AreaParticleComponent)
- Particle Component for UI: [UIBasicParticleComponent](/apiReference/Components/UIBasicParticleComponent), [UISpriteParticleComponent](/apiReference/Components/UISpriteParticleComponent), [UIAreaParticleComponent](/apiReference/Components/UIAreaParticleComponent)

## BasicParticleComponent

The [BasicParticleComponent](/apiReference/Components/BasicParticleComponent) is a component controls the general particles. ![basic](https://mod-file.dn.nexoncdn.co.kr/bbs/16633078865839e5488d2c3574197a38db8ff29c04719.png)

| Property | Description |
| :---: | --- |
| ParticleType | Sets the type of particle to be generated. <br> Supported properties vary depending on the particle type. |
| Color | Corrects the color of the particles to be rendered. <br> ![color](https://mod-file.dn.nexoncdn.co.kr/bbs/1660286156819e905e8074a604e01800aa653fb244c1c.gif) |
| Loop | Sets whether to play particles repeatedly. |
| ParticleCount | Sets the number of particles. <br> ![count](https://mod-file.dn.nexoncdn.co.kr/bbs/16602820708290573d1ebd7634d4491632ef67088c0f5.gif) |
| ParticleLifeTime | Sets the duration of particles. <br>![life](https://mod-file.dn.nexoncdn.co.kr/bbs/1660282419952c9bc08a01b6040ae929a90ddb867fc96.gif) |
| ParticleSize | Sets the size of particles. <br>![size](https://mod-file.dn.nexoncdn.co.kr/bbs/16602825979965f0f3af7b4304a6a9d3f220a9f645128.gif) <br> If you want to control the size of the entire particle, let's adjust the scale of TransformComponent. |
| ParticleSpeed | Sets the speed of particles. <br>![particlespeed](https://mod-file.dn.nexoncdn.co.kr/bbs/1660284180137e517a7338d2f4482ba095199640f0fc5.gif) |
| PlayOnEnable | Sets whether to play particles when the particle component is Enable. <br>Whether to repeat after playing should be set through the Loop property. |
| PlaySpeed | Sets the play speed of particles. If <br>PlaySpeed = 0, the particle will appear stopped. <br>PlaySpeed does not support negative numbers. Negative numbers are treated the same as 0. <br>![playspeed](https://mod-file.dn.nexoncdn.co.kr/bbs/166028475387470172905ee5b4714b327f18bf21dce0c.gif) |
| Prewarm | If set as Enable, the maximum number of particles is loaded, and the particles play naturally. <br>From the moment the particle first starts playing, it will look natural as if the particle was already playing before that. |
| SortingLayer | When two or more entities overlap, the priority is determined according to the Sorting Layer. |
| OrderInLayer | It determines the priority within the same Layer. A greater number indicates higher priority. |
| IgnoreMapLayerCheck | It does not perform automatic replace when designating the Map Layer name to SortingLayer. |
| AutoRandomSeed | Sets whether to create a new random seed whenever particle emission begins. |

## SpriteParticleComponent

The [SpriteParticleComponent](/apiReference/Components/SpriteParticleComponent) is a component generates particles via Sprite. For instance, if you set **c4839de6b7be438abf008b5f547cbe98** in **SpriteParticleComponent - SpriteRUID**, the particles will be generated as heart-shaped sprites as below. ![spritegif](https://mod-file.dn.nexoncdn.co.kr/bbs/1663309554383b08e07180d384167a62f7383bcd4710b.gif) Let's look at the main properties.

| Property | Description |
| :---: | --- |
| ApplySpriteColor | Sets whether the Color property is applied to the Sprite to be used by the particle. Even if the property is false, the transparency value of Color is applied. |
| SpriteRUID | Sets the SpriteRUID to be used as the particle. |

## AreaParticleComponent

[AreaParticleComponent](/apiReference/Components/AreaParticleComponent) is a component that can set the particle's generation area. Even if the particle's generation area is changed, the same number of particles will be generated. When the ParticleCount is also increased with the particle's generation area, the particle density can be kept at previous levels, and if only the particle generation area is increased, then the particle density will decrease. Let's look at the main properties.

| Property | Description |
| :---: | --- |
| Bounds | By pressing the Edit button, you can adjust AreaOffset and AreaSize in the Scene. When Editing, the visible rectangular bounds are the creation range, not the existence range of particles. Depending on the movement of the particle after creation, it may go out of the bounds of the rectangle. <br> ![area_bounds](https://mod-file.dn.nexoncdn.co.kr/bbs/166027977616209fce41236a24051a06ec41c99c44699.png) |
| AreaOffset | Sets the location of the centerpoint of the creation range relative to the entity. |
| AreaSize | Specifies the width and height of the particle creation range. |

## UIBasicParticleComponent

[UIBasicParticleComponent](/apiReference/Components/UIBasicParticleComponent) is a component that controls normal particles. It can only be used in UI. Let's look at the main properties.

| Property | Description |
| :---: | --- |
| ParticleType | Set the type of particle to generate. <br> The supported property changes based on the particle type. |
| Color | Corrects the color of the rednered particle. |
| LocalScale | The size of the particle. |
| PlaySpeed | Set the playing speed of the particle. <br>If PlaySpeed = 0, the particle will look like it's paused. <br>PlaySpeed doesn't support negative numbers, and negative numbers will be treated the same as 0. |
| ParticleSize | Set the particle size. |
| ParticleSpeed | Set the particle's speed. |
| ParticleCount | Set the number of particles. |
| ParticleLifeTime | Set the particle's duration. |
| PlayOnEnable | When particle component is set to Enable, whether the particle will be played can be set. <br>Whether it repeats after playing can be set from the Loop property. |
| Loop | Set the particle's repeat play status. |
| Prewarm | When set to Enable, the max numer of particles is called and naturally plays the particle. <br>It will look natural as if it was being played before the particle was even first played. |
| AutoRandomSeed | Set if the random seed will be newly created each time the particle is released. |

## UIAreaParticleComponent

[UIAreaParticleComponent](/apiReference/Components/UIAreaParticleComponent) is a component that can set the particle's generation area in the UI. Even if the particle's generation area is changed, the same number of particles will be generated in that area. Let's look at the main properties.

| Property | Description |
| :---: | --- |
| AreaSize | Sets the particle generation area. |
| AreaOffset | Set the center point of the generation area based on the Entity. |

## UISpriteParticleComponent

[UISpriteParticleComponent](/apiReference/Components/UISpriteParticleComponent) is a component that creates particles using sprites in the UI.

| Property | Description |
| :---: | --- |
| SpriteRUID | Sets the SpriteRUID that will be used as a particle. |
| ApplySpriteColor | Sets if the the Color property will be used in the Sprite that will be used by the particle. Even if the property is set as false, the Color's transparency value will be applied. |
| LocalScale | Sets the size of the particle. |

Update 2025-11-17 PM 08:14


# Utilizing Particles

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

From the [Using Particles](/docs/?postId=1036) guide, we learned the concepts and types of particle components. This time, we'll see examples of particle use by using scripts.

# Particle Scripts

## Controling Particle Properties

Let's see how to control particle properties through an example in which the play speed of particles changes according to the distance from the character.

1. Set a dark background so that the particles can be seen clearly, place the topography, and place the desired particles. In this example, **back-16** is set as the Background and **Nova** is placed as the particle. ![particle](https://mod-file.dn.nexoncdn.co.kr/bbs/1660613012572797db96a127d4a01a0ecd37f02c3ae02.png)
2. Generate the new script component ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ParticlePlaySpeed in ![workspace](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_workspace.png) Workspace - ![MyDesk](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_user_folder_no.png) MyDesk.
3. Add ![etc](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) ParticlePlaySpeed to the particle Entity's ![property](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_inspector.png) Property placed in the map.
4. Open ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ParticlePlaySpeed, add `OnUpdate()` function, and write the script as follows.```
[client only]
void OnUpdate(number delta)
{
    local positionA = Vector2(self.Entity.TransformComponent.Position.x,self.Entity.TransformComponent.Position.y)
    local positionB = Vector2(_UserService.LocalPlayer.TransformComponent.Position.x,_UserService.LocalPlayer.TransformComponent.Position.y)
    local distance = Vector2.Distance(positionA, positionB)

    self.Entity.BasicParticleComponent.PlaySpeed = distance
}
```
5. Let's press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) Start and test. You can check the particle playing slowly as the character gets closer to the particle and faster as they move away. ![speed](https://mod-file.dn.nexoncdn.co.kr/bbs/16606131392543e4d5902b9d74e7ba57dadb7ad920fb5.gif)

## Changing Particle Playing State

Let's see how to play a particle or stop a particle that is playing when a certain event occurs. You can make these functions via the `Play()` and `Stop()` functions. Let's look at an example that stops a particle from playing when a character collides with a specific entity.

1. In ![workspace](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_workspace.png) Workspace - ![DefaultPlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png) DefaultPlayer's ![property](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_inspector.png) Property, add BasicParticleComponent by pressing the "+" button. ![addcomponent](https://mod-file.dn.nexoncdn.co.kr/bbs/1660290482559d3eb4baea5eb46a3b16be66aba558091.png)
2. Set ParticleType to FireField. ![particletype](https://mod-file.dn.nexoncdn.co.kr/bbs/1660290572916bf1ddbdf34bb4d799dca05964b5c5712.png)
3. Generate the new script component ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ParticleController in ![workspace](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_workspace.png) Workspace - ![MyDesk](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_user_folder_no.png) MyDesk.
4. Add ![etc](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) ParticleController to ![DefaultPlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png) DefaultPlayer's ![property](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_inspector.png) Property.
5. Open ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ParticleController, add ![event](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_mod_event_no.png) TriggerEnterEvent in Event Handler, and write as follows.```
Event Handler:
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    self.Entity.BasicParticleComponent:Stop()
}
```
6. Place Entity to activate a trigger and add ![trigger](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/collision.png) TriggerComponent. This example used ![preset](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_asset.png) Preset List - **object-1814**. ![trigger](https://mod-file.dn.nexoncdn.co.kr/bbs/16602924504597b005ed1a05d4844ae69349f39372d47.png)
7. Now press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) Start and test. You can see that the FireField particle attached to the character's body disappears when it hits the waterfall entity. ![firestop](https://mod-file.dn.nexoncdn.co.kr/bbs/16602925276347f42645d58414436a13cd40260c6744b.gif)

# Particle Services

Let's learn how to control particles using particle services.

## One-Time Particle Generation

1. Set a dark background so that the particles can be seen clearly, place the topography, and place the desired entity. In this example, Background - **back-51** is set, and Object - **object-174** is placed in the ![preset](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_asset.png) Preset List. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1660614857422a2b18c5225874b859938ae7d87d119e1.png)
2. Generate the new script component ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ParticleServiceTest in ![workspace](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_workspace.png) Workspace - ![MyDesk](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_user_folder_no.png) MyDesk.
3. Add ![etc](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) ParticleServiceTest to the placed Entity (object-174)'s ![property](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_inspector.png) Property.
4. Add ![etc](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) TweenCircularComponent to it and set as follows. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/166061571192425e9d621c5c54d8f8d64fad989e65a7e.png)
5. Open ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ParticleServiceTest, add the `AddParticle()` function, and then write the script as follows.```
void AddParticle()
{
    local option = {["Color"] = Color(0.25,0.5,0.5, 1), ["ParticleCount"] = 3}

    _ParticleService:PlayBasicParticle(BasicParticleType.Firework, self.Entity, self.Entity.TransformComponent.WorldPosition, 0, Vector3(1,1,1), false, option)
    -- Play the particles through ParticleService's PlayBasicParticle() function. Loop is set to false so that the particle would only play once.
}
```
6. Add the `OnBeginPlay()` function and write as follows.```
[server only]
void OnBeginPlay()
{
    _TimerService:SetTimerRepeat(self.AddParticle, 2, 0) 
    -- Make the AddParticle function work once every 2 seconds.
}
```
7. Press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) Start and test. You can see that the entity generates particles once every 2 seconds. ![particle2](https://mod-file.dn.nexoncdn.co.kr/bbs/1660617146781af026d51a0bc46e1acf08c4ab0ea2158.gif)

## Generation and Deletion of Repeating Particles

Let's learn how to generate and delete the repeatedly playing particles. Let's create an exercise where particles get generated when a character touches a specific entity and then stop when the character arrives at a target point.

1. Place the entity that will emit particles and the target entity. In this example, the entity to emit particles is set as **object-24** (vial), and the target Entity as **object-928** (fire extinguisher). ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1660626870398bc48f56357f64b8896d961b26265f31a.png)
2. Add ![trigger](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/collision.png) TriggerComponent to all placed entities.
3. Generate the new script component ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ParticleServiceTest02 in ![workspace](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_workspace.png) Workspace - ![MyDesk](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_user_folder_no.png) MyDesk.
4. Open ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ParticleServiceTest02 and add the property as follows.```
Property:
[None]
Entity ResetEntity = "nil"    
[None]
SyncTable<number> SpawnList
```
5. Let's say the particles must be generated once the character touches the vial and disappear when it touches the fire extinguisher. Add ![event](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_mod_event_no.png) TriggerEnterEvent to ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ParticleServiceTest02's Event Handler and write as below.```
Event Handler:
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    if TriggerBodyEntity ~= self.ResetEntity then
       local serial = _ParticleService:PlayBasicParticleAttached(BasicParticleType.ToonTallFire, TriggerBodyEntity, Vector3.zero, 0, Vector3.one, true)
       table.insert(self.SpawnList, serial)
       -- When a character hits an entity other than the target entity, a particle will be generated from that entity via the PlayBasicParticleAttached() function.
    else
       for idx, serial in pairs(self.SpawnList) do
           _ParticleService:RemoveParticle(serial)
       -- When the character touches the target entity, all previously generated particles will be removed through the RemoveParticle() function.
       end
       table.clear(self.SpawnList)

    end
}
```
6. Add ![etc](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) ParticleServiceTest02 to ![workspace](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_workspace.png) Workspace - ![DefaultPlayer](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_myavatar_no.png) DefaultPlayer. Then specify the target Entity (ResetEntity). ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/16606287624144a1602d085b94be9a8a2a82da2df2c2c.png)
7. Press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) Start and test. You can see that when the character's body touches the vial, the flame particles are played, and touching the fire extinguisher makes the flame particles disappear. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/16606269436796b58e75202444fc39e8d8bb970970fe7.gif)

# Particle Events

You can use particle events to inflict damage or show direction whenever particles are repeatedly generated. Let's take a look at how to use particle events with an example where the attack function activates and damages the character whenever lightning strikes.

1. Place the ![preset](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_asset.png) Preset List - **LightningStrikeSharp** particle. ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/16606310495644b54ab47cff543aaada7c7264539eadc.png)
2. Extend AttackComponent and generate the new script component ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ExtendAttackComponent. ![14](https://mod-file.dn.nexoncdn.co.kr/bbs/16606293771586eb9e239b50d424d8d0c5f5d79e31eb5.png)
3. Open ![scriptcomponent](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_component_no.png) ExtendAttackComponent and add the `OnLightning()` function.```
void OnLightning()
{
    self:Attack(Vector2(2, 2), Vector2.zero, nil)
    -- Use the Attack() function to determine the attack.
}
```
4. In Event Handler, add ![event](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_mod_event_no.png) ParticleEmitStartEvent and write as follows.```
Event Handler:
HandleParticleEmitStartEvent(ParticleEmitStartEvent event)
{
    -- Parameters
    local ParticleEntity = event.ParticleEntity
    --------------------------------------------------------
    self:OnLightning()
    -- Make the OnLightning function work when starting particles.
}
```
5. In Event Handler, add ![event](https://mod-file.dn.nexoncdn.co.kr/storage/icons/workspace/icon_mod_event_no.png) ParticleLoopEvent and write as follows.```
Event Handler:
HandleParticleLoopEvent(ParticleLoopEvent event)
{
    -- Parameters
    local ParticleEntity = event.ParticleEntity
    --------------------------------------------------------
    self:OnLightning()
    -- Make the OnLightning function work when starting particles.
}
```
6. Add ![etc](https://mod-file.dn.nexoncdn.co.kr/storage/icons/component/Ect.png) ExtendAttackComponent to the initially placed LightningStrikeSharp particle's ![property](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_inspector.png) Property.
7. Press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) Start and test. You can see that the character takes damage when struck by lightning. ![damage](https://mod-file.dn.nexoncdn.co.kr/bbs/166063078658715693caafe5c498cb4d1afb74ab490ca.gif)

> **Learn More** [Attack and Hit](/docs?postId=206) Let's try a variety of effects by referring to the guide.

# Using Particles in UI

If you want to play particles in UI, you must use UIBasicParticleComponent, UIAreaParticleComponent, and UISpriteParticleComponent. Let's learn how to use particles in UI through an example using UIBasicParticleComponent. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1738820159173bac2118a2b8e4fb3939212dacdec4c30.gif)

#### Making UI

Let's make a UI that can play particles.

1. Add a new **UIGroup** to **Hierachy - World - ui**.
2. Set the **DefaultShow** propery under **UIGroupComponent** from the added UIGroup to **true**. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1738820526946c8b71422566e4a919660cc52294d2f78.png)
3. From UIGroup, press **Context Menu - Create Empty - Create Button** to add a new **UIButton**.
4. From UIButton, select **Context Menu - Create Entity as Child - Create UIEmpty**. Change the created entity's name to **UIParticle**. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1738821689063de9df9de3eb24d1ca3aaab61c30a0d34.png)

#### Creating Particles

1. Add **UIBasicParticleComponent** to **UIParticle**.
2. Set the ParticleType as **CircleBust** and adjust to the desired particle size, speed, etc.
3. Set the **Loop** for **UIBasicParticleComponent** as **false** to make the particle play only once when the button is pressed. Also set **PlayOnEnable** to **false** to ensure the particle doesn't play immediately upon entering a world. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1738824957555795b8fa96c3b4e31a73bd9d943735ea5.png)
4. Select **Workspace - Create Script - Create Component** to create a new **UIButtonParticle**.
5. Add the created **UIButtonParticle** to the **UIButton** entity. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17388237882156f14f1b12db546a1a445464f92d57fa1.png)
6. Add a **particleEntity** property to UIButtonParticle. Set the property type to **Entity** and link the **UIParticle** entity. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/173882498272778923333c4a64ed8ad7b1c6c67ddbb18.png)```
Property:
[None]
Entity particleEntity = /ui/UIGroup/UIButton/UIParticle
```
7. Add **ButtonClickEvent** to Event Handler. Write the following so that the particle will play when pressing the button.```
Event Handler:
[self]
HandleButtonClickEvent(ButtonClickEvent event)
{
     --------------- Native Event Sender Info ----------------
     -- Sender: ButtonComponent
     -- Space: Client
     ---------------------------------------------------------

     -- Parameters
     -- local Entity = event.Entity
     ---------------------------------------------------------
     local Entity = event.Entity
     ---------------------------------------------------------
     if self.particleEntity.UIBasicParticleComponent.IsEmitting == true then
         self.particleEntity.UIBasicParticleComponent:Stop()
     end
         self.particleEntity.UIBasicParticleComponent:Play()
}
```
8. After adjusting the entity's size, press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button to see if the particle plays each time a button is pressed.

Update 2025-11-17 PM 08:14


# UI Editor

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's learn about the UI Editor and the UI Group, which are used to edit the UI.

##### Reference Guide

- [Controlling UI Entities](/docs?postId=1154&amp;version=1)
- [Basic UI Components](/docs?postId=744)
- [Creating UI](/docs?postId=64)

# Introducing the UI Editor

With the UI Editor, you can create the Inventory UI or the Shop UI by configuring UI entities and combining them with the UI entities provided by MapleStory Worlds. UI Editor is composed of the following.

![uieditor01](https://mod-file.dn.nexoncdn.co.kr/bbs/1671069935996bed5f94453e9487784be1efc342a3b10.png)

| Number | Name | Explanation |
| --- | --- | --- |
| ![NO01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541272181b5c1a55fcf3d49b19734d25913c38583.jpg) | Preset List | You can use various UI Presets provided by the Maker. |
| ![NO_02](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541300837cb541c2f44e046a79bb1901a885aa8ac.jpg) | UI Path Information | You can see the path information for the selected UI entity.<br>Choose the parent path to select the entity. |
| ![NO_03](https://mod-file.dn.nexoncdn.co.kr/bbs/163454131465069e090278448490f965207e9a4a10348.jpg) | Canvas | This is where you place and edit UI entities.<br>What appears on canvas will be output to the game screen when the game is running. |
| ![NO_04](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541326353d8628c1473944497bf376acb7a65ca45.jpg) | Basic Tools | You can place UI entities such as images and buttons. |
| ![NO_05](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541338689678f574f21e54a6ca533737924124d7e.jpg) | UI Groups Panel | You can select and add/delete the UIGroup. |

#### Shifting to UI Editor

In the top menu, press the **[UI]** button to convert to UI Editor. The **Scene** screen changes to the screen for the UI Editor. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17191966018196e67fe462b44418f8ffd50225816127c.png)

# UIGroup

UIGroup is composed of **UITransformComponent, UIGroupComponent, and CanvasGroupComponent**. Since the UIGroup acts like a folder, it is not affected by the orders in the Hierarchy and UI Groups. If you enable the UI Editor, you can manage the UIs you have created in the UI Groups panel window. If you add a new UI group, it will be reflected in both the Hierarchy and the UIGroup.

UIGroup provides three groups by default.

- **ToastGroup**: UI Group provided for the convenience of creators. It is connected to the UIToast logic.
- **PopupGroup**: UI Group provided for the convenience of creators. It is connected to the UIPopup logic.
- **DefaultGroup:** UI group that is always enabled. Chat window and essential buttons such as attack and jump are placed in DefaultGroup. Different groups can be set as DefaultGroup depending on the creator's intent.

#### UI Groups Panel

In the UI Groups panel, you can see a thumbnail of the UIGroup you are creating. You can also rename the UIGroup. Names changed in the UI Groups are also reflected in the Hierarchy. If you select a group, the UI Editor screen changes to the corresponding group for editing.

![112](https://mod-file.dn.nexoncdn.co.kr/bbs/171316272172268387b11bb884f6790635819a8af7021.png)

#### Hierarchy - ui

In the Hierarchy, you can see the UI entities that belong to the UIGroup as parent-child relationships. You can edit components of UI entities or change the parent-child relationship of UI entities.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1713249479009dae50f8dd5ba4aa78e16fa684e742644.png)

#### Always Enabling UIGroup

You can set whether or not to display using the **DefaultShow** property of **UIGroupComponent**. If you set the DefaultShow property as **true**![Editbox_Check](https://mod-file.dn.nexoncdn.co.kr/bbs/16346176407708cb3de01eaaf48a68ab2dd6fe1b1183f.png "Editbox_Check"), the UIs belonging to that UIGroup will always be visible.

![uieditor17](https://mod-file.dn.nexoncdn.co.kr/bbs/1635153219911450a6374261549e985b5defd8c1ca4fc.png)

# UI Entity

There are two ways to create UI entities. You can use the default UI entities or use UI presets.

#### Basic UI Entities

Basic UI entities provide the most commonly used features when creating UIs. It is composed of **image, button, scroll view, text, and input text**. Creators can also combine multiple UI entities to create a new UI. Please refer to the [Basic UI Components](/docs?postId=744).

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17132470861160af59286c47f4cdfb9012301dfc3d0c1.png)

| Icon | UI Model Name | Function Explanation | Included Component |
| --- | --- | --- | --- |
| ![workspace_image](https://mod-file.dn.nexoncdn.co.kr/bbs/1634599004241e68d5e91df374710866c7f10599d1513.png) | Image | Outputs an image you want to UI. It is primarily used for displaying icons. | <ul><li>UITransformComponent</li><li>SpriteGUIRendererComponent</li></ul> |
| ![UiButton](https://mod-file.dn.nexoncdn.co.kr/bbs/1634524924735d7c5b055209548e4b04c59abb701251d.png) | Button | Performs a certain action or function upon clicking/touching. | <ul><li>UITransformComponent</li><li>SpriteGUIRendererComponent</li><li>ButtonComponent</li></ul> |
| ![Ui_ScrollRect](https://mod-file.dn.nexoncdn.co.kr/bbs/1634525192881d1b9b9f851554f81b74425ff23f0ef57.png) | Scroll View | Sorts a lot of information into a list or a grid. E.g.) Inventory, shop | <ul><li>UITransformComponent</li><li>SpriteGUIRendererComponent</li><li>ScrollLayoutGroupComponent</li></ul> |
| ![Ui_Text](https://mod-file.dn.nexoncdn.co.kr/bbs/16345252157689279f2e1212f460381577fe950d87703.png) | Text | Used to display text in the UI. | <ul><li>UITransformComponent</li><li>SpriteGUIRendererComponent</li><li>TextComponent</li></ul> |
| ![Ui_InputField](https://mod-file.dn.nexoncdn.co.kr/bbs/1634525171304460516d8fc894f9f96220ee226cbd934.png) | Input Text | Users can enter the text. e.g.) Search window, ID/PW window, etc. | <ul><li>UITransformComponent</li><li>SpriteGUIRendererComponent</li><li>TextComponent</li><li>TextInputComponent</li></ul> |

#### UI Preset

MapleStory Worlds provides UI presets for each feature. Presets contain UI and scripts together, so when you deploy a preset, the included components are added to the MyDesk. After placing a preset, you can modify UIs and scripts to match the World you are creating. ![editor04](https://mod-file.dn.nexoncdn.co.kr/bbs/1659671324185d35bc031f0f44baa86ade48918ac3311.png)

Update 2025-11-17 PM 08:14


# Basic UI Components

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

You can compose UI entities in various formats by combining components. In this course, let's learn about the basic components that are often used.

##### Reference Guide

- [UI Editor](/docs?postId=120)
- [Creating UI](/docs?postId=64)
- [Controlling UI Entities](/docs?postId=1154)

# UITransformComponent

[UITransformComponent](/apiReference/Components/UITransformComponent) is a basic component that UI entities must contain. It is quite similar to **TransformComponent**, but the difference is that this operates in screen coordinates. The main properties are as follows:

![UITransform](https://mod-file.dn.nexoncdn.co.kr/bbs/1657174537010c416d38c6dbd4357a590984d44bcb9ac.png)

| Numbers | Items | Description |
| :---: | :---: | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Coordinates | You set the location of UI. Required Properties vary depending on the Anchor Presets setting on the left.<br>You can find more details in the Anchor Presets section of [World Coordinates and Screen Coordinates](/docs/?postId=688). |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | UIMode | If UI Entity![Hierarchy](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_scene_maker.png) is below the UI in Hierarchy, it is fixed with Screen. If it is below maps, it is fixed with World. |

# Output

#### SpriteGUIRendererComponent

[SpriteGUIRendererComponent](/apiReference/Components/SpriteGUIRendererComponent) is a component that shows image resources in the UI. This component allows you to set it to show 'what' in 'which form' in the UI. The main properties are as follows:

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1744880492943da5f0130b3564b8fb38d8921f50fe423.png)

| Numbers | Items | Description |
| :---: | :---: | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | ImageRUID | You set ImageRUID to show on the screen. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Type | A method of displaying images. Select from Simple, Sliced, Tiled, or Filled. |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Select if you want to use SortingLayer and OrderInLayer. Only activated when the SpriteGUIRendererComponent is added to an entity under World - maps. | |

You can also set the way to show the image you have set in **ImageRUID** through other properties.

#### TextComponent

[TextComponent](/apiReference/Components/TextComponent) is a component that shows text in the UI. When you use this with **SpriteGUIRendererComponent**, you should draw **TextComponent** above **SpriteGUIRendererComponent**. If the UI Entity contains **TextComponent**, you can double-click the entity and edit text easily. The main properties are as follows:

![text](https://mod-file.dn.nexoncdn.co.kr/bbs/168671067460393c17d7821884fa9a30c00141833b74b.png)

| Numbers | Items | Description |
| :---: | :---: | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Font | You set the font to show.<br>You can select from **Default, Maple Bazzi, and Football**. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | FontColor | You set the font color and transparency. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | FontSize | You decide the font size. |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Text | You write text to use. |

# Input

#### ButtonComponent

[ButtonComponent](/apiReference/Components/ButtonComponent) is a representative component to use when receiving a user's input. You can receive the input information 'a user clicked the button'. The main properties are as follows:

![ButtonComponent](https://mod-file.dn.nexoncdn.co.kr/bbs/1657592785058cf83097552544842a3b8a24257de7ce5.png)

| Numbers | Items | Description |
| :---: | :---: | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | KeyCode | When pressing the button, it operates as if the specified keyCode was pressed. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Transition | You set the conversion method for button status. The properties you should set below will differ depending on the conversion method. <br><ul><li><span style="color: #dc9656">**ColorTint**: Color Conversion</li><li><span style="color: #dc9656">**SpriteSwap**: Sprite Replacement</li></ul> |

**ButtonComponent** can change the status of the button using [ButtonState](/apiReference/Enums/ButtonState).

- Normal, Hover, Pressed, Released, Clicked

**ButtonComponent** does not have an output function. It is used with **SpriteGUIComponent** or **TextComponent** to inform the user that the button has been pressed. **ButtonComponent** only sends the information 'it was input,' so you need to define that you will process 'what' and 'how' after the button is pressed in Scripts. The general way is to detect the button input through **Event** and then write a logic.

The Events usually used are as follows:

- [ButtonClickEvent](/apiReference/Events/ButtonClickEvent): This event occurs when the button is pressed.
- [ButtonPressedEvent](/apiReference/Events/ButtonPressedEvent): This event occurs while the button is pressed.
- [ButtonStateChangeEvent](/apiReference/Events/ButtonStateChangeEvent): This event occurs when the button's status is changed.

#### TextInputComponent

[TextInputComponent](/apiReference/Components/TextInputComponent) is a component that can receive text input. The main properties are as follows:

![textinput](https://mod-file.dn.nexoncdn.co.kr/bbs/168957179254024254818dac64c37a05886983c29e0dc.png)

| Numbers | Items | Description |
| :---: | :---: | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | AutoClear | If it is True, it automatically initializes the input field after text input. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | ContentType | It specifies the text type to input. <br><ul><li>**Standard**: Allows all inputs.</li><li>**Autocorrected**: Allows all inputs, and automatic modification is made in the platform with autocorrect.</li><li>**IntegerNumber**: You can input numbers only.</li><li>**DecimalNumber**: You can input numbers and one decimal point only.</li><li>**Alphanumeric**: You can input A-Z, a-z, and 0-9.</li><li>**Name**: Capitalize the first letter.</li><li>**EmailAddress**: You can input English and number strings, including one @ symbol. You cannot enter consecutive periods (.).</li><li>**Password**: You can input all characters, and they are shown with an asterisk (asterisk).</li><li>**Pin** : You can input numbers only, and they are shown with an asterisk (asterisk).</li><li>**Custom**: Users can set up the types directly, such as Line Type, Input Type, Keyboard Type, and String Verification.</li></ul> |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | LineType | <ul><li><span style="color: #dc9656">**SingleLine** : Enter in a single line.</li><li><span style="color: #dc9656">**MultiLineSubmit** : You can enter multiple lines, and it stops when the Enter is input.</li><li><span style="color: #dc9656">**MultiLineNewline** : You can enter multiple lines, and the line changes when the Enter is input.</li></ul> |

**TextInputComponent** only receives input, so to show what is input, **TextComponent** is required. **TextInputComponent** and **TextComponent** are generally used together. You need to define how to process the input text through **TextInputComponent** in the script. **TextInputComponent** also detects text input through **Event** and then writes a logic.

The Events usually used are as follows:

- [TextInputEndEditEvent](/apiReference?postId=444): This event occurs once the input is complete. It is used when it receives and processes a complete sentence or a word.
- [TextInputValueChangeEvent](/apiReference?postId=406): This event occurs when the input value is changed. It detects and processes each moment whenever input is made.

Update 2025-12-05 PM 04:34


# Creating UI

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

The MapleStory Worlds Maker offers a **UI Editor** to edit UI. You can implement the character's name, stat window, chat window, etc. using the UI Editor. You can also create a scenario that brings the game to life. Let's create the Welcome Message UI at the top of the screen using **image** and **text**, basic features of the UI Editor. ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/16607859751670dad1471dc514cef891e7f484d61bf20.png)

##### Reference Guide

- [UI Editor](/docs?postId=120)
- [Basic UI Components](/docs?postId=744)
- [Controlling UI Entities](/docs?postId=1154)

# Adding Text to a New Group

Let's add **Hello MapleStory Worlds** in the top middle of the screen.

1. On the bottom right, click the ![Common_layer_add](https://mod-file.dn.nexoncdn.co.kr/bbs/16345369150225f875c8c218444c58189ffac05201631.png) button to add a new group. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16566580669786e89df499cff4c42aaa5046cd1e5126d.png)  When you first add a new group, **UIGroup** is created, and **UIGroup** will be selected in the group selection window. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1635466100477be5787d22e4745bca8948e07dc1fe6aa.png)
2. Add a text box to the added **UIGroup**. From the left toolbox, click the ![Ui_Text](https://mod-file.dn.nexoncdn.co.kr/bbs/16345252157689279f2e1212f460381577fe950d87703.png) button. The text box is placed in the center. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1635466110759f18631e58b2845e08eefdadee9584e42.png)
3. Let's set the location and size of the text box. Enter the value in **Property Editor - UITransfromComponent** as follows.
  - PosX = 0
  - PosY = 400
  - Width = 500
  - Height = 100 ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/1635466119736567a06e7efb749f0bd593cf5583c7ca0.png)
4. Let's change the background color of the box. Set the **Color** value of **SpriteGUIRendererComponent** as follows.
  - R: 255
  - G: 255
  - B: 255
  - A: 100% ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1719208795002a31a47af5b3940e6a51f594f60237bf7.png)
5. Click the right button on **ImageRUID** of **SpriteGUIRendererComponent** to open the **Resource Picker** window. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/168085693599993c114d51e92442c911b153b975dc647.png)
6. In the **Resource Picker** window, a list of images that can be used as the background of the text box is output.
  - RUID: b2efe9b7579bd494baecc7a2ef3 ![TextAndImage_10](https://mod-file.dn.nexoncdn.co.kr/bbs/1680857186821081809892ed1431e9ad72ed3ee213001.png)
7. Select the image and you'll see the UI applied as follows. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/16354667716403f561d9f75ef4c77ace222e41916872f.png)
8. Edit the property of **TextComponent** as follows. | Component | Property | Value |
| --- | --- | --- | | TextComponent | Text | Hello MapleStory Worlds | | FontSize | 30 |
  > **Tip** This text box is visible in the UI Editor, but not visible during actual play. This is because the added **UIGroup** is set to be invisible by default.
9. Select **Hierarchy - ui - UIGroup**. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/165950430779879b381eacaa846408419a337d605f4bc.png)
10. Make the **UIGroup** always visible by enabling the **DefaultShow** of **UIGroupComponent** in the Property Editor of **UIGroup**. ![TextAndImage_13](https://mod-file.dn.nexoncdn.co.kr/bbs/1634690751616957f4000f31a406da4fcb2651c1803ed.png)
11. Click the ![Tool_UI](https://mod-file.dn.nexoncdn.co.kr/bbs/163453120840744616a62243642e889159a68a78a56c2.png) button at the top to stop the UI Editor. ![ui](https://mod-file.dn.nexoncdn.co.kr/bbs/16607866498590ff06626406440d4a3a3d75e72800f6e.png)
12. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. You'll see the newly added text is shown in the play screen. ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/16607861764157e8a105a04e642c09ef7ec13e3622d6a.png)

# Adding Images

Let's add a meso image to make the text box stand out a little more. ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/1660786201599b49010a72c294a5eb6bc3d8850eb706b.png)

1. After opening the UI Editor, click **UIGroup**. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/16354668571302757ee322edb4681a95ecc00359dbe19.png)
2. From the left toolbox, click the **[Image]** button to add an image UI. ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/1660786345914ecc31fc8aa174ed39195af5c34ed77c2.png)
3. In the Property Editor of added images, click the **ImageRUID** right button of **SpriteGUIRendererComponent** to open the **Resource Picker** window.
  - RUID:fd255d50cb5177545a0e71c4a84 ![002](https://mod-file.dn.nexoncdn.co.kr/bbs/16808600045139383ec457a95496990e109b3e927509f.png)
4. Enter the value in Property Editor - **UITransfromComponent** as follows.
  - Pos X = -257
  - Pos Y = 403
  - Width = 70
  - Height = 70 ![21](https://mod-file.dn.nexoncdn.co.kr/bbs/1656658276777578d07057c8148a09fb8eced28b3a654.png)
5. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. You can see that the images and text boxes are well placed. ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/16607862245222f3b07edaa1f4535b86ee27851a9646a.png)

Update 2025-11-17 PM 08:14


# Controlling UI Entities

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=40m&amp;color=green)

# Course Introduction

Let's learn how to control UI entities efficiently. When controlling UI entities, you must understand and create the relationship between the UI, server, and client.

##### Reference Guide

- [UI Editor](/docs?postId=120)
- [Creating UI](/docs?postId=64)
- [Basic UI Components](/docs?postId=744)

# Controlling UI Entities

You can access UI entities in the same way as entities. For more information on how to access entities, please refer to the [Referring to Entities and Components](/docs?postId=164) guide. Since UI entities only exist in clients, they cannot be accessed from servers. When receiving UI entities or their components, you have to refer from a client function. If you have to send a server's output to UI, or process input from UI in a server, you have to use Execution Space Control so that each space can perform separately.

![300](https://mod-file.dn.nexoncdn.co.kr/bbs/16564192479937183015f46df4ea1a7ed3481b19e9821.png)![UIeditor80](https://mod-file.dn.nexoncdn.co.kr/bbs/1660700550069a309016cdd944831981b9f99331b6ff7.png)

#### Button Click

This is an example of requesting a process from the server upon clicking the button.

```
Method:
[client only]
void OnBeginPlay()
{
    local button = _EntityService:GetEntityByPath("ButtonEntityPath") 
    -- Enter path of the importing button entity to "ButtonEntityPath".
    button:ConnectEvent(ButtonClickEvent, self.OnButtonClickClient)
}

[client only] 
void OnButtonClickClient()
{
    --processing in client..
    self:OnButtonClickServer()
}

[server] 
void OnButtonClickServer()
{
    log("Start processing on the server")
}
```

#### Outputting Server Processing Results to the UI

```
Property:
[None]
number time = 0

Method:
[server only]
void OnUpdate(number delta)
{
    self.time = self.time + delta
    if self.time >= 3 then
        self.time = 0
        self:ShowToastMessage("Time Reset")
    end
}
    
[client] 
void ShowToastMessage(string text)
{
    local toastUIEntity = _EntityService:GetEntityByPath("UIEntityPath") 
    -- Enter path of the importing UI entity to "UIEntityPath".
    
    local textComponent = toastUIEntity.TextComponent
    
    -- print toast message
    textComponent.Text = text
    toastUIEntity:SetEnable(true)
     
    --reservate hide toast message
    local callback = function()
            toastUIEntity:SetEnable(false)
        end
    _TimerService:SetTimerOnce(callback,3)
}
```

# Controlling UI Display

You can control the display of the UI using the `SetEnable()` function. Let's take a look at a case where you have created your own pop-up and created a UI with the same hierarchy as shown below. This pop-up should appear and disappear at the same time, so you must set the **Enable** for each entity separately.

![uieditor06](https://mod-file.dn.nexoncdn.co.kr/bbs/1659671947080901d185518b64d008152c181b8eb1735.png)

```
void ShowPopupUI()
{
    local PopupUIEntity_1 = _EntityService:GetEntityByPath("/ui/DefaultGroup/MODImage_1")
    local PopupUIEntity_2 = _EntityService:GetEntityByPath("/ui/DefaultGroup/MODButton_1")
    local PopupUIEntity_3 = _EntityService:GetEntityByPath("/ui/DefaultGroup/MODButton_1_1")
    PopupUIEntity_1:SetEnable(true)
    PopupUIEntity_2:SetEnable(true)
    PopupUIEntity_3:SetEnable(true)
}
 
void HidePopupUI()
{
    local PopupUIEntity_1 = _EntityService:GetEntityByPath("/ui/DefaultGroup/MODImage_1")
    local PopupUIEntity_2 = _EntityService:GetEntityByPath("/ui/DefaultGroup/MODButton_1")
    local PopupUIEntity_3 = _EntityService:GetEntityByPath("/ui/DefaultGroup/MODButton_1_1")
    PopupUIEntity_1:SetEnable(false)
    PopupUIEntity_2:SetEnable(false)
    PopupUIEntity_3:SetEnable(false)
}
```

When creating a UI, for UIs that belong to a UI feature, it is recommended to make them as a **parent-child** relationship using the hierarchy. Make a certain UI entity the top-level entity and include the rest as child entities. The parent-child nature allows you to control any UI entity by referencing only the top-level entities. Example code for show/hide processing using the hierarchy.

```
void ShowPopupUI()
{
    local PopupUIEntity = _EntityService:GetEntityByPath("/ui/DefaultGroup/MODImage_1")
    PopupUIEntity:SetEnable(true)
}
 
void HidePopupUI()
{
    local PopupUIEntity = _EntityService:GetEntityByPath("/ui/DefaultGroup/MODImage_1")
    PopupUIEntity:SetEnable(false)
}
```

# Controlling UIGroup

You can control the **UIGroup** using the entity's `SetEnable` function.

```
void ShowUIGroup_1()
{
    local UIGroup_1 = _EntityService:GetEntityByPath("/ui/UIGroup_1")
    UIGroup_1:SetEnable(true)
}
 
void HideUIGroup_1()
{
    local UIGroup_1 = _EntityService:GetEntityByPath("/ui/UIGroup_1")
    UIGroup_1:SetEnable(false)
}
```

Update 2025-11-17 PM 08:14


# Naming Entities

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

One of the most effective ways to distinguish objects is to name them. Names can be used to classify objects, NPCs, and users. Here's how to use NameTagComponent and some examples.

# Naming

Select an entity, and add **NameTagComponent**. You can change the property value to make a name tag. ![NametagComponent](https://mod-file.dn.nexoncdn.co.kr/bbs/1633505174925b7f918183b8d46d996e32b3e84b3c15d.png)

The property composition of NameTagComponent is as follows.

| Name | Description |
| --- | --- |
| FontColor | Change the color of the letters. For more info on changing colors, refer to Sprite Color Adjustment. |
| FontSize | Change the name tag's name and size; the default is 1. The bigger the value, the bigger the tag. |
| Name | Change the name of the name tag. The default value is Null, and you can name it whatever you'd like. |
| NameTagRUID | You can use various Name Tag Sprites.<br>![name](https://mod-file.dn.nexoncdn.co.kr/bbs/1682065127446a1289f492f38401abbff1b9f791dbd13.png) |
| OffsetY | Choose the location of the name tag; the starting point is 0, and the axis is set to Y by default. <br>If the value is 0, the name tag will be put on the starting point. A negative number will move the tag downwards, and a positive number will move it upwards. |

# Utilizing Name Tags

The example shows you how to put a name tag on an object to use it as an NPC. If you'd like to use a monster or NPC from the same Sprite, you can use a name tag to distinguish them. For example, you can place multiple cat objects and put a cat NPC with a name tag among them as the boss.

You can practice by entering the following value:

- FontColor: f5e38b
- FontSize: 1
- Name: Lost Cat
- NameTagRUID: ac88638649c3479bbb754e4b34bb3eac
- OffsetY: 0

![nametag cat](https://mod-file.dn.nexoncdn.co.kr/bbs/1656464315991005b3cae5aef4145a89c2fb8338abe15.jpg)

Update 2025-11-17 PM 08:14


# Making Chat Balloons

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

You can attach chat balloons to entities and player avatars. Here's how to use ChatBalloonComponent and some examples.

# Attaching Chat Balloons

1. Select an entity to attach the chat balloon, and add **ChatBalloonComponent**.
2. You can change the property value to make the chat balloon to your preference. ![chatballoon01](https://mod-file.dn.nexoncdn.co.kr/bbs/1635730184988c95467b0dd9f4613abf9ba85d68914d9.png) The property values are as follows:

| Property Name | Description |
| --- | --- |
| ArrowChatEnabled | You can attach or detach the tail from the balloon. <br>By default, chat balloons have tail images. |
| AutoShowEnabled | Set whether to automatically display chat balloons.<br>Players' ChatBalloonComponent does not operate when set to true. |
| BalloonScale | You can specify the size of the chat balloon. The bigger the value, the bigger the size gets horizontally. |
| ChatBalloonRUID | You can use various chat balloon Sprites. |
| ChatModeEnabled | When activated, dialogue from the chat window is simultaneously displayed in the chat balloon.<br> It only works on player's ChatBalloonComponent, and it is activated by default. |
| FontColor | Changes the color of the letters in the chat balloon.<br>For more information on how to change colors, please refer to Sprite Color Adjustment. |
| FontSize | Changes the size of the letters in the chat balloon.<br>Default value is 1. The bigger the value, the bigger the letters. |
| HideDuration | Set the time (seconds) when chat balloons are not shown on screen.<br>When the value is 0, chat balloons will always be displayed. |
| Message | Enter the phrase to display in the chat balloon.<br>Chat balloons will not be visible without any phrase, even though other settings have been activated. |
| Offset | You can adjust the position of the chat balloon. Starting point is 0, and the axis is set to Y by default. <br>If the value is 0, the name tag will be located at the starting point. A negative number will move the tag downwards, and a positive number will move it upwards. |
| ShowDuration | Set the time (seconds) when chat balloons are shown on screen.<br>Enter 1 or greater number to display the balloon. |

#### Use Example

The example makes a chat balloon for the seal entity object. ![chatballoon03](https://mod-file.dn.nexoncdn.co.kr/bbs/1655963930366197ddcce272b435d9633958b4b3fdbff.png)

Let's enter the value as follows:

| Property | value |
| :---: | --- |
| ArrowChatEnabled | true |
| AutoShowEnabled | true |
| BalloonScale | 3 |
| ChatBalloonRUID | 0548325d3d4d40649acad12fde2359d4 |
| ChatModeEnabled | false |
| FontColor | #000000 |
| FontSize | 1.5 |
| HideDuration | 5 |
| Message | Is it a seal? Or a ture seal? |
| Offset | 1 |
| ShowDuration | 5 |

# Summary

Using chat balloons allows the users to communicate more conveniently. You can use various chat balloon Sprites for different entities.

Update 2025-11-17 PM 08:14


# UI Design Guide

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

The User Interface (UI) is an essential element for your world. The UI needs to provide the users with important information clearly and concisely. If elements such as score, health, remaining time, and interactive buttons are well-designed, users will spend less time figuring out how your world works and more time enjoying it. Users can play MapleStory Worlds in both PC and mobile environments. Therefore, creators must design UIs that will work in either. Of course, it is also important to create a UI with charm and appeal that fits the concept of your world.

This session will introduce some points to consider and useful tips when designing UI in MapleStory Worlds.

# Interactivity

##### Layout Across Devices

If you only consider the user experience, it would be best to create a UI optimized for both PC and mobile. However, when creating a world, it can be difficult to create a UI for every device because of the different elements needed. Most of the UI can be made common across devices, but we recommend making custom UI only for the parts that must be different.

Let's take a look at the example. Most of the UI is the same on PC and mobile, but the location of a few control buttons is different. Common UI text and button sizes are designed to be comfortable for mobile devices with small screens. This is because if you fit it to PC, it will be too small to use on a mobile screen.

| Device | Description |
| --- | --- |
| Mobile | ![mobile](https://mod-file.dn.nexoncdn.co.kr/bbs/16813599460498acfdab2130f4fcab496bf76e83d1ec9.png)<br><li>This shows slots in a position where items can be easily used on mobile</li><li>Dash, jump, and E key operations are essential, so they are always displayed on the screen.</li><li>This shows the joystick.</li> |
| PC | ![pc](https://mod-file.dn.nexoncdn.co.kr/bbs/168135995962657eba9bd408f459eacaf3055e4f2499c.png)<br><li>Item slots appear in the lower left corner. Shortcut keys are displayed together for easy use.</li><li>Dash is an important key in this game, so it is shown along with the shortcut shift.</li>In addition, jumping on PC is a common operation in all MapleStory Worlds, so the button is not shown. |

##### Don't Cover the Main UI

The core MapleStory Worlds UI is displayed at the right top of the screen in every world. This position cannot be moved or hidden. Therefore, you should design your world UI so it doesn't cover the main UI.

| O | X |
| :---: | :---: |
| ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/1681365023170ab166d98e0a64396aa51c2475b992350.png)<br>![03](https://mod-file.dn.nexoncdn.co.kr/bbs/168136503481552de0a69652143828a376d12fb7f04f3.png) | ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1681365003797e997565b1a80441a9f63c23d1f5d36c2.png) |

##### Design with Touch in Mind

You should set your buttons to be a size that mobile users can comfortably touch. Areas that are too small are difficult for users to touch. Although not required, we generally recommend setting the button size to at least **80 X 80px**. If you make a button that is smaller than the recommended size during the design process, check in advance whether it's comfortable in a mobile environment. Button spacing is also important. Buttons should be spaced far enough apart so that they don't risk touching other buttons. Keep an eye on the touch areas and margins to account for finger spacing.

> **Learn More** ![default](https://mod-file.dn.nexoncdn.co.kr/bbs/168137478767305e25de85e584f939475dba219a8896c.png) The default UI button size at the right top of the World is 80 X 80px. Please refer to this when designing the UI.

# Readability

##### Font Size

When making worlds to be played on mobile devices, we recommend setting the font size to **24 pt** or more. Of course, sometimes a smaller font size will be needed to display a lot of information in worlds, such as RPGs. However, keep in mind small font sizes may reduce readability. Therefore, we recommend not setting the size to lower than **18 pt**. When you make worlds, make sure your text can be easily read on both PC and mobile devices.

> **Learn More** ![fontsize](https://mod-file.dn.nexoncdn.co.kr/bbs/16813812593511eb9305748904597aaf6ec9b49e77da9.png) The font size of the description in the 's shop category is 24pt. Please note this when setting the font.

##### Contrast

Make the text stand out clearly using contrast between the text and the background color.

| O | X |
| :---: | :---: |
| ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/1681381891683a58a23ae4ea3479a981d0540c32e5ad1.png) | ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/16813819095597b17034789224a1f8fef16b9e54cc365.png) |

# Consistency

A consistent UI helps users understand what they're seeing more quickly. For this design, let's refer to the following.

##### Color Palette

Decide on a color palette early in the UI design phase, and use it consistently. If you use too many colors, your UI will be messy and confusing. It's good to decide on just a few colors to use in the UI, and keep things consistent by using the same colors for elements that function similarly. For example, if you decide to use blue for the [Yes] or [Confirm] buttons, keep those buttons blue across that world.

##### Icon

Use consistent icons to make it easier for users to recognize and use UI elements such as buttons and menus.

##### Text Format

You should use consistent formatting for size, font, and thickness of text elements used in the UI. After deciding the priority level, set the text size for each level, and unify the size and format of the text with the same importance level.

##### Image Format

This is a similar concept to unifying text formatting. It's best to unify formatting such as image size, border, and shadow according to the type and importance of information.

##### Button

You should use the same size for buttons with the same weight. Also, place buttons with similar functions in the same locations. If you decide to put positive buttons like "Yes" and "Confirm" on the right and negative buttons like "No" and "Cancel" on the left, you need to keep that placement consistent.

##### Animation

Use animation effects consistently to create an interactive experience within your UI.

# More Design Tips

### Reference Resolution

We recommend working at 1920 X 1080 resolution.

### User Resources

Creators can use their UI resources by registering them in Resource Storage. Please refer to the following when registering UI resources.

##### Resource Optimization

If the width and height of the sprite to be registered in Resource Storage is set to a multiple of 4, it will be automatically optimized when uploaded to reduce the size. For example, a sprite that has a width of 2000px and a height of 2000px will automatically be optimized when uploaded because both the width and height are multiples of 4.

##### Setting Filter Mode

You can change the filter mode in the resource details registered by the creator. UI resources are mainly used by selecting the appropriate one from the two filters below.

| Filter Mode | Description |
| --- | --- |
| Point | Keep colors vivid. When the sprite is enlarged, the color boundaries are clearly visible. <br>This is mainly used for resources with clean image edges, such as pixel images. |
| Bilinear | Blend a specific color with surrounding colors to create a softer expression. <br>When a sprite is enlarged, the color boundaries may appear blurrier than the original sprite. |

### Font

MapleStory Worlds allows you to use four fonts.

| Font | Examples |
| --- | --- |
| Default (Noto Sans) | ![font01](https://mod-file.dn.nexoncdn.co.kr/bbs/1681288827131ccd383fd33f94b87a4e9032b766bf75b.png) |
| Maple | ![font02](https://mod-file.dn.nexoncdn.co.kr/bbs/1681288844324c4ebcad014dd4f8d8cabbf1e412bd461.png) |
| Bazzi | ![font03](https://mod-file.dn.nexoncdn.co.kr/bbs/168128885797032b65d1d08604b8abf5b6f38546a4c4b.png) |
| Football | ![font04](https://mod-file.dn.nexoncdn.co.kr/bbs/16812888772139dc36fc5340147da9621e41a8ef0ca39.png) |

The Noto Sans font has good compatibility with all languages. If you're considering translation into multiple languages for a global release, using the Noto Sans font is recommended. The Maple, Bazzi, and Football fonts are suitable for use in Korean and English, but they do not support other languages, so we recommended them only for numbers or parts to be displayed in English.

### Thumbnail

Makes an image with a 16:9 aspect ratio. We recommend creating at 960px X 540px size. ![thumbnail](https://mod-file.dn.nexoncdn.co.kr/bbs/168138308206981ffaf18bdae47138a452f4ff430dd64.png)

### Covering the Entire Screen with the UI

When covering the entire screen with the UI, you usually set **UITransformComponent** to stretch the UI to the entire screen and set the coordinates to (0, 0, 0, 0). ![s01](https://mod-file.dn.nexoncdn.co.kr/bbs/1681871890337b500055a443f40ada2667021869a20d5.png)

However, with this setting, some mobile devices may be pushed to the safe area and create a blank space. ![s02](https://mod-file.dn.nexoncdn.co.kr/bbs/168187195095784a41c74787c4984b78b3fc353e20573.png)

Extending the coordinates to (-300, -300, -300, -300) avoids unnecessary blank space. ![s03](https://mod-file.dn.nexoncdn.co.kr/bbs/16818725626457d38a53401074fdab37f5381cd26bdbb.png)

Update 2025-11-17 PM 08:14


# Editing Data

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

You can use data sets to add or modify data. In this guide, we will explore loading data by creating data and editing data, and with scripts.

# Creating Data Sets and Opening Data Editor

1. In the context menu of **Workspace - MyDesk**, click **Create DataSet**.
2. Double-click the created data to open Data Editor. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16651306854177c11e2993eae457888ac58ec6a52b3f6.png)

# Data Editor

![3](https://mod-file.dn.nexoncdn.co.kr/bbs/custom/69/Doc_69_3_ko.png)

| Number | Desription |
| --- | --- |
| ![NO01](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541272181b5c1a55fcf3d49b19734d25913c38583.jpg) | **Column Cell**<br>Define the data name for each row, i.e. the column name.<br>You can load the data of each row via the column name. |
| ![NO_02](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541300837cb541c2f44e046a79bb1901a885aa8ac.jpg) | **Cell**<br>Each set is an input text field. Enter the data value suitable for the definition of each row.<br>The entered data values are all saved as strings. |
| ![NO_03](https://mod-file.dn.nexoncdn.co.kr/bbs/163454131465069e090278448490f965207e9a4a10348.jpg) | **Add row/column button**<br>When you click the button, add a new row or column at the end of the row/column. |
| ![NO_04](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541326353d8628c1473944497bf376acb7a65ca45.jpg) | **Insert or delete row/column handler**<br>Add a new row/column around the row/column selected, or delete the selected row/column.<br>You can see the handler by selecting the head row and head column. |
| ![NO_05](https://mod-file.dn.nexoncdn.co.kr/bbs/1634541338689678f574f21e54a6ca533737924124d7e.jpg) | **Import data from the web**<br>You can import the data of GoogleSpreadSheet.<br>If you write data in GoogleSpreadSheet and put the URL of the data in the pop-up window,<br>it overwrites data in GoogleSpreadSheet over currently open data. <br>However, URLs in GoogleSpreadSheet can only use URLs posted on the web.<br> ![NO_05_1](https://mod-file.dn.nexoncdn.co.kr/bbs/16577012857253f3f35d4a11f4cfbb9faaa60264c18b9.png) |
| ![NO_06](https://mod-file.dn.nexoncdn.co.kr/bbs/163454135201207284554a25b498380fff224cd767f6b.jpg) | **Import CSV Files**<br>You can import CSV files saved to the computer and overwrite the current data.<br>Only CSV files saved as utf-8 can be properly imported.<br>**Export CSV Files**<br>Export Maker's DataSet as a CSV file to save to the computer. |

# Load the Composed Data Script

1. First, write the contents of the image below into the **NewDataSet** you created above. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16596783003508b1add63e564405d9f00a099a8496934.png)
2. Save the data and add a new script component called **DataSet**. ![newcomponent](https://mod-file.dn.nexoncdn.co.kr/bbs/16878457449028bebb7ed9b9141288f93dd176baca7c5.png)
3. Open the **DataSet** component and add the `OnBeginPlay()` function. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/16354715733367404d00c99aa45de86f5cc5cdfe101ec.png)
4. Write as follows.```
[server only]
void OnBeginPlay()
{
    --Retrieve the data table with the name of the data created above.
    local dataSet = _DataService:GetTable("NewDataSet")    
    -- Enter the row and column number of the cell data that you are trying to retrieve as parameters.
    local cellValue = dataSet:GetCell(3,2)               
    --Output the cell value on the console window.
    log("cellValue : "..tostring(cellValue))             
}
```
5. Click **Add Component** in the context menu of **Hierarchy - map01**.
6. Search for **DataSet** and add the **DataSet** component. ![8-3](https://mod-file.dn.nexoncdn.co.kr/bbs/1637219296068e486bb5b29b4418b9ef31c1647ad3323.png)
  > **Learn More** **_DataService:GetTable(string name)** Function of returning the data table as the name of the data. Pass the data name as variable.  **UserDataSet:GetCell(int row_1based, int col_based)** Return the value of a particular cell from data as string type. Enter column and row number where the cell is located as variable. Row and column start from 1.
7. Press Play and check the Console window. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/165967905703060d30eec2560433d9a4922fefc9ed0db.png)

Update 2025-11-17 PM 08:14


# Saving and Importing Data DB

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=45m&amp;color=green)

# Course Introduction

We'll learn about how to save the value of data changed during gameplay in GlobalDataStorage and import it.

# Creating and Importing Data

GlobalDataStorage is storage where you can save and load data. We use this storage whenever we need to save or import data from the DB. GlobalDataStorage can be created or loaded through `_DataStorageService:GetGlobalDataStorage`. The value of the name passed onto GetGlobalDataStorage as a parameter determines if either a new GlobalDataStorage is created and returned, or if the key value is already registered. Then, it returns the initially created GlobalDataStorage. You can create multiple GlobalDataStorages depending on the key value. You can save to different GlobalDataStorages according to the property or intended use of the data. In addition, `_DataStorageService:GetGlobalDataStorage` is a Server Only function, so it is recommended to load data from the server space.

```
void FunctionExample()
{
    -- Create a GlobalDataStorage named MyData to save data
    local MyData = _DataStorageService:GetGlobalDataStorage("MyData") 
}
```

# Saving Data

Data can be saved by using SetAsync from GlobalDataStorage. `SetAsync` receives key and value as parameters and a Callback function. If there is any data to save, it is saved by passing the value as key and value parameters. The key changes every time and is used for the purpose of calling the saving value. Therefore, for the key value, inserting the property name, or entering a name that tells you what the saved value means, is a good habit to get into. For example, when saving the value of a property (or stat) called "Power," insert "Power" for the key. For the value, convert the value of Power into a string and enter it. If it was saved as the same key value before, the current value will replace the previous value.

```
Property: 
[Sync]
number Power = 100
 
Method: 
[server only]
void SetData()
{
     local data = _DataStorageService:GetGlobalDataStorage("data") 
     data:SetAsync("Power", tostring(self.Power), nil) 
     --Saves the value of property Power as a key called "Power". The value is saved as a string.  
}
```

The Callback function is called when data is saved. For parameters, the errorCode and key values are passed on. When a callback function is called, the value is passed on to the parameter internally. If you don't want to register the callback function, pass on nil. Since saving the data via SetAsync is done asynchronously, the value isn't saved while SetAsync is running. Simply put, SetAsync sends a request for saving values while the DB, which receives the request and saves the requests in chronological order starting with the oldest one. This means that the point at which the value will be saved isn't guaranteed. In this case, handling isn't added after calling SetAsync. Instead, handling is processed from the moment of saving values by passing the callback function as a parameter.

```
Property: 
[Sync]
number Power = 100

Method: 
[server only]
void FunctionExample()
{
    -- Compares the log of the moment when SetAsync ended and the moment when the log of callback function is printed.
    -- As callback function is called when the value is actually saved, the log of the callback function is printed later than the log shown after the completion of SetAsync.
    local data = _DataStorageService:GetGlobalDataStorage("data")
    self.Power = 20
    local callBack = function (errorcode, key)
        log(key.."Value saved.")
    end
    data:SetAsync("Power", tostring(self.Power), callBack)
    log("SetAsync Completed")
}
```

# Importing Data

`GetAsync` is a function to import data, which gets the value via the key value saved together when saving the value. Just like SetAsync, GetAsync also requests a value for the key value. The requested value isn't directly returned from within the function, but it is returned as the parameter for the callback function of GetAsync with the key value. This is because GetAsync is an asynchronous function. When a request to import is sent, the exact moment when the value will be sent isn't guaranteed. Therefore, as GetAsync must be handled when the value was received, unlike SetAsync, registration of a Callback function is required.

```
Property: 
[Sync]
number Power = 0
 
Method:
[server only]
void OnBeginPlay()
{
    local data = _DataStorageService:GetGlobalDataStorage("Data") 
    local callBack = function(errorcode, key, value) 
        if key == "Power" then 
            self.Power = tonumber(value)
        end 
    end 
    data:GetAsync("Power", callBack)
}
```

If you import when there isn't any value saved as a key value, then nil will be imported. When importing, you may check whether the value is nil in order to process the unsaved value.

```
Property: 
[Sync]
number Power = 0
 
Method: 
[server only]
void OnBeginPlay()
{
    local data = _DataStorageService:GetGlobalDataStorage("Data")
    local callBack = function(errorcode, key, value)
        --Adds processing if value is nil.
        if value == nil then value = 0 end
            if key == "Power" then
                self.Power = tonumber(value)
            end
    end
    data:GetAsync("Power", callBack)
}
```

# Resetting Data Storage

Data saved during test play does not go away after exiting the game. To reset this data, you can go to Settings - Create - Data Storage Setting. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/165656279468265d7796bbba149e583187ad5263b5d8a.png)

##### Reference Guide

- [Utilizing DataStorage](/docs/?postId=692)

Update 2025-11-17 PM 08:14


# Utilizing DataStorage

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=40m&amp;color=green)

# Course Introduction

We recommend studying this guide in parallel with [Saving and Importing Data DB](/docs/?postId=68). In "Saving and Importing Data DB", we learned how to create, save, and load data conveniently. This guide will teach you how to utilize data according to the purposes of creators, such as increasing data using various functions of DataStorageService or loading pages.

##### Reference Guide

- [Learning DataStorage Use Limits](/docs?postId=1044)
- [Utilizing DataStorage Use Limits](/docs?postId=1045)

# DataStorage Types and Introduction

DataStorage is divided into 4 types, and the creator can choose and use it according to the scope and purpose. DataStorage is independent, and it does not distinguish identifiers. If there are two different types of 'Data A' data storage, they are treated as separate data storage. GlobalDataStorage, UserDataStorage, and CreatorDataStorage can only use string-type values, and SortableDataStorage can only use int type values. You must identify the type as you use them. If CreatorDataStorage is used in cooperation, the co-group itself holds DataStorage.

> **Tip** If you want to use a value of a type other than a string value, you must change it to a string using `_UtilLogic:TableToString()`.

Different functions are available for each of the 4 data storages. Please check each API Reference for details.

- **GlobalDataStorage** For data storage used in one world, the data is not shared with other worlds. When importing a datastore, you can give it a name, and you can create and have multiple data storages. Note that only string-type values can be used. [GlobalDataStorage](/apiReference?postId=708) (check the API Reference).
- **UserDataStorage** You can have one UserDataStorage per user. For data storage used in one world, the data is not shared with other worlds. Data storage is fetched using userId. Note that only string-type values can be used. This data storage can be used to save the access time of the user or to retrieve the item information in the world currently owned. [UserDataStorage](/apiReference?postId=716) (check the API Reference).
- **CreatorDataStorage** You can have one CreatorDataStorage per creator. You can share data with other worlds. Note that only string-type values can be used. [CreatorDataStorage](/apiReference?postId=701) (check the API Reference).
- **SortableDataStorage** For data storage used in one world, the data is not shared with other worlds. You can create and have multiple data storages, and you can name them. Note that only int type values can be used, and sort and increment functions can be used. [SortableDataStorage](/apiReference?postId=710) (check the API Reference).

#### ErrorCode

When you perform various data-related operations such as saving, deleting, loading, incrementing, and traversing data using the functions of DataStorage, you can check whether the operation succeeded or failed with an error code. When the function request is successful, the error code is 0. For example, you need to write errorCode together as `local errorCode, successKeys = globalDataStorage:BatchSetAndWait(keyValues)`.

| ErrorCode | Error Name | Desc |
| --- | --- | --- |
| 0 | Ok | Your request has been completed. |
| 1000000 | Canceled | Your request has been cancelled. |
| 1000001 | InternalError | An internal error has occurred. |
| 1000002 | NotFound | An error occurred because the element was not found. |
| 1000003 | BadRequest | An error occurred due to an invalid request. |
| 1000004 | TimedOut | An error occurred because the request took too long to process. |
| 1000005 | ResourceExhausted | An error occurred because the number of calls exceeded the limit. |
| 1000006 | PartialFailure | An error occurred due to request failures. |
| 2000000 | UpdateApiFailed | An error occurred due to failed update requests. |
| 2147483647 | Unknown | An unknown error has occurred. |

#### Version

As the version of the value, you can use Version to get the value at a desired point in time or roll back. Versions can be explicitly specified by the creator and are prioritized according to the time when the stated version was first created. If Version is not specified, the default version operates. If at least one previously saved version exists, it operates as the last saved version. For example, if you add version A, then add version B, then add version A again, the latest version becomes version B. This is because version A already has a created history.

#### Tag

Tag is used to get the list as an additional identifier. You can also use tags to get the values of a desired group selectively. You may not specify a tag value, but in this case, you will not get a list of values you do not specify. Since tag does not separate groups, if TagA tag value is saved in AKey key value and TagB tag value is saved in AKey key value, the tag is overwritten with TagB.

# DataStorageKeyInfo

[DataStorageKeyInfo](/apiReference?postId=704) is an object for embedding more information in the data. DataStorageKeyInfo can specify Key, Tag, and Version.

# Storage Item

Objects with the Item suffix are classified into two types for use. [DataStorageItem](/apiReference?postId=702) represents the stored data in GlobalDataStorage, UserDataStorage, CreatorDataStorage. KeyInfo and Value are included, and the type of Value is string. [SortableDataStoragePages](/apiReference?postId=713) means the stored data in SortableDataStorage. KeyInfo and Value are included, and the type of Value is int.

# Storage Pages

[GlobalDataStoragePages](/apiReference?postId=709), [SortableDataStoragePages](/apiReference?postId=713), [UserDataStoragePages](/apiReference?postId=717), [DataStorageItemPages](/apiReference?postId=703), [SortableDataStorageItemPages](/apiReference?postId=712), [DataStorageVersionPages](/apiReference?postId=706) is an object for retrieving information related to DataStorage. All page objects provide the IsLastPages property and GetCurrentPageDatas() and MoveToNextPageAndWait() functions. You can use these two functions to get a list of data or move to the next page. Please check each API Reference for details.

# Use Example

Data storage is mainly used together with DataStorageService. DataStorageService provides functions to access multiple data storage. You can use data in various ways, such as saving, deleting, loading, and viewing data. Functions for utilizing data should be used according to the type of data storage.

## Storing Data

In order to store data, the type of data storage must be clearly distinguished and used. This is because the type of value that stores data is different for each type of data storage. Global, User, Creator data storage can only store values as strings, and Sortable data storage can only store values as integers. For example, when you store the value A as string Grade in datastore "globalDS" and get value from GlobalDataStorage named "globalDS" via key value named "Grade", the value "A" is returned.

#### GlobalDataStorage

```
[server only]
void SaveDataStorage()
{
    local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalDS")
    globalDataStorage:SetAndWait("Grade", "A")
}
```

#### SortableDataStorage

GetSortableDataStorage uses a different type, but the storage method is the same as described above.

```
[server only]
void SaveDataStorage()
{
    local sortableDataStorage = _DataStorageService:GetSortableDataStorage("sortableDS")
    sortableDataStorage:SetAndWait("Score", 90)
}
```

#### Storing Data with More Information

You can save by designating Tag and Version along with key values in DataStorage. DataStorageKeyInfo must be used to save the two new values. Key, Tag, and Version can be used as parameters like `DataStorageKeyInfo("key", "Tag", "Version1")`. If DataStorageKeyInfo is used without Tag or Version, it is the same as saving data using the SetAndWait and SetAsync functions. In addition, it is possible to save using DataStorageKeyInfo with the SetByInfoAndWait and SetByInfoAsync functions.

```
[server only]
void SaveDataStorage()
{
    local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalDS")
    local keyInfo = DataStorageKeyInfo("key", "Tag", "Version1") -- In this way, you can specify each value when creating it or fill in only the desired values after creating it with an empty constructor.
    keyInfo = DataStorageKeyInfo()
    keyInfo.Key = "Key"
    keyInfo.Version = "Version1"
     
    globalDataStorage:SetByInfoAndWait(keyInfo, "Value")
}
```

## Data Import

When retrieving saved data, GetGlobalDataStorage, GetUserDataStorage, GetCreatorStorage, and GetSortableDataStorage are used depending on the data storage type. Since the functions to import data are Server Only, we recommend loading data in the server space.

#### GlobalDataStorage

When calling GlobalDataStorage, a name must be specified. This is because different types of data storage with the same name may exist depending on the creator.

```
[server only]
void getDataStorage()
{
    local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalData")
}
```

#### UserDataStorage

Since UserDataStorage is unique data for each user, you can load data by entering userId as a parameter. Since it is meant to load the data the user has, the code below should be added to DefaultPlayer.

```
[server only]
void getDataStorage()
{
    local userId = self.Entity.Name
    local userDS = _DataStorageService:GetUserDataStorage(userId)
}
```

#### CreatorDataStorage

Since we have one data storage per creator, we can load data without specifying a key.

```
[server only]
void getDataStorage()
{
    local creatorDS = _DataStorageService:GetCreatorDataStorage()
}
```

#### SortableDataStorage

```
[server only]
void getDataStorage()
{
    local sortableDS = _DataStorageService:GetSortableDataStorage("sortableDS")
}
```

## Loading Data

Use the GetAndWait and GetAsync functions when importing data. GlobalDataStorage, UserDataStorage, and CreatorDataStorage can only get the string-type values. If the data is converted to a string using the `_UtilLogic:TableToString()` function when saving data, it can be converted to an existing type using the `_UtilLogic:StringToTable()` function when retrieving data. SortableDataStorage can only get integer-type values.

> **Tip** Distinction between Async and AndWait The two suffixes in front of the functions in DataStorageService indicate whether the functions are asynchronous or synchronous. Async is performed asynchronously, and the function delivered as the callbackFunction parameter is called when the function's operation is completed. AndWait runs synchronously, stopping script execution until the function's task is complete.

This is an example of getting the value of GlobalDataStorage named `globalDS` using a key value of "Grade."

```
local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalDS")
local errorCode, grade = globalDataStorage:GetAndWait("Grade") -- Return previously stored "A" value
```

#### Loading Data with More Information

When retrieving the value of DataStorage, you can specify the Version to get the value of a specific version. Unlike general data retrieval, you must create an entity with DataStorageKeyInfo and specify the entity as a parameter to retrieve a value with more information. DataStorageKeyInfo can specify the value of Key, Tag, and Version. When importing data, even if the tag value is specified, it is not used and it does not affect the operation. If you use DataStorageKeyInfo without specifying the version, it will behave the same as getting the value using the GetAndWait and GetAsync functions, and the value of the last saved version (the latest version) will be retrieved. It is possible to load using DataStorageKeyInfo by using the GetByInfoAndWait and GetByInfoAsync functions.

```
local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalDS")
local setterKeyInfo = DataStorageKeyInfo()
setterKeyInfo.Key = "Key"
setterKeyInfo.Version = "Version1"
globalDataStorage:SetByInfoAndWait(setterKeyInfo, "Value1")
 
setterKeyInfo.Key = "Key"
setterKeyInfo.Version = "Version2"
globalDataStorage:SetByInfoAndWait(setterKeyInfo, "Value2")
 
local errorCode, value = globalDataStorage:GetAndWait("Key")
log(value) -- Value2 The latest version of the value is fetched by default.
 
local getterKeyInfo = DataStorageKeyInfo()
getterKeyInfo.Key = "Key"
getterKeyInfo.Version = "Version1"
 
local errorCode, value = globalDataStorage:GetByInfoAndWait(getterKeyInfo)
log(value) -- Value1 You can import by specifying the specific version you want.
```

## Increasing Data

SortableDataStorage can increase the value using the IncreaseAndWait and IncreaseAsync functions. Each function increments or decrements the value of that parameter by the value of the delta input. It increases when the value of the parameter is a positive number and decreases when it is a negative number. If the value to be increased does not exist in DataStorage, it is saved as default value 0 and increased by delta. The IncreaseAndWait and IncreaseAsync functions give the error code and the incremented value.

This is an example of creating and increasing a value that is not stored in DataStorage with the IncreaseAndWait function.

```
local sortableDataStorage = _DataStorageService:GetSortableDataStorage("sortableDS")
 
-- Assume that "Key" in sortableDataStorage has no stored history.
local errorCode, value = sortableDataStorage:IncreaseAndWait("Key", 5)
log(value) -- 5, returns 5 because it has been created with the default value of 0 and then increased by delta.
 
local errorCode, value = sortableDataStorage:IncreaseAndWait("Key", 10)
log(value) -- 15, returning 15 because the previously stored value of 5 is incremented by delta.
```

## Deleting Data

You can remove data with the DeleteAndWait or DeleteAsync function.

This example removes the value corresponding to the key value named Grade from GlobalDataStorage named globalDS.

```
local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalDS")
globalDataStorage:DeleteAndWait("Grade")
local errorCode, grade = globalDataStorage:GetAndWait("Grade") -- "Grade" cannot get a valid value because it has been removed.
```

## Loading Data Lists

You can query the list of DataStorage stored as DataStorageService. If you call the function, you can get GlobalDataStoragePages, SortableDataStoragePages, and UserDataStoragePages that can look up the list of the corresponding DataStorage. However, in the case of CreatorDataStorage, there is no function to get the list because there is only one. The function to get a list provides AndWait and Async, and you can use the desired form depending on the purpose.

```
local errorCode, globalDataStoragePages = _DataStorageService:GetGlobalDataStoragePagesAndWait()
```

```
local errorCode, sortableDataStoragePages = _DataStorageService:GetSortableDataStoragePagesAndWait()
```

```
local errorCode, userDataStoragePages = _DataStorageService:GetUserDataStoragePagesAndWait()
```

#### Traversing Pages

When receiving a DataStorage list or a data list, it receives a value in the form of Pages, an object that can search the list page by page.

```
local errorCode, globalDataStoragePages = _DataStorageService:GetGlobalDataStoragePagesAndWait()
 
while true do
 
    local globalDataStorages = globalDataStoragePages:GetCurrentPageDatas() --You can get a list of current pages with GetCurrentPageDatas().
 
    for _, globalDataStorage in pairs(globalDataStorages) do
        log(globalDataStorage.Name)
    end
     
    if globalDataStoragePages.IsLastPage == true then -- You can check if the current page is the last page through the IsLastPage property.
        break
    end
    globalDataStoragePages:MoveToNextPageAndWait() --MoveToNextPageAndWait() to move to the next page.
end
```

## Batch Request

You can make batch requests to store, retrieve, or remove data using the Batch prefix function. The `BatchSetAndWait()` and `BatchSetAsync()` functions provide a key table of error codes and values for which the request was successful. When storing, retrieving, or removing multiple values, you should utilize Batch-prefixed functions to make many requests quickly. Functions with the Batch prefix may only succeed in some of the requested actions. Therefore, you must check the result values and handle any unsuccessful actions properly.

The following is an example of saving data in batches.

```
local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalDS")
local keyValues = {}
keyValues["key1"] = "value1"
keyValues["key2"] = "value2"
keyValues["key3"] = "value3"
 
local errorCode, successKeys = globalDataStorage:BatchSetAndWait(keyValues)
```

## Atomic Batch Request

You can make atomic batch requests to store, retrieve, or remove data using the Transact prefix function. Function will not be called if any of the tasks in the function call fail. You can manipulate up to 20 keys at a time. If all of the requests delivered at once don't succeed, they all fail, and the data before the request is retained. This simplifies the code related to the error handling. However, in this case, some complex processing should be done internally to ensure transactions. In addition, the credit is consumed twice as much as the Batch function.

> **Learn More** Transaction is a unit of task that should be processed atomically.

The following is an example of saving data in batches if all tasks are successful.

```
local transactDs = _DataStorageService:GetGlobalDataStorage(self.TransactionTestDsName)
local t1 = {}
t1["key1-1"] = "value1"
t1["key1-2"] = "value2"
t1["key1-3"] = "value3"

local t2 = {}
t2["key2-1"] = "value1"
t2["key2-2"] = "value2"
t2["key2-3"] = "value3"

local callback = function (code, keys)
    if code ~= 0 then
        error("! error. TransactSetAsync. code:"..tostring(code))
        return
    end
     
    for i, key in ipairs(keys)  do
        log("["..tostring(i).."] "..key)       
    end
end

-- ~AndWait
local code1, resultKeys1 = transactDs:TransactSetAndWait(t1)
for i, key in ipairs(resultKeys1) do
    log("["..tostring(i).."] "..key)
end
​
-- ~Async
transactDs:TransactSetAsync(t2, callback)
```

The following is an example of deleting data in batches if all tasks are successful.

```
log("# Test_DataStorage_TransactDelete")
local transactDs = _DataStorageService:GetGlobalDataStorage(self.TransactionTestDsName)
local keys1 = {"key1-1", "key1-2", "key1-3"}
local keys2 = {"key2-1", "key2-2", "key2-3"}
local code1, resultKeys1 = transactDs:TransactDeleteAndWait(keys1)
log("code1: "..tostring(code1))
for _, item in pairs(resultKeys1) do
    log("- deleted key: "..item)
end
​
local callback = function (code, keys)
    if code ~= 0 then
        error("! error. TransactDeleteAsync. code:"..tostring(code))
        return
    end
     
    for i, key in ipairs(keys)  do
        log("- deleted key: "..key)
    end
end
​
transactDs:TransactDeleteAsync(keys2, callback)
```

## Sorting Data

SortableDataStorage can sort data with the GetSortedAndWait and GetSortedAsync functions. When sorting and importing data, you can specify whether to sort in ascending or descending order and sort and import a list of values in a range of your choice by specifying the minimum and maximum values.

This is an example of sorting and retrieving data stored in SortableDataStorage.

```
local sortableDataStorage = _DataStorageService:GetSortableDataStorage("sortableDS")
 
-- Only the values between the minimum value 0 and the maximum value 100 are sorted and retrieved.
local errorCode, pages = sortableDataStorage:GetSortedAndWait(SortDirection.Ascending, 0, 100)
 
while true do
 
    local items = pages:GetCurrentPageDatas()
    for _, item in pairs(items) do
        log(item.KeyInfo.Key)
        log(item.Value)
    end
 
    if pages.IsLastPage == true then
        break
    end
    pages:MoveToNextPageAndWait()
end
```

## Managing Versions

If Version is specified using DataStorageKeyInfo when saving the value of DataStorage, you can manage the version. Instead of overwriting the existing version, you can create a new version and even overwrite the old version if the latest version is not valid. You can check the list of existing versions with a function that returns a list of versions.

#### Create a New Version

```
local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalDS")
local keyInfo = DataStorageKeyInfo()
keyInfo.Key = "Key"
keyInfo.Version = "Version1"
 
globalDataStorage:SetByInfoAndWait(keyInfo, "Value")
 
-- Create a new version and save it instead of overwriting the "Value" of the existing version.
keyInfo.Key = "Key"
keyInfo.Version = "Version2"
globalDataStorage:SetByInfoAndWait(keyInfo, "Value2")
 
-- The "Value" is not overwritten, so it is still valid, and you can get the "Value" by specifying Version1.
keyInfo.Key = "Key"
keyInfo.Version = "Version1"
local errorCode, value = globalDataStorage:GetByInfoAndWait(keyInfo)
```

#### Returning to a Previous Version

```
local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalDS")
keyInfo = DataStorageKeyInfo()
keyInfo.Key = "Key"
keyInfo.Version = "Version1"
 
globalDataStorage:SetByInfoAndWait(keyInfo, "Value")
 
-- Create a new version and save it instead of overwriting the "Value" of the existing version.
keyInfo.Key = "Key"
keyInfo.Version = "Version2"
globalDataStorage:SetByInfoAndWait(keyInfo, "Value2")
 
-- The "Value" is not overwritten, so it is still valid and you can get "Value" by specifying Version1.
keyInfo.Key = "Key"
keyInfo.Version = "Version1"
local errorCode, oldValue = globalDataStorage:GetByInfoAndWait(keyInfo)
 
-- Get values from the previous version and overwrite the newer version. After that, calling the GetAndWait function returns "Value", not "Value2".
keyInfo.Key = "Key"
keyInfo.Version = "Version2"
globalDataStorage:SetByInfoAndWait(keyInfo, oldValue)
```

#### Importing Version List

```
local globalDataStorage = _DataStorageService:GetGlobalDataStorage("globalDS")
 
-- Get a list of versions from April 20th to May 20th only.
local minDate = DateTime(2022, 4, 20)
local maxDate = DateTime(2022, 5, 20)
 
local errorCode, pages = globalDataStorage:GetVersionsAndWait("Key", SortDirection.Ascending, minDate, maxDate)
 
while true do
 
    local versions = pages:GetCurrentPageDatas()
 
    for _, versionInfo in pairs(versions) do
        log(versionInfo.CreateTime) -- Tells you the time it was created.
        log(versionInfo.Version) -- Tells you the Version set by the user.
    end
 
    if pages.IsLastPage == true then
        break
    end
    pages:MoveToNextPageAndWait()
end
```

Update 2025-11-17 PM 08:14


# Learning DataStorage Use Limits

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

##### **DataStorage 사용량 제한은 추후 도입 예정으로, 현재는 크리티컬 리포트에서만 사용량 초과 여부를 알 수 있습니다.**

# Course Introduction

Use of DataStorage above the threshold will be recorded in the critical report. In the future, limitations will be introduced to prevent usage above the threshold. We recommend creators maintain their data usage in advance. Use of DataStorage is limited to released Worlds only.

# Data Requests and Credit Consumption

Data usage is calculated and applied at once across the entire World instance of a World built by the creator. DataStorage or similar functions use **1 Credit per request (Request)** by default. However, you can also use multiple Credits if the size of a request is large. Also, the Credit consumption threshold depends on **FunctionGroup**. If you want to learn more about Credit, see [Utilizing DataStorage Use Limits](/docs?postId=1045).

# FunctionGroup

FunctionGroup is a standard for identifying functions that share Credit.

#### List DataStorage

It is a group of functions that get a DataStorage list. It includes GetGlobalDataStoragePagesAndWait, GetUserDataStoragePagesAndWait, and more DataStorageService.

#### Delete DataStorage

This is a group of functions that remove DataStorage. It includes DeleteGlobalDataStorageAndWait, DeleteUserDataStorageAndWait, and DataStorageService.

#### List Sorted

It is a group of functions that get an arranged list of values. It includes GetSortedAndWait, GetPagesAndWait, and SortableDataStorage.

#### List

It is a group of functions that get a list of values. It includes GetPagesAndWait, GetVersionsAndWait, and GlobalDataStorage.

#### Delete

This is a group of functions that remove the values. It includes DeleteAndWait, BatchDeleteAndWait, and GlobalDataStorage.

#### Get

It is a group of functions that get the values. It includes GetAndWait, BatchGetAndWait, and GlobalDataStorage.

#### Set

This is a group of functions that save the values. It includes SetAndWait, UpdateAndWait of GlobalDataStorage, IncreaseAndWait of SortableDataStorage, and more.

#### None

None is a function that makes no request to the database.

# Guide to FunctionGroup

| Type | Functions | FunctionGroup |
| --- | --- | --- |
| DataStorageService | DeleteCreatorDataStorageAndWait | Delete DataStorage |
| DeleteCreatorDataStorageAsync | Delete DataStorage |
| DeleteGlobalDataStorageAndWait | Delete DataStorage |
| DeleteGlobalDataStorageAsync | Delete DataStorage |
| DeleteSortableDataStorageAndWait | Delete DataStorage |
| DeleteSortableDataStorageAsync | Delete DataStorage |
| DeleteUserDataStorageAndWait | Delete DataStorage |
| DeleteUserDataStorageAsync | Delete DataStorage |
| GetAndWait | Get |
| GetAsync | Get |
| GetCreatorDataStorage | None |
| GetDataStorage | None |
| GetGlobalDataStorage | None |
| GetGlobalDataStoragePagesAndWait | List DataStorage |
| GetGlobalDataStoragePagesAsync | List DataStorage |
| GetSortableDataStorage | None |
| GetSortableDataStoragePagesAndWait | List DataStorage |
| GetSortableDataStoragePagesAsync | List DataStorage |
| GetUserDataStorage | None |
| GetUserDataStoragePagesAndWait | List DataStorage |
| GetUserDataStoragePagesAsync | List DataStorage |
| SetAndWait | Set |
| SetAsync | Set |
| DataStorage Common | BatchDeleteAndWait | Delete |
| BatchDeleteAsync | Delete |
| BatchGetAndWait | Get |
| BatchGetAsync | Get |
| BatchGetByInfoAndWait | Get |
| BatchGetByInfoAsync | Get |
| BatchSetAndWait | Set |
| BatchSetAsync | Set |
| BatchSetByInfoAndWait | Set |
| BatchSetByInfoAsync | Set |
| DeleteAndWait | Delete |
| DeleteAsync | Delete |
| GetAndWait | Get |
| GetAsync | Get |
| GetByInfoAndWait | Get |
| GetByInfoAsync | Get |
| GetVersionsAndWait | List |
| GetVersionsAsync | List |
| SetAndWait | Set |
| SetAsync | Set |
| SetByInfoAndWait | Set |
| SetByInfoAsync | Set |
| TransactSetAsync | Set |
| TransactSetAndWait | Set |
| TransactSetByInfoAsync | Set |
| TransactSetByInfoAndWait | Set |
| TransactDeleteAsync | Delete |
| TransactDeleteAndWait | Delete |
| GlobalDataStorage, UserDataStorage, CreatorDataStorage | UpdateAndWait | Set |
| UpdateAsync | Set |
| UpdateByInfoAndWait | Set |
| UpdateByInfoAsync | Set |
| GetPagesAndWait | List |
| GetPagesAsync | List |
| SortableDataStorage | GetSortedAndWait | List Sorted |
| GetSortedAsync | List Sorted |
| IncreaseAndWait | Set |
| IncreaseAsync | Set |
| GetPagesAndWait | List Sorted |
| GetPagesAsync | List Sorted |

Update 2025-11-17 PM 08:14


# Utilizing DataStorage Use Limits

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

##### **DataStorage 사용량 제한은 추후 도입 예정으로, 현재는 크리티컬 리포트에서만 사용량 초과 여부를 알 수 있습니다.**

# Course Introduction

The storage limit and Credit limit must be checked when using DataStorage. Let's learn about DataStorage usage limits.

# DataStorage Storage Limit

The following is the DataStorage storage limits. The string value size is calculated as the number of bytes when converted to a byte array via UTF-8 encoding.

| Category | Storage Limit |
| --- | --- |
| DataStorage name | 1 ~ 64 byte |
| DataStorage key | 1 ~ 100 byte |
| DataStorage tag | 0 ~ 64 byte |
| DataStorage version | 0 ~ 64 byte |
| update | 0 ~ 50,000 byte |
| set | 0 ~ 300,000 byte |

# Credit

Credit is a unit calculated to limit the number of database requests. The minimum value for Credit is 1. Credits are consumed only on actual requests to the database. FunctionGroups differ from each other in the number of Credits paid every minute, the number of Credits accumulated, and the number of Credits consumed on request by the database. To see which FunctionGroup belongs to each function, check out [Learn DataStorage Use Limits](/docs?postId=1044).

| FunctionGroup | Credits Paid per Minute | Max Credit That Can Be Accumulated | Credits Consumed on Request |
| --- | --- | --- | --- |
| List DataStorage | 10 + (Number of Connections * 2) | Credits Paid per Minute * 2 | 1 |
| Delete DataStorage | 10 + (Number of Connections * 2) | Credits Paid per Minute * 2 | 1 |
| List Sorted | 50 + (Number of Connections * 2) | Credits Paid per Minute * 2 | 1 |
| List | 10 + (Number of Connections * 2) | Credits Paid per Minute * 2 | 1 |
| Delete | 50 + (Number of Connections * 2) | Credits Paid per Minute * 2 | 1 per 4,000 Bytes |
| Get | 100 + (Number of Connections * 10) | Credits Paid per Minute * 2 | 1 per 4,000 Bytes |
| Set | 100 + (Online Players * 10) | Credit Given per Minute * 2 | 1 per 4,000byte |

#### Credit Consumption Depending on Byte Size

<1 Credit is used **from 0 to 4000 Byte**. Credit is also consumed when searching for values that don't exist. The size of string value is calculated as the number of bytes when converted to a byte array via UTF-8 encoding.

> **Tip** **Key, tag and version** sizes do not affect Credit.

#### Credit Consumption in Batch-Type Functions

Batch-type functions such as BatchGetAsync can access multiple keys at once. **The number of Credits consumed by these functions depends on the number of keys** on request. Even when two values are requested, the amount of Credit consumed changes based on the requested number of Bytes. For example, if a request had two values of 2,000 Bytes each, a total of 2 Credits will be consumed. Meanwhile, when the two values are 4,000 Bytes and 4,500 Bytes, the 4,000 Byte value will cosume 1 Credit and the 4,500 Byte value will consume 2 Credits. When using the batch-type functions, it's important to consider **when Credits will be consumed**. Credits are consumed at the time of actual request to the database. If you pass 50 keys to the `BatchGetAndWait()` function, it wouldn't consume Credit for the 50 values in a single call. The immediate call consumes Credit for 25 values, and the subsequent returning page consumes Credit for the remaining 25 values as it moves to the next page via `MoveToNextPageAndWait()`.

> **Tip** The `BatchSetAndWait()` function requests the number of keys directly passed.

#### Credit Consumption in Transact-Type Functions

Transaction-affiliated functions work similarly to batch-affiliated functions. However, more processing is required to guarantee a transaction, so it consumes **double the Credit** compared to batch affiliated functions.

#### Functions That Don't Consume Credit

When you used a function, but another function has already loaded a page, it doesn't consume Credit. For example, the `MoveToNextPageAndWait()` and `LoadNextPageAndWait()` functions do not consume Credit, depending on the situations. For example, when calling the `MoveToNextPageAndWait()` function after pre-loading the next Page of the GlobalDataStoragePages using `LoadNextPageAndWait()`, since the Page was already loaded, a request isn't made to the database. Therefore, Credit is only consumed when calling the `LoadNextPageAndWait()` function.

Update 2025-11-17 PM 08:14


# Basic Concepts of Creating Avatar Items

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's examine the configuration and logic of an avatar. Understanding the concept will help you create all kinds of items using the reference guides below. You can create avatar items using Adobe Photoshop. Crafting sheets are provided as .psd files.

##### Reference Guide

- [Creating Pants](/docs?postId=584)
- [Creating Capes](/docs?postId=585)
- [Creating Coats](/docs?postId=586)
- [Creating Gloves](/docs?postId=587)
- [Creating Shoes](/docs?postId=583)
- [Creating Hair](/docs?postId=657)
- [Creating Hats](/docs?postId=592)
- [Creating Outfits](/docs/?postId=1042)

# Avatar Type and Configuration

- Avatars use one configuration regardless of gender.![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1645599045163ccc2935448284dc8a4bf416dddb0dc0f.gif)
- There are 18 skin colors.![02](https://mod-file.dn.nexoncdn.co.kr/bbs/164559906683366b8775726e848979b8ae26b139185bf.gif)
- Avatars consist of a Head, Body, and Arms.![03](https://mod-file.dn.nexoncdn.co.kr/bbs/16455990991107dd9fc17151646c3b43934bbea7b7e48.gif) ![04](https://mod-file.dn.nexoncdn.co.kr/bbs/1656562325832bf59276bc41f4f8cac5f4245ae8a71d7.png)
- Items are also created for the Head, Body, and Arms parts. Draw the item according to the layer, and draw only on one side of the layer, as layers are one-sided.![05](https://mod-file.dn.nexoncdn.co.kr/bbs/1656562341085cff05d9389cc4c5c9ff1699c4e69eba0.gif)

# Avatar Costume

Suit costumes and basic costumes are all drawn in the sheet. Sheets are provided in psd files which have separate layers.Please refer to these guides: [Creating Pants](/docs?postId=584), [Creating Coats](/docs?postId=586)![06](https://mod-file.dn.nexoncdn.co.kr/bbs/16455992831750c17309e8c164dd582a5a3e7de378694.gif)

#### Production Sheet Guide

To create items, you'll need specially prepared files. Each file has different layers with distinct purposes. The gray layer is for guide purposes. Creators will do the actual drawing on **the yellow layer**.

Images that make up the avatar have multiple layers. Avatars consist of a head, body, and arms. There are more layers for arms depending on their position relative to the head. The images are separated as the body goes below the costume, the costume goes below the shield, and the shield goes below the weapon. The height of each separated sprite is organized in the zmap file. If you edit the name of this layer, you cannot craft items. Each sheet has zmap information and has an internal rule that fixes the name, number, and location of layers. You cannot change the names of layers.

Sample sheet and layers are composed as follows. ![26](https://mod-file.dn.nexoncdn.co.kr/bbs/16456098529897d1257963fee4195847d88ea72c39bf9.png)![25](https://mod-file.dn.nexoncdn.co.kr/bbs/1645609844102aade2f41f8144232b2d35fd5318a6bef.png)

# Avatar Face

- There are various faces to match various skin tones. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1645608336694ccb878c41f2c4e409756ebf0fb5feb31.gif)
- To make faces that match various skin tones, first, draw a line in black (or a dark color), and then erase the outer line, double eyelid line, and the whites of the eyes to differentiate the transparency. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/164560843607021a6e8aec7ec45d3bc4162389238585b.gif)![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1645608450343ea9e7a33235f48e08b7fded4924960f4.gif)

# Avatar Hair

There are two types of hair, long and short. Draw the shadow with #6D5031 color according to the hair shape, and apply 30% transparency to match all skin tones. ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/16456096534270fee743409094561820666e6aed2fe56.gif)![23](https://mod-file.dn.nexoncdn.co.kr/bbs/1645609664691b243cbfb8cb44544972f03fac255bcbf.gif)![24](https://mod-file.dn.nexoncdn.co.kr/bbs/1645609675823dabb15759fd0454a9b75286fee4d5864.gif) For hair that's pressed flat, you can put on various caps like the image below. ![21](https://mod-file.dn.nexoncdn.co.kr/bbs/164560961847630710d0ba78a48119c7793a2212f3f4e.gif)![20](https://mod-file.dn.nexoncdn.co.kr/bbs/1645609600856ad0518160caa4e01a1b00d34d77b7bea.gif)

#### Long Hair

The front part requires 6 Layers. Hair styles that are longer than shoulder length require additional images for prone position.

- Required Layers: **Front, Back, Pressed, Shadow, Prone, Pressed hair in prone position** ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/1656562362823d8cca002173b48cba4214f8da0034541.png)

#### Short Hair

The front part requires 3 Layers. Short hair styles look the same even in prone position.

- Required Layers: **Front, Pressed, Shadow** ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/16565623953131f5297a811134fc9aa053cac47c57f33.png)

# Avatar Hats

Hats have two types depending on what they look like from the front. There are additional hats that match actions.

- Hat with 1 layer in front of hair ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/1656562411232fccbc00feee74548bcd4e0c542e9e2ca.gif)
- Hat with 2 layers in the front and back of hair ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/16565624265193e5e0ab49c784e63b7c007fece27fb24.gif)
- Hat made by utilizing sheets according to action ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/16456087096046eb7438793364ede8186282bdca75a61.gif)

Update 2025-11-20 PM 02:03


# Registering Avatar Items

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

In MapleStory Worlds, creators can create their own avatar items. To make their own avatar items, creators have to go through **creation** and **registration** steps. This guide will cover the registration process. Please refer to the guides below to learn about creation.

##### Reference Guide

- [Basic Concept of Creating Avatar Items](/docs?postId=588)
- [Creating Pants](/docs?postId=584)
- [Creating Capes](/docs?postId=585)
- [Creating Coats](/docs?postId=586)
- [Creating Gloves](/docs?postId=587)
- [Creating Shoes](/docs?postId=583)
- [Creating Hair](/docs?postId=657)
- [Creating Caps](/docs?postId=592)

You can register the following parts: hair, cap, cape, coat, gloves, pants, and shoes. Each part shares the same registration process. In this guide, we'll register a coat as an example. We're going to use the resource file below as an example.

# Register Avatar Items

1. Click the **[Create]** menu followed by the **Avatar** tab at the top. ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1669168971262bb2d9a28128c4f18a5d0d84e037a14b7.png)
2. Download the file **Avatar_Coat.psd**, then in the **Avatar** tab, click the **[Create New]** button. (If you have an avatar item's PSD file that you created, you can go with that.) ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/166916901725233a6cc83676346419a904c895afcd217.png)
3. Click the **[Select PSD File]** button and select the downloaded PSD file. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1669169072328da1b888ea66c43858e34f22e3f474986.png)
4. When the PSD file is uploaded, you can check the preview. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1678688819372ef6b45a344c44f42a946e87abc138cf2.png)
5. Check whether the item has been created as you intended.
  - Check each action of the avatar to see if the item is working properly.
    - In the action list, click each **ActionName** to check.
    - Click **AutoPlay** to select a certain frame and check the avatar preview.![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1678687227625a70c35df565d4377a7962ab9c5a23649.png)
  - **[Apply to My Avatar]** and **[Apply World Background]**
    - Click the **[Apply to My Avatar]** button to preview how the item you're creating looks on your avatar.
    - Click the **[Apply World Background]** button, and you can easily see how it actually looks in the game.![6](https://mod-file.dn.nexoncdn.co.kr/bbs/167868732738290f6f4c876e9423aac23d2df0d797a75.png)
6. Write the name and description of the item. ![21](https://mod-file.dn.nexoncdn.co.kr/bbs/1678688926747f9fad8a560cf4820a6de99a623953c2c.png)
  > **Tip** The item's thumbnail image is auto-generated based on the uploaded PSD file. Thumbnails can be set based on the motion and frame of the currently set avatar animation. ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/1678688963672637088dd40754b9dbd69e39db142dbab.png)
7. Now, in the **AvatarItem Editor**, click the **[Upload]** button. Once the upload is finished, you can see the item registered on the avatar list. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/16691695226200e4e178bd6744a74bcfe539386c224cd.png)

# Registering in Resource Storage

You can also register avatar items in the Maker's Resource Storage. From the top navigation menu, click **Panels - Resource Storage** to open the Resource Storage. Go to **My Resource - avatarItem - coat** to see the item you've registered in advance. You can register the avatar in Resource Storage by clicking the ![add](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/icon_layer_add.png) button at the top. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1669169579147bf312a28743a4c00b5fe5b7ff74ef6ce.png)

# Editing and Deleting Avatar Items

Let's look into the avatar item context menu.

- **Rename**: Renames resource.
- **Delete** : Deletes resource.
- **Copy RUID**: Copies resource RUID to clipboard.
- **Detail Info**: Opens pop-up window to see detailed information about resource. You can also double-click the resource icon. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1656554906953f6d2eb6287874ecfa49a2132ad6e31af.png)

Double-click the resource icon or click **Detail Info** to see detailed information. You can change the name and description of resources as well. ![14](https://mod-file.dn.nexoncdn.co.kr/bbs/1669169655194e1fccb67bfb64991bce0622737eacd7a.png)

On the **Detail Info** window above, click the **[Open File]** button marked with an arrow to open the **AvatarItem Editor** window where you can do things like replacing the PSD file. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1678689137446fc9b00e8b4194bafab9ec6b0c147dc84.png)

# How to Equip Avatar Items

In a World made by Creator, you can equip avatar items on yourself.

1. Click the property of the avatar item you want to equip in **CostumeManagerComponent** of **DefaultPlayer**. ![16](https://mod-file.dn.nexoncdn.co.kr/bbs/16456053556420f1ccdd1896d45a2a25427d572cbfecf.png)
2. Clicking the button will open **Resource Picker** and show you the registered avatar items in **My Resources**. Click the desired avatar item. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/1681088578867267de45e70f84e819a2684a10f6a65d6.png)
3. If you check the property, you'll find the RUID value entered as follows. ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/16456054206924cdf9652c0614d239739b4b10e9b8c3a.png)

> **Learn More** If you create and register an avatar item as a product, you as a creator can purchase and use it and sell it to other users. If you'd like to sell your avatar item, please refer to the [Creating Avatar Products](/docs/?postId=830) guide.

Update 2025-12-02 PM 03:52


# Creating Capes

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

Let's learn how to make capes. You can change the color of the cape and add an image to it. You can even make balloons instead of capes. First, please refer to [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to create items. After installing the software, download and open the file below.

> **Tip** We recommend making items within 120 x 120 pixels based on the avatar's feet. ![Examples](https://mod-file.dn.nexoncdn.co.kr/bbs/1677032255514a026c711634c4196ab0b96bc5424e7f9.png)

# Production Sheet Description

The production sheet is divided into gray and yellow layers. In the three gray layers, there are data folders for image datafication, avatar body layer for image creation, and line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual item in the yellow layer.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

#### Gray Layer

1. **data folder** You need the data folder for item datafication. It does not affect image creation.
  - **data:origin**: Marks the center of the data with a red dot.
  - **data:type:Cape**: Indicates data type.
  - **data:vslot:Sr**: Only hats use the concept of vslot.
  - **data:use_zmap_preset1**: Image layers pile up to create an avatar. An avatar's structure involves stacking images of clothes, shields, and weapons over each other to create various body movements.The height of each sprite by item is organized in the file zmap.
2. **guide_character_summary layer**: Avatar's sample body. Layer with a bigger number is placed below.
3. **guide_grid**: Craft items using grid lines. You have to work within the green line. ![cape01](https://mod-file.dn.nexoncdn.co.kr/bbs/1645511035444e8349fcd53a8498eafb9e14c0a5e0fe0.png)

#### Yellow Layer

The creator can draw capes in the yellow layer.

- **edithere:cape_capeOverHead_10**: Layer of the outside of the cape.
- **edithere:cape_cape_48**: Layer of the part that's seen when character lies face down.
- **edithere:cape_capeBelowBody_83**: Layer of the inside of the cape.

![cape02](https://mod-file.dn.nexoncdn.co.kr/bbs/16455110548840d829341a51d485097d7258e74e7b2ba.png)

# Creation

Let's create your own cape. If you'd like to check what the cape looks like in the animation, you can use [Registering Avatar Items](/docs?postId=590).

#### Drawing Patterns

1. Select **edithere:cape_capeOverHead_10**. ![cape14](https://mod-file.dn.nexoncdn.co.kr/bbs/1646030772333162edae825294ac48cc1d5fbb96647c1.png)
2. Draw patterns on the outside of the cape. Use Pencil Tool to draw heart-shaped patterns on layer 3.![cape05](https://mod-file.dn.nexoncdn.co.kr/bbs/16456004442401ea5defa579a4b6abf23766fae78e720.png)![coat10](https://mod-file.dn.nexoncdn.co.kr/bbs/1645601105790a0371e5caeb844c998d7e93f9cef9bdd.gif)

#### Changing the Color

1. Click the yellow layer.
2. Select **Image - Adjustments - Hue/Saturation** or use the shortcut **Ctrl+U** to open Hue/Saturation window.
3. Adjust values for Hue, Saturation. Change the color of the cape.![cape04](https://mod-file.dn.nexoncdn.co.kr/bbs/16455174179436b418feba80a437dbff18a16cb72c1d8.png)
4. Change colors in all yellow layers and save the file.![coat11](https://mod-file.dn.nexoncdn.co.kr/bbs/1645601140643c559a7b9c69a42ebb92aa2ff968912a6.gif)

#### Making Balloons

Open the sheet to create a balloon (Avatar_Cape_balloon.psd).

1. Click the yellow layer.![ballon](https://mod-file.dn.nexoncdn.co.kr/bbs/164551700483099e8c4210c404b7a86d0e8663daf82fc.png)
2. Select **Image - Adjustments - Hue/Saturation** or use the shortcut **Ctrl+U** to open Hue/Saturation window.
3. Adjust values for Hue, Saturation. Change the color of the balloon, and press 'OK' button. ![ballon01](https://mod-file.dn.nexoncdn.co.kr/bbs/1645516927945b5a70e3c58994a7b99fb73ff90921c95.png)
4. Select the Pencil Tool and draw a ribbon on the balloon. Draw the ribbon for all actions. ![ballon02](https://mod-file.dn.nexoncdn.co.kr/bbs/16455169584853247e15f49954ad69dd7a2d1d12567d7.png)
5. Change colors in all yellow layers and save the file.![coat12](https://mod-file.dn.nexoncdn.co.kr/bbs/1645601233197520c1a81436a4d819c9273af39c3b9cb.gif)

> **Tip** You can draw a ribbon and then copy and paste it to other actions.
> **Learn more** A balloon is another type of cape, so it cannot be worn together with a cape.

##### Reference Guide

- [Creating Pants](/docs?postId=584)
- [Creating Coats](/docs?postId=586)
- [Creating Gloves](/docs?postId=587)
- [Creating Shoes](/docs?postId=583)

Update 2025-11-20 PM 02:03


# Production Process Guide

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=50m&amp;color=green)

# Course Introduction

Let's learn how to make a cap based on the open back cap. We recommend challenging yourself to produce other types of caps after learning how to create a cap of one type. Refer to the production sheet file and the layer description of the [Open Back Cap](/docs?postId=684) and challenge on the production.

# Create

### Make a Black Beanie with Decorations

Let's erase the heart decoration from the beanie and make a flower decoration instead.

![32](https://mod-file.dn.nexoncdn.co.kr/bbs/1645791272340b6560797cef648819c675e8136bb5f44.png)![31](https://mod-file.dn.nexoncdn.co.kr/bbs/1645791161302775fa9f0d44d4b489f6b85e3d2513b98.png)

1. Select the yellow layer**edithere:cap_cap_34**.![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16457812707994a879e5d7ff5455b8415c392021d348b.png)
2. Click the Eyedropper tool, extract the cap color, and select **Pencil tool** to remove the decoration. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/16457813036144967276e8fd944f69c27197971d89c8b.png)
3. Change the color of the Pencil tool to red and draw a large flower.
4. These flowers are large, so they should be slightly visible from the back view.Select the yellow layer**edithere:cap_backCap_92**.
5. Draw the flowers to be slightly visible on the left. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/16457813415818c106aa53f8d436fbb80937e48b2d555.png)

### Change color

Let's change the color of the default black beanie. Try drawing more floral decorations if you're used to drawing decorations.

![30](https://mod-file.dn.nexoncdn.co.kr/bbs/16457911483162090d8b4bcbe47f3b9f3b7b80ea1c184.png)![33](https://mod-file.dn.nexoncdn.co.kr/bbs/164579153406366fb27ce813d4b0388d7044f29b1b7c2.png)

1. Select the yellow layer**edithere:cap_cap_34**.![12](https://mod-file.dn.nexoncdn.co.kr/bbs/16457813695371a6dac5875364af99fe85b363c460f5d.png)
2. Press the photoshop menu **Image > Adjustments > Color Balance** or shortcut key **Ctrl+B**.
3. Change the color to purple by entering **85, 0, +45** in Color Balance.![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1645781387384ba71feabcec149d3959f3ad2b124b2ad.png)
4. Press the photoshop menu **Image > Adjustments > Levels** or shortcut key **Ctrl+L**.
5. Enter the Input Levels values of 0, 1.00, and 156 to change the color to light purple.![14](https://mod-file.dn.nexoncdn.co.kr/bbs/1645781398683671652b3c7394bf0932413f9c060cc63.png)
6. Change the back view of the cap in the same way.

### Create Effect Caps

To make the effect cap, let's open the **Avatar_Cap_Ani.psd** file and create a heart-shaped effect.

| Default Effects | Heart Effects |
| --- | --- |
| ![35](https://mod-file.dn.nexoncdn.co.kr/bbs/16457929316460fe14b326d45465ea5d3ac18e833c95f.gif) | ![36](https://mod-file.dn.nexoncdn.co.kr/bbs/1646010456539bc80ce04d59c41b1a4d73a4d229f5fd2.gif) |

1. Draw the front side of the cap on the case 1 front folder > **edithere:cap_cap_34:0** layer.![17](https://mod-file.dn.nexoncdn.co.kr/bbs/16457814337298252d7cb3bfa4f3eb8201cfa4692d18a.png)
2. Copy the cap and draw the same on the remaining three layers.
  - **edithere:cap_cap_34:1**
  - **edithere:cap_cap_34:2**
  - **edithere:cap_cap_34:3**
3. Since the animation plays from the smallest number to the largest number of the last digit of the layer name, hearts will be drawn progressively, getting bigger in the same position from 0 to 4.![18](https://mod-file.dn.nexoncdn.co.kr/bbs/1645781449807a9572a07c1c44ffaa0107bba7aba7a81.png)
4. Draw the back side of the cap on the case 2. back folder > **edithere:cap_backCap_92:0** layer.
5. Copy the cap and draw the same on the **edithere:cap_backCap_92:1**.
6. Draw hearts progressively, getting bigger in the same position from 0 to 4.

#### Check Photoshop Timeline

1. Select **Window > Timeline** in Photoshop and activate the Timeline menu.
2. Click Create Frame Animation and start.![18](https://mod-file.dn.nexoncdn.co.kr/bbs/1645781481606d9b1f6c9d22a438598eae1dfcc5ec1e6.png)
3. Select the front view's layer number 0 (edithere:cap_cap_34:0) and the back view's layer number 0 (edithere:cap_backCap_92:0) in the Timeline number 1 channel, and then press the + button of the Timeline.Select the front view's layer number 1 (edithere:cap_cap_34:1) and the back view's layer number 1 (edithere:cap_backCap_92:1) in the Timeline number 2 channel, and then press the + button of the Timeline.Select the front view's layer number 2 (edithere:cap_cap_34:2) and the back view's layer number 0 (edithere:cap_backCap_92:0) in the Timeline number 3 channel, and then press the + button of the Timeline.Select the front view's layer number 3 (edithere:cap_cap_34:3) and the back view's layer number 1 (edithere:cap_backCap_92:1) in the Timeline number 4 channel, and then press the + button of the Timeline. ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/1645781496623b8751a23b2ee44f1b4016c6604d791a3.png)
4. Create Frame 4 and check the animation play.To make the animation play smoothly, change the frame play rate from 0.0 to 0.2 seconds.  ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/1645781514920abaecc4ac7a34c57920a8b86f8b7f580.png)
5. When finished, save the PSD as it is.

> **Tip.** You can also check the GIF file by pressing File - Save a Copy or 'Alt+Ctrl+S' in the Photoshop menu. ![36](https://mod-file.dn.nexoncdn.co.kr/bbs/1646010456539bc80ce04d59c41b1a4d73a4d229f5fd2.gif)
> **Learn more** Only the 'stand', 'walk', 'fly', 'rope,' and 'ladder' actions will play the effect. In other actions, only the first frame is visible.

##### Reference Guide

- [Closed Back Cap](/docs?postId=677)
- [Accessory](/docs?postId=678)
- [Wig](/docs?postId=679)
- [Face-Covering Mask](/docs?postId=680)
- [Face-Open Mask](/docs?postId=681)
- [Hood](/docs?postId=682)

Update 2025-11-20 PM 02:03


# Open Back Caps

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=100m&amp;color=green)

# Course Introduction

Let's learn how to create open-back caps. You can change the default color of the hat and add accessories. We recommend drawing hats after you get used to creating pants or shoes, because the hat structure is complicated. First, please refer to the [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and then download and open the file below.

[Avatar_Cap_A1.psd](blob:https://maplestoryworlds-creators.nexon.com/4949961c-174d-41c8-99ff-42f8c7249e48)

[Avatar_Cap_A2.psd](blob:https://maplestoryworlds-creators.nexon.com/c6f89d36-c03a-4890-8159-11c864bb1222)

[Avatar_Cap_Ani.psd](blob:https://maplestoryworlds-creators.nexon.com/0785c93f-f9ee-4434-b2b6-4dfc493789ba)

> **Tip** We recommend making hats within 120 x 120 pixels based on the avatar's feet. ![example](https://mod-file.dn.nexoncdn.co.kr/bbs/16769485559327fc72cf03aca4128998b423540c3e049.png)

# Production Sheet Description

The hat production sheet is divided into gray, yellow, and red layers. The gray layer has a data folder for image datafication, an avatar body layer to help with the image creation, and a line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual items in the yellow layer. The red layer determines the priority between the hat and the hair.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

### Gray Layer/Red Layer

1. **data folder**: A data folder is required for the datafication of items. It does not affect image production.
  - **data:origin**: This marks the center of the data with a red dot.
  - **data:type:Cap**: This indicates the data type.
  - **data:use_zmap_preset1**: The images that form an avatar are produced by being piled in layers. The structure is to pile the images of clothes, shields, and weapons in layers in a sequence based on the avatar's body to produce the avatar's various movements.Zmap is a file wherein the heights of each sprite, separated by items, are organized in order.
2. **guide_layer**: This is an avatar's sample body. The internal rule is that the bigger the number attached after the layer name, it places below.
  - guide_backHairBelowCapWide_samples_94 and guide_backHairBelowCapNarrow_samples_95 are the samples for the wide and narrow hairs depending on the hat shape. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16457811937535becc03a37664135889302106c115bff.png)
3. **(Red layer) data:vslot:CpH1H5**: The red layer is a concept only for hats. The vslot layer in a hat file plays a role in determining whether hair or hat takes priority when the two overlap.

![layer](https://mod-file.dn.nexoncdn.co.kr/bbs/1677032356769c4bb8003ae4447ab8b8f3f11c31e2428.png)

### Yellow Layer

The creator draws the actual open-back hat on the yellow layer.

#### A hat with only one layer in the front of the hair of the front view (Avatar_Cap_A1)

- **case1.front**: This contains a layer to draw the front of the hat and front-view samples of normal hair and pressed hair.
  - **edithere:cap_cap_34**: This layer lets you draw the front of the hat.
- **case2.back**: This contains a layer to draw the back of the hat and back-view samples of normal hair and pressed hair.
  - **edithere:cap_backCap_92**: This layer lets you draw the back of the hat. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16770399860801689e03a56a847c6b3082835b716c0f9.png)

#### A hat with two layers in the front and back of the hairs on the front view (Avatar_Cap_A2)

- **case1.front**: This contains a layer to draw the front of the hat and the samples of normal hairs and pressed hairs on the front view.
  - **edithere:cap_cap_34**: This layer lets you draw the front of the hat.
  - **edithere:cap_frontBackCap_92**: This layer is used to draw the front view of the hat behind the hair.
- **case2.back**: This contains a layer to draw the back of the hat and the samples of normal hairs and pressed hairs on the back view.
  - **edithere:cap_backCap_92**: This layer lets you draw the back of the hat.

![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16856818406522ccc7186c35648dd8beb320cfcc7a07b.png)

> **Learn more** Use the 001 samples wherein the Wide and Narrow images are the same from the hair sample of guide_backHairBelowCapWide_samples_94 and guide_backHairBelowCapNarrow_samples_95 when working on the open-back cap (Avatar_Cap_A).

#### A File with Effects (Avatar_Cap_Ani.psd)

Avatar sheets have an animation rule of 4 frames for the front side and 2 frames for the back side. Apply the frame as a hat effect. You need to draw the hat and effect each to be played in order of the animation layers.

- **case1.front** : The animation folder includes the layers to draw the hat's front view and effects and the avatar sample.
  - **animation folder**: Includes four layers to draw the hat's front view and effects. You need to draw the same hat in all layers.
- **case2.back**: The animation folder includes the layers to draw the hat's back side and effects and the avatar sample.
  - **animation folder**: Includes two layers to draw the hat's front view and effects. You need to draw the same hat on all layers. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16770332160558c40d4d45b4349d29f54ace53eec586e.png)

> **Learn more** Only the stand, walk, fly, rope, and ladder actions will play the effect. In other actions, only the first frame is visible.

Update 2025-11-17 PM 08:14


# Closed-Back Hats

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=100m&amp;color=green)

# Course Introduction

Here is the production sheet for closed-back caps. First, please refer to the [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and then download and open the file below.

[Avatar_Cap_B.psd](blob:https://maplestoryworlds-creators.nexon.com/4b709b3c-6cf2-4169-980e-cfae8d430af2)

> **Tip** We recommend making caps within 120 x 120 pixels based on the avatar's feet. ![example](https://mod-file.dn.nexoncdn.co.kr/bbs/16769485559327fc72cf03aca4128998b423540c3e049.png)

# Production Sheet Description

The cap sheet is divided into gray, yellow, and red layers. The gray layer has a data folder for image datafication, an avatar body layer to help with the image creation, and a line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator draws the actual item on the yellow layer. The red layer determines the priority between the cap and the hair.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

### Gray Layer/Red Layer

1. **data folder**: A data folder is required for the datafication of items. It does not affect image production.
  - **data:origin**: This marks the center of the data with a red dot.
  - **data:type:Cap**: This indicates the data type.
  - **data:use_zmap_preset1**: The images that form an avatar are produced by being piled in layers. The structure is to pile the images of clothes, shields, and weapons in layers in a sequence based on the avatar's body to produce the avatar's various movements.Zmap is a file wherein the heights of each sprite, separated by items, are organized in order.
2. **guide_layer**: This is an avatar's sample body. The internal rule is that the bigger the number attached after the layer name, it places below.
  - guide_backHairBelowCapWide_samples_94 and guide_backHairBelowCapNarrow_samples_95 are the samples for the wide and narrow hairs depending on the cap shape. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16457811937535becc03a37664135889302106c115bff.png)
3. **(Red layer) data:vslot:CpH1H4**: The red layer is a concept only for the hats. The vslot layer in a hat file plays a role in determining whether hair or hat takes priority when the two overlap. ![TypeB](https://mod-file.dn.nexoncdn.co.kr/bbs/1677032543121310bc61208a34d33b830aba8862f51c4.png)

### Yellow Layer

The creator draws the actual item on the yellow layer.

1. **case1.front**: This contains a layer to draw the front of the hat and front-view samples of normal hair and pressed hair.
  - **edithere:cap_cap_34**: This layer lets you draw the front of the hat.
2. **case2.back**: This contains a layer to draw the back of the cap and back-view samples of normal hair and pressed hair.
  - **edithere:cap_backCap_92**: This layer lets you draw the back of the hat.

![TypeB01](https://mod-file.dn.nexoncdn.co.kr/bbs/1677033338202aa1833624a264a098601f346edc6fc3f.png)

> **Learn more** Use the 002 samples wherein the Wide and Narrow images are different from the hair sample of guide_backHairBelowCapWide_samples_94 and guide_backHairBelowCapNarrow_samples_95 when you work on a closed-back hat (Avatar_Cap_B).

Update 2025-11-17 PM 08:14


# Accessories

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=100m&amp;color=green)

# Course Introduction

Here is the production sheet for accessories. First, please refer to the [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and then download and open the file below.

[Avatar_Cap_C1.psd](blob:https://maplestoryworlds-creators.nexon.com/1acfcf8d-da26-4d62-8e4a-c1161cd2ccec)

[Avatar_Cap_C2.psd](blob:https://maplestoryworlds-creators.nexon.com/9d7153a4-dea5-4891-8f57-c2c7421bc5f0)

> **Tip** We recommend making accessories within 120 x 120 pixels based on the avatar's feet. ![example](https://mod-file.dn.nexoncdn.co.kr/bbs/16769485559327fc72cf03aca4128998b423540c3e049.png)

# Production Sheet Description

The accessory sheet is divided into gray, yellow, and red layers. The gray layer has a data folder for image datafication, an avatar body layer to help with the image creation, and a line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual items in the yellow layer. The red layer determines the priority between the cap and the hair.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

### Gray Layer/Red Layer

1. **data folder**: A data folder is required for the datafication of items. It does not affect image production.
  - **data:origin**: This marks the center of the data with a red dot.
  - **data:type:Cap**: This indicates the data type.
  - **data:use_zmap_preset1**: The images that form an avatar are produced by being piled in layers. The structure is to pile the images of clothes, shields, and weapons in layers in a sequence based on the avatar's body to produce the avatar's various movements.Zmap is a file wherein the heights of each sprite, separated by items, are organized in order.
2. **guide_layer**: This is an avatar's sample body. The internal rule is that the bigger the number attached after the layer name, it places below.
  - guide_backHairBelowCapWide_samples_94 and guide_backHairBelowCapNarrow_samples_95 are the samples for the wide and narrow hairs depending on the hat shape. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16457811937535becc03a37664135889302106c115bff.png)
3. **(Red layer) data:vslot:Cp**: The red layer is a concept only for hats. The vslot layer in a hat file plays a role in determining whether hair or hat takes priority when the two overlap. ![TypeC](https://mod-file.dn.nexoncdn.co.kr/bbs/1677032925906d8d5e7d2d4fc4919abdd056f95e86764.png)

### Yellow Layer

The creator draws the actual accessory on the yellow layer.

#### Accessories in Front of Hair (Avatar_Cap_C1)

1. **case1.front**: This contains a layer to draw the front of the accessories and front view samples of normal hair and pressed hair.
  - **edithere:cap_cap_34**: This layer lets you draw the front of the accessories.
2. **case2.back**: This contains a layer to draw the back of the accessories and back view samples of normal hair and pressed hair.
  - **edithere:cap_backCap_92**: This layer lets you draw the back of the accessories. ![TypeC1](https://mod-file.dn.nexoncdn.co.kr/bbs/1677033049022e937abd5539d482db48c27edb17f2f5d.png)

#### Accessories in the Back of Hair (Avatar_Cap_C2)

1. **case1.front**: This contains a layer to draw the front of the accessories and front-view samples of normal hair and pressed hair.
  - **edithere:cap_cap_34**: This layer lets you draw the front of the accessories.
2. **case2.back**: This contains a layer to draw the back of the accessories and back-view samples of normal hair and pressed hair.
  - **edithere:cap_backCapAccessory_118**: This layer lets you draw the back of the accessories. ![TypeC2](https://mod-file.dn.nexoncdn.co.kr/bbs/167703307307804e247f40f174b1291de064b6b72eacb.png)

Update 2025-11-17 PM 08:14


# Wigs

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

Here is the production sheet for wigs. First, please refer to the [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and then download and open the file below.

[Avatar_Cap_D.psd](blob:https://maplestoryworlds-creators.nexon.com/02c439b0-358e-407c-80b4-a4b18f8ba7d5)

> **Tip** We recommend making caps within 120 x 120 pixels based on the avatar's feet. ![example](https://mod-file.dn.nexoncdn.co.kr/bbs/16769485559327fc72cf03aca4128998b423540c3e049.png)

# Production Sheet Description

The cap sheet is divided into gray, yellow, and red layers. The gray layer has a data folder for image datafication, an avatar body layer to help with the image creation, and a line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual item on the yellow layer. The red layer determines the priority between the cap and the hair.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

### Gray Layer/Red Layer

1. **data folder**: A data folder is required for the datafication of items. It does not affect image production.
  - **data:origin**: This marks the center of the data with a red dot.
  - **data:type:Cap**: This indicates the data type.
  - **data:use_zmap_preset1**: The images that form an avatar are produced by being piled in layers. The structure is to pile the images of clothes, shields, and weapons in layers in a sequence based on the avatar's body to produce the avatar's various movements.Zmap is a file wherein the heights of each sprite, separated by items, are organized in order.
2. **guide_layer**: This is an avatar's sample body. The internal rule is that the bigger the number attached after the layer name, it places below.
3. **(Red layer) data:vslot:CpH1H2H3H4H5H6HfHsHbHc**: The red layer is a concept only for hats. The vslot layer in a hat file plays a role in determining whether hair or hat takes priority when the two overlap. ![TypeD](https://mod-file.dn.nexoncdn.co.kr/bbs/1677033750714bee6e496b432440aa917a6c4fceeb4ca.png)

### Yellow Layer

The creator draws the actual wig on the yellow layer.

1. **case1.front**: This contains a layer to draw the front of the wig and front view samples of normal hair and pressed hair.
  - **edithere:cap_cap_34**: This layer lets you draw the front of the wig.
2. **case2.back**: This contains a layer to draw the back of the wig and back view samples of normal hair and pressed hair.
  - **edithere:cap_backCap_92**: This layer lets you draw the back of the wig. ![TypeD1](https://mod-file.dn.nexoncdn.co.kr/bbs/16770337662241601c8da5b484bb2b9fa358959c05109.png)

Update 2025-11-17 PM 08:14


# Face-Covering Masks

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

Here is the production sheet for face-covering masks. First, please refer to the [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and then download and open the file below.

[Avatar_Cap_E.psd](blob:https://maplestoryworlds-creators.nexon.com/e59ed93a-70b4-43a2-9c27-d0ac973784f1)

> **Tip** We recommend making caps within 120 x 120 pixels based on the avatar's feet. ![example](https://mod-file.dn.nexoncdn.co.kr/bbs/16769485559327fc72cf03aca4128998b423540c3e049.png)

# Production Sheet Description

The cap sheet is divided into gray, red, and yellow layers. The gray layer has a data folder for image datafication, an avatar body layer to help with the image creation, and a line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual items in the yellow layer. The red layer determines the priority between the cap and the hair.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

### Gray Layer/Red Layer

1. **data folder**: A data folder is required for the datafication of items. It does not affect image production.
  - **data:origin**: This marks the center of the data with a red dot.
  - **data:type:Cap**: This indicates the data type.
  - **data:use_zmap_preset1**: The images that form an avatar are produced by being piled in layers. The structure is to pile the images of clothes, shields, and weapons in layers in a sequence based on the avatar's body to produce the avatar's various movements.Zmap is a file wherein the heights of each sprite, separated by items, are organized in order.
2. **guide_layer**: This is an avatar's sample body. The internal rule is that the bigger the number attached after the layer name, it places below.
3. **(Red layer) data:vslot:CpH1H2H3H4H5H6HfHsHbHcAfAyAsAe**: The red layer is a concept only for the hat. The vslot layer in a hat file plays a role in determining the priority to show when the hair and hat overlap. ![TypeE](https://mod-file.dn.nexoncdn.co.kr/bbs/167703389960214c1a08396d74ffeba19e07a5787b1eb.png)

### Yellow Layer

The creator can draw a face-covering mask that the creator wants to produce in the yellow layer.

1. **case1.front**: This contains a layer to draw the front view of the face-covering mask and front-view samples of normal hair and pressed hair.
  - **edithere:cap_cap_34**: This layer lets you draw the front of the face-covering mask.
2. **case2.back**: This contains a layer to draw the back view of the face-covering mask and back-view samples of normal hair and pressed hair.
  - **edithere:cap_backCap_92**: This layer lets you draw the back view of the face-covering mask. ![[TypeE1]](https://mod-file.dn.nexoncdn.co.kr/bbs/1724918527383e3a3141a069e42d7a212bfaec518a4be.png)

Update 2025-11-20 PM 02:03


# Open-Face Masks

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

Here is the production sheet for open-face masks. First, please refer to the [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and then download and open the file below.

[Avatar_Cap_F.psd](blob:https://maplestoryworlds-creators.nexon.com/4150325d-045d-442b-af92-014f419d6c4c)

> **Tip** We recommend making caps within 120 x 120 pixels based on the avatar's feet. ![example](https://mod-file.dn.nexoncdn.co.kr/bbs/16769485559327fc72cf03aca4128998b423540c3e049.png)

# Production Sheet Description

The cap sheet is divided into gray, yellow, and red layers. The gray layer has a data folder for image datafication, an avatar body layer to help with the image creation, and a line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual items in the yellow layer. The red layer determines the priority between the cap and the hair.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

### Gray Layer/Red Layer

1. **data folder**: A data folder is required for the datafication of items. It does not affect image production.
  - **data:origin**: This marks the center of the data with a red dot.
  - **data:type:Cap**: This indicates the data type.
  - **data:use_zmap_preset1**: The images that form an avatar are produced by being piled in layers. The structure is to pile the images of clothes, shields, and weapons in layers in a sequence based on the avatar's body to produce the avatar's various movements.Zmap is a file wherein the heights of each sprite, separated by items, are organized in order.
2. **guide_layer**: This is an avatar's sample body. The internal rule is that the bigger the number attached after the layer name, it places below.
3. **(Red layer) data:vslot:CpH1H2H3H4H5H6HfHsHbHcAe**: The red layer is a concept only for hats. The vslot layer in a hat file determines the priority of when to show the hair or hat when the two overlap. ![TypeF](https://mod-file.dn.nexoncdn.co.kr/bbs/16770339977519ce67c0abb134ff4b6e40e636da925d6.png)

### Yellow Layer

The creator can draw a face-open mask that the creator wants to produce in the yellow layer.

1. **case1.front**: This contains a layer to draw the front view of the open-face mask and front-view samples of normal hair and pressed hair.
  - **edithere:cap_cap_34**: This layer lets you draw the front view of the open-face mask.
2. **case2.back**: This contains a layer to draw the back view of the open-face mask and back-view samples of normal hair and pressed hair.
  - **edithere:cap_backCap_92**: This layer lets you draw the back view of the open-face mask. ![TypeF1](https://mod-file.dn.nexoncdn.co.kr/bbs/1677034011337213501bd84684eeebd56d177670563f1.png)

Update 2025-11-17 PM 08:15


# Hoods

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

Here is the production sheet for hoods. First, please refer to the [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and then download and open the file below.

[Avatar_Cap_G.psd](blob:https://maplestoryworlds-creators.nexon.com/5b8c4a4b-0cfa-4d7f-9285-ce7972bfd374)

> **Tip** We recommend making caps within 120 x 120 pixels based on the avatar's feet. ![example](https://mod-file.dn.nexoncdn.co.kr/bbs/16769485559327fc72cf03aca4128998b423540c3e049.png)

# Production Sheet Description

The cap sheet is divided into gray, yellow, and red layers. The gray layer has a data folder for image datafication, an avatar body layer to help with the image creation, and a line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual items in the yellow layer. The red layer determines the priority between the cap and the hair.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

### Gray Layer/Red Layer

1. **data folder**: A data folder is required for the datafication of items. It does not affect image production.
  - **data:origin**: This marks the center of the data with a red dot.
  - **data:type:Cap**: This indicates the data type.
  - **data:use_zmap_preset1**: The images that form an avatar are produced by being piled in layers. The structure is to pile the images of clothes, shields, and weapons in layers in a sequence based on the avatar's body to produce the avatar's various movements.Zmap is a file wherein the heights of each sprite, separated by items, are organized in order.
2. **guide_layer**: This is an avatar's sample body. The internal rule is that the bigger the number attached after the layer name, it places below.
3. **(Red layer) data:vslot:CpH1H3H4H5H6HfHbHcAe**: The red layer is a concept only for hats. The vslot layer in a hat file determines the priority of when to show the hair or hat when the two overlap.. ![TypeG](https://mod-file.dn.nexoncdn.co.kr/bbs/16770341216345bee47ec320b47038b44a99935ece7a2.png)

### Yellow Layer

The creator can draw hoods that the creator wants to produce in the yellow layer.

1. **case1.front**: This contains a layer to draw the front view of the hood and front-view samples of normal hair and pressed hair.
  - **edithere:cap_cap_34**: This layer lets you draw the front view of the hood.
2. **case2.back**: This contains a layer to draw the back view of the hood and back-view samples of normal hair and pressed hair.
  - **edithere:cap_backCap_92**: This layer lets you draw the back view of the hood. ![TypeG1](https://mod-file.dn.nexoncdn.co.kr/bbs/1677034101578d0917d0379e545b2b4bf30612376cdbf.png)

Update 2025-11-17 PM 08:15


# Creating Coats

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=100m&amp;color=green)

# Course Introduction

Let's learn how to make coats. You can change the color of the coat and add a drawing. Coats have a complex structure, so we recommend that you work on them after getting used to making pants or shoes. First, please refer to the [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and then download and open the file below.

[Avatar_Coat.psd](blob:https://maplestoryworlds-creators.nexon.com/8d89dc17-525b-4b6a-93e0-72657ea4692f)

> **Tip**
> > We recommend producing items within 120x120 based on the avatar's feet. ![Examples](https://mod-file.dn.nexoncdn.co.kr/bbs/1677032255514a026c711634c4196ab0b96bc5424e7f9.png)

# Describe Production Sheet

The crafting sheet is divided into gray and yellow layers. The four gray layers consist of data folders for image datafication, avatar body layer for image production, line layer for guidance, and background layer. All gray layers are locked, and no modifications are required while working. The creator can draw the actual items in the yellow layer.

> **Tip** You cannot produce items if you edit or delete all layers' names. **Never change the name.**

#### Gray Layer

When you open the sheet in Photoshop, the gray layer will be locked. The layer is uneditable because it contains content related to item registration.

1. **Data Folder** You need the data folder for item datafication. It does not affect image production.
  - **data:origin**: Indicates the center of the data with a red dot.
  - **data:type:Coat**: Indicates data type.
  - **data:vslot:Ma**: The concept of vslots is used only in caps.
  - **data:use_zmap_preset1**: The images that make up an avatar are edited by stacking layers upon layers. The structure is to pile the images of clothes, shields, and weapons in layers in a sequence based on the avatar's body to produce the avatar's various movements.The height of each Sprite by item is organized in the file zmap.
2. **guide_character_layer**: This is an avatar's sample body. The internal rule is that larger numbers attached to the end of the layer name are placed lower.
3. **guide_grid**: Crafts item based on grid line. You have to work within the green line.
4. **guide_background**: The background colors are gray_blue and gray. The arm located in gray_blue is marked, since its image is displayed in unusual places.

![coat01](https://mod-file.dn.nexoncdn.co.kr/bbs/165061743355448155ebe84c9405391d1de99cb7ca495.png)

#### Yellow Layer

The creator can draw a coat in the yellow layer.

1. guide_character_backBody:_113: Avatar Backside and Arms
  - **edithere:mail_backMailChest_103**: Clothes drawn on the backside and arms of the avatar
2. guide_character_summary_78,100: Avatar Body, Arms, Backside, and Head
  - **edithere:mail_mailChest_68**: Clothes drawn on the top of the avatar body and arms
3. guide_character_summary_60,62: Avatar Arms
  - **edithere:mailArm_mailArmBelowHead_58,61**: Clothes drawn on the top of the avatar arms
4. guide_character_summary_52,53: Avatar Arms
  - **edithere:mailArm_mailArm_50**: Clothes drawn on the top of the avatar arms
5. guide_character_summary_26,47: Avatar Head and Arms
  - **edithere:mailArm_mailArmOverHairBelowWeapon_25**: Clothes drawn on the top of the avatar head and arms
6. guide_character_armOverHair_24 : Avatar Arms
  - **edithere:mailArm_mailArmOverHair_22**: Clothes drawn on the top of the avatar arms

![coat02](https://mod-file.dn.nexoncdn.co.kr/bbs/1645582927632f0e7790d36844043a8bbb992b2d24154.png)

# Create

Let's use the basic coat to make coats with patterns, another color, and long sleeves.

| Basic Coat | Draw Patterns | Change Colors | Long-Sleeve Coat |
| --- | --- | --- | --- |
| ![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1645684463571e684de7e0cba4bdf8d78e2022a34c1a1.png) | ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/16456845084177670d36c4b664d549d420a02542734dd.png) | ![03](https://mod-file.dn.nexoncdn.co.kr/bbs/16503348006950e9be3c69e664a34966cbc1fbdf57b0f.png) | ![04](https://mod-file.dn.nexoncdn.co.kr/bbs/1650334752955e04ab9761b2a43f8b724def5b499f658.png) |

#### Draw Patterns

1. Work on the image on yellow layer 2 (edithere:mail_mailChest_68).  ![coat03](https://mod-file.dn.nexoncdn.co.kr/bbs/16455830786944859a717c0be483bb5f59faa8651c14f.png)
2. Draw a small heart for all actions.Leave the other layers untouched, as the heart will be drawn only on the body.![coat04](https://mod-file.dn.nexoncdn.co.kr/bbs/1645583092780f3345eebaa4a4be5a9c23f91b74096cd.png)

#### Change Color

1. Click the yellow layer.
2. Select **Image - Adjustments - Hue/Saturation** or use the shortcut **Ctrl+U** to open the Hue/Saturation window.
3. Adjust values for **Hue**. Change the color of the coat on all yellow layers, press the OK button, and save the file.![coat16](https://mod-file.dn.nexoncdn.co.kr/bbs/1645591630688cb5180ce8d77408787f2decf3776e412.png)

#### Creating a Long-Sleeved Coat

1. Work on the images on yellow layers 1 through 6. ![coat16](https://mod-file.dn.nexoncdn.co.kr/bbs/165033411781314df1c56f85942fe8483569d7af5e76d.png)
2. Use the pencil tool to draw long-sleeves customized to the body.![coat17](https://mod-file.dn.nexoncdn.co.kr/bbs/1650334169976ee38f585747246f596f2fb80b3e19d42.png)![coat18](https://mod-file.dn.nexoncdn.co.kr/bbs/1650334184379e86690f2a3f547eaa6bf6a44a445ae97.png)![coat19](https://mod-file.dn.nexoncdn.co.kr/bbs/16503342030177f5460daeddc46f2971251a579dc4698.png)![coat20](https://mod-file.dn.nexoncdn.co.kr/bbs/16503342772725975591ca82d42a289930aff1428fc53.png)![coat21](https://mod-file.dn.nexoncdn.co.kr/bbs/1650334295006e903a60bc3314a47b4c65c47c9a5aacf.png)![coat22](https://mod-file.dn.nexoncdn.co.kr/bbs/1650334309071f637ad711b474bf19c38c1aeacbfa18d.png)
3. When drawing the sleeves of a Coat, you should keep the basic rules and other exception sheets in mind.During operating sheet, when drawing **Swing O3, Swing OF, Stab TF, Swim-Fly, Sit**, you should follow some exceptional rules.**Swing O3, Swing OF** is the guide based on the layer, the body (arm) is in position 3, but the sleeve is drawn on layer 4.**Stab TF, Swim-Fly, Sit** is the guide based on the layer, the body (arm) is at the 4th position, but the sleeve is drawn on the 6th layer. ![coat22](https://mod-file.dn.nexoncdn.co.kr/bbs/16503343643288cb65f8b3cd847089f0e4a494bbed99c.png) If you don't know the number of layers, you can draw sleeves on **the layer that has the basic white T-shirt**. ![coat23](https://mod-file.dn.nexoncdn.co.kr/bbs/16503344581568f0d7baaca4d4c5ea17ddc395dad1716.png)![coat24](https://mod-file.dn.nexoncdn.co.kr/bbs/16503344730397780d272d77c48ba929bca725111a81b.png) ![coat24](https://mod-file.dn.nexoncdn.co.kr/bbs/16503344933842ba8ee3242524637907486057d58ee84.png)![coat25](https://mod-file.dn.nexoncdn.co.kr/bbs/16503345071810a077a814e404a4dba975667e0261846.png) ![coat26](https://mod-file.dn.nexoncdn.co.kr/bbs/16503345264358fbc43530b6e4822b41cfe99165d8f48.png)

##### Reference Guide

- [Creating Pants](/docs?postId=584)
- [Creating Capes](/docs?postId=585)
- [Creating Gloves](/docs?postId=587)
- [Creating Shoes](/docs?postId=583)

Update 2025-11-20 PM 02:03


# Creating Shoes

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

Let's learn how to make shoes. You can apply the method to make socks and boots, not just shoes. First, please refer to the [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and then download and open the file below.

> **Tip.**
> > We recommend producing items within 120x120 based on the avatar's feet. ![Examples](https://mod-file.dn.nexoncdn.co.kr/bbs/1677032255514a026c711634c4196ab0b96bc5424e7f9.png)

# Describe Production Sheet

The crafting sheet is divided into gray and yellow layers. In the 3 gray layers, there are data folders for image datafication, avatar body layer for image creation, and line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual items in the yellow layer.

> **Tip.** You cannot produce items if you edit or delete all layers' names. **Never change the name.**

#### Gray layer

1. **data folder** You need the data folder for item datafication. It does not affect image production.
  - **data:origin**: Indicates the center of the data with a red dot.
  - **data:type:Shoes**: Indicates data type.
  - **data:vslot:So**: The concept of vslots is used only in caps.
  - **data:use_zmap_preset1**: The images that make up an avatar are edited by stacking layers upon layers. The structure is to pile the images of clothes, shields, and weapons in layers in a sequence based on the avatar's body to produce the avatar's various movements.  The height of each Sprite by item is organized in the file zmap.
2. **guide_character_summarylayer**: This is an avatar's sample body. The internal rule is that the bigger the number attached after the layer name, it places below.
3. **guide_grid**: Crafts item based on grid line. You have to work within the green line. ![shoes07](https://mod-file.dn.nexoncdn.co.kr/bbs/16454358868351d94f93644cf46569a2be51ed1f9a202.png)

#### Yellow layer

Creators can draw shoes on the yellow layer (edithere:shoes_shoesTop_69). You have to make sure that the shoes are drawn within the green guide line. ![shoes08](https://mod-file.dn.nexoncdn.co.kr/bbs/1645440415221e758aa75302b4bd09e503f4d49bcb3e6.png)

# Create

Using the shoes, let's make socks and boots as shown below.

| Basic Shoes | Socks | Boots |
| --- | --- | --- |
| ![shoes01](https://mod-file.dn.nexoncdn.co.kr/bbs/1677034678429be2cb1f089194731bb321d1ae36b20b9.gif) | ![shoes02](https://mod-file.dn.nexoncdn.co.kr/bbs/16454352494023ec9b27f8e0a42a381d086d237e2b2b3.gif) | ![shoes03](https://mod-file.dn.nexoncdn.co.kr/bbs/1645435264743dc9d75c9a3f64a42b6e86045f49379c6.gif) |
| ![shoes04](https://mod-file.dn.nexoncdn.co.kr/bbs/16770347093535d4307c5ab37400aa90bad527003fba3.png) | ![shoes05](https://mod-file.dn.nexoncdn.co.kr/bbs/1645435318415ef3ced3935204051b9cc6449d708478c.png) | ![shoes06](https://mod-file.dn.nexoncdn.co.kr/bbs/1645435335260644d7e893d5b40ddb3be0e42b7337cb5.png) |

#### Creating Socks

1. Work on the image on the yellow layer (edithere:shoes_shoesTop_69).![shoes09](https://mod-file.dn.nexoncdn.co.kr/bbs/16454410334432e1fa75cfc224edd82bb0b18c3dba8a4.png)
2. In Photoshop, click **Pencil tool** and draw green socks to match avatar's body in each action.![shoes10](https://mod-file.dn.nexoncdn.co.kr/bbs/16770347338082118238cdd5b49a4be66f71c853fea79.png)

> **Learn more** You can preview the animation through [Registering Avatar Item](/docs/?postId=590).

#### Creating Boots

1. Work on the image on the yellow layer (edithere:shoes_shoesTop_69).![shoes09](https://mod-file.dn.nexoncdn.co.kr/bbs/16454410334432e1fa75cfc224edd82bb0b18c3dba8a4.png)
2. In Photoshop, click **Pencil tool** and draw boots to match avatar's body in each action.![shoes10](https://mod-file.dn.nexoncdn.co.kr/bbs/16455205733994a5eb10228ae4fc5aa409cb8b24588f8.png)

##### Reference Guide

- [Creating Pants](/docs?postId=584)
- [Creating Capes](/docs?postId=585)
- [Creating Coats](/docs?postId=586)
- [Creating Gloves](/docs?postId=587)

Update 2025-11-17 PM 08:14


# Creating Gloves

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=100m&amp;color=green)

# Course Introduction

Let's learn how to make gloves. You can change the color of gloves and add images. Gloves have a complex structure, so we recommend practicing with pants or shoes before trying gloves. First, please refer to [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to create items. After installing the software, download and open the file below.

> **Tip** We recommend making items within 120 x 120 pixels based on the avatar's feet. ![Examples](https://mod-file.dn.nexoncdn.co.kr/bbs/1677032255514a026c711634c4196ab0b96bc5424e7f9.png)

# Production Sheet Description

The crafting sheet is divided into gray and yellow layers. In the three gray layers, there are data folders for image datafication, avatar body layer for image creation, and line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator draws the actual item on the yellow layer.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

### Gray Layer

![glove00](https://mod-file.dn.nexoncdn.co.kr/bbs/16460333014592202c8cc50e94904959448d94d68d14d.png)

1. **data folder** You need the data folder for item datafication. It does not affect image creation.
  - **data:origin**: Marks the center of the data with a red dot.
  - **data:type:Glove**: Indicates data type.
  - **data:vslot:GlGw**: Only hats use the concept of vslot.
  - **data:use_zmap_preset1**: Image layers pile up to create an avatar. An avatar's structure involves stacking images of clothes, shields, and weapons over each other to create various body movements.The height of each sprite by item is organized in the file zmap.
2. **guide_character_summary layer**: Avatar's sample body. Layer with a bigger number is placed below.
3. **guide_grid**: Craft items using grid lines. You have to work within the green line.
4. **guide_background** : For background colors, there are gray_blue and gray. Hands in gray_blue will not be shown because of the face, so you don't need to draw gloves on them. ![glove](https://mod-file.dn.nexoncdn.co.kr/bbs/164559428580573f3ac0478a74420915915fc5e57ab5f.png) ![glove06](https://mod-file.dn.nexoncdn.co.kr/bbs/164559429595558ea67d1a9b54db09324b060805a18fe.png)

### Yellow Layer

The creator can draw the gloves on the yellow layer.

#### Left and Right Hands

Left and right hands look different on avatars, and you'll be drawing the item separately as well. From the screen, **lGlove** is the left hand, and **rGlove** is the right hand. ![coat09](https://mod-file.dn.nexoncdn.co.kr/bbs/16455945165795c6af89bbd624ecd8f515e2236212434.png) ![coat08](https://mod-file.dn.nexoncdn.co.kr/bbs/1645594498083853f96a383c14814b91cbc2e90c29d90.png)

#### Working Standards

1. **guide_character_Body_78**: From the avatar sample, draw gloves in layers 1, 2, 3, 4, 5, 6. Refer to the location of the gloves sample and draw according to the avatar's hands.![glove10](https://mod-file.dn.nexoncdn.co.kr/bbs/16455950125317caa13191faa4327be3e5c715ae2f8fa.png)
2. **guide_character_summary_52,53,62**: From the avatar sample, draw gloves in layers 3, 4, 5, 6. Refer to the location of the gloves sample and draw according to the avatar's hands.![glove11](https://mod-file.dn.nexoncdn.co.kr/bbs/1645595078631cca5a165684046189a9a240bcd976956.png)
3. **guide_character_summary_24,47**: From the avatar sample, draw gloves in layers 5, 6. Refer to the location of the gloves sample and draw according to the avatar's hands.![glove12](https://mod-file.dn.nexoncdn.co.kr/bbs/1645595114548b9b59cd3a86346f0a629d8cb2842a41f.png)

# Creation

#### Drawing Patterns

In the yellow layer, use **Pencil Tool** to draw small hearts in all **lGlove, rGlove layers**.

![glove13](https://mod-file.dn.nexoncdn.co.kr/bbs/1645595325199dbbd9655c991466abd72cfe5e814921a.png)![glove13](https://mod-file.dn.nexoncdn.co.kr/bbs/1645595338100bf3e9fc39a5e4f58b382ad8976540d1d.png)

> **Tip** Draw bracelets or watches, usually worn on one arm, only in 'rGlove'.

#### Changing the Color

1. Click the yellow layer.
2. Select **image - Adjustments - Hue/Saturation** or use the shortcut **Ctrl+U** to open Hue/Saturation window.
3. Set value for Lightness to **-40** to change the color to gray.![glove14](https://mod-file.dn.nexoncdn.co.kr/bbs/1645596666352e7cc00268c8a40eca6dbddc476691c10.png)
4. Select **Image - Adjustments - Color Balance** or use the shortcut **Ctrl+B**.  Adjust the Color Balance to **Blue**.![glove15](https://mod-file.dn.nexoncdn.co.kr/bbs/1645596879737ee76f2425107404a9507095929b396d9.png)
5. Select **Image - Adjustments - Levels** or use the shortcut **Ctrl+L**.
6. Change the values of both ends to **53, 189** to change the color to purple.![glove16](https://mod-file.dn.nexoncdn.co.kr/bbs/16455975905835fb5e72dbb074a25b4179641537a66e1.png)

##### Reference Guide

- [Creating Pants](/docs?postId=584)
- [Creating Capes](/docs?postId=585)
- [Creating Coats](/docs?postId=586)
- [Creating Shoes](/docs?postId=583)

Update 2025-11-20 PM 02:03


# Creating Pants

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=60m&amp;color=green)

# Course Introduction

Let's learn how to make pants. You can adjust the length and color of denim shorts, and make your own skirts or long pants. First, please refer to [Basics of Creating Avatar Items](/docs?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to create items. After installing the software, download and open the file below.

> **Tip** We recommend making items within 120 x 120 pixels based on the avatar's feet. ![Examples](https://mod-file.dn.nexoncdn.co.kr/bbs/1677032255514a026c711634c4196ab0b96bc5424e7f9.png)

# Production Sheet Description

The production sheet is divided into gray and yellow layers. In the three gray layers, there are data folders for image datafication, avatar body layer for image creation, and line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual item in the yellow layer.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

#### Gray Layer

1. **data folder** You need the data folder for item datafication. It does not affect image creation.
  - **data:origin**: Marks the center of the data with a red dot.
  - **data:type:Pants**: Indicates data type.
  - **data:vslot:Pn**: Only hats use the concept of vslot.
  - **data:use_zmap_preset1**: Image layers pile up to create an avatar. An avatar's structure involves stacking images of clothes, shields, and weapons over each other to create various body movements.The height of each sprite by item is organized in the file zmap.
2. **guide_character_summary layer**: Avatar's sample body. Layer with a bigger number is placed below.
3. **guide_grid**: Craft items using grid lines. You have to work within the green line. ![pants04](https://mod-file.dn.nexoncdn.co.kr/bbs/1645498107053da17e0eeb2704d77ba834b73bf65d9c7.png)

#### Yellow Layer

Creators can draw the pants on the yellow layer (edithere:pants_pantsBelowShoes_75). ![pants05](https://mod-file.dn.nexoncdn.co.kr/bbs/16454981267650d9164635d8d474bad641d8cd0cd5ea0.png)

# Creation

Using the basic pants, let's make shorts and long pants as shown below.

| Basic Pants | Change Color | Long Pants |
| --- | --- | --- |
| ![pants01](https://mod-file.dn.nexoncdn.co.kr/bbs/16454979999409fd4d08bd2f4489c858250629ef0f2ed.png) | ![pants02](https://mod-file.dn.nexoncdn.co.kr/bbs/1645498013081746575d0b440465897991f2dc116df30.png) | ![pants03](https://mod-file.dn.nexoncdn.co.kr/bbs/1645498023976f2cc0d293501416f9c65f13ce1c63681.png) |

#### Changing the Color

1. Click the yellow layer (edithere:pants_pantsBelowShoes_75).
2. Select **image > Adjustments > Hue/Saturation** or use the shortcut **Ctrl+U** to open Hue/Saturation window.
3. Adjust the value of **Hue**. Change the color of the pants, press 'OK' button, and save the file. ![pants07](https://mod-file.dn.nexoncdn.co.kr/bbs/164550404415997459e844dd54f63917a5815a36a1fb2.png)

#### Making Other Types of Pants

1. Work on your image on the yellow layer (edithere:pants_pantsBelowShoes_75).![pants12](https://mod-file.dn.nexoncdn.co.kr/bbs/164558135888530c409a7de4e47e49ccac81ee21c58d2.png)
2. In Photoshop, click **Pencil Tool** and draw pixels according to avatar's body.You have to draw skirts according to the feet, and within the green guide line.![pants09](https://mod-file.dn.nexoncdn.co.kr/bbs/16455041383060a17d6620fdf422cab54bab983600362.png)

##### Reference Guide

- [Creating Shoes](/docs?postId=583)
- [Creating Capes](/docs?postId=585)
- [Creating Coats](/docs?postId=586)
- [Creating Gloves](/docs?postId=587)

Update 2025-11-20 PM 02:03


# Creating Hair

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=100m&amp;color=green)

# Course Introduction

Let's learn how to make hair. You can change the color of existing hairstyles or draw a new one. Hair has a complex structure, so we recommend practicing with pants or shoes before trying hair. Please refer to [Basic Concept of Creating Avatar Items](/docs?postId=588) to familiarize yourself with the basic concept of avatars first.

# Preparation

Adobe Photoshop is required to create items. After installing the software, download and open the file below.

[Avatar_Hair.psd](blob:https://maplestoryworlds-creators.nexon.com/13acaf4e-e24e-409f-bf27-abe7db6abaaf)

> **Tip** We recommend making hair within **120 x 120 pixels** based on the avatar's feet. ![example](https://mod-file.dn.nexoncdn.co.kr/bbs/1685684754306c9db40323e1a487d8d01f6401b8a2ba4.png)

# Hair Type

Hair is either short or long.

| Short hair | Long hair |
| --- | --- |
| ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/168568956575557a3b5c4532c4f31ba37bdfa798338fb.png) | ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/168568957903110d3a4890ef74bd58109ed7890cd741a.png) |

# Production Sheet Description

The hair production sheet is divided into gray and yellow layers. The gray layer has a data folder for image datafication, an avatar body layer to help with image creation, and a line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual item in the yellow layer.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

### Gray Layer

1. **data folder**: data folder is required for datafication of items. It does not affect image creation.
  - **data:origin**: Marks the center of the data with a red dot.
  - **data:type:Hair**: Indicates data type.
  - **data:vslot:H1H2H3H4H5H6HfHsHb**: Only hats use the concept of vslot.
  - **data:use_zmap_preset1**: The images which form an avatar are piled up in layers. An avatar structure involves stacking images of clothes, shields, and weapons over each other to create various body movements.Zmaps shop the height of each sprite separated by item in order.
2. **guide_layer**: This is an avatar's sample body and hats. As the internal rule, the one with the bigger number attached after the layer name is placed below.

![01](https://mod-file.dn.nexoncdn.co.kr/bbs/1685684844020a9b9fe1ac2e748eba8846bd952a2f77e.png)

# Yellow Layer

On the yellow layer, the creator can draw the desired hair, and it is divided into 3 folders. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1685685193823a97012a2929d430ea43007325272ecf4.png)

1. **case1.front**: Includes body and various hat samples for hair front work.
2. **case2.front_proneStab**: Includes body types for hair when lying face down and various hat samples. Below is a purple layer.
3. **case3.back**: Includes body and various hat samples for hair back work.

#### case1.front

![front](https://mod-file.dn.nexoncdn.co.kr/bbs/168568527472950ccb61ca0e14cbe86f2644e579fd5d3.png)

1. NoCap folder A folder containing a layer for drawing the front of the hair and a hat sample. [Creating Caps](/docs?postId=592) This is a hat sample corresponding to the type 3 of vslot.
  - **guide_cap_samples**: Includes a sample hat that does not change the shape of the head with the default hair.
  - **edithere:front_hairOverHead_31**: This layer allows you to draw the front of the hair.
2. WithCap folder Contains a layer to draw the front view of the pressed hair when wearing a hat and samples of the corresponding type of the hat. [Creating Caps](/docs?postId=592) This is a hat sample corresponding to types 1 and 2 of vslot.
  - **guide_cap_samples**: Include samples of the hair-pressing type hats.
  - **edithere:front_hair_35**: This layer allows you to draw the front of the pressed hair.
3. **edithere:front_hairShade_46**: This layer allows you to draw the shadow of the hair. This layer allows you to draw the shadow of the hair. Draw the shadow with **#6d5031** color according to the hair shape and apply 30% transparency to match all skin tones.
4. **edithere:front_hairBelowBody_84** This layer allows you to draw hair placed behind the body. This is mainly for long hair.

#### case2.front_proneStab

![proneStab](https://mod-file.dn.nexoncdn.co.kr/bbs/168568532965909c3e58fa3c34781830758d9ea4b2c33.png)

1. **NoCap(copy from 1-a.NoCap) folder** This is a folder that includes a layer for drawing the front view of hair in a prone position and samples of hats.
  - **edithere:proneStab_hairOverHead_31**: This is a layer that can be used to draw the front view of hair in a prone position. To facilitate smooth workflow, you can paste the layer edithere:front_hairOverHead_31 from the WithCap folder and then draw it in a spread-out manner based on the prone position.
2. **WithCap(copy from 1-b.WithCap) folder** There is a layer for drawing the front view of the hair when wearing a hat in the prone position, along with samples of hats of that type.
  - **guide_cap_samples**: Include samples of the hat types that press hair.
  - **edithere:proneStab_hair_35**: This layer is for drawing the front view of the hair in the prone position. Copy the image on the edithere:front_hair_35 layer for reference and use it as a guide to draw the hair, making it spread wider based on the prone position.
  > **Tip** The front view of the hair drawn in **duplicated:front_hairOverHead_31, duplicated:front_hairOverHead_35** should be same as edithere:front_hairOverHead_31, edithere:front_hair_35.
3. **edithere:proneStab_hairBelowBody_84** This layer allows you to draw hair that is placed behind the body while in the prone position. This is mainly for long hair.

#### case3.back

![back](https://mod-file.dn.nexoncdn.co.kr/bbs/1685685577670201094e012274eb19907cfcb18577e89.png)

1. NoCap Include a layer and a hat sample for drawing the back of the hair. [Creating Hats](/docs?postId=592) This is a hat sample corresponding to type 3 of vslot.
  - **guide_cap_samples**: Includes a sample hat that does not change the shape of the head with the default hair.
  - **edithere:back_backHair_91**: This layer allows you to draw the back of the hair. In the front view, you should draw the long hair on a separate layer together
2. WithCap Contains a layer to draw the back view of the pressed hair when wearing a hat, and samples of the corresponding type of the hat.
  - **guide_cap_samples**: Include samples of the hair-pressing type cap. If the same shape, you can keep to the two layers below, but you can also work differently with wide and narrow shapes. It is okay to draw at the same intervals as in the sample. [Creating Hats](/docs?postId=592) Check out the hair spacing on the back in types 1 and 2 of vslot.![8](https://mod-file.dn.nexoncdn.co.kr/bbs/1646015941633b8506858e9f44000aed41fdb5f5efe41.png)
  - **edithere:back_backHairBelowCapWide_94**: This layer allows you to draw the back of pressed hair. Draw a wide gap for the long hair seen from behind.
  - **edithere:back_backHairBelowCapNarrow_95**: This layer allows you to draw the back of pressed hair. Draw a narrow gap for the long hair seen from behind.
  > **Learn more** Depending on the type of hat, you can distinguish wide and narrow head shapes. This hair needs to be crafted when applying the type of hat covering the back of the head among the hat's vslot type. Depending on the creator's plan, you can work differently with wide and narrow shapes. Try on the provided hat sample, and if it looks natural, you can use Wide and Narrow equally. ![21](https://mod-file.dn.nexoncdn.co.kr/bbs/1646019003831f716ca8d04f043dc82dfb6646dd13d68.png)

# Creation

Work only with the image on the yellow layer. After making the basic shape in black, you can work more efficiently by modifying the detailed hair shape and color. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/168568560935132a94259bdea4729a8de80f5f318ada0.png)

#### Drawing the Front

edithere:front_hairOverHead_31, edithere:front_hairBelowBody_84, edithere:front_hair_35, edithere:front_hairShade_46 Edit the image on the layers.![17](https://mod-file.dn.nexoncdn.co.kr/bbs/164601737197069b5662eaca34060b8ee41ad221a610e.png)

1. On the edithere:front_hairOverHead_31, edithere:front_hairBelowBody_84 layer, draw the basic shape in black with **'Pencil Tool'** and change the color and draw detailed hair shapes. For short hair, leave the **edithere:front_hairBelowBody_84** layer blank, which draws the hair placed behind the body.![12](https://mod-file.dn.nexoncdn.co.kr/bbs/168568563110469b6c925c14447018db3dde23d47ee9a.png)
2. Erase the pressed hair on the **edithere:front_hair_35** layer to fit the head shape.![13](https://mod-file.dn.nexoncdn.co.kr/bbs/16856861702113e6be6f4c60f474cb20004a28f6faf56.png)
3. The front hair has shadows. On **edithere:front_hairShade_46**, draw a shadow with R:109, G:80, B:49 or #6D5031 color to match the shape of your hair. Apply 30% transparency to the layer to match all skin tones.![14](https://mod-file.dn.nexoncdn.co.kr/bbs/16856862015273a94bd2c09b84f52aa3deaf45a6c8199.png)

#### Drawing Hair in the Prone Position

It is helpful to use the same image as the hair in "case1.front", so duplicate the corresponding layers. Rename the duplicated layer to continue working. For short hair, keep it as it is. For long hair, draw it in a widespread manner based on the appearance when the character is in a prone position. ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/168568935395427b2788e8cd941e897fee75547b9970b.png)

1. Copy the edithere:front_hairOverHead_31 layer and paste it to the 2-a.NoCap(copy from 1-a.NoCap) folder.
2. Copy the edithere:front_hair_35 layer and paste it to the 2-a.NoCap(copy from 1-a.NoCap) folder.
3. On the **edithere:proneStab_hairBelowBody_84** layer, draw a wide spread of hair placed behind the body in a prone position.![19](https://mod-file.dn.nexoncdn.co.kr/bbs/1685689459920fd561d6ff4fc406498b6eb0ae6ea6190.png)

#### Drawing the Back

Work with an image on the layer of edithere:back_backHair_91, edithere:back_backHairBelowCapWide_94, edithere:back_backHairBelowCapNarrow_95 ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/1646018647414c1a3589d385249488341053dd0652423.png)

1. Draw the basic shape in black with the 'Pencil Tool' in edithere:back_backHair_91, change the color, and draw the detailed hair shape.![22](https://mod-file.dn.nexoncdn.co.kr/bbs/1685689505332f4c4431c46954bc1b4e4f671835ec0ff.png)
2. Erase the pressed hair on the edithere:back_backHairBelowCapWide_94 layer to fit the head shape.![23](https://mod-file.dn.nexoncdn.co.kr/bbs/16856895279327b7abfea089946e79eed6a94368c2980.png)
3. Copy number 2 and put it in edithere:back_backHairBelowCapNarrow_95. If you want to close the gap in the back of the tied hair, erase the long hair and redraw it.![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16457811937535becc03a37664135889302106c115bff.png)

##### Reference Guide

- [Creating Pants](/docs?postId=584)
- [Creating Capes](/docs?postId=585)
- [Creating Coats](/docs?postId=586)
- [Creating Gloves](/docs?postId=587)
- [Creating Shoes](/docs?postId=583)
- [Creating Hats](/docs?postId=592)

Update 2025-11-20 PM 02:03


# Creating Outfits

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=100m&amp;color=green)

# Course Introduction

Let's learn how to make jumpsuits. A jumpsuit is structured similarly to a coat, and it allows for all clothing items with connected coats and bottoms. First, please refer to the [Basics of Creating Avatar Items](docs/?postId=588) to understand the basic concept of avatars.

# Preparation

Adobe Photoshop is required to produce items. Install the software and download it to open the file below.

> **Tip** We recommend making items within 120 x 120 pixels based on the avatar's feet. ![Examples](https://mod-file.dn.nexoncdn.co.kr/bbs/1677032255514a026c711634c4196ab0b96bc5424e7f9.png)

# Production Sheet Description

The production sheet is divided into gray and yellow layers. In the three gray layers, there are data folders for image datafication, avatar body layer for image creation, and line layer for guidance. All gray layers are locked, and no modifications are required while working. The creator can draw the actual item in the yellow layer.

> **Tip** If you edit or delete the names of layers, you will not be able to register the item. **Never change the layer names.**

#### Gray Layer

When you open the sheet in Photoshop, the gray layer is locked as denoted by the padlock symbol. The layer cannot be edited because its contents are used in the item registration process.

1. **data folder** You need the data folder for item datafication. It does not affect image production.
  - **data:origin**: Indicates the center of the data with a red dot.
  - **data:type:Longcoat**: Indicates data type.
  - **data:vslot:MaPn**: The concept of vslots is used only in caps.
  - **data:use_zmap_preset1**: The images that make up an avatar are edited by stacking layers upon layers. To create various body movements for the avatar, the images are stacked layer by layer, starting with the body followed by clothes, shields, and weapons. zmap file is a compilation of separate sprites arranged in sequential order by height depending on the item.
2. **guide_character_layer**: This is an avatar's sample body. As the internal rule, the one with the bigger number attached after the layer name is placed below.
3. **guide_grid layer **: This layer represents the workspace area. The creator has to work within the green line.
4. **guide_background layer**: It has two options for background colors. gray_blue and gray are used to differentiate between different actions or operations. In the operation sheet with a gray_blue background, the arm is drawn in an exceptional position. ![0](https://mod-file.dn.nexoncdn.co.kr/bbs/168560569152022a0080afa5945e6a338edc40ecf2495.png)

#### Yellow Layer

Creators can draw the outfit on the yellow layer.

- guide_character_backBody:_113: The backside and arms of the avatar
  - **edithere:mail_backMailChest_103**: Clothes drawn on the backside and arms of the avatar
- guide_character_summary_78,100: Avatar body, arms, backside, and head
  - **edithere:mail_mailChest_68**: Clothes drawn on the top of the avatar body and arms
- guide_character_summary_60,62: Avatar arms
  - **edithere:mailArm_mailArmBelowHead_58,61**: Clothes drawn on the top of the avatar arms
- guide_character_summary_52,53: Avatar arms
  - **edithere:mailArm_mailArm_50**: Clothes drawn on the top of the avatar arms
- guide_character_summary_26,47: Avatar head and arms
  - **edithere:mailArm_mailArmOverHairBelowWeapon_2**5: Clothes drawn on the top of the avatar head and arms
- guide_character_armOverHair_24: Avatar's arms
  - **edithere:mailArm_mailArmOverHair_22**: Clothes drawn on the top of the avatar arms ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16856057153095341c6103f9b42a4992a1feee99bbe88.png)

# Creation

Let's create an adorable sleeveless outfit by starting with a spacesuit and removing the patterns.

| Basic Outfit | Sleeveless Outfit |
| --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/168560341854841c7039d6fff4e2bb8c4656c77001cff.png) | ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/168560345801161262e10c2b64268b4637b52cc34aac6.png) |

#### Creating a Sleeveless Design

1. Remove the sleeves from layer 3 to layer 5 of the yellow layer. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16856045068945b529e99248f4295afc9dbe1a8249689.png)
  > **Learn more** You can delete all the base images on the selected layer by pressing **ctrl + a** to select everything and pressing **Delete** key to delete the selected content.
2. Select yellow layer 1 and 2 for image editing. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16856049808171f93176089ab4fa68328b6cc295eb013.png)
3. Use the Pencil Tool to erase the pattern on layer 1 and refine the neck and arm areas by drawing. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1685604996639af0f8d46c1d54e80a4fe8937830f890c.png)
4. Select the Pencil Tool on layer 2 and erase the patterns on each operation, and refine the neck and arm areas by drawing. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/16856050073062819ed930f434646888db96f17e2c75d.png)

> **Tip** When modifying the sleeves, there are specific exceptions to the default rules. For details, please refer to [Creating Coats](docs/?postId=586). Please note the exceptions when drawing **Swing O3, Swing OF, Stab TF, Swim-Fly, Sit** in the sheet. Draw the sleeves in layer 4, although the arms of the **Swing O3, Swing OF** are in layer 3. Draw the sleeves in layer 6, although the arms of the **Stab TF, Swim-Fly, Sit** are in layer 4.
> **Tip** When drawing the sleeves, it may be easier to reference the default sleeves provided with the spacesuit.

Update 2025-11-17 PM 08:14


# Making Animations

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

You can edit existing MapleStory Worlds' animations using the animation clip editor or use your own animations in the World. Let's learn how to configure and use the animation clip editor.

# Introduction to the Animation Clip eEitor

![01](https://mod-file.dn.nexoncdn.co.kr/bbs/16892985632978ba85c6b5a034b8b98f424cf6cc68de5.png)

| Number | Description |
| --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | The sprite's loaded via **[Open New]**, and an **[Add]** button will be placed. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | The sprites added to the timeline are played sequentially, and you can check the animation playback position based on the green crosshairs.<br>The Scale slider at the top can be used to zoom in or out. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Used to save edited and created resources.<ul><li>Name: Name is a required value. It cannot be saved without a name.</li><li>Category: Select the category where the animation clips will be saved. When saving, the selected category is saved in Resource Storage.</li><li>Description: You can write a description of the animation clip to be saved.</li></ul> |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | A timeline window where animations are listed in order. Play order is from left to right.<br>You can change the order of sprites or copy them. You can change the playback position (Offset) and control the playback speed. |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | <ul><li>Copy RUID: Copies the RUID of the saved animation clip.</li><li>Upload: Saves edited and created animation clips.</li></ul> |

# Load Resources

| Resource Storage | AimationClip Editor |
| --- | --- |
| <li>Select **Resource Storage** or Panels - Resource Storage next to Scene.</li><li>In MSW Resource - animationclip, open the context menu of the desired animation clip.<br>![03](https://mod-file.dn.nexoncdn.co.kr/bbs/1656418775124de43bfb325a942cab8e9a51e7c2be9c9.png)</li><li>Select Make Animation Clip to open the AnimationClip Editor and load all sprites of the selected animation clip.</li> | <li>Click the **Window - Animation Clip Editor - Open New** button.<br>![04](https://mod-file.dn.nexoncdn.co.kr/bbs/1645696224908f637e6221fe64268b998d7c5f1441f03.png)</li><li>Select the animation clip you want to load.</li><li>Loads all sprites of the selected animation clip.</li> |

> **Tip** When an animation clip is selected in the **Resource Picker**, the animation plays when the mouse cursor is over the image. ![02](https://mod-file.dn.nexoncdn.co.kr/bbs/16456955254226df46c48334d46d3ba67812d1387132b.gif)

# Adjusting Offset

The offset positions of animation clips provided by MapleStory Worlds are different. For some animation clips, the RUID value is sometimes placed in a different place from where it was supposed to be. This is because each resource has a different offset value. If you use a particular animation clip frequently, you can edit the animation to center the offset position. Changing the offset to center can make placing entities easier.

1. Select one of the images on the timeline and adjust the **Offset** value to match the intersection of the green horizontal and vertical lines.
2. Select the first image and press **Shift**.
3. Move the scrollbar to select the last image.
4. Enter **-70** for Y value of **Offset**.
5. Press ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/AnimationClip_Editor/icon_anim_play.png) **[Play]** to see if the image plays at the intersection of the lines.
6. Enter a name for the edited animation and click **[Upload]** to save. ![001](https://mod-file.dn.nexoncdn.co.kr/bbs/1689290777042f5a94f531c2c4e9ba9aba655904df826.gif)

Offset can also be used to display unusual movements. You can create a jump-like animation by changing the Y value of given frame offsets instead of changing the entire frame.

# Adjusting the Frame Speed

You can control the playback speed of animations created with the same sprite by adjusting the duration of one frame. The larger the play speed value is, the slower the playback.

| 0.3 | 2.0 |
| --- | --- |
| ![0.3](https://mod-file.dn.nexoncdn.co.kr/bbs/1647569448836918d836f9ef04519bab4799a6bc03399.gif) | ![2.0](https://mod-file.dn.nexoncdn.co.kr/bbs/1647569468680d2f96a8611664549b55bddc28babe088.gif) |

1. Select the first image in the timeline and press **Shift**.
2. Move the scrollbar to select the last image.
3. Enter **0.3** for the **Delay** value.
4. Press ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/AnimationClip_Editor/icon_anim_play.png) **[Play]** to see the animation playback speed.
5. Enter a name for the edited animation and click **[Upload]** to save. ![002](https://mod-file.dn.nexoncdn.co.kr/bbs/1689299519528e874a0e831b04b028175d0f44ee42afd.gif)

# Adjusting Frame

A frame is a single sprite (image) when the images to be animated are arranged. In the timeline, the leftmost sprite becomes the first frame, and the rightmost sprite becomes the last frame. You can adjust the animation playback order by selecting frames. You can also add MSW sprites to the MSW clip resource or add your own sprites to create unique animations that are different from the original ones.

Frames can be adjusted by selecting a sprite and dragging it to the desired location or pressing the button. The frame adjustment icons are as follows. ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/1645703702067ee94dc82642b43f4bfd7039e24970f47.png)

| Icon | Description |
| --- | --- |
| ![duplicate](https://mod-file.dn.nexoncdn.co.kr/storage/icons/AnimationClip_Editor/icon_duplicate.png) | Duplicate the selected sprite and add it to the end of the timeline. |
| ![forward](https://mod-file.dn.nexoncdn.co.kr/storage/icons/AnimationClip_Editor/icon_move_forward_01.png) | Moves the selected sprite to the front. |
| ![forward](https://mod-file.dn.nexoncdn.co.kr/storage/icons/AnimationClip_Editor/icon_move_forward_02.png) | Move the selected sprite one space (frame) forward. |
| ![backwards](https://mod-file.dn.nexoncdn.co.kr/storage/icons/AnimationClip_Editor/icon_move_backwards_01.png) | Move the selected sprite back one space (frame). |
| ![backwards](https://mod-file.dn.nexoncdn.co.kr/storage/icons/AnimationClip_Editor/icon_move_backwards_02.png) | Move the selected sprite to the very back. |

#### Creating Transforming Animations

Let's add a single animation clip and several sprites to create an animation of a transforming monster. ![30](https://mod-file.dn.nexoncdn.co.kr/bbs/164578012706467425729618e4962bbc03bb827cbf967.gif)

1. Click **[Open New]** and select **MSW Resource - monster - animationclip-4440**.
2. Click **[Add]** and select **monster - sprite-171514, 171518, 171541, 171544**.
3. Add a sprite and drag to move the frame to the desired location. ![003](https://mod-file.dn.nexoncdn.co.kr/bbs/1689294966234e70238ff30c74c5bbc6c42c0ee62b076.gif)
4. Enter the **name**, change **Category** to **NPC**, and select **[Upload]**.
5. See the added animation clip from **Resource Storage - animationclip**. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1689299814441db559f684d9d4fdcb61dc2446c450b38.png)

# Making My Animation

Create your own sprites to create your own unique animation clips. If you do not have your own sprite, download the file below and follow along.

[Frame.zip](blob:https://maplestoryworlds-creators.nexon.com/d6199d86-3810-4817-84b7-f704d0bd93ce)

1. Select **Resource Storage - My Resources - sprite - npc**. The creator's sprites are saved to the folder you choose.
2. Click the **[+]** button on the left side of the search bar to load the file.
  > **Tip** Multiple files cannot be loaded at once.
3. Open the **AnimationClip Editor** window via Window and select **[Add]**.
4. Select and add sprites one by one from **Resource Picker - My Resources - sprite - npc**. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/16893001407289c394805a7554de291f015ca115e2d24.gif)
5. Select the added sprite and add it to the timeline.
6. Press ![play](https://mod-file.dn.nexoncdn.co.kr/storage/icons/AnimationClip_Editor/icon_anim_play.png) **[Play]** to see the animation. ![005](https://mod-file.dn.nexoncdn.co.kr/bbs/168930039655358decfac3af84d658e8a18fcbbcf34b9.gif)
7. Enter the **name**, change **Category** to NPC, and select Upload. ![15](https://mod-file.dn.nexoncdn.co.kr/bbs/16893005211903635451de29d4a9598420363cd213774.png)

Update 2025-11-20 PM 02:03


# RectTile Creation

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's learn how you can draw unique RectTiles that are perfect for your world. You can use whichever image editing software you are most comfortable with, but for this exercise, we will be using Adobe Photoshop to create tiles. Once you've created a sheet, you can refer to [Utilizing Atlases](/docs/?postId=687) to cut the sheet to the required size for your tiles.

##### Reference Guide

[Utilizing RectTileMap](/docs/?postId=589) [Utilizing Atlases](/docs/?postId=687)

# Tile Type

To design a colorful world map, you need a variety of tiles. If you were to make a driveway, you'd also need to make intersections, dead-end streets, and so on. MapleStory Worlds' tiles can be divided into the following types:

1. **Default tiles**: There are two types of default tiles:
  - **Unpatterned tiles**: Used to create maps. They lack the impession of height.![tile01](https://mod-file.dn.nexoncdn.co.kr/bbs/1683172461007e5dd537aba3b4c36a7988bc6e051253b.png)
  - **Patterned tiles**: Tiles with patterns that can be cleanly tesselated. They lack the impession of height.![Tile02](https://mod-file.dn.nexoncdn.co.kr/bbs/1683172485011d380326979b94099928580e77910ef59.png)
2. **Connection tiles**: Can be used in conjuction with the two default tile types to create driveways, walkways, paths, and more.![Tile03](https://mod-file.dn.nexoncdn.co.kr/bbs/1683172563731bbae861a1a4a4e159914605d974e095c.png)
3. **Height tiles**: Tiles used to give players the impression of height or imply that they can not travel any further.
  - **Wall tiles**: Tiles that give the impression of being blocked. Use two 64-pixel spaces for best results.
  - **Stair tiles**: When placed between wall tiles, these tiles look like a place where a player could move up or down.

# Preparation

Default tiles are 64x64 pixels in size. In some cases, multiple height tiles may be needed.

> **Tip** To display 64 x 64 pixel grid lines on your canvas, follow the steps below. In **Edit - Preferences - Guidelines, Grids, and Split Zones - Grids**, set the grid spacing to **64px** and press OK. ![Tile04](https://mod-file.dn.nexoncdn.co.kr/bbs/172722843000891d9a4b3ffa9426185b04dda2c7d7fc9.png)

# Drawing Default Tiles

We recommend using the Pencil Tool. Setting the brush to a size of **1px** will allow you to draw fine detail.

#### Unpatterned Tiles

Let's draw a tile to be used as a lawn. To quickly apply texture, we'll use a noise effect.

1. Draw a base color for the tile on the canvas. ![tile05](https://mod-file.dn.nexoncdn.co.kr/bbs/1683177510180846b5f4a72854ca09cb73fe35a50bf25.png)
2. Let's add some noise to give our grass texture. Select **Filter - Add Noise**. Select the distribution as **Gaussian** to avoid banding. ![tile06](https://mod-file.dn.nexoncdn.co.kr/bbs/17272306437656297277c04494d64a14707117aba9edd.png)
3. Add a layer, zoom in on the canvas, and use the **Dropper Tool** to extract the darkest color of our grass.
4. You can use this dark color to draw in details suited for your world. Feel free to add additional layers and add flowers, stones, bugs, or whatever you please. ![tile07](https://mod-file.dn.nexoncdn.co.kr/bbs/1683178056930bd6b1b6e43774f0bbad8cd074b5a997c.png)

> **Tip** You can use the **pattern preview feature** to see if the tiles will look natural when placed in a row. ![tile9](https://mod-file.dn.nexoncdn.co.kr/bbs/1727230704597cda42c7095944568a3c7ecc22f38af8d.png)

#### Patterned Tiles

For patterned tiles, it's best to draw the pattern yourself rather than using an automated effect.

1. Draw a base color on the canvas. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1684213100045b739955101124b2e9c94a4e1f790a164.png)
2. Use the Pencil Tool to draw patterns. You can use patterns of different sizes to create a more natural pattern. Make sure the edges of your pattern will line up well when placed next to each other. When drawing patterned tiles, we recommend adding irregular shapes to prevent the pattern from being too simple. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16842125974123f276d4479a1433c9fb49407ad3ec8fa.png)
3. Once the patterns naturally connect, add additional colors to liven it up. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1684212623125803ddf134ed84e8ba260cc08d9ab2d6b.png)
4. If the lines look blurry, use a darker color than you used for the outline. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1684213063427fd9e3ff1e8c54d09b587c485d32ddc6e.png)

#### Connection Tiles

A minimum of 12 tiles are required to create a path, such as a road or trail, and more tiles may be required depending on the creator's intent. Assemble your 12 tiles as a 3-by-3 square attached to a 2-by-2 square (see images below). When drawing connection tiles, you should use multiple layers and increase the size of your canvas so you can better see how the tiles will look when placed together.

1. Transfer the default tiles you've created in all 12 spaces to their respective layers. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/16841253385017f35e462522443939954b1c45e9af49b.png)

> **Tip** The Quadrangle Tool makes it easy to add the tiles you've created. Quadrangle Selection Outline Tool (M) - Copy (Ctrl+C) - Paste (Ctrl+V)

1. Add an empty layer and use the Quadrangle Tool to set the area you want to erase within the 9 tiles. ![tile12](https://mod-file.dn.nexoncdn.co.kr/bbs/1683600217782267bb2460a3648d795ae8035dbfc6943.png)
2. Use the Quadrangle Selection Outline Tool to select a small quadrangular area on the default tile layer. Tap the Delete key to clear the inside. ![tile14](https://mod-file.dn.nexoncdn.co.kr/bbs/16836003085094e6f0e1c4b384cd79fa4883cf8baf54a.png)
3. Draw a shadow on the default tile layer so the border where the two tiles meet looks like a natural connection.
4. Within each space of the four tiles, use the Quadrangle tool to draw the area you want to erase. It's best to draw the area in a small size in the center of each tile. ![tile15](https://mod-file.dn.nexoncdn.co.kr/bbs/16837929814178a2fa1b9d3a84089811d9668aa1abd79.png)
5. Erase the area outside the quadrangle from the layer of default tiles. Draw a shadow so the tiles have a natural transition where they overlap. ![tile15](https://mod-file.dn.nexoncdn.co.kr/bbs/1683792351851bdf013fb85324732ba72cacad615b344.png)

> **Learn more** In the free space on the sheet, you can use the Quadrangle Selection Outline Tool to simulate the placement of the connection tiles you've created. You can try different combinations to see if the tiles you've drawn all flow together naturally, so you can modify it. ![Tile03](https://mod-file.dn.nexoncdn.co.kr/bbs/1683172563731bbae861a1a4a4e159914605d974e095c.png)

# Drawing Height Tiles

Depending on your intent, you can make height tiles to create a map that feels three-dimensional. Here's how to create wall tiles and stair tiles. You can apply and draw the tiles according to the intention of the height tile creator.

#### Wall Tiles

Draw the wall tiles using the following procedure: ![tile17](https://mod-file.dn.nexoncdn.co.kr/bbs/16837937290502fb16601298145539698b1e606f50ad4.png)

1. Draw a base color on the canvas. ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/168379507952663b08c218c404a698ed06d5d712c239d.png)

For the height tiles, think of and draw 2 spaces as the basis for creating a tile. We recommend you draw the tiles with a 4-to-6 pixel margin above and below the space, rather than trying to fill the entire space. This is because filling the entire tile space creates an awkward sense of space when characters and tiles overlap. ![tile17](https://mod-file.dn.nexoncdn.co.kr/bbs/1683793076682f42c6e4d211249a085896ac4d968d131.png)

1. Use the Brush and Pencil tools to draw tiles. Draw the part that you see from the front, leaving a remaining part that will be the top of the wall. ![18](https://mod-file.dn.nexoncdn.co.kr/bbs/1683799584550110a5602bd174daab81d06aefb44885a.png)
2. You should think and draw things that are visible from above. For a stone wall, the top of the wall should also be visible. ![22](https://mod-file.dn.nexoncdn.co.kr/bbs/168380235708851a9316b524646f78d3730eda72853bb.png)
3. Enable the Pattern Preview feature. Check to see if there are any awkward spots when the tiles are placed together. ![19](https://mod-file.dn.nexoncdn.co.kr/bbs/1683799652780e101c88d4935443d8ffa868750dd2818.png)
4. Once you've made sure the patterns flow naturally, color the tiles to create contrast. Paint the top with a lighter color and the bottom with a darker color to create contrast. ![20](https://mod-file.dn.nexoncdn.co.kr/bbs/16838017207928e91a3c7af2a4bfb9f90261110122226.png)
5. Finish the tiles by painting the shadows and grass. ![23](https://mod-file.dn.nexoncdn.co.kr/bbs/16838027731038ea6a3aeb2684b818debeb2de2fe1dff.png)

#### Stair Tiles

Stair tiles are often used in conjunction with other tiles, particularly wall tiles. So it's a good idea ensure your stair and wall tiles look good together while you work. Here, let's learn how to draw stair tiles between wall tiles.

1. Place the wall tiles you've created on either side and draw a quadrangle with a specific background color in the center. The quadrangles should be made inward against both wall tiles. ![24](https://mod-file.dn.nexoncdn.co.kr/bbs/16838048081190e727c53a86f461cb048285a5692503b.png)
2. Use the Pencil Tool with a color slightly darker than the background color to draw the shape of the stairs. ![25](https://mod-file.dn.nexoncdn.co.kr/bbs/1683805578337318af7a249044751bcd3c360ffbccb91.png)
3. Draw the top of the stairs lighter and the bottom darker to give the stairs some contrast. ![27](https://mod-file.dn.nexoncdn.co.kr/bbs/1683806374729a2adb6d3cbb14d02a8cc06ade600f063.png)

> **Learn more** You can create different shapes of height tiles and use them as shown below. ![28](https://mod-file.dn.nexoncdn.co.kr/bbs/16841254749616f0d753209764215945f389c15eac91c.png)

Update 2025-11-17 PM 08:15


# Analyzing World Performance with Profiler

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

While MapleStory Worlds' Lua Profiler is a script-focused analysis tool, the Performance Profiler (hereafter Profiler) shows an overall analysis of factors that may be affecting the performance of the current World. With profiling, you can identify the factors that are slowing down your World's performance, and remove them to improve its performance. In this course, we'll learn how to run and use the Profiler and how to interpret the results of the data analysis.

##### Reference Guide

[Utilize Lua Profiler](/docs/?postId=762)

# Execute Profiler

You can run the Profiler by entering **Panels - Profiler** in the Maker. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1689323157908f695d8d7daab4e6ca5b9a94148205fc1.png)

Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button to enter the play state and press the **[Analysis Record]** button on the Profiler to start recording. Press it again to stop recording. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1689323138212ef0142ece16f49dc939fcd1bb58e7b51.png)

> **Learn More** If you enter an instance map from a static map or exit an instance map to a static map while the profiler is recording, the recording is reset.

# Look at Profiler

Let us look at the UI of Profiler specifically. ![ui](https://mod-file.dn.nexoncdn.co.kr/bbs/1689748450026758f03f4c54c42338295dfa5bfd4a04a.png)

| Major Classification | Numbers | Item | Description |
| --- | --- | --- | --- |
| ①<br>Analysis Control Area | 1-1 | Clear | Resets previously recorded analysis results. |
| 1-2 | Analysis Record | Starts recording an analysis. Press again to stop recording. |
| 1-3 | The Oldest Timeline | Goes to the first timeline. |
| 1-4 | The Previous Timeline | Goes directly ahead of the selected timeline. You can also use the <br>`Left Arrow` key. |
| 1-5 | The Next Timeline | Goes directly behind the selected timeline. You can also use the <br>`Right Arrow` key. |
| 1-6 | The Current Timeline | Goes to the final timeline. |
| 1-7 | Timeline Indexes | Shows the timeline index. |
| 1-8 | Profiler Config | ![config](https://mod-file.dn.nexoncdn.co.kr/bbs/168956161350735b564735a634ee1b5fc873165db74c7.png)<br>The analysis chart area settings window.<ul><li>X Axis Size: Sets the number of indexes visible on the X-axis.</li><li>Fill Chart: Fills the graph.</li></ul> |
| 1-9 | Category | <ul><li>Client: Shows the analysis chart for the client area.</li><li>Server: Shows the analysis chart for the server area.</li></ul> |
| ②<br>Analysis Chart Area | 2-1 | Analysis Item Information | Shows analysis items. |
| 2-2 | Chart | This is the area where the chart of each analysis item is recorded. |
| 2-3 | Select Timeline | <ul><li>Left click to select the timeline you want.</li><li>Right-click and move the mouse left and right to pan the graph.</li><li>Click and hold the mouse wheel and move the mouse to the left to collapse the graph and to the right to expand it.</li></ul> |
| 2-4 | Information Tooltip | If you hover the mouse over a chart, a tooltip shows details about that timeline. |
| 2-5 | Guideline | <ul><li>The recommended values for stable performance are shown as a guideline (light blue line).</li><li>Hover the mouse over a guideline to see details in a tooltip.</li></ul> |
| ③<br>Analysis Result Area | 3-1 | Analysis Details | <ul><li>Shows a detailed analysis result of the items selected in 2-1.</li><li>Items to track in addition to fixed items can be recorded by checking the **Chase** checkbox.</li></ul> |
| 3-2 | Search | <ul><li>Shows items that match your search query.</li><li>English is not case-sensitive.</li><li>Press the **[X]** button to clear all search terms entered.</li></ul> |
| 3-3 | Expand / Collapse Results | You can expand or collapse all analysis results. |

# Data Analysis

As users use PCs and mobile devices of varying specifications, the quality of the play experience can vary considerably even within the same World. However, you can understand the World's performance if the analysis values are roughly as follows. The values below can be used as a rough guide, and you may experience an unnoticeable drop in performance before this.

### FPS (Client)

FPS is an element measured by the client, and is related to responsiveness and play screen.

- It affects the play screen while playing. Display issues may occur if the FPS drops.
- It is recommended to maintain a minimum of 30 FPS.

| Item | Description |
| --- | --- |
| World FPS | <ul><li>Shows the FPS of the World core that processes the creator's logic.</li><li>FPS can drop for a variety of reasons, including inefficient logic, excessive sync properties, and calling functions in other execution spaces through execution space control.</li></ul> |
| Engine FPS | <ul><li>Shows the FPS of the engine, which is primarily responsible for computing input, networking, and graphics.</li><li>Engine FPS can drop significantly if you have a lot of entities, or use excessive effects and particles.</li></ul> |

### Tick (Server)

Tick shows how many times the server is performing operations per second. It has a significant impact on the responsiveness of communication with the server.

- A lower server tick may feel similar to a higher ping (network latency).
- Server tick can be dropped due to inefficient logic in the World, excessive sync properties, use of different execution space and packet flooding caused by bad logic.
- For genres where responsiveness is important, such as in PvP or battle, it is recommended to maintain a minimum of 30 server ticks.
- For Worlds where real-time responsiveness is not critical, it is recommended to maintain a minimum of 10 server ticks.
- The higher the server ticks (up to 60 ticks), the more responsive the server.

> **Learn More** Packet Flodding occurs when too many packets (around 100,000 or more per second) are sent or received. During the test play on the client or the Maker, even smaller amounts of packets can impact performance. Packet flooding is often caused by calling a function in a different execution space per frame or tick. ![packet](https://mod-file.dn.nexoncdn.co.kr/bbs/1689732427563cd559f693ea145369ebb2c7a75cd1e0d.png) The figure above outlines the packet forwarding when information from User1 is forwarded to User2 and User3, and User2 and User3's information is also forwarded to other users. The above situation is where a single user generates a single packet per frame or tick, but multiple calls in a single frame will increase the packet volume much more. Packet flooding is more likely to occur in multiplayer games than in single-player games. The following are common causes of packet flooding and how to resolve them. - When the **TargetUserId is not used**.  - Reduce unnecessary function calls by calling functions only to specific users via TargetUserId.  - For more information, refer to "Sending responses to specific clients only" in the [Effective MSW 1](/docs/?postId=559) guide. - **When it is necessary to synchronize client values**  - Sometimes you need to synchronize client values with other users through the server or by calling other space functions.  - In this case, instead of synchronizing from the server, you can replace them with sync properties or collect values from different clients together in one tick and pass them with a single function call. Reducing the number of synchronizations helps to resolve packet flooding.

### Memory

Shows the amount of memory used by the client. It is recommended to avoid excessive memory usage. MapleStory Worlds may be forced to end if memory usage exceeds 1 GB, especially on mobile environments.

### Entity

Shows the total number of entities per map, per UI group, and the number of times entities have been created or destroyed. Frequent creation/destruction of entities may degrade the overall performance. This may vary depending on the specification of the device, but in mobile environments you may experience performance degradation if there are more than 5,000 entities. Therefore, it is recommended to keep the number of entities 5,000 or less.

| Item | Description |
| --- | --- |
| Total Entity | The number of all entities created in the current World.<ul><li>Client<ul><li>Only maps where the user entity exists are loaded.</li></ul></li><li>Server</li><ul><li>When doing the test play in the Maker, maps on which the user entity moved at least once will be loaded and not destroyed again.</li><li>The physical server loads entities from all maps on the first run.</li></ul></ul> |
| Construct / Destroy Entity | <ul><li>Shows the number of entities created and destroyed.</li><li>If all entities in a map are moving, it is also counted even if no entities are actually created / destroyed. This will be improved later.</li><li>The number of creation/destruction of effects, particles, and damage skins can also be recorded, but they do not have a significant impact on performance because there is (Pooling).</li></ul> |

> **Tip** Pooling means Object Pooling. It is a way to improve performance by creating objects in advance and reusing them.

##### Improve Entity-Related Performance Degradation

If entities are degrading the World's performance, you can improve it in the following ways.

- **If There Are Too Many Entities** If there are too many entities on the client side, this can affect not only the World FPS, but also the Engine FPS. If too many entities are placed in the UI, consider disabling the UI group rather than individual UI entities. This may improve the performance of Engine FPS. | UI Entity Disable | UI Group Disable |
| :---: | :---: | | ![ui01](https://mod-file.dn.nexoncdn.co.kr/bbs/16897413642185c6ae74a889e4a9e9a77f12573388e67.png) | ![ui02](https://mod-file.dn.nexoncdn.co.kr/bbs/168974137819127d563f222d94d33815194e818333c02.png) | If there are too many entities on the server side, this can affect Tick. Also, if a new server should be created in the released game, the initialization process can take a long time. The best way is to reduce the number of entities.
- **If the Entities Are Created/Destroyed Too Many Times** Excessive creation and destruction of entities may adversely affect the World performance. You can reduce the impact on performance with object pooling.

### Execute Space Count

Shows the number of times you have called a function in another execution space, e.g. when calling a server function from the client or calling a client function from the server.

| Item | Description |
| --- | --- |
| Send Count | The number of function calls sent in other execution spaces. |
| Receive Count | The number of function calls received in other execution spaces. |

##### Improve Performance Degradation Related to the Execute Space Count

Higher Execute Space Counts can have a negative impact on FPS or Tick. It should be modified to avoid excessively calling the functions that take too long. In particular, high Execute Space Counts can cause packet flooding, resulting in packet congestion at the server end.

### Execute Space Byte

Shows the amount of data when calling functions in different execution spaces. Normally, it increases proportionally to the Execute Space Count. However, in some cases, the Count is low but Byte is high on the client. If the internet connection is unstable, the movement in the World may appear stuttering or choppy, even at high FPS. You can improve this by reducing the size of data delivered at once and the number of times it is delivered.

| Item | Description |
| --- | --- |
| Send Byte | The amount of data for the sending of function calls in other execution spaces. |
| Receive Byte | The amount of data for the receiving of function calls in other execution spaces. |

### Sync Property Count

The number of synchronizations of the Sync Property.

| Item | Description |
| --- | --- |
| Send Count | The number of sending of synchronizations per component and property. |
| Receive Count | The number of receiving of synchronizations per component and property. |

##### Improve Performance Degradation Related to the Sync Property Count

Higher Sync Property Counts can have a negative impact on FPS or Tick. Unlike the None-Sync Property, the Sync Property passes the synchronization logic internally. Using too many Sync Properties may degrade the World performance. Therefore, properties that do not require synchronization should be changed to None-Sync. Also, if it is not necessary to synchronize to every user, you can use TargetUserId of functions in another execution space to reduce the amount of synchronization.

### Sync Property Byte

The data amount for the synchronization of the Sync Property.

| Item | Description |
| --- | --- |
| Send Byte | The Byte of synchronization sending per component and property. |
| Receive Byte | The Byte of synchronization receiving per component and property. |

### TimerService

Information about the creation / destruction of timers using the Timer Service.

| Item | Description |
| --- | --- |
| Total Timer | The number of timers currently running or waiting. |
| Add Timer | <ul><li>Shows how many timers have been created and where they were created.</li><li>Effects that use the Effect Service are also counted because they use timers internally. However, the location of the call is not visible.</li></ul> |
| Remove Timer | The number of deleted timers. |

##### Improve TimerService-Related Performance Degradation

If the Total Timer increases and continues to accumulate, it can have a negative effect on FPS or Tick. Total Timer increases primarily when you pause a timer and don't remove it, or when you create a timer that repeats indefinitely and don't remove it. Therefore, you must either use the `TimerService:SetTimer()` function with the isRepeat set to true, or explicitly remove the timers created by the `TimerService:SetTimerRepeat()` function. 300 or more Total Timers can degrade World performance, so you need to avoid creating too many timers.

### Tween Logic

Information about Tweener creation/destruction related to Tween Logic.

| Item | Description |
| --- | --- |
| Total Tween | The number of the current Tweeners. |
| Add Tween | Shows the number of Tweeners created and where they were created. |
| Remove Tween | The number of deleted Tweeners. |

##### Improve Tween Logic-Related Performance Degradation

If the Total Tweener increases and continues to accumulate, it can have a negative effect on FPS or Tick. This happens when you set the value of the Tweener's **AutoDestroy** property to **false** and do not explicitly destroy it. Therefore, once the Tweener with **AutoDestroy** set to **false** is no longer in use, it must be reused or destroyed separately. 300 or more Total Tweens can cause World performance degradation, such as screen tearing or FPS drop, so you need to avoid creating too many Tweeners.

Update 2025-11-17 PM 08:15


# Lua Profiling Summary

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Let's take a look at what information is available in the Lua Profiling Summary Report.

##### Reference Guide

[Optimize Using Lua Profiler](/docs/?postId=762)

# Lua Profiling Summary Report

Clicking **File - Export Report** in the Lua Profiler lets you export the Lua Profiling Summary Report to XML. The following is a list of the information available in the Summary Report:

| Item | Description |
| --- | --- |
| Name | Context name |
| FrameCount | Number of frames measured |
| StartTime | Profiling Start Tick |
| EndTime | Profiling Stop Tick <br><ul><li>Tick read in 10 ns increments</li><li>Profiling time can be calculated as (EndTime - StartTime) / 10,000,000 seconds</li></ul> |
| AvgElapsedTime | Average time per frame (in ms) |
| PeakElapsedTime | Max. time per frame (in ms) |
| AvgNetworkSend | Average network Tx traffic per frame (in bytes) |
| PeakNetworkSend | Max. network Tx traffic per frame (in bytes) |
| AvgNetworkRecv | Average network Rx traffic per frame (in bytes) |
| PeakNetworkRecv | Max. network Rx traffic per frame (in bytes) |
| AvgManagedObjectCount | Average number of objects managed by Lua |
| PeakManagedObjectCount | Max. number of objects managed by Lua |
| AvgTotalLuaMemory | Average amount of memory used by Lua (in bytes) |
| PeakTotalLuaMemory | Max. amount of memory used by Lua (in bytes) |
| SampleSummary | Profiling summary call tree for each sample |

# Sample Profiling Summary

The following is a list of the information available in SampleSummary:

| Item | Description |
| --- | --- |
| Name | Name of sample |
| Category | Type of sample |
| CallCount | Number of calls |
| AvgElapsedTime | Average execution time for samples (in ms) |
| PeakElapsedTime | Max. execution time for samples (in ms) |
| AvgSelfElapsedTime | Average execution time for samples (in ms), excluding the execution time of child samples |
| PeakSelfElapsedTime | Max. execution time for samples (in ms), excluding the execution time of child samples |
| AvgLuaMemory | Average volume of Lua memory assigned (in bytes) |
| PeakLuaMemory | Max. volume of Lua memory allocated (in bytes) |
| AvgSelfLuaMemory | Average volume of Lua memory allocated, excluding that of Lua memory allocated by child samples (in bytes) |
| PeakSelfLuaMemory | Max. volume of Lua memory allocated, excluding that of Lua memory allocated by child samples (in bytes) |
| AvgNetworkUsage | Average network Tx traffic (in bytes) |
| PeakNetworkUsage | Max. network Tx traffic (in bytes) |

Update 2025-11-17 PM 08:15


# Optimize Using Lua Profiler

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

You may experience the game running slow in various circumstances when you are playing the game you made. In such a situation, identifying the bottleneck for the game processing speed overload and subsequently modifying it is called optimization. Optimization improves the overall performance of the game even if you only solve some issues. The Lua Profiler helps you complete script optimization work much more easily. Today let's learn about what the **Lua Profiler** is and look at the use method.

**Learn More**

> To use the Lua Profiler, you need the latest updated Windows 7 or higher operating system. You also need to install `.NET Core 3.1 Desktop Runtime` or a higher version. If you cannot execute the Lua Profiler, please install [.NET Core 3.1 Desktop Runtime](https://dotnet.microsoft.com/en-us/download/dotnet/thank-you/runtime-desktop-3.1.27-windows-x64-installer) and try again.

##### Reference Guide

[Lua Profiling Summary Report](docs/?postId=1046)

# About Lua Profiler

## Execute Lua Profiler

### Execute in the World where you are Creating

If you press **Window - Lua Profiler** on Create Game screen, Lua Profiler executes. ![profiler1](https://mod-file.dn.nexoncdn.co.kr/bbs/16588152380315f27ceb0abf148f5952f65813e870f7f.png)  If you press ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) Start followed by the **[Recording]** button of the Lua Profiler while playing, the recording starts. If you execute Lua Profiler while testing the play, recording starts immediately after the execution. ![ui](https://mod-file.dn.nexoncdn.co.kr/bbs/16599472883762d82c3ab3435482ab40812db3ef2c76f.gif)

### Execute in the Released Game

Even when you play the released game, you can execute Lua Profiler.

1. First, press the setting button on the upper right. ![setting](https://mod-file.dn.nexoncdn.co.kr/bbs/1659057882093e645caa2c4204a45828e93b96a599f60.png)
2. When you select the Other Tab, turn on **Use Lua Profiler**, and then press the **Execute Lua Profiler** button, recording starts right away while executing Lua Profiler. ![setting2](https://mod-file.dn.nexoncdn.co.kr/bbs/16590740514746335e90b06064f4caa8fde29ce4af89e.png)

## Look at Lua Profiler

Let us look at the UI of Lua Profiler specifically. ![profilerUI](https://mod-file.dn.nexoncdn.co.kr/bbs/1659947090864a710fa6bf2d64deb81df2b9d083d5477.png)

### ① File

![file](https://mod-file.dn.nexoncdn.co.kr/bbs/168413955956620e175ed60fa4ea180d5c1dc01a99bbb.png)

- **Load / Save**: You can save the data you collected with Profiling into XML or load it.
- **Export Report**: You can export the [Lua Profiling Summary Report](/docs/?postId=1046) to XML.
- **Options** ![option](https://mod-file.dn.nexoncdn.co.kr/bbs/1658887084903492a0fe98e0f4f3381e0f12434ac2320.png) | List | Sub-list | Description |
| :---: | :---: | --- | | Record Max Frames | - | If the records pile up a lot, the Lua Profile slows down. For this reason, it discards the previous data when exceeding the designated number of frames recorded. The default value is 1,000 frames, but if we assume 60 frames per second, approximately 16 seconds will be recorded. If you want to record much longer, you can change the number of frames. | | Record Timeline Max Seconds | - | It is the maximum time to save the data in the Timeline chart. | | Active Module | Execution Time | It is an execution time of Function or Scope. <br>Execution time is the most important part of the indicator, so you must measure it. | | Native scope | It measures the time of the Native area where the script has not been used. | | Memory | It is an Lua Memory Allocation Size that occurred during the Function or Scope execution. | | Network | This is Network Write that occurred during the Function or Scope execution. <br>It is mostly an execution control call, and sometimes the Network Write occurring from a different Thread is recorded. |

### ② Connect / Disconnect

- Lua Profiler connects to the game being played and operates by collecting data.
- By pressing the Disconnect button, the Lua Profiler's game connection ends.

### ③ Context

- Context refers to an execution flow from the Core.
- You can select from Contexts, such as Server, Client, Instance, and Editor.
- When you select Context, you can see the data in the ⑤ Chart field and the ⑨ Profiling field.

### ④ Select Graph

- You select what graph from **Elapsed Time, Network Send, Network Receive, Lua Memory** you want to indicate on the ⑤ chart field.
- If you check and record **Network** on **File > Option**, you can see the information of **Network Send, Network Receive**.
- If you check and record **Memory** on **File > Option**, you can see the information of **Lua Memory**.

### ⑤ Chart

- You can select between **FrameChart** and **TimelineChart**, but FrameChart is used most often.
- You can click the chart field to select a certain frame.
- In the chart field, you can see the graph you have checked in ④. If you right-click the chart, you can see the next menu. ![chart](https://mod-file.dn.nexoncdn.co.kr/bbs/1658893776888960b3923990b449bb99c0ee2defb2c0f.png)
  - **Save Image**: It saves the current chart as a png image.
  - **Copy Image**: It copies the current chart image to the clipboard.
  - **Zoom to Fit Data**: It shows the whole chart as fitting the screen size. It is useful when you see the chart by zooming in and then want to see the whole chart again.
  - **Help**: It is a guide on how to control charts.
  - **Open in New Window**: It opens the current chart in a separate window.

### ⑥ Recording

- When you press the button, Profiling starts. When you press it once more, Profiling ends.

### ⑦ Clear

- It deletes the profiling data that has been recorded so far.

### ⑧ Frame Data

- You can select All to add up all frames or select separate frames to see the data. ![framedata](https://mod-file.dn.nexoncdn.co.kr/bbs/16588974397120d5a96e886b647eca63856d08516834a.png)

### ⑨ Profiling Result

- You can see the Profiling result.

| Item | Description |
| :---: | --- |
| Name | It is the name of the Function or Scope. <br>In Property, Get and Set are also handled as a function. |
| Category | It is divided largely into Lua and Native. <br>There are Function, Getter, Setter, and Scope for the sub-category. |
| Call Count | It refers to the number of calls. |
| Total Time (ms) | It is the total time of execution. |
| Total Self Time (ms) | It is the time taken from the function excluding the subordinate sample. |
| Average Time (ms) | It is the average time of execution. <br>It is the Total Time/Call Count value. |
| Peak Time (ms) | It is the longest execution time from the one-time call. |
| Peak Self Time (ms) | It is the longest function execution time from the one-time call. |
| Network Usage | It is the Network Size that occurred during the function execution time. <br>It generally takes the execution control function the most. |
| Lua Memory | It is an Lua memory allocation size that occurred during the Function execution. |
| Lua Memory (Self) | It is an Lua memory allocation size that occurred in the function. |

### ⑩ Log

- It indicates the Lua Profiler log.
- By pressing the Clear button, the previous logs are deleted.

# Data Analysis

Let us examine how we should proceed with Lua Profiling by analyzing the sample data. ![sample](https://mod-file.dn.nexoncdn.co.kr/bbs/165994423724064220755849b4970b212baf200482c9b.png) ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) Select Server for Context ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) and select All for Frame Data. When the profiling data is collected, let us first check the items below.

- Frame's Total Self Time (![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg))
- Function with high share of time (![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg))
- Function with high Peak Time (![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg))

Let's look specifically at the above ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg), ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg), ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg).

## Frame's Total Self Time

If you look at the sample data, you know that the Total Self Time takes over 62% of the whole. The Self Time in Frame is the time taken from Native, excluding the script execution, so a specific analysis of Native Scope is required. Let us check the **Native Scope** on **File - Option** of the Lua Profiler and then do profiling again. ![nativescope](https://mod-file.dn.nexoncdn.co.kr/bbs/16590581743509659d9f6757e4497ac32594f3d715eb9.png)  If you look at the category of the data you collected again, you know that there was a specific analysis for Native Scope. ![nativescope2](https://mod-file.dn.nexoncdn.co.kr/bbs/1659944748212c0a5c7969ae24263842732d10d984ba7.png) The Frame's Total Self Time has been reduced drastically. Instead, the Native Function, TriggerComponent's OnUpdate, takes a considerable share, over 18%. You know that optimization should be considered because the number of calls is high, and the Peak Time is also high.

## Function with High Share Time

The function with the highest share time is also a prioritized analyzing target. ![sample2](https://mod-file.dn.nexoncdn.co.kr/bbs/1659945181899df0e60b1ce264dc3ab43d41b59e3cfe3.png) If you look at the ServerElapsedSeconds of MonsterController - OnUpdate function in this sample, you can see that the average execution time is very short, but there are a lot of calls, so the total execution time becomes long. If the number of calls is high, even for simple property access, the cost increases as much as that. If such a part is found when you profiled the produced game, you should consider script optimization.

## Function with High Peak Time

If there is a function with a high execution time, although the number of calls is low, you should review it. If you perform **Shift + Click** on the chart field, the frame with the highest total execution time will be selected from the 10% range of surroundings. With this, you can understand the function that is causative in Peak Time and judge whether to modify it. You cannot say the function has a problem because the Peak has been observed once. There is a possibility that profiling noise occurred, so you should optimize if you performed profiling several times and Peak keeps happening from the same part.

# Extract Script Function Sample

If you found a script function that you think necessitates profiling result modification but the contents of the function are too long, you might need a detailed analysis. Let's look at a sample extraction in such a case.

```
void Function1(string arg1)
{
    profiler.beginscope("FirstLoop")
    for i = 1, 10000 do
    	local en = self.Entity
    end
    profiler.endscope()
    
    profiler.beginscope("SecondLoop")
    for i = 1, 10000 do
    	local en = self.Entity
    end
    profiler.endscope()
}
```

If you set `profiler.beginscope("name")` ~ `profiler.endscope()` for the function to analyze as above, you can extract a sample from the profiling data as shown below. ![sample3](https://mod-file.dn.nexoncdn.co.kr/bbs/1659945606718a0afa01deb2f43c7ba0905c583f6d2d5.png)

Update 2025-11-17 PM 08:15


# Optimizing Property Synchronization with TargetUserSync

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Let's learn about TargetUserSync, a property synchronization method.

##### Reference Guide

- [Properties](/docs/?postId=205)
- [Property Synchronization](/docs/?postId=208)
- [Server and Client](/docs/?postId=207)

# Learn TargetUserSync

TargetUserSync is a more direct way to optimize the Sync property synchronization. TargetUserSync only synchronizes properties of components contained in PlayerEntity that are manipulated by the player. If a property value is changed on the server, it synchronizes the property value only to users who can manipulate the player entity whose property value has changed. TargetUserSync is recommended for values that do not need to reference other users' information. This includes personal data such as personal goods, achievements, and supplies. If you use the TargetUserSync property in a component of an entity other than PlayerEntity, TargetUserSync will not work properly. In this case, it behaves the same as the None property.

> **Tip** TargetUserSync works based on the connected client and the PlayerEntity that it manipulates. This means that it only works with component scripts that apply to the entity, and the TargetUserSync is not available in the properties of the script below. - EventType, ItemType, BTNodeType, StateType, StructType, Logic

#### TargetUserSync Settings

TargetUserSync can be set in the synchronization settings of the property. The types that can be synchronized are the same as Sync.

- Synchronizable types: string, integer, number, boolean, SyncTable< v >, SyncTable< k,v >, Vector2, Vector3, Vector4, Color, Entity, Component, EntityRef, ComponentRef

![TargetUserSync1](https://mod-file.dn.nexoncdn.co.kr/bbs/16988033334991153af9548234020a1c66e3872cadf4a.png)

It is also possible to use the Sync and TargetUserSync together in one component. Like the Sync property, you can use the OnSyncProperty to see when the TargetUserSync changes. ![TargetUserSync2](https://mod-file.dn.nexoncdn.co.kr/bbs/16987294568417ecb037ea67e4e35a64f34c4a401f740.png)

# Difference between Sync and TargetUserSync

For properties set to Sync, when you change the property value on the server, the value is synchronized from the server to all users with that entity on the map in the client direction. If you are creating a World that checks and processes information of other users in real time, you can use the properties set to Sync. However, changes to property values set to Sync are synchronized to all users of the map, so you should use it with optimization in mind.

#### Sync Method

Imagine that you added the following components to all player entities. The meso property is used to manage the user's goods. Therefore, the user shouldn't know the meso values of other users.

```
Property:
[Sync]
integer meso = 0

Method:
[server only]
void IncreaseMeso()
{
	self.meso += 1
}
```

If clients A and B are connected to the same map, the property values of the entities seen by the server and client, respectively, are as follows.

![TargetUserSync1](https://mod-file.dn.nexoncdn.co.kr/bbs/1698802548910ae0fdd13b6e14f4ab5bd34c52b2f5cd4.png)

In this case, PlayerEntity A's `InscreaseMeso()` is called to change the PlayerEntityA value from all clients when the changed meso property value of Entity A is synchronized. This is because the Sync property synchronizes the changed Meso value to the PlayerEntityA of all clients on the same map without restriction. If you synchronize to all clients, ClientB will waste computation and packets due to unnecessary property synchronization processing. The server also wastes packets, since it has to send unnecessary packets to all the clients.  ![TargetSyncProperty2](https://mod-file.dn.nexoncdn.co.kr/bbs/169925298455090466d29434b4a46b24070db138b88d5.png)

#### TargetUserSync Method

If you change the meso property to TargetUserSync and then call `IncreaseMeso()` for the PlayerEntity on the server, the meso value is synchronized only to Client A, which has a manipulation control right of PlayerEntity. PlayerEntity A on Client B is treated the same as None, where nothing changes.

```
Property:
[TargetUserSync]
integer meso = 0

Method:	
[server only]
void IncreaseMeso()
{
	self.meso += 1
}
```

![3](https://mod-file.dn.nexoncdn.co.kr/bbs/169872111296512b78d9fec8f463f8fd68d25ea813523.png)

Update 2025-11-17 PM 08:15


# Preparation for Packet Modulation

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

When the server and client exchange packets, data modulation can occur and cause problems in the creator's World. Let's learn about packets and how to prevent packet modulation to make the World better.

##### Reference Guide

- [WorldConfig](/docs/?postId=1101)
- [Server verification example](/docs?postId=1084)

# Learn about Packets

A **Packet** is a unit of data exchanged between a server and client. In MapleStory Worlds, the client and server exchange data depending on the function's execution space. In this case, the client and server don't just exchange data; they communicate via **packets** of data. For example, let's say you call a server execution space control function from a client. The function will send a packet with information about which entity, component, function, and argument to execute to the server. The server will then execute based on that information.

# Learn about Packet Modulation

**Packet modulation** is the malicious alteration of packets during network communication. This is usually done by analyzing the packets sent over the network to determine the structure, then modulating the actual data portion.

In MapleStory Worlds, someone can attempt to modulate entities, components, functions, arguments, target client information, etc. in packets. When you write a script, ensure the server validates the data received before changing the actual data in order to prevent modulation of the client or packet.

A common method of packet modulation is to find the value of specific data in a packet and change the value when the packet is sent from the client to the server. This method can have a malicious impact on the game ecosystem by changing the value of in-game goods and items. Imagine that you award users mesos, experience points, and a custom item set for defeating a monster. Users actually get 1,000 mesos, 1,000 experience points, and a Normal item, but packet modulation gives them a much better reward.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1706080639140c27ad828ae0a49aca8cec1d0a1e9da34.png)

# Packet Data Modulation 1

To prevent packet modulation, don't send packets containing actual gold, experience points, or item name data. Instead, send requests to the server and let it determine the actual data. It's important for the server to validate the received packets once more before applying them. For more information, see the [Server Verification Example](/docs?postId=1084) guide.

Let's look at examples of modulated entities and components and how to handle it. Say you want to send four pieces of data in one packet from the client to the server.

- **Entity Name**: PlayerEntity
- **Component Name**: MyPlayerDataComponent
- **Function Name**: RequestGetCoin
- **Function Argument**: 500

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17116124998769b237ee7005a4bd7a9d464cf615f5e4c.png)

These are two common examples of malicious data modulation.

1. Send **RequestGetCoin packets repeatedly to get gold without completing the quest.**
  - When the server gets a provision request, it confirms the conditions to get gold have been met. It doesn't reflect the request without verification.
2. **Change the argument value of the gold to get a lot of gold at once.**
  - The client does not send the actual amount of gold to be acquired. The server will provide gold with a value matching the client's request.

#### Setting Critical Function to Server Only

Sending unchanged content in packets from client to server increases the risk of modulation. Therefore, you should set the execution space control of critical functions to **server only** to prevent repeat packet sending, attempts to change argument values, etc. In addition, the server function must verify that the information the client sends has not been modulated. For example, if you need to write a function that provides a reward, write it to call in the order of **client → server → server only** functions. Then the function that actually provides the reward must be a **server only** function.

If you send **1,000 mesos acquired** from the client to the server, someone may modulate to get more mesos or give it to another client. To prevent that, you should direct the reward request packet to the server, and make the actual payment server only.

```
Method:
[client only]
void ClickGetRewardButton()
{
    self:RewardProcess()
}

[server]
void RewardProcess()
{
    -- Before calling the SendCoin() function, you need to verify that this is a valid request.
    self:SendCoin()
}


[server only]
void SendCoin()
{
    -- Actual provision logic 
}
```

> **Tip** If you set every logic's execution space control to **server**, it can overload the server. Instead, let the client handle rendering processing, like animations, and let the server process critical elements, like goods and items.

# Packet Data Modulation 2

Another method of packet modulation is player entity name modulation. This allows users to complete actions and get rewards without actually performing those actions. For example, PlayerEntityA actually played, but PlayerEntityB may get the reward. Because the player entity name was modulated, the gold was awarded to the wrong player. To prevent this, you must prevent any client other than the local client from calling the player entity's server functions.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17116125320499f54fab802ea4f0cbdbb81827d3955f7.png)

#### Utilizing PlayerEntityAuthorityCheck

The **PlayerEntityAuthorityCheck** of WorldCofig ensures that the server functions of the player entity's components are called only by the local client. Since it's impossible to call server functions from other clients, it is impossible to modulate the packet. If someone attempts to call a server function from another player entity, they will get an error like the one below.

![PlayerEntity](https://mod-file.dn.nexoncdn.co.kr/bbs/169571933009917b0b6c1d9994fe9a9e71fa7ff2dacbd.png)

> **Tip** A local player entity's presence is verified by both the client and server.

Disabling PlayerEntityAuthorityCheck may cause rewards to go to the wrong player. If PlayerEntityA hunted a monster, it is normal to award mesos to PlayerEntityA. However, if someone modulates with the entity information of the packet to PlayerEntityB, the server function of PlayerEntityB may be called, and the mesos may be awarded to PlayerEntityB.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17116125839800b14b16908dc40c3bdb3eb44b3777e0d.png)

#### Server Function Caller senderUserId

The **senderUserId** has the **client's userId** information that called the server function as an argument of the server function. The senderUserId is assigned by the server and is not modulated by the client. For example, if User A in the World wants to destroy a specific item in their inventory, write a script as follows. In this script, if another client calls the `RequestDropItem()` function, User A's item may be deleted.

```
[server]
void RequestDropItem(Entity targetItem)
{
    if self:HasItemInInventory(targetItem) then
        return
    end
}
```

Use the senderUserId to keep other users' items safe when a user destroys an item. You can confirm that the user who called the `RequestDropItem()` function is the one whose item will be deleted from inventory. If the `RequestDropItem()` function is called from a client other than the local client, write the following to prevent the item from being deleted from inventory.

```
[server]
void RequestDropItem(Entity targetItem)
{
    if senderUserId ~= self.Entity.PlayerComponent.UserId then
        return
    end

    if self:HasItemInInventory(targetItem) then
        self:RemoveItemInInventory(targetItem)
    end
}
```

# Using ServiceAuthorityCheck

MapleStory Worlds allows creators to change the execution space control of service functions for convenient production. The **ServiceAuthorityCheck** in WorldConfig can make all server functions of the service behave as **server only** functions. For example, functions of TeleportService are server functions that allow a player entity to teleport a specific player entity. However, if you enable ServiceAuthorityCheck, the Teleportservice function changes to server only and cannot be called from the client. This helps prevent unintended player entities from being teleported.

# RestrictedPlayerEntitySync Use

You can enable **RestrictedPlayerEntitySync** of WorldConfig to prevent the **Sync** property of the native component belonging to the player entity from synchronizing values changed on the client to the server. By default, the Sync property of a native component synchronizes to all clients whenever the value changes on the server. On the contrary, values changed on the client are not synchronized to the server. However, if the native component belongs to a player entity, it will synchronize the values changed on the client to the server. This is to allow the client to change state immediately upon user input. Because the user input is processed on the server first, and when the results are sent to the client, the user may notice a delay in the response to the input. However, someone may modulate with the player entity's data using this synchronization method. For example, even in a World without the Chat UI, a client can modulate with the value of the ChatBalloonComponent's property to display a chat balloon on the avatar.

> **Tip** The following components are not affected by the RestrictedPlayerEntitySync for input responsiveness, even though they are included in the player entity. Synchronization always occurs from the client to the server when it is included in a player entity, regardless of whether it is enabled or disabled. - MovementComponent - PlayerControllerComponent - StateComponent - TransformComponent

Update 2025-11-17 PM 08:15


# Using RateLimitService

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's learn how to limit the number of a user's server function that is used.

##### Reference Guide

[Preparing for Packet Modulation](https://maplestoryworlds-creators.nexon.com/ko/docs?postId=1102) [World Instances](https://maplestoryworlds-creators.nexon.com/ko/docs?postId=984) [How to Make Instance Maps](https://maplestoryworlds-creators.nexon.com/ko/docs/?postId=540)

# Learning about RateLimitService

Execution functions for servers are created to directly execute specific actions in the server, so when packets are modulated maliciously or when the same action is repeated, it can cause problems for the World. The `RateLimitService` limits the number of server execution functions that are used by a number set by the creator and can be used to enhance security for a World by setting a cooldown when a user uses a function that has been restricted. The use of Native API's server functions and server functions created by the creator can be restricted by `RateLimitService`. It is recommended to use RateLimitService with consideration to the room's charateristics in a way that fits the creator's World. Keep in mind that use restrictions for specific rooms don't affect other rooms, since that RateLimitService exists for each room.

> **Learn More** If you wish to use RateLimitService flexibly, you can do so from Logic.

#### Spending and Recharging Tokens

To use `RateLimitService`, you must understand what tokens are. Tokens are a temporary call limit for creators to limit the number of tokens used. Players that reach the use limit won't be able to call functions until the tokens are recharged. The creator needs to set a limit to the number of tokens, and the gap between token recharges as parameter variables of a function to limit usage. Depending on World design, you may want to set the recharge interval shorter than other functions for functions that players call frequently.

Let's understand tokens by looking over the parameter variables for `SetServerFunctionRateLimitForLogic()` from `RateLimitService`.

```
void SetServerFunctionRateLimitForLogic(string logicName, string functionName, int maxToken, float tokenRefillPerSecond)
```

Determine the number of **maxToken** and set the number of tokens that are recharged every second with **tokenRefillPerSecond**. The following is detailed meanings of parameter variables.

- **logicName**: The name of the logic that has the function that limits usage.
- **functionName**: The name of the function that limits usage.
- **maxToken**: The max number of tokens set by the creator which is deducted each time the user calls a function.
- **tokenRefillPerSecond**: The number of tokens that are recharged every second. For example, if it's set to 0.2, tokens will increase by 1 after 5 seconds.

# Use Examples

Let's make an example that prevents players from calling the `MoveToMapPosition()` function multiple times in a short window of time. This will limit the `MoveToMapPosition()` function under `PlayerComponent` to be only called once every 3 seconds. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17320008539686a2dfc3bc0ec4a84921966a3cb61b1c4.gif)

#### Map Creation

Create an **InteractionEntity** on the map for teleporting, and place the arrival location, **Destination**, on a tile. Let's assume that it takes 3 seconds from moving with InteractionEntity until reaching another moveable point on this map. If someone attempts to move on the map faster than 3 seconds, it can be assumed that the function has been modified. Let's make an example World that limits function use with `RateLimitService` to prevent such modification. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1731998004301d26b2a6ee3fa43b39b779b5e178e7a80.png)

#### Creating InteractionEntity

1. Create a new **InteractionEntity** by selecting **Map01- Create Entity - Create Empty**.
2. Add **TransformComponent, SpriteRendererComponent, InteractionComponent**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1731995623163f098c06a614f4f65b32ee64b0075c1ad.png)
3. Create **TeleportComponent** by selecting **Workspace - MyDesk - Create Scripts - Create Component**.
4. Add **TeleportComponent** to the created InteractionEntity.
5. Add a **Destination** property to **TeleportComponent**.```
Property:
[None]
Entity Destination = nil
```
6. Set the Destination entity that was created on the map by the creator as the property path in the **InteractionEntity** property window. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1731995613556801c7b7d6d2641c2861813f93712fc1b.png)
7. Write the following code so that the player is sent to the **Destination entity** when a player interacts with the created portal entity by pressing `E`.```
Event Handler:
[client only][self]
HandleInteractionEvent(InteractionEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InteractionComponent
    -- Space: Server, Client
    ---------------------------------------------------------

    -- Parameters
    local InteractionEntity = event.InteractionEntity
    ---------------------------------------------------------

    -- Send my player entity to the \`Destination\` entity if the interaction key is pressed.
    if InteractionEntity == _UserService.LocalPlayer then
        local localPlayer = _UserService.LocalPlayer
        local currMap = self.Entity.CurrentMap
        local destPos = self.Destination.TransformComponent.WorldPosition:ToVector2()
        localPlayer.PlayerComponent:MoveToMapPosition(currMap.Name, destPos)
    end
}
```

#### Creating Teleport UI

Let's make a UI that allows moving to the Destination entity at any time. Using this UI will be subject to usage limits.

1. Create a new **UIButton** by selecting **Hierarchy - ui - DefaultGroup - Create Entity - Create Button**.
2. Select the size and color of your choice. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/173199759809163519c556d1f4457b5407341c986eeb7.png)
3. Create a new **CheatingComponent** by selecting **Workspace - MyDesk - Create Scripts - Create Component**.
4. Add **CheatingComponent** to **DefaultPlayer**.
5. Set the path of the Entity that will be the **Destination** of the property.```
Property:
[None]
Entity Destination = /maps/map01/Destination
```
6. Link **UIButton** to **ButtonClickEvent** and write the following code so that the player can move to the Destination when they press the button.```
Event Handler:
[entity: UIButton(/ui/DefaultGroup/UIButton)]
HandleButtonClickEvent(ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    -- local Entity = event.Entity
    ---------------------------------------------------------

    local currMap = self.Entity.CurrentMap
    local destPos = self.Destination.TransformComponent.WorldPosition:ToVector2()
    self.Entity.PlayerComponent:MoveToMapPosition(currMap.Name, destPos)
}
```

#### Creating Use Limit Logic

Write the following code that limits the `MoveToMapPosition()` function under PlayerComponent when a user enters.

1. Create **RateLimitLogic** by selecting **Workspace - MyDesk - Create Scripts - Create Logic**.
2. Use the `SetServerFunctionRateLimitForComponent()` function to limit the use of the `MoveToMapPosition()` function under PlayerComponent when a player enters. The number of tokens is 2, and the token recharge rate per second is 0.3.```
Event Handler:
[service: UserService]
HandleUserEnterEvent(UserEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: UserService
    -- Space: Server
    ---------------------------------------------------------

    -- Parameters
    local UserId = event.UserId
    ---------------------------------------------------------

    local userEntity = _UserService:GetUserEntityByUserId(UserId)
    _RateLimitService:SetServerFunctionRateLimitForComponent(userEntity.Id, "PlayerComponent", "MoveToMapPosition", 2, 0.3)
}
```
3. Write code that displays a warning log if there is a user that reaches the usage limit. You can know user informatiom by using `UserService`.```
[service: RateLimitService]
HandleServerFunctionRateLimitEvent(ServerFunctionRateLimitEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: RateLimitService
    -- Space: Server
    ---------------------------------------------------------

    -- Parameters
    local FunctionName = event.FunctionName
    local ProfileCode = event.ProfileCode
    ---------------------------------------------------------

    local user = _UserService:GetUserByProfileCode(ProfileCode)
    log_warning("User '" .. user.Nickname .. "' has reached the function use limit of '" .. FunctionName .. "'.")
}
```
4. Call the `MoveToMapPosition()` function by pressing the Teleport button multiple times in a short window of time after pressing [Start]. You can see that an error log has triggered in the Console window. ![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/1737612072515e1810f9a2d444317ab7fe76daefac35c.png)

Update 2025-11-17 PM 08:15


# Server Verification Example

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

When the player entity calls a server function, it sends data via 'packets'. When sending important data in packets, the server should validate the received packets one more time to improve security, rather than reflecting them immediately. In this guide, we'll learn how to write a server verification script and configure a stable server.

##### Reference Guide

- [Preparation for Packet Modulation](/docs/?postId=1102)
- [WorldConfig](/docs/?postId=1101)

# Precautions for Verification

You must add a server verification device to prevent client modulation and packet modulation. When creating a World, not all decisions need to be made on the server, but decisions about important data should be made on the server. Even if the request is sent to the server after being validated on the client, it is best to re-validate on the server if the data is important. For UI entities, it is best to send UI behaviors from the server to the client and implement them to be reflected, since they only exist on the client. You should also avoid putting important data for the World directly in packets sent from the client. You should avoid putting important data including gold and experience points in packets sent from the client.

# Example Server Configuration to Prevent Packet Modulation

Let's create a system that interacts with NPCs to exchange keys for Meso. Understand the number of cases where the exchange could be modulated and add a verification method.

#### Creating UI

1. Add 2 items of **UISprite, UIText** to DefaultGroup to create a UI that shows the amount of gold and keys you have. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1706514331040538a923e7d024f43a83255f2192034cc.png) ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1713870204930fa91eb3313cd42b5932269d713784fe1.png)
2. Add **UISprite, UIInputText, UIText** to DefaultUI to create a UI for the exchange and rename it as below. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/170607103930210c9ec96e8d7461392a7468ded173cda.png) ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1713924692487c458e7057dcf4f598ab8fae58a1c1e3d.png)
3. Untick **Enable** in the UI for the exchange you created to hide it.

#### Placing NPC

1. Place the **NPC** preset in the Scene and add **TriggerComponent**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1706070955652fdf1e41bb11243df8e185796b7f9c95a.png)
2. In **CollisionGroup**, add a new **Npc** group. Set the Matrix as below so that the Npc group can conflict with Npc, Default. ![npc](https://mod-file.dn.nexoncdn.co.kr/bbs/1706514288932b68b705f4d6e49df8b8be935dc051b67.png)
3. Change **CollisionGroup** of the Npc's TriggerComponent to **Npc**.

#### Write Client Functions

Let's make an NPC that can interact with the player. Make a UI that will open when the player is in trigger range of the NPC if the `E` key is pressed and close if the `ESC` key is pressed.

1. Create a new **MyPlayerComponent** and add it to **DefaultPlayer**.
2. In **MyPlayerComponent**, write as below.```
Property:
[None]
Entity triggerNpcEntity = nil
[Sync]
number key = 0
[None]
number lastExchangeTime = 0
[None]
number talkableDistance = 1
[Sync]
number gold = 0
[None]
Entity goldUI = /ui/DefaultGroup/GoldUI
[None]
Entity keyUI = /ui/DefaultGroup/KeyUI

Method:
[client only]
void OnSyncProperty(String name, any value)
{
    if name == "key" then
        -- Update the key UI
        self.keyUI.TextComponent.Text = tostring(self.key)
    end

    if name == "gold" then
        -- Update the gold UI
        self.goldUI.TextComponent.Text = tostring(self.gold)
    end
}

Event Handler:
[service: InputServie]
HandleKeyDownEvent(KeyDownEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------
    -- Parameters
    local key = event.key
    ---------------------------------------------------------

    -- Check that it is a local player.
    if self.Entity ~= _UserService.LocalPlayer then
        return
    end

    -- Confirm the key input.
    if key == KeyboardKey.E then
        -- Check whether there is an NPC you can talk to
        if self.triggerNpcEntity == nil then
            log('no trigger')
            return
        end

        self.triggerNpcEntity.NpcComponent:OnRequestOpenDialog(true)
    elseif key == KeyboardKey.Escape then
        if self.triggerNpcEntity ~= nil then
            self.triggerNpcEntity.NpcComponent:OnRequestOpenDialog(false)
        end
    end
}

[client only][self]
HandleTriggerLeaveEvent(TriggerLeaveEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------
    log('triggerLeave')
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------
    if self.triggerNpcEntity == TriggerBodyEntity then
        self.triggerNpcEntity.NpcComponent:OnRequestOpenDialog(false)
        self.triggerNpcEntity = nil
    end
}

[client only][self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------
    log('triggerEnter')
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    ---------------------------------------------------------
    if TriggerBodyEntity.TriggerComponent.CollisionGroup == CollisionGroups.Npc then
        self.triggerNpcEntity = TriggerBodyEntity
    end
}
```
3. Create a new **NpcComponent** and add it to the **NPC** entity.
4. Write as below in **NpcComponent** so that you can exchange keys for gold when the Exchange button is pressed.```
Property:
[None]
Entity DialogEntity = ui/DefaultGroup/DialogBackground
[None]
TextInputComponent QuantityInput = ui/DefaultGroup/DialogBackground/Dialog/Count

Method:
[client]
void OnRequestOpenDialog (boolean isOpen)
{
    self.DialogEntity.Enable = isOpen
}

Event Handler:
[entity: ExchangeButton(/ui/DefaultGroup/DialogBackground/Dialog/ExchangeButton)]
HandleButtonClickEvent(ButtonClickEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------
    -- Parameters
    local Entity = event.Entity
    ---------------------------------------------------------

    -- Check the cooldown.
    local myPlayerComponent = _UserService.LocalPlayer.MyPlayerComponent
    if DateTime.UtcNow.Elapsed - myPlayerComponent.lastExchangeTime < 1000 then
        log('Less than 1 second has passed since the previous request')
        return
    end

    local keyQuantity = tonumber(self.QuantityInput.Text)
    if keyQuantity > 0 then
        myPlayerComponent.lastExchangeTime = DateTime.UtcNow.Elapsed

        myPlayerComponent:VerifyExchangeKeyToGold(keyQuantity, myPlayerComponent.triggerNpcEntity)
    end
}
```

#### Elements of Server Function Verification

Let's look at an example of server verification when a player with a key item interacts with an NPC who exchanges the key for Meso. There are 4 server verification factors to check when the player exchanges a key for 1,000 Meso with an NPC.

1. **Verifying that the request was sent from a non-local client.** There are two ways to verify. The first is to use the [WorldConfig](/docs/?postId=1101)'s **PlayerEntityAuthority**. The second is to use the **senderUserId** to verify that the player entity that sent the packet matches the player entity that requested the exchange. Use the senderUserId to verify that the player entity that sent the packet matches the player entity that requested the exchange.```
-- Verify that the request was sent from a non-local client.
if senderUserId ~= self.Entity.PlayerComponent.UserId then
    log('Request is sent from a non-local client')
    return
end
```
2. **Verifying if there are an unusually high number of repeat requests.** The client checks for the **cooldown time**, just in case packets are sent randomly over and over again. It also needs to be checked again on the server. If the server function is called when the time specified by the creator has not passed, it may be an abnormal packet. Because a normal client would not call the server function until the cooldown time has passed.```
-- Add a cooldown time to verify that requests have not been sent in an abnormally repetitive manner.
if DateTime.UtcNow.Elapsed - self.lastExchangeTime < 1000 then
    log('Less than 1 second has passed since the previous request.')
    return
end
```
3. **Verify that the player entity is in the location where the NPC can be triggered.** Write to send packets when the player entity is in the NPC trigger location. The server calculates the distance between the player and the NPC again, just in case the `ExchangeKeyToGold()` function is called from a location where the trigger cannot be triggered to send packets. If the player entity is at a distance where it is impossible to trigger but a packet request is received, it may be an unusual packet request.```
-- Verify that the player entity is in the location where the NPC can be triggered.
if npcEntity == nil then
    log('No trigger npc')
    return
end

local playerPos = self.Entity.TransformComponent.WorldPosition
local npcPos = npcEntity.TransformComponent.WorldPosition
local distance = Vector2.Distance(Vector2(playerPos.x, playerPos.y), Vector2(npcPos.x, npcPos.y))

if distance > self.talkableDistance then
    log("The player is not within the trigger range. It is an abnormal packet.")
    return
end
```
4. **Verify that the number of keys requested for exchange is not less than the number of keys the player has.** Check the exchange conditions again to make sure that it is impossible to exchange if the player presses the Exchange button but has fewer keys than the number of keys requested.```
-- Verify that the number of keys requested for exchange is not less than the number of keys the player has.
if self.key < keyQuantity then
    log('The player doesn't have enough keys.')
    return
end
```

#### Write Server Functions

Let's check the above 4 verification factors, and write server functions that can exchange keys with Meso.

1. Open `MyPlayerComponent` and write the `OnBeginPlay()` function. Write as below to give 10 keys and reset the gold to 0 when the player enters the World.```
[server only]
void OnBeginPlay()
{
    -- Set the values of the key and gold.
    self.key = 10
    self.gold = 0
}
```
2. Write a new `VerifyExchangeKeyToGold()` function in **MyPlayerComponent**. Set the execution space control as **server** and add **keyQuantity, npcEntity** parameters. Write as below to give Meso if the server verification is successful.```
Method:
[server]
void VerifyExchangeKeyToGold(number keyQuantity, Entity npcEntity)
{
    -- Verifying that the request was sent from a non-local client
    if senderUserId ~= self.Entity.PlayerComponent.UserId then
        log('Request is sent from a non-local client')
        return
    end

    -- Verify that requests have not been sent in an abnormally repetitive manner.
    -- Verify by adding reuse cooldown.
    if DateTime.UtcNow.Elapsed - self.lastExchangeTime < 1000 then
        log('Less than 1 second has passed since the previous request')
        return
    end

    -- Check whether the player entity is in the location where the NPC can be triggered.
    if npcEntity == nil then
        log('No trigger npc')
        return
    end

    local playerPos = self.Entity.TransformComponent.WorldPosition
    local npcPos = npcEntity.TransformComponent.WorldPosition
    local distance = Vector2.Distance(Vector2(playerPos.x, playerPos.y), Vector2(npcPos.x, npcPos.y))

    if distance > self.talkableDistance then
        log("The player is not within the trigger range. It is an abnormal packet.")
        return
    end

    -- Check whether the number of keys requested for exchange is not less than the number of keys the player has
    if self.key < keyQuantity then
        log('The player doesn't have enough keys.')
        return
    end

    -- Calls the exchange function if the verification is successful.
    self:ExchangeKeyToGold(keyQuantity)
   }
```
3. Write a new `ExchangeKeyToGold()` function. Set the execution space control to **server only**, since this is the function that actually gives gold. Write to give gold based on the amount of keys if the verification was successful.```
[server only]
void ExchangeKeyToGold(number keyQuantity)
{
    self.key = self.key - keyQuantity
    self.gold = self.gold + keyQuantity * 1000
    self.lastExchangeTime = DateTime.UtcNow.Elapsed
}
```

Update 2025-11-17 PM 08:15


# Registering Products

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

In this course, we'll learn about items and passes, products that can be sold in the World. Let's learn about the products and register products you'd like to create. Products can be purchased with World coins that users own. In return for purchasing products, creators should provide users with various services, such as passes. Creators can later settle up the World coins paid by the users.

# Registering Products

There are two ways to register a product: either register it in the MapleStory Worlds [Official Website](https://maplestoryworlds.nexon.com/) or within the Maker. The registration screen and process are the same, so creators can register products from their preferred location. Products are categorized into two types: Items and Passes. Creators are required to select and register one that matches the type of product to sell. When registering a product, you must input its type, name, price, sale period, release state, and product thumbnail, and you may add a product description if needed.

![Item](https://mod-file.dn.nexoncdn.co.kr/bbs/1727231534945f2f96ac12e55488babdf89aafc9ce1c3.png)

| Numbers | Name | Description |
| --- | --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | Product Type | There are two product types. Products are classified according to product characteristics as follows.<ul><li>**Item**: It is a product available for repurchase. For instance, you need to be able to buy HP recovery potions from the shop over and over.</li><li>**Pass**: It is a product that can be purchased only once and which brings about a lasting effect. For instance, it is used for creating a product that provides an additional benefit when a reward is given in the World.</li></ul> |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | Product Name | Enter a product name that will be visible to users. You can enter up to 50 characters. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | Price | <ul><li>**Free**: The product is offered free of charge.</li><li>**For Sale**: World users purchase the product with their coins. You can set the price within the range of 10 to 10,000.</li></ul> |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | Sale Period | Set a period when users can buy the product in the World.<ul><li>**Indefinite**: The product is always available for sale.</li><li>**Limited-Time**: The product is only sold during a particular period of time. You can set the start and end dates and times of the sale period. When the set sale period is reached, the state of the badge changes to **On Sale**, and badge acquisition becomes possible.</li></ul> |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | Release State | Set whether to release the product. In the group World, only the group leader can set up whether to release it or not.<ul><li>**Unreleased**: The product is not released. If you switch the state of a released product to Unreleased, it will be excluded from web shops and the product list in the World and become unavailable for sale. Likewise, it will not appear on the product lists of users who have already purchased it.</li><li>**Released**: The product is released.</li></ul> |
| ![6](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_06.jpg) | Product Thumbnail | Upload an image file of the product that users would acquire. Only a single jpg or png file with a size of 2MB or less can be registered, and using an image with a size of 120x120 px is recommended. When registering a product, you must register its image. |
| ![7](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_07.jpg) | Product Description | You may enter the description of the product that will be visible to users. Entering a description is optional. |

#### Registering on the Web

1. After logging in, select Create World followed by the World you want to create a product for.
2. Select **Manage Shop - Register Product**.
3. In the Manage Shop window, set the type, name, release state, and thumbnail of the product and then press Register.
4. When registered, the product is added to the Manage Shop window. Check whether its sale state is **Unreleased**.

#### Registering in the Maker

1. Open **Panels - World Shop Viewer**.
2. Right-click to open the context menu and select **Create New Item**.
3. In the newly opened window, set the type, name, release state, and thumbnail of the product and then press Register as you did in Registering on the Web.
4. Once registered, the product is added; check whether its state is **Unreleased**.

# Product State

There are five product states in all. When you test a product in the Maker, you can purchase it regardless of its state. If the product is to be actually purchasable in the World, its state has to be **On Sale**.

| Name | Description |
| --- | --- |
| Unreleased | The release state has been set to Unreleased. Even if the product reaches its sale period, it will be invisible and unavailable for sale in the web and World shops and the Client. Neither will it be shown in the product lists of players who own it. |
| Waiting for Sale | The product hasn't reached its sales period yet, and it is waiting to be sold. It will be automatically switched to **On Sale** at the start of the sale period if you set the period with the released state. |
| On Sale | The product is purchasable. If you've set a sale period, it can only be sold during the period. |
| Sale Ended | The sale period has expired, and the product cannot be sold in shops. |
| Restricted | The product is under restriction. Sale of the product is not allowed regardless of its release state or sale period. Creators can modify restricted products, but inquiries regarding their restricted state should be made to the Customer Center. |

# Registering Products in the Group World

Both registering and modifying products are allowed only for the **group leader**.

##### Reference Guide

Users need to be notified before using paid probability-based content as per the Probability Disclosure guideline. Please refer to [Probability Information Disclosure](/docs/?postId=667) when creating products.

- [Product Management](/docs?postId=658)
- [Utilization of World Shop Service](/docs?postId=659)

Update 2025-11-20 PM 02:03


# Product Management

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

Let's learn how to use World Shop Viewer and about its functional limitations by product state.

# World Shop Viewer

This is the window where you can register and manage products in the Maker. Registered products are automatically classified in each folder according to product type. The main context menu is shown below.

![WorldShopViewer](https://mod-file.dn.nexoncdn.co.kr/bbs/16696848050101636660134be4dbebf8ba54f4c009767.png)

| Name | Description |
| --- | --- |
| Copy Item ID | Copy the ID of the registered product. |
| Copy Item Thumbnail RUID | Copy the thumbnail RUID of the registered product. |
| Create New Item | Create a new item or pass. Click the menu to open the product registration page. |
| Edit Item | Modify the registered product. |
| Open Item List (Web) | Open an external browser window where you can check the states of the products you have created. |
| Refresh Viewer | Refresh the list of products. |

You can check product information by hovering your mouse over the registered products. ![ItemInformation](https://mod-file.dn.nexoncdn.co.kr/bbs/1669686269480e70f6ff61d3b488da37ca9c8d301cbdd.png)

# Functional Limitations by Product State

Functions are limited depending on the state of the product. Please refer to the table below. You can change a Waiting for Sale product to an Unreleased state so it is not inquired when searching all products.

| State | Information Inquiry in the World | Revealing Product in the World | Actual Purchase Availability | Test Purchase Availability | Modifying Product Information | Revealing a Product on the Official Homepage |
| --- | --- | --- | --- | --- | --- | --- |
| **Unreleased** | Unavailable | Unavailable | Unavailable | Available | Available | Unavailable |
| **Waiting** | Available | Visible | Unavailable | Available | Available | Not Visible |
| **On Sale** | Available | Visible | Available | Available | Available | Pass Visible Only |
| **Sale Ended** | Available | Visible | Unavailable | Available | Available | Not Visible |
| **Restricted** | Available | Visible | Unavailable | Available | Available | Not Visible |

#### Product Restriction Guide

Restrictions can be placed on products created by creators (https://maplestoryworlds.nexon.com/legal/policy{"target":"_self"}) according to the [Operating Policy] of MapleStory Worlds. The name of a restricted product will be altered to Violation of Operating Policy and become visible to users. Its product image will also be changed to the default image. You can check the contents of the product restriction in the tooltip of **World Shop Viewer**.

For inquiries regarding restricted products, please visit [Customer Center](https://cs.nexon.com/HelpBoard/Nexon?gamecode=363).

# Difference between Maker and World

Depending on the environment where products are purchased, the following differences exist.

| State | Maker | Released World |
| --- | --- | --- |
| Coin Deduction | You can purchase items without spending coins. | Coins are deducted. |
| Purchase Pop-up | At the bottom of the product purchase window, the phrase 'No coins are deducted for test purchases' is displayed. | The balance is displayed at the bottom of the product purchase window. |
| Product Inquiry | Products can be inquired in all states, which are **Unreleased, On Sale, Waiting, and Sale Ended**. | Products can be inquired only in **Waiting, On Sale, Sale Ended** states. |
| Purchase | Products are purchasable in all states, which are **Unreleased, On Sale, Waiting, and Sale Ended**. | Products are purchasable only in **On Sale** state. |

##### Reference Guide

Users need to be notified before using paid probability-based content as per the Probability Disclosure guideline. Please refer to [Probability Information Disclosure](/docs/?postId=667) when creating products.

- [Registering Products](/docs/?postId=581)
- [Utilization World Shop Services](/docs/?postId=659)

Update 2025-11-20 PM 02:03


# Utilizing World Shop Services

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=30m&amp;color=green)

# Course Introduction

Let's try to use `WorldShopService` to make items and passes registered on the Web purchasable. Keep in mind that in an unreleased World, even if you release a product, you cannot actually sell it.

# WorldShopService

When using the registered product in the World, you must use `WorldShopService`. A user who has successfully made a purchase is entitled to receive the product provided by the creator.

# Use Example

Register items and passes. If you purchase the item, your potions immediately increases by 100; and if you press Attack after purchasing the pass, your portions see an additional increase of 15.

![example](https://mod-file.dn.nexoncdn.co.kr/bbs/16757382237655b20a67b51774a548bdef6461ef14507.gif)

#### Preparation

Follow [Registering Products](/docs?postId=581) to register the item and pass.

| Product Type | Item | Pass |
| --- | --- | --- |
| Product Name | Potion Item | Potion Add-on Pass |
| Price | Free | Free |
| Sale Period | Indefinite | Indefinite |
| Product Thumbnail | ![Item](https://mod-file.dn.nexoncdn.co.kr/bbs/1669032688633b964bbc6fc0b4f5784c7bf5e7461f58f.png) | ![Pass](https://mod-file.dn.nexoncdn.co.kr/bbs/1669032702800d3d79eebd2dd463990f7b0fe404b06e7.png) |
| Product Description | Provides 100 potions free of charge. | Provides additional potions. |

#### Creating a Product Purchase Window UI

1. Select **UI Editor - DefaultGroup - Create Entity - Create UIEmpty** to place it, and change its name to **MiniShop**.
2. Create a new **Item Entity** and place it under the **MiniShop** Entity. Then, use text to make a product purchase window as seen in the following image. ![ShopUI](https://mod-file.dn.nexoncdn.co.kr/bbs/16757375937446a32c302638c4bce9c6293df77961900.png)
3. In World Shop Viewer, select a product, open the context menu, and choose **Copy Item Thumbnail RUID**. ![Copy](https://mod-file.dn.nexoncdn.co.kr/bbs/1669687890427bd427f642355464eaa03d156a1a6c6f7.png)
4. Select the image entity to show the product image and paste the product RUID into ImageRUID of **SpriteGUIRendererComponent**.
5. Copy the created Item Entity and place it side by side under the **MiniShop** Entity. ![ShopUI](https://mod-file.dn.nexoncdn.co.kr/bbs/1669687708602a247b62ec387466cb86b7290c316f2e4.png)
6. Change the name of the copied entity to **Pass** and add the pass RUID.
7. ![off](https://mod-file.dn.nexoncdn.co.kr/storage/icons/common/CheckboxOff.png)Disable the **Enable** property of MiniShop.

#### Creating a Shop Button UI

We're going to create a button for opening and closing the product purchase window. ![ButtonShop](https://mod-file.dn.nexoncdn.co.kr/bbs/1669181482837083a5716f94f4b9dac17c23994305949.png)

1. Place a button of **UI Editor - DefaultGroup - ShopOpenBtn**.
2. Look for the shop-shaped sprite and apply it to **SpriteGUIRendererComponent - ImageRUID**.
  - ImageRUID: 92a05d93672f65b4f991279cf1f0b4e6
3. Create a new **OpenShopBtn**script component and add it to ShopOpenBtn. ![ShopOpenBtn](https://mod-file.dn.nexoncdn.co.kr/bbs/1668771870564d9e4aa0cc7d84cf78a4d010cf2254125.png)
4. Write what you see below to open and close the Minishop by clicking ShopOpenBtn.

```
Method:
[client only]
void OpenShop()
{
    local Shop = _EntityService:GetEntityByPath("/ui/DefaultGroup/MiniShop")
    local Item = Shop:GetChildByName("Item") 
    local Pass = Shop:GetChildByName("Pass") 
        
    if Shop.Enable == false then
    
        Shop:SetEnable(true)   
                      
    else
    
        Shop:SetEnable(false)
        
    end
}

Event Hander:
[self]
HandleButtonClickEvent(ButtonClickEvent event)
{
    -- Parameters
    local Entity = event.Entity
    --------------------------------------------------------
    self:OpenShop()
}
```

#### Creating a Product Acquisition Confirm Window UI

Let's create a UI that shows the number of potions and passes when a product is successfully purchased.

1. Go to **UI Editor - DefaultGroup - MyPotionInfo** to place an image entity.
2. Place the image and text entities down there and change the name as seen in the following image. ![info](https://mod-file.dn.nexoncdn.co.kr/bbs/166918924041307df0d08c4824221a462c16df2e2b840.png)

#### Importing Product Information to Purchase Window

1. Create a new **ItemSlot** script component and add it to the **Item, Pass UI Entities**.
2. Open the **ItemSlot** component script editor window and add a property.```
Property:
[None]
string ItemID = ""
[None]
Entity PurchaseBtn = nil
```
3. In World Shop Viewer, open the context menu of the product and select Copy ID. ![CopyID](https://mod-file.dn.nexoncdn.co.kr/bbs/16691907394815f8bdb41e2224869a012f97b5d142317.png)
4. Add the copied ID to the ID of the ItemSlot components of both the item and the pass. ![PropertyItemID](https://mod-file.dn.nexoncdn.co.kr/bbs/1669191109035f825047ab3a2458ab3e37daa4f3c6401.png)
5. Select **MyDesk - Create Script - Create EventType** to create a new **ShopOpenEvent**, which will allow you to update the information every time the purchase window is opened. ![ShopOpenEvent](https://mod-file.dn.nexoncdn.co.kr/bbs/166903451819499a0605245bf40c5ad0497ac93cacefb.png)
6. Write what you see below to display product information on the product purchase window with a click of the purchase button using `WorldShopService:PromptPurchase()` in the **ItemSlot** component.```
Method:  
[client only]
void PurchaseItem()
{
    _WorldShopService:PromptPurchase(self.ItemID)
}

[client only]
void OnBeginPlay()
{
    self.PurchaseBtn = self.Entity:GetChildByName("PurchaseBtn")
    self.PurchaseBtn:ConnectEvent("ButtonClickEvent", function(event) 
        self:PurchaseItem()
    end)
}
```
7. Add **ShopOpenEvent** to the Event Handler to enable receiving events with a click of the shop button. Click self, change it to entity, and choose the button entity. ![EventHandler](https://mod-file.dn.nexoncdn.co.kr/bbs/1668773199934df13c978c30e49b0989d36024f8a5ce4.png)```
Method:
[client only]
void RefreshShop()
{
    self._T.ItemName = nil
    self._T.ItemName =  self.Entity:GetChildByName("ItemName").TextComponent
    local SearchResult = _WorldShopService:GetProductAndWait(self.ItemID)
    self._T.ItemName.Text = SearchResult.Name
}

Event Handler:
[entity] ShopOpenBtn (/ui/DefaultGroup/ShopOpenBtn)
HandleShopOpenEvent(ShopOpenEvent event)
{
    -- Parameters
    --------------------------------------------------------
    self:RefreshShop()
}
```

#### Offering Products

Write what you see below in**MyShopLogic** to provide 100 potions when a successful purchase of a potion is made. Use `WorldShopService:SetProcessPurchaseCallback` to provide the product when a purchase is made for it. If the product is successfully offered, the return value should be true, and if not, false.

```
Method:
[server only]
void OnBeginPlay()
{
    _WorldShopService:SetProcessPurchaseCallback(self.ProcessPurchase)
}


[server only]
boolean ProcessPurchase(any purchaseInfo)
{
    local userEntity = _UserService:GetUserEntityByUserId(purchaseInfo.UserId)
     
    if _EntityService:IsValid(userEntity) == false then
        log_error("Invalid user! PurchaseId: " .. purchaseInfo.PurchaseId .. " / " ..
                    "UserId: " .. purchaseInfo.UserId .. " / " ..
                    "ProductId: " .. purchaseInfo.ProductId)
        return false   
    end
    
    if purchaseInfo.ProductId == "Enter ItemID" then     
        userEntity.PlayerReward:GetPotion(100)
    end
    if purchaseInfo.ProductId == "Enter PassID" then
    
        userEntity.PlayerReward:PassCheck()
    
    end
    
    return true
}
```

#### Reflecting Product Purchase to UI

Let's have a purchased product reflected to the owning user.

1. Create a new **PlayerReward** component and add it to **DefaultPlayer**.
2. Add a property as follows.```
Property:
[None] 
TextComponent PotionValue = /ui/DefaultGroup/MyPotionInfo/PotionValue     
[Sync]    
number Potion= 0    
[None]
TextComponent PotionValue = /ui/DefaultGroup/MyPotionInfo/PassValue        
[Sync]
boolean HasPass = false
```
3. Write what you see below to have 100 potions provided when a Potion Item is purchased.```
Method:
void GetPoint(number value)
{
    self.Potion = self.Potion + Value
}

[client only]
void OnSyncProperty(string name, any value)
{
    if self.Entity ~= _UserService.LocalPlayer then
        return
    end

    if name == "Potion" then
        self.PotionValue.Text = value
    end
}
```
4. Write what you see below to change the pass ownership UI when a Potion Pass is purchased. Enter the registered pass ID in Pass ID.```
[client]
void PassCheck()
{
    if self.Entity ~= _UserService.LocalPlayer then 
        return 
    end

    if _WorldShopService:UserHasPassAndWait(self.Entity.Name, "Pass ID") then 
        self.PassValue.Text = "O"
        self:PassUpdate(true)
    else
        self.PassValue.Text = "x"
        self:PassUpdate(false)
    end
}

[server only]
void OnBeginPlay()
{
    self:PassCheck()
}

[server]
void PassUpdate(boolean value)
{
    self.HasPass = value
}
```
5. Write what you see below to have 15 additional potions offered whenever the pass owner presses Attack.```
Event Handler:
{
    -- Parameters
    local ActionName = event.ActionName
    local PlayerEntity = event.PlayerEntity
    --------------------------------------------------------
    if self:IsServer() == false then 
        return 
    end 

    if self.HasPass == false then 
        return 
    end 

    if ActionName ~= "Attack" then 
        return 
    end 

    self:GetPotion(15)
}
```

> **Tip** Passes can be purchased only once, so you need to check in advance whether they are available for repurchase. If you press the purchase button of the pass you have already bought, a window appears to inform you that purchase is not allowed. ![AlreadyGotItem](https://mod-file.dn.nexoncdn.co.kr/bbs/16696875138032c157b741e5a484c82f5119bb21c8722.png)
> **Tip** Be sure to check that a pass can only be owned by the purchasing user before you release it. We recommend adding a user to the Maker before releasing the pass in the World and testing if the pass can only be owned by the purchaser.

##### Reference Guide

Users need to be notified before using paid probability-based content as per the Probability Disclosure guideline. Please refer to the [Probability Information Disclosure](/docs/?postId=667) when creating products.

- [Registering Products](/docs?postId=581)
- [Product Management](/docs?postId=658)

Update 2025-12-02 PM 03:52


# Create Avatar Product

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

In MapleStory Worlds, creators can sell avatar items that they have created. In this guide, you'll learn how to sell an avatar item that you have created. Before selling, please refer to the following guide if you'd like to know how to create and register an avatar item.

##### Reference Guide

- [Creating Avatar Items](/docs/?postId=582)

> **Learn More** Be sure to follow [MapleStory Worlds Operation Policy for the Creator_KSL](https://maplestoryworlds.nexon.com/legal/policy/699)when creating and selling items.

# Create Avatar Products

If you are to sell an avatar item, you need to create and register it first. See the guide [Registering Avatar Items](/docs/?postId=590) to register an item that you have created, and then take the following steps.

1. If you've finished registering the item, go to [MapleStory Worlds Official Website](https://maplestoryworlds.nexon.com/)and click the **[Create Avatar Product]** menu. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1675387038560a37afa6c891e47138b4ea932ce473e94.png)
2. After checking your registered item in the avatar item list, click the **[+ Register Product]** button. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1675387106201ba80f59171cc42b690af00f4198ddd0e.png)
3. In the Create Avatar Product page, set its name, price, sale period, and release state as a product. Entering product description is optional. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1675387497346953bec22511341cb972aedb0609bbdbf.png)
4. Agree to the terms and conditions for use, and then click the **[Register]** button.
5. When you complete payment for the registration fee, the product is registered in shops. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16753877668022d2a5ad178a24915a8f630ca2ba2a198.png) ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1675387952798e8e7bd7df0d04224b35e5fa4b1b5b5ff.png)
6. Check whether the product is successfully registered in the avatar product list. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/1675388530515c6268adc876c41a08e80bb5007824c45.png)
7. Check whether the product is also purchasable in clients.

# Modifying Avatar Products

You can edit avatar product information that you've already registered.

1. Click the **[Modify]** button of the desired product in the avatar product list. ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/1675388695316d1c667cc72764ccc81f05aa1c8c0f582.png)
2. Edit the product's price, sale period, release state, and description as you wish. When you finish editing the desired information, click the **[Modify]** button. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/16753888899231b6e07c481e343f7af6d851db693c6c4.png)

# Avatar Product Sale State

The sale state of an avatar product changes depending on the release state, payment for the registration fee, sale period, restriction, and so on. Sale states are categorized as follows.

| Sale Status | Description |
| :---: | --- |
| Unreleased | You've set the release state as 'Unreleased', and even if the product reaches its sale period, it will be invisible and unavailable for sale in the shop. <br>Products which players already own will not be visible. |
| Waiting for Payment | It is a step in which you need to pay for the registration fee to complete the product registration. |
| Waiting for Sale | The product's sale period has not begun. Once the sale period begins, the product will switch to On Sale. |
| On Sale | The product is purchasable and will remain so until the end of the sale period, if one has been set. |
| Sale Ended | The sale period has ended and the product is no longer purchasable in shops. |
| Restricted | The product is under restriction. <br>It is invisible in shops and cannot be sold to users. |

Even if sale of the product ends, players who have already purchased it can continue to own it.

Update 2025-11-17 PM 08:15


# Refunding World Coins

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

In MapleStory Worlds, creators can sell products they have created. But they may also receive refund claims for all sorts of reasons from users who purchased those products. MapleStory Worlds is planning to provide a product purchase-related log for the convenience of creators, but we are currently establishing a log inquiry system. Creators will need to record purchase information directly and add inquiry scripts until the system is completed.  This time, we will take a look at the **Methods for Recording / Querying Product Purchase Information in the World** and **Methods for giving refund to users** based on it.

# Refund Obligation for World Coins

In principle, World Coins should be refunded to a purchaser if the item being sold by the creator falls under any of the cases below.  **1. Less than 7 days have passed since the date of purchase, and the user has not used the paid product (contents, items, etc.) 2. In case the creator caused grave impact on the owned product (contents, items, etc.) by arbitrarily deleting or modifying the paid product (contents, items, etc.) 3. The actual product is different from the thumbnail or description of the paid product (contents, items, etc.) in the world**

> **Learn More** For details regarding World coin refunds, see [Creator Operating Policy](https://maplestoryworlds.nexon.com/legal/policy/699)**8. Please refer to the refund (returning coin) policy**.

For No. 3, this particularly applies to the case where only the user's World Coins are consumed and the actual item is not provided due to a creator's error. In such cases, you first need to confirm if the purchaser's refund claim is legitimate. This is because you need to decide whether to provide a refund after confirming that purchasers did not receive products even though they paid coins as intended. Now, let's take a look at how to query and record product purchase information.

# Recording Product Purchase Information

An example code of recording product purchase information follows.

```
-- Registering Callback function for the purchaser's product request
_WorldShopService:SetProcessPurchaseCallback(function(purchaseInfo)
    -- Record related information when handling of the purchase is completed.
    _LogStorageService:LogPurchaseInfo(purchaseInfo, "Item purchase completed")
end)
```

Set it so that the related information is recorded when the product purchase request occurs in the world.

# Recording Product Purchase Information

Let's take a look at the example code for querying recorded purchase information.

```
-- Query the recorded product purchase from November 25th to November 30th according to the universal time coordinated.
local fromDate = DateTime(2022, 11, 25)
local toDate = DateTime(2022, 11, 30)
_LogStorageService:GetPurchaseLogPagesAsync(fromDate, toDate, function(purchaseLogPages)  
    while true do
        -- Bring the list of the current page by GetCurrentPageDatas().
        local purchaseLogs = purchaseLogPages:GetCurrentPageDatas()
 
        for index, purchaseLog in ipairs(purchaseLogs) do
            -- Make rounds of pulled records and check their contents.
            -- You can enter any additional logics you want to record.
            log(purchaseLog)
        end
 
        -- You can check whether the current page is the last one with the IsLastPage property of PurchaseLogPages.
        if purchaseLogPages.IsLastPage == true then
            break
        end
 
        -- You can move to the next page by MoveToNextPageAndWait().
        purchaseLogPages:MoveToNextPageAndWait()
    end
end)
```

You can customize the purchase information query however you want. For example, you can make it a separate UI that is visible only to creators who logged in to the world that they created and released. Product purchase information inquiry cannot be tested in the Maker and can be checked after the world release. Switching to the public world is recommended after checking whether the inquiry works properly in the private world.

# Refund Method

Creators must provide a refund to purchasers when it is decided that the purchaser's refund claim is legitimate by confirming the purchase information following the procedure above.

1. [MapleStory Worlds Official Website](https://maplestoryworlds.nexon.com/) Open the purchase history page in my account after logging in. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16753920669483b019ac8f73845e08f79e16398454f96.png)
2. Click the **[World Coins History]** button in the purchase history page. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16753922605447272e649a5c84c558d4f7bf9accf598e.png)
3. Confirm the order number for refund in the World Coins Revenue History, and then click the **[Details]** button. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16856926730318b86b64d268949f586240986babea973.png)
4. Click the **[Refund]** button next to the profit sum in the order details information. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16856926978826649de57154c4988a74e2979dfb48d3a.png)
5. The refund will be processed when you click the **[Confirm]** button next to the confirmation popup window. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/16856927193795669e54139df4d62938aaf1418538ae4.png)
6. Go back to World Coins History and confirm that the refund has been processed. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1685692739637aedaabd2d40c4f9dbbab71e7f2b53177.png)

## Caution

- Creators can refund <span style="color: #dc9656">**World items and avatar items** for up to 30 days following the date of the purchase.
- Refund methods differ based on the user account that made the request. The types of accounts are classified as Korean/others based on which region the user signed up in.
  - **Refund requests from Korean accounts** must have the reasoning be verified as elligible. Following a review, a request can be approved or denied. Refund reasoning could be product mismatches, mistaken purchases, quality issues, simple change of heart, etc.
  - **Refund requests from other accounts** can have requests approved or denied for purchases made within 30 days of the request.

Update 2025-11-17 PM 08:15


# Revenue Cashout from MapleStory Worlds

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# About the Course

In MapleStory Worlds, you can generate revenue through the following methods: You can cash out the amount classified as revenue in cash if it meets the cashout conditions.

1. **Avatar Product Sale Revenue**
  - Users can purchase products registered in the Avatar Shop.
2. **World Product Sale Revenue**
  - Users can purchase world products, such as world items and passes, that are on sale within the world.

# Revenue Cashout Conditions

The conditions for revenue cashout from MapleStory Worlds are as follows:

| Item | content |
| --- | --- |
| Account Condition | An account that has been verified as belonging to a person over 18 years of age. |
| Minimum Requested Payment | <ul><li>100 USD</li><li>The amount is valid only if it has been converted from "To Be Paid (Pending Revenue)" to "Revenue".</li><li>You can cash out a minimum of 100 USD up to a maximum of 10,000 USD at once.</li><li>If you request revenue in each country's local currency instead of USD, your cashout may be declined, since Tipalti's internal policies may have different minimum transfer thresholds for each currency.</li></ul> |
| Cashout Request Period | <ul><li>You can request the cashout once a month regardless of the date.</li></ul> |
| Precautions for Cashout | <li>You can request a cashout once a month. You cannot cancel your request once it's complete.</li><li>We process all cashout requests for the month between the 15th and the 20th of the next month.</li><li>If there's a problem with the request information, such as the bank account, it may be rejected. **If your cashout is rejected, you cannot request it again during that month because you have used all the cashout requests.**</li><ul><li>Example) If your cashout request in February is rejected, you cannot request the cashout again in February. You have to wait until March to make another cashout request. Even if the cashout request in February is reviewed during March and it is ultimately rejected, the number of cashout requests will be determined by the request month, so you can still request the cashout during March.</li></ul><li>Creator cashout conditions and exchange rates are subject to change.</li><li>If you attempt a fraudulent cashout, such as account theft, you may be restricted from using them.</li><li>Creators must personally renew the Certificate of No U.S. Activities registered with Tipalti on an annual basis. You can also confirm this information prior to its expiration via the Tipalti notification email sent to the email address that the creator registered in the cashout information</li><ul><li>Example) Subject: Notice: Your Certificate of No U.S. Activities form will expire in 14 days!</li></ul><li>When you request a cashout via eCheck or Local Bank Transfer, you must ensure the bank code you enter is a valid code for the country.(*Be very careful not to enter the SWIFT CODE.)</li><ul><li>Examples) Republic of Korea – Bank of Korea: 001 / Industrial Bank of Korea: 002 / Corporate Bank of Korea: 003</li></ul><ul><li>United States of America – Bank of America: 026009593 / Wells Fargo: 121000248 / Citibank: 021000089</li></ul><ul><li>Great Britain - HSBC: 40-05-30 / Barclays: 20-00-00 / Lloyds Bank: 30-00-00</li></ul><ul><li>Singapore - DBS(Development Bank of Singapore): 7171 / OCBC(Oversea-Chinese Banking Corporation): 7339 / UOB(United Overseas Bank): 7375</li></ul><ul><li>Taiwan Region - Bank of Taiwan(臺灣銀行): 004 / Land Bank of Taiwan(臺灣土地銀行): 005 / Taiwan Cooperative Bank(合作金庫商業銀行): 006</li></ul>     *You must use the exact bank code assigned to the bank in that country.<br>     *You must use the numeric code assigned to your local bank.<br>If you enter incorrect information in the relevant section, your cashout may be rejected. Please contact the bank you wish to cashout from for more information and be sure to enter the correct information. |

# Request Cashout

You can make cashout requests on the official MapleStory Worlds website, and if you satisfy the cashout conditions, the **[Request Cashout]** button will activate on the Request Cashout page.

##### 1. Go to the official [MapleStory Worlds website](https://maplestoryworlds.nexon.com/), then log in to your MSW account.

##### 2. Click the Account icon (top right), then World Coin.

##### 3. Click the Revenue Details button to enter the Creator Cashout page.

![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1690188932699366dacc588794a2f99859f5475d1d488.png)

##### 4. Click the Cashout button if you want to cash out your revenue.

![2](https://mod-file.dn.nexoncdn.co.kr/bbs/16901885159097ebdea2af2f44c598ceb3d601a0259c4.png)

##### 5. Click the Request Cashout button if you meet the cashout conditions.

##### 6. Enter the cashout amount, review the terms and conditions, then click the Request Cashout button.

![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16903647441548d06164ead8241cbad5f178925f32e23.png)

| Name | Description |
| --- | --- |
| My Revenue | You can check the sales revenue deposited in your account. |
| Cashout Amount | <ul><li>Enter the amount you would like to cash out.<ul><li>You can enter your cashout in USD.</li><li>You can cash out a minimum of 100 USD up to a maximum of 10,000 USD per request.</li></ul></li></ul> |
| Request Cashout | <ul><li>Review the Creator Cashout Policy, then click the Request Cashout button.<ul><li>Start the next step and enter your account information for the cashout request.</li></ul></li></ul> |

##### 7. Enter all requested information required for the cashout.

Enter your account information, bank account information, and tax filing information. Please enter all required information in English.

**① Enter the payment-related personal information for your MSW account for your cashout request.** ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/169018889082290ef04d37b494033b612424537af437a.png)

- For a seamless cashout, it is crucial that you **enter the same information (email, etc.) as your MapleStory Worlds account**. If the account information is different from your MapleStory Worlds account, your cashout request may be rejected.
- Before you request a cashout, please ensure that your account information is entered correctly in the Account Management page. (Profile (top right) > Account Management)
- The payment information you request later may vary depending on what you have set as your country of residence.
- All required information should be entered in English. If you enter the required information in other languages, your request may be rejected at the final payment stage.

**② Enter your cashout bank account information. The cashout bank account must be the bank account of the account holder written in ①.**

- You can choose between ACH, international ACH, wire transfer, check, or PayPal.
  - Supported cashout methods may differ depending on your country of residence.
- You can choose between the currency of the set country and USD for the cashout.
  - Differences may occur in the selection of cashout currency for each payment method.
  - If you request a cashout in KRW, the general transfer fee may be different.
  - If you want to transfer in USD, you can only do so if you have a foreign exchange account.

**③ Enter your tax report information.**

- It's divided into U.S. and countries other than the U.S. You can request tax reporting by referring to the Tax Form Selection Guide.

**④ Your required information has been submitted! Your cashout request will be reviewed.**

- If it's been submitted normally, you will see the Request Complete message pop up on the official MapleStory Worlds website.

# Check the Cashout Request Information

After you make your cashout request, an eligibility review process is conducted for payment in MapleStory Worlds. Depending on the results of review process, you will receive a Payment Approved or Rejected message. You can check the cashout status and any reasons for rejected payment through the following paths:

## Methods to Check Your Cashout Request Status

**1. Go to the [official MapleStory Worlds website](https://maplestoryworlds.nexon.com/), then log into your MSW account.**  **2. Click the Account icon (top right), then World Coin.**  **3. Click the View Cashout History button to enter the Creator Cashout page.**  ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/169018876552308ef29253de940e79927b41b5fde1a40.png)

## Required Checklist

**1. In View Cashout History, you can inquire about the approved details once the eligibility review is complete.** After you make your cashout request, it may be difficult to inquire about your request until the MapleStory Worlds cashout approval process is complete.

- Please check the revenue deduction through the Revenue Details Inquiry page.
- If your revenue is deducted with "cashout" on the request date, it means your cashout request has been processed.

**2. When your cashout request is complete, the revenue held in your account is immediately deducted. You can check the amount cashed out after the eligibility review and final payment approval.**

- We process all cashout requests for the month between the 15th and the 20th of the next month. It could be delayed depending on the internal review process.

# Cashout: Frequently Asked Questions (FAQ)

**1. Can I modify my request information after completing the cashout request?** After you have made your cashout request, it is not possible to modify or cancel your request information. If you need to cancel your cashout request (reject approval), please contact MapleStory Worlds Player Support. Your cashout request will be rejected, and additional cashout requests for the current month will not be accepted.  **2. Why does my cashout request keep getting rejected?** Common reasons for rejected requests include:

- If we find that you gained revenue in a way that does not comply with the MSW Operation Policy or Terms and Conditions of Use in your account.
- If you enter another person's name that does not match your account information, or if your bank account information is incorrect.
- If you entered cashout request information that does not match your MapleStory Worlds account (email, basic personal information, etc.).
- If you requested the cashout in a foreign currency (e.g. USD) and didn't enter a foreign exchange account.
  - If the cashout fails for this reason, the amount will be returned to you minus the transfer fee. For a detailed fee breakdown, please check with the bank you provided when you requested the cashout.
- Creators must personally renew the Certificate of No U.S. Activities registered with Tipalti on an annual basis. You can also confirm this information prior to its expiration via the Tipalti notification email sent to the email address that the creator registered in the cashout information.
  - Example) Subject: Notice: Your Certificate of No U.S. Activities form will expire in 14 days!
- If you enter an invalid bank code when you request a cashout:
  - When you request a cashout via eCheck or Local Bank Transfer, you must ensure the bank code you enter is a valid code for the country.(*Be very careful not to enter the SWIFT CODE.)
  - Examples) Republic of Korea – Bank of Korea: 001 / Industrial Bank of Korea: 002 / Corporate Bank of Korea: 003
  - United States of America – Bank of America: 026009593 / Wells Fargo: 121000248 / Citibank: 021000089
  - Great Britain - HSBC: 40-05-30 / Barclays: 20-00-00 / Lloyds Bank: 30-00-00
  - Singapore - DBS(Development Bank of Singapore): 7171 / OCBC(Oversea-Chinese Banking Corporation): 7339 / UOB(United Overseas Bank): 7375
  - Taiwan Region - Bank of Taiwan(臺灣銀行): 004 / Land Bank of Taiwan(臺灣土地銀行): 005 / Taiwan Cooperative Bank(合作金庫商業銀行): 006 *You must use the exact bank code assigned to the bank in that country. *You must use the numeric code assigned to your local bank. If you enter incorrect information in the relevant section, your cashout may be rejected. Please contact the bank you wish to cashout from for more information and be sure to enter the correct information.

**3. If my cashout request was rejected in the past, can I make an additional request?** MapleStory Worlds conducts a new review process for all cashout requests. Regardless of past reviews, your cashout requests may be approved if your eligibility is confirmed.  **4. Tell me more about Tipalti!** Tipalti is an external payment process that allows creators to seamlessly cash out their revenue from MapleStory Worlds. Remittances and other related services to creators may be subject to additional terms and conditions provided by Tipalti.  **5. I want to know more about the payment schedule for each payment method!** The payment schedule may differ depending on the selected payment methods (ACH, international ACH, wire transfer, check, PayPal) or the country of the cashout request. Estimated processing periods for each payment method are listed below:

| Payment Method | Processing Period |
| --- | --- |
| ACH | 3 to 5 Business Days |
| International ACH | 3 to 5 Business Days |
| Remittance | 1 to 5 Business Days |
| Check | 7 to 14 Business Days |
| PayPal | 2 to 3 Business Days |

**6. Are there fees for cashouts?** Cashout fees may apply to each payment method. Details on cashout fees can be found on the Request Cashout page. MapleStory Worlds does not charge any fees other than the sales fees deducted from product sales.  **7. What if I want to cash out my proceeds in the currency of my country of residence?** When you request a cashout, you can choose either the currency of the country of residence or USD. However, please keep the following in mind when requesting in each country's local currency instead of USD. *Please understand that MapleStory Worlds cannot provide help in these matters

- Currency selection may differ for each payment method.
- If you want to cash out in the currency of your country of residence, you may incur additional fees such as currency exchange fees.
- Your cashout may be declined, since Tipalti's internal policies may have different minimum transfer thresholds for each currency.
- Please see the Tipalti FAQ for more information.
- Additional fees incurred during the cashout process (exchange and cashout fees) are not included in the minimum transfer amount. To ensure smooth cashout, we ask that you request a cashout amount that takes into account the additional fees. (We recommend a fee of 100 USD or more.)

**8. Am I required to report taxes on cashout revenue?** Revenue generated by our creators in MapleStory Worlds may be subject to tax. MapleStory Worlds requires that you submit your tax form when requesting a cashout of your revenue.

- The amount of cashout request (revenue) is the amount after deducting the sales fees. After submitting the tax report, you must file individual tax reports and pay taxes under the laws of your country of residence. If your country of residence is the Republic of Korea, please note that you may be required to file a comprehensive income tax report in May every year. Company information for Toben Studio Inc. as required for reporting your taxes is as follows:

| Item | Description |
| --- | --- |
| Company Name | Toben Studio Inc. |
| Address | 2130 E Mariposa Ave, Box 866, El Segundo, CA 90245, United States of America |

**9. If you have a history of cashout requests, and the key information you enter when applying for a cashout is different than it was previously, you may experience account suspension and payment rejection.** If your cashout account is suspended, you may be required to submit supporting evidence to Tipalti when applying for a new cashout. Your account suspension will be lifted after the verification process is successfully completed.  **10. Resetting account authentication may also affect your MapleStory Worlds cashouts.**

- If you have a cashout request history in MapleStory Worlds, you will not be able to check your request history when you reset authentication.
- If you requested a cashout in MapleStory Worlds but reset authentication before the payment is complete, the payment may be rejected or denied.
- MapleStory Worlds cashout requests can only be made once a month per account regardless of whether or not you reset authentication.

**11. If you have any questions about cashout limits or the cashout process, please contact MapleStory Worlds Player Support.**

Update 2026-01-02 PM 05:41


# World Coin Calculation Ratio

# Course Introduction

In this course, we'll take a look at how world items and avatar items (meaning "creator-generated content", herein "CGC items") sold by a creator are converted into revenue. Upon selling CGC items in MapleStory Worlds, a certain amount will be paid out as the creator's revenue in accordance with a set calculation ratio. Please refer to the following for details about the calculation ratio.

# World Coin Calculation Ratio

MapleStory Worlds deducts 65% of CGC item sales and gives the remaining 35% to the creators in USD. Please refer to the graph below for details on the calculation ratio.

**Sales Charge (30%)** When selling CGC items, a sales charge of 30% is automatically deducted. The sales charge includes the transaction fees from each store such as Google or Apple, PG fees, and others. MapleStory Worlds does not charge any fees other than the sales fees deducted from product sales.

**Toben (35%)** When selling CGC items, 50% of the revenue from the sales fees deducted (70%) is paid to Toben Studio Inc. The fees are used for the server, DB, and solution maintenance as well as development to provide a better platform, R&D, marketing, or other such administrative and maintenance costs.

**Creators (35%)** When selling CGC items, 50% of the revenue from the sales fees deducted (70%) is paid to the creator. All CGC items have the same calculation ratio.

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/17442515197247b2fb4387ca34977ab75bf70e8a37cb6.png)

Update 2025-08-27 PM 07:53


# Understanding Localization

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

A localization process is a must if a creator wishes to ensure their world is enjoyed by users of multiple regions. `LocalizationService` helps to provide text or resources that match the user's app language settings. In this lesson, we will explore the concept of translation and how to use `LocalizationService`.

##### Reference Guide

[Localizing to Format](docs/?postId=968) [Automatic Translation]((docs/?postId=1072)) [LocalDataSet](docs?postId=1120)

##### API Reference

[LocalizationService](/apiReference/Services/LocalizationService)

# What is localization?

In the simplest sense, **localization** is basically **translating** a word or phrase that the user sees in the worlds. For example, a World may have been created in Korean, but when users who have set their client language to English enter that World, a word like **사과** will be automatically translated as **apple**. However, the difference between translating and localizing is supporting not only the basic meaning of the language, but also the cultural context and tone of the world's many elements.

Localization is the process of translating the language and various elements of a world appropriate to the desired language and culture. An example would be how different regions list their dates. In Korea, the order is **Year/Month/Day**, (01/31/2023). In America and Canada, the order is normally **Month/Day/Year** (01/31/2023). In others, the order can be **Day/Month/Year** (31/01/2023). The way numbers are written also differs in different regions. For example, people write the number **1234567.89** as **1,234,567.89** in South Korea, the United States, and Canada. They use a comma (,) as the thousands separator and a period (.) as the decimal point. However, in France, Germany, and Austria, they write it as **1.234.567,89**. They use a period (.) as the thousands separator and a comma (,) as the decimal point. Some regions even use spaces instead of thousands separators, such as **1 234 567.89**.

Therefore, considering the expectations of users from different cultures and regions, it is necessary to express dates or numbers in formats that correspond to those regions. As such, localization is not just a simple translation, but the entire process of adjusting content so that users connecting from each cultural area can use content without confusion or inconvenience.

## Localization of MapleStory Worlds

MapleStory Worlds is aiming for a long-term global one build. As such, it is possible for clients from different regions to be connected together on a single server. So MapleStory Worlds supports simultaneous translation into multiple languages from a single text. ![101](https://mod-file.dn.nexoncdn.co.kr/bbs/167479872265151ac9e8a10ee49638f070ced7e26e7b1.png)

However, the server should send the Localizing Key instead of directly sending the localized message itself. It communicates with the localizing key and outputs different data for each client language setting. Let's take a look at how to do actual localization in MapleStory Worlds with an example.

# Translate Text

You need to create a translation table to translate text according to the client language setting.

#### Create LocaleDataSet

Let's use LocaleDataSet to translate text in a simple way.

1. Add a text entity in the UI editor. ![islocal](https://mod-file.dn.nexoncdn.co.kr/bbs/1686728912583c7cafe2f6fa244b49e51195f776c6ed2.png) Modify the property in **TextComponent** for the new text entity as follows. | Component | Property | Value |
| :---: | :---: | :---: | | TextComponent | FontSize | 50 | | Text | UI_Hello | | IsLocalizationKey | True |
2. Create **LocaleDataSet** and enter the following. | ID | Key | Source | ko | en |
| :---: | :---: | :---: | :---: | :---: | | 1 | UI_Hello | Hello! | 안녕하세요! | Hello! |
3. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test with the client's language set to Korean.  You can see that **안녕하세요!** is displayed. ![hello1](https://mod-file.dn.nexoncdn.co.kr/bbs/1674808092988390b7fa2c4e648b28503ad01d9a744a5.png)
4. Change **File - Setting - Others - General - Language** to (English) in the navigation menu. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1727238891918e6796e5e12344992b411122ba49c8ebf.png)
5. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. **Hello!** is displayed.

```
![hello2](https://mod-file.dn.nexoncdn.co.kr/bbs/167480819908819eb8fb051a2483d878600f5f3fa548f.png "hello2")
```

## GetText Function

You can easily set the **TextComponent** text to be translated with **IsLocalizationKey**, but use the `GetText()` function when you need to translate other texts or control translation in a script. The `GetText()` function finds a row in the **Key** column of the translation table with the same value as the key received as argument and returns the text value from the same column as the client language code in that row.

Let's look at how to display text for each language setting of the client with a simple example. Let's place 2 NPCs on the map and display appropriate names according to the language settings.

1. Place 2 NPCs on the map. In this example, we have placed the two NPCs below. ![8](https://mod-file.dn.nexoncdn.co.kr/bbs/167410631018585e61a9abb2544af96dbb18c261313f3.png)
  - npc-931
  - npc-845
2. Modify the name of each NPC entity as shown below. | NPC | Entity Name |
| :---: | :---: | | ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1674097464492fb3054921620425a80664d1380f3f695.png) | Stan | | ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16740974755475f8d0c294b5a491f907eefb8acc7bad1.png) | Rina |
3. Create **LocaleDataSet** and enter as follows. | ID | Key | Source | ko | en |
| :---: | :---: | :---: | :---: | :---: | | 1 | UI_TEXT_NPC_Stan | Stan | 스탄 | Stan | | 2 | UI_TEXT_NPC_Rina | Rina | 리나 | Rina |
4. In the context menu of **Workspace - MyDesk**, click **Create Scripts - Create Logic** to add a new logic with the name **LocalizationTest**.
5. Add properties to **LocalizationTest** as follows.```
Property:
[None]
Entity Stan = /maps/map01/Stan
[None]
Entity Rina = /maps/map01/Rina
```
6. Add the `OnBeginPlay()` function and enter the following. Set the execution space to **client only**.```
[client only]
void OnBeginPlay()
{
    self.Stan.NameTagComponent.Name = _LocalizationService:GetText("UI_TEXT_NPC_Stan")
    self.Rina.NameTagComponent.Name = _LocalizationService:GetText("UI_TEXT_NPC_Rina")
}
```
7. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test with the client's language set to Korean. You can see that the NPC names appear as below. ![9](https://mod-file.dn.nexoncdn.co.kr/bbs/16741065097102ce4bfb23e3c453aaae7dc1b04f14365.png)  If you change the language settings to English, you can see that the NPC names appear in English as shown below. ![9en](https://mod-file.dn.nexoncdn.co.kr/bbs/1674106659362b89a441ef8b045ed811972bb1bdd84e7.png)

### Translator

The **LocalTranslator** property is in **LocalizationService**.

- The type of the **LocalTranslator** property is [**Translator**](/apiReference/Misc/Translator).
- **LocalTranslator** includes **LocaleId** (string type property).

The next two lines of code return the same value.

```
_LocalizationService:GetText("UI_TEXT_NPC_Stan")                   -- Stan
_LocalizationService.LocalTranslator:GetText("UI_TEXT_NPC_Stan")     -- Stan
```

**LocaleId** of **LocalTranslator** is the language code for the currently executing client. For example, if the language for the currently executing client is Korean, the **LocaleId** of **LocalTranslator** is **ko**. If you call a function such as `GetText()` directly without using **Translator** created separately in **LocalizationService**, the function is performed based on the **LocaleId** for **LocalTranslator**. If the current client language setting is Korean and you want to import an English translation, you can write the code as follows.

```
local enTranslator = _LocalizationService:GetTranslatorForLocale("en")
enTranslator:GetText("UI_TEXT_NPC_Stan") -- Stan
```

# Resource Localization

The resources as well as the text can be localized as needed.

Let's go through an example.

1. Press the [ ![image](https://mod-file.dn.nexoncdn.co.kr/storage/icons/UI/icon_image.png) ] image button to create an empty image and change its name to **SpriteTest** in the UI editor.
2. Generate a new script component, **SpriteLocalization**. Then, add the component to the **SpriteTest** image created above.
3. Open the **SpriteLocalization** script and add the property as follows.```
Property:
[None]
string ResourceKey = ""
```
4. Add the `OnInitialize()` function and write its content as follows. Set the execution space to **client only**.```
[client only]
void OnInitialize()
{
    self.Entity.SpriteGUIRendererComponent.ImageRUID = _LocalizationService:GetText(self.ResourceKey)
}
```
5. In the **SpriteTest** property editor, enter **RESOURCE_LOGO** to **SpriteLocalization - ResourceKey**.![14](https://mod-file.dn.nexoncdn.co.kr/bbs/1674184215431d6a44d479721419f9e694e289de686ce.png)
6. Open **LocaleDataSet** and add the following content.
  - **Key** : **RESOURCE_LOGO**
  - **Source** : **3110502e753742d39794e042c2657ce5**
  - **ko** : **7ae6a288ee884b75a44851c59b595789**
  - **en** : **3110502e753742d39794e042c2657ce5**
7. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. The Korean logo appears when the language setting is Korean, and the English logo appears when the language setting is English.![15](https://mod-file.dn.nexoncdn.co.kr/bbs/16741847984983e92b71d5e1f48d3b3469a98d7feb597.png)

Update 2025-12-02 PM 03:52


# LocaleDataSet

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

Let's learn about LocaleDataSet, which is necessary for translating the text of the World.

##### Reference Guide

[Understanding Localization](docs/?postId=951) [Localizing to Format](docs/?postId=968) [Automatic Translation](docs/?postId=1072)

# Introduce LocaleDataSet

LocaleDataSet is the dedicated DataSet for translation. LocaleDataSet has two types: **Default and WebSync**. You can create LocaleDataSet of **Default or WebSync** from **Workspace - MyDesk - Create LocaleDataSet**. ![LocaleDataSet](https://mod-file.dn.nexoncdn.co.kr/bbs/16983152847384b0c9b653fc74b3ea842f39a739ac243.png)

#### Default

This is the default LocaleDataSet. Key, Source, and Note columns area added as default, and the creator can add more columns to add translations and manage them. The Default type LocaleDataSet isn't linked with the official website's managed translations. You can add language codes by pressing the add column button and selecting from the list of languages. Duplicate language codes can't be added. Default LocaleDataSet is suitable for use when the amount of translations isn't large, so translations can be managed directly in Maker.

![default](https://mod-file.dn.nexoncdn.co.kr/bbs/16988269998795f9915d9c6c5478d8c93413d8b9bf3e7.png)

#### WebSync

WebSync LocaleDataSet is the LocaleDataSet that processes the contents translated by the translation management on the official website. You can check it by linking it to the LocaleDataSet Editor in Maker. It saves the last editing time and links with the translation management on the official website. WebSync LocaleDataSet can only edit the Key, Source, and Note columns, and you cannot add new columns in the Maker. If you synchronize the translation, an unmodifiable column is automatically added. WebSync LocaleDataSet is suitable to use when there are a lot of members producing worlds so the number of people accessing Maker needs to be managed, or when there's a large amount of translations.

![WebSync](https://mod-file.dn.nexoncdn.co.kr/bbs/169837602461617090b6ba590446daa40528e6ab4150c.png)

# LocaleDataSet Editor

![[object Object]](https://mod-file.dn.nexoncdn.co.kr/bbs/custom/1120/Doc_1120_2_ko.png)

| Numbers | Description |
| --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | **Column Cell**<br>Defines the data name of each row, i.e. the column name. The default fixed column cells cannot be deleted.<br><ul><li>**Key**: The identifier key. You can't use duplicated keys.</li><li>**Source**: Source language, source content</li><li>**Note**: Enter the additional information you want to provide to the translator. You can find this information from the translation management on the official website.</li></ul> |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | **Cell**<br>Each set is an input text field. Insert the data value suitable for the definition of each row. The inserted data values are all saved as strings. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | **Add Row Button**<br>Add a new row at the end of the row by pressing the button. |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | **Add Column Button**<br>Add a new column at the end of the column by pressing the button. If the LocaleDataSet is set to Default, you can add language codes to add translation. It is unavailable if it's WebSync. |
| ![5](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_05.jpg) | **Sync button**<br> Synchronizes the translated content from the official website's translation management system. Pressing the Sync button to link adds a column to Editor. The added column can't be done in Maker.<br> **Loading data from web**<br>Can load Google SpreadSheet's data.<br>After writing data in Google SpreadSheet, input the URL of this data to overwrite the currently open data with the Google SpreadSheet data. However, only URLs published on the web can be used for Google Spreadsheet. <br>When using the Import function, the header row must be filled in the order Key, Source, Note to match the LocaleDataSet format. All other data is imported as deleted.<br>![NO_05_1](https://mod-file.dn.nexoncdn.co.kr/bbs/16577012857253f3f35d4a11f4cfbb9faaa60264c18b9.png)<br>**Import CSV Files**<br>You can load CSV file saved on your computer and replace the current data. You can only use CSV file saved with utf-8 format.<br>When using the Import function, the header row must be filled in Key, Source, Note order to match the LocaleDataSet format. All other data is imported as deleted.<br>**Export CSV Files**<br>Export Maker's LocaleDataSet as a CSV file to save it to your computer. |

# Manage Translation

The WebSync-type LocaleDataSet created by the Maker can be translated on the official website. You can also link the contents translated by the translation management to the LocaleDataSet editor in the Maker. Translation management is available at **Official website - Create Worlds - Creator's Created Worlds - Translation Management - World Contents**. MapleStory Worlds currently supports Korean and English translations only.

![WebLocalizing](https://mod-file.dn.nexoncdn.co.kr/bbs/172724402417118aff0d5161145cd98d8e0a6feaeeae7.png)

| Numbers | Description |
| --- | --- |
| ![1](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_01.jpg) | **World Content** <br>List of LocaleDataSet created by Maker. |
| ![2](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_02.jpg) | **Sync UP**<br>You can update the information of LocaleDataSet created by the Maker by pressing the button. |
| ![3](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_03.jpg) | **Search Bar**<br> You can search for translations by Key, Source, and Note. |
| ![4](https://mod-file.dn.nexoncdn.co.kr/storage/numbers/NO_04.jpg) | **Translation**<br> You can view and translate the Key, Source, and Note information together. You can save a translation by pressing the **[Save]** button. To link the translation to the Maker, you need to press the **[Sync]** button in the Maker. |

Update 2025-12-02 PM 03:52


# Localizing Formats

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

When localizing, the text to be translated may contain mutable strings. Let's find out what functions you can use in this case and see how to use them through examples. Before proceeding with this course, it is helpful to refer to the [Understanding Localization](/docs?postId=951) guide.

# Convert to Format

When localizing, the text to be translated may contain mutable strings depending on the World's environment. For example, rather than simply translating **"리나"** to **"Rina"** in English, let's think about translating the sentence (format) of **"Hello, {0}!"**. Let's assume {0} blank can contain multiple NPC names, such as "리나 (Rina)", "스탄 (Stan)", "알렉스 (Alex)". While **"Hello, {0}!"** has a specific format, filling its blanks with appropriate words depending on the situation to output a string could be called **"Convert to Format"**.  A format has an (Argument hole). In the example sentence above, **{0}** is an **Argument hole**. ![arghole](https://mod-file.dn.nexoncdn.co.kr/bbs/167480440826756abe6fbe7164b5588aa34f246d61f4f.png) One string of the format may contain multiple **Argument holes**.  Use the `GetTextFormat()` or `SmartFormat()` function when converting to format. Let's take a closer look at how to use each function.

## GetTextFormat

The `GetTextFormat()` function receives **Key** from **LocalizationTable** as an argument. It finds the text corresponding to this **Key**, and if there is an additionally delivered format argument (format argument), fills it in according to the format, and returns the result.

For example, as shown below, 2 NPCs are standing, and when the player character meets (collides) with each NPC, let's output the sentence **"Hi, NPCName!"** in the orange text box. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1674106811875c0dbb4e97c5a4c7595813713f1ed11ce.png)

1. Place 2 NPCs on the map and modify the name of each NPC entity as below. | NPC | Entity Name |
| :---: | :---: | | ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1674097464492fb3054921620425a80664d1380f3f695.png) | Stan | | ![7](https://mod-file.dn.nexoncdn.co.kr/bbs/16740974755475f8d0c294b5a491f907eefb8acc7bad1.png) | Rina |
2. Add **TriggerComponent** to **NPC Stan** and **Rina**.
3. Add the text entity to **ui - DefaultGroup** in the UI Editor and rename it **TextBox**. Then set each property as below. | Property | Value |
| --- | --- | | ImageRUID | b9ab8455d5737bf4cb21433f00fdc19d | | Color | ![17](https://mod-file.dn.nexoncdn.co.kr/bbs/16752124711410bee46bc546d4bc68fd23e8476ca817e.png) |
4. Create **LocalizationTable** and enter as follows. | ID | Key | Source | ko | en |
| :---: | :---: | :---: | :---: | :---: | | 1 | UI_TEXT_NPC_Stan | Stan | 스탄 | Stan | | 2 | UI_TEXT_NPC_Rina | Rina | 리나 | Rina | | 3 | UI_TEXT_HELLO | Hello, {0}! | Hi, {0}! | Hello, {0}! |
5. Generate a new script component **LocalizationTest**. Then, add the **LocalizationTest** component to **Workspace - DefaultPlayer**.
6. Add properties to **LocalizationTest** as follows.```
Property:
[None]
Entity Stan = /maps/map01/Stan
[None]
Entity Rina = /maps/map01/Rina
```
7. Add the `OnBeginPlay()` function and compose its content as follows. Set the execution space to **client only**.```
[client only]
void OnBeginPlay()
{
    self.Stan.NameTagComponent.Name = _LocalizationService:GetText("UI_TEXT_NPC_Stan")
    self.Rina.NameTagComponent.Name = _LocalizationService:GetText("UI_TEXT_NPC_Rina")
}
```
8. Add **TriggerEnterEvent** to the event handler. Set the execution space to **client only**. Then write the content as below.```
[client only][self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    local npcName = TriggerBodyEntity.NameTagComponent.Name
    local translateText = _LocalizationService:GetTextFormat("UI_TEXT_HELLO", npcName)
    _EntityService:GetEntityByPath("/ui/DefaultGroup/TextBox").TextComponent.Text = translateText
}
```
9. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. Retrieves appropriate text according to the language setting of the client. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16741095688573170d1d86f0543609e51f38f2bce3942.gif) ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/1674109590083201ff51e11794e63b0343f945ff0e693.gif)

## SmartFormat

`GetText()` or `GetTextFormat()` needs the translation table. If you want to use only the format function of `GetTextFormat()` without using the translation table, use the `SmartFormat()` function. In `SmartFormat()`, instead of **Key** of **LocalizationTable**, the string to be output is directly received as an argument.  ![format](https://mod-file.dn.nexoncdn.co.kr/bbs/16750583548154a12eeaac0d048d39e1820ca865996a3.png)  If you implement the above example using `SmartFormat()`, it will look like the following.

```
[client only][self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    local npcName = TriggerBodyEntity.NameTagComponent.Name
    local translateText = _LocalizationService:SmartFormat("안녕, {0}!", npcName)
    _EntityService:GetEntityByPath("/ui/DefaultGroup/TextBox").TextComponent.Text = translateText
}
```

However, with this setting, "안녕" will be output in Korean even when the client language setting is English (en). Modify the event handler as below to output according to each language setting.

```
[client only][self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    local npcName = TriggerBodyEntity.NameTagComponent.Name
    local localeId = _LocalizationService.CurrentLocaleId
    
    local translateTextKo = _LocalizationService:SmartFormat("Hello, {0}!", npcName)
    local translateTextEn = _LocalizationService:SmartFormat("Hello, {0}!", npcName)
    
    if localeId == "ko" then 
	_EntityService:GetEntityByPath("/ui/DefaultGroup/TextBox").TextComponent.Text = translateTextKo
    elseif localeId == "en" then
    	_EntityService:GetEntityByPath("/ui/DefaultGroup/TextBox").TextComponent.Text = translateTextEn
    end
}
```

# Utilizing Format

As seen above, **LocalizationService** provides two APIs to set the conversion formatting of text.

- **GetTextFormat(string key, any... args)**
- **SmartFormat(string format, any... args)**

The **Argument hole** included in the format can contain simple words, but can also contain characters converted according to certain rules. For example, Korean postposition or singular plural processing. The format of **Argument hole** is: ![10](https://mod-file.dn.nexoncdn.co.kr/bbs/167411584046890fd957c327e4425ae0066bd4307301b.png) Here, the contents in square brackets ([]) are optional elements. That is, you can simply put an index like {0}, but you can also set **formatterName** and **formatterArgument**. Using **formatter**, you can convert into natural sentences that fit the grammar of each linguistic cultural area.  You can use the two below as a **formatter**.

| formatterName | Function | Description |
| :---: | --- | --- |
| hpp | Korean postposition processing | It outputs one of the two formatterArguments depending on whether the last character of the string received as an argument contains a suffix or not. |
| plural or p | Singular, plural processing | <ul><li>It processes the plural of a noun or unit expression based on a number received as an argument (including a string consisting only of numbers).</li><li>The number of formatterArguments varies by language.</li><li>For more detailed rules, refer to [Link](https://unicode-org.github.io/cldr-staging/charts/latest/supplemental/language_plural_rules.html#jv).</li></ul> |

Let's take a closer look at how to use **formatter**.

## hpp: Korean Postposition Processing

In Korean, postpositions are parts of speech that add grammatical meaning by being attached to the end of a noun (noun, pronoun, numeral). Depending on whether there is a consonant as the noun's coda, the postposition attached to the back will be different. For example, in the sentence **"나는 [ ]을/를 만납니다."**, depending on the presence or absence of the last consonant of the word to enter the blank [ ], **'을'** or **'를'** will be attached.

| Words to enter the argument hole | Postposition | Completed sentence |
| :---: | :---: | :---: |
| 스탄 | 을 | 나는 스탄을 만납니다. |
| 리나 | 를 | 나는 리나를 만납니다. |

**hpp** is what allows you to process this. The basic format is shown below. ![13](https://mod-file.dn.nexoncdn.co.kr/bbs/1674181700829ead15381640f44de9a63d997522d22d0.png)

| Standard | Postposition |
| --- | --- |
| When there is a final word in the preceding noun | it will be 은, 이, 을, 과, 아, 이여, 이랑, 으로 |
| When there is no final word in the preceding noun | it will be 는, 가, 를, 와, 야, 여, 랑, 로 |

Let's see how to use hpp through an example.

1. Open **LocalizationTable** and modify row 3 as shown below. | ID | Key | Source | ko | en |
| :---: | --- | --- | --- | --- | | 3 | UI_TEXT_HELLO | I meet {0}. | 나는 {0}{0:hpp:을\|를} 만납니다. | I meet {0}. |
2. Modify the event handler as below.```
[client only][self]
HandleTriggerEnterEvent(TriggerEnterEvent event)
{
    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity
    --------------------------------------------------------
    local npcName = TriggerBodyEntity.NameTagComponent.Name
    local translateText = _LocalizationService:GetTextFormat("UI_TEXT_HELLO",npcName)
    _EntityService:GetEntityByPath("/ui/DefaultGroup/TextBox").TextComponent.Text = translateText
}
```
3. Press the ![start](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tool/icon_play.png) **[Start]** button and run a test. Retrieves appropriate text according to the language setting of the client. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16741799873045e413c513a6a4640a91b930f3b1da366.gif) ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/16741799991931b62b30881134d439b8416dd3296fb7e.gif)

## plural: Singular, Plural Processing

Korean does not require singular or plural processing, but there are languages that require singular or plural processing. The basic format of **plural** to process this is as follows. ![11](https://mod-file.dn.nexoncdn.co.kr/bbs/167418048551082631b1ae8ec4e51b5e53e487bac5857.png)

For example, in English, 1 is treated as singular, but the rest are treated as plural. So you receive two **formatterArguments** in total. ![12](https://mod-file.dn.nexoncdn.co.kr/bbs/1674180498732cb6f503c59a940ab8340f688dd1470b6.png)

Let's use it as below.

```
_LocalizationService:SmartFormat("I have {0:plural:an apple|{} apples}.", 2) -- I have 2 apples.
```

As above, if you want to output the string received as an argument only in one **formatterArgument**, use empty braces {}.

> **Tip** **plural** can be shortened to **p**.

## Exception

If the format is not correct as in the following, the original text is output.

##### If formatterName is wrong

If spaces are included in **formatterName** or there are typos, the original text will be output as it is.

```
-- 1) Language setting English: In case formatter name includes spaces
log(_LocalizationService:SmartFormat("I have {0: plural:an apple|{} apples}.", 2))
```

![18](https://mod-file.dn.nexoncdn.co.kr/bbs/1675214317926babf748aa5a14e4db96a7f039a29cc3d.png)

```
-- 2) If the formatter name itself is incorrect (e.g. hpp is incorrectly written as hp)
log(_LocalizationService:SmartFormat("나는 {0}{0:hp:을|를} 만났다.", "스탄"))
```

![19](https://mod-file.dn.nexoncdn.co.kr/bbs/16752143336956dc58a0870ac444e9df8d70251208021.png)If you modify it as below, the properly converted string will be output according to the format.

```
log(_LocalizationService:SmartFormat("I have {0:plural:an apple|{} apples}.", 2))
```

![18a](https://mod-file.dn.nexoncdn.co.kr/bbs/1675214386354a550210300ea457d82d969f5ecb641a8.png)

```
log(_LocalizationService:SmartFormat("나는 {0}{0:hpp:을|를} 만났다.", "스탄"))
```

![19a](https://mod-file.dn.nexoncdn.co.kr/bbs/16752144025748615eeea77e545de9bb158996665c1ad.png)

##### If the number of formatterArgument entered is different from the number requested

In this case, depending on the situation, it may be output normally, or it may be output as it is because it fails to convert to fit the format. Please refer to the example below.

```
-- Language Setting Korean: Use plural
log(_LocalizationService:SmartFormat("아이템 {0:plural:한 |여러 }개를 획득했다.", 1))
-- Result: Original text output (because Korean plural receives only one formatter argument)
```

![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1675213948789797bb2bfe84142ce88c090892532edf1.png)

```
-- Language Setting English: When the number of formatter arguments is different from the required number
log(_LocalizationService:SmartFormat("I have {0:plural:one}.", 1))
-- Result: Original text output (because English plural receives only two formatter arguments)

-- Language Setting English: When the formatter argument is left blank
log(_LocalizationService:SmartFormat("I have {0:plural:|}.", 1))
-- Result: normal output (using an empty string as a formatter argument)
```

![22](https://mod-file.dn.nexoncdn.co.kr/bbs/167521385644376cb49230ea64165b8e61d50f95b8c01.png)

##### When not a pair of brackets {}

If the curly brackets are overlapped or the format is incorrect, the conversion will not work properly and the text will be output as it is.

##### If the number of formatArgument and the index of the argument hole do not match

In this case, depending on the situation, it may be output normally, or it may be output as it is because it fails to convert to fit the format. Please refer to the example below.

```
-- Language Setting English: The number of format arguments is greater than the maximum index of the argument hole +1
log(_LocalizationService:SmartFormat("I have {0:plural:an apple|{} apples} and {1:plural:a cherry|{} cherries}.", 2, 1, 1))
-- Result: normal output

-- Language Setting English: The number of format arguments is less than the maximum index of the argument hole
log(_LocalizationService:SmartFormat("I have {0:plural:an apple|{} apples} and {1:plural:a cherry|{} cherries}.", 2))
-- Result: Original Text Output

-- Language Setting English: Use by skipping the index of the format argument
log(_LocalizationService:SmartFormat("I have {1:plural:an apple|{} apples}.", 0, 1))
-- Result: Normal Output
```

![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1675214079174ce82f7da440c49c1a1208d193461cad1.png)

Update 2025-11-20 PM 02:03


# Translating World Information, Badges, and Products

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

If the creator provides translations for the created world's information, items, badges, and avatar item information, users from other regions will be able to better enjoy the world. The [Official Website](https://maplestoryworlds.nexon.com/)'s translation management menu can be used to directly input English and Korean translations. This guide will teach you how to apply translations to world information, products, badges, and avatar products.

# Translation Management

On the [MapleStory Worlds Official Website](https://maplestoryworlds.nexon.com/), go to the **[Create Worlds]** menu and select the World to translate. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1727251810074f4759dfcb7f24b8c8c0bdae71939414d.png)  Go to the **[Translation Management]** menu on the management page of the world to enter translations in Korean and English. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1727251897866fe38242e3e964f9492f29bf1b1969cf1.png)

## World Info Translation

You can translate world information, including the world name and description, on the Translation Management page. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1727251934169bb0652f85a644a37ab80106f136a29da.png)

1. In the World Info submenu, click on the text you want to translate.
2. Enter the translation by referring to the previous texts.
3. Click the **[Save]** button to save your translation.

## Translation of Shop Products

If you have a product registered in the world, you can translate the product's name, thumbnail, and description. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1727252000248cceb83ae3a2e41529441faca2da6df6c.png)

1. Select the shop products you want to translate.
2. Translate the product names.
3. Register the product thumbnails. This shows different thumbnails to Korean-speaking and English-speaking users.
4. Translate the product descriptions.
5. Click the **[Save]** button to save your translation.

> **Learn More** For questions about how to register a product, refer to the [**Registering Products**](/docs/?postId=581) Guide.

## Badge Translation

You can translate badge names, thumbnails, and descriptions. ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/17272520365971f8cdb63baa242c688ceba9f20bbec0a.png)

1. Select the badges you want to translate.
2. Translate the badge names.
3. Register the badge thumbnails. This shows different thumbnails to Korean-speaking and English-speaking users.
4. Translate the badge descriptions.
5. Click the **[Save]** button to save your translation.

> **Learn More** For questions about how to register a badge, refer to the [**Registering Badges**](/docs/?postId=656) Guide.

## Translation of Avatar Products

Avatar products can also be translated into different languages. ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/17272522203979ea08582d4a54ff291d6d151a2792cba.png)

1. Go to the **[Create Avatar Product]** menu.
2. Click the **[Go to Translation Management]** button.
3. Select the avatar products you want to translate.
4. Translate the product names. Avatar product names cannot be modified once registered, so choose the names carefully before saving them.
5. Translate the product descriptions.
6. Click the **[Save]** button to save your translation.

> **Learn More** For questions about how to create avatar products, refer to the [**Creating Avatar Products**](/docs/?postId=830) guide.

Update 2025-11-17 PM 08:15


# Automatic Translation

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

MapleStory Worlds provides an automatic translation feature for languages not supported by creators. This feature lessens the translation burden for creators and makes it easier for people of different languages to enjoy the Worlds. In this course, let's explore how the automatic translation feature works and how to configure it.

##### Reference Guide

[WorldConfig](/docs?postId=1101) [Understanding Localization](/docs/?postId=951) [Localizing to Fit Format](/docs/?postId=968)

##### API Reference

[TextComponent](/apiReference/Components/TextComponent) [TextInputComponent](/apiReference/Components/TextInputComponent) [TextRendererComponent](/apiReference/Components/TextRendererComponent) [ChatBalloonComponent](/apiReference/Components/ChatBalloonComponent)

# About Automatic Translation Concept

Automatic translation is a feature that uses machine translation to provide translations for languages that are not officially supported by the creator.

For example, imagine that a creator whose native language is English, but who is not a bilingual person, has created and released a World. This creator creates the World alone, so it would take too long to provide multilingual translations of every word and sentence used in the World. In this case, the creator can use the automatic translation. The creator releases a World after writing only the original text in their native language, the basis for automatic translation, and setting the supported language to English only.

If a player in this World who only uses Korean changes the World Language setting to Korean, that player can play the World in Korean. Among the languages that appear in the **Language (Auto Translation)** under the World Settings, select Korean, the source language to translate, to translate the World's language.

> **Learn More**- The settings information for the automatic translation option is stored on a per-device basis. - Please note that if the content to be translated exceeds 5,000 characters, it will not be translated.

# How to Set Automatic Translation

The creator must activate **AllowAutomaticTranslation** for the player to use the auto translation function from language settings. This property is located in `TextComponent`, `TextInputComponent`, `TextRendererComponent`, and `ChatBalloonComponent`. Let's look at how to set up the auto translation function using an example.

1. Activate **AllowAutomaticTranslation** from the `TextComponent`, `TextInputComponent`, `TextRendererComponent`, and `ChatBalloonComponent` for text entities that will be auto translated. ![AllowAutomaticTranslation](https://mod-file.dn.nexoncdn.co.kr/bbs/16983007897332bb3b13efdb14c27baa6ce77d2fd6f42.png)
2. When you release a World, set the original language set by the creator and the language that you provide translation to **Supported Languages**. Languages not set as supported languages at release will be automatically translated. In the released World, all entities with AllowAutomaticTranslation enabled will be translated automatically if the player sets the target language for automatic translation from the World Language.

![Realase](https://mod-file.dn.nexoncdn.co.kr/bbs/1727252833488d67e8db9410f4f89a1051628519188a2.png)

> **Tip** The original language chosen by the creator as the basis for the translation can be set in **Workspace - WorldConfig - SourceLanguage**. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1698826078961925a793678514dc0821fb980cf8072ee.png)
> **Learn More** When a creator creates a tempoary input in the world using a language not set as the SourceLanguage, the auto translation may not function. This is because the auto translation is processed assuming the language set as the SourceLanguage regardless of the written language.

# How Automatic Translation Works

Players who have accessed the released World can choose which language they want to play in from the World Language Settings window. Unsupported languages for that World will appear as targets for automatic translation in the World Language list. All entities with the **AllowAutomaticTranslation property** enabled will be translated automatically if the player sets the target language for automatic translation from the World Language.

![language](https://mod-file.dn.nexoncdn.co.kr/bbs/173977520738997b512c5efbc4fb1a2b32d77182fd8ce.png)

Update 2025-12-02 AM 10:55


# Setting Up Server-Only Entries

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.4&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

When a creator creates a world, there may be a function in DataSet or a script that the creator does not want to disclose to users who play the game due to security issues. Today, let's learn how to set DataSet or a function to server-only.

# The Need for Server-Only Entries

When creating a world, for example, it is safest to ensure that information such as coupon codes, important keys used in the game, damage formulas, or internal logic is processed only on the server. If such sensitive information exists on both the server and the client, it may be a security vulnerability because the client can also access the sensitive information. In this case, you need to solve the security issue by setting it so that the important DataSet or the implementation part of the functions in the script are not transferred to the client.

# Server-Only DataSet settings

If you check the ServerOnly checkbox in the DataSet's Property ![property](https://mod-file.dn.nexoncdn.co.kr/storage/icons/tab/icon_inspector.png), you can process it so that the DataSet content is not delivered to the client when the game world is played. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/1661169318239863cf967cd4a46d3b1467ddcf4659ddc.png) DataSet set to ServerOnly cannot be accessed by clients, so creators have to write scripts with this in mind. If some data from that DataSet is needed at a specific timing, it needs to be passed to the client, such as by execution control or synchronization.

# Setting the Execution Space of a Function

If the execution space of a function in the script is set to ServerOnly or Server, the implementation of that function is not passed to the client.

1. After clicking the function setting button, select the Execution Space Setting menu. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/1661216740609c9bbe61a337e4b62ba90e21ab21e65e2.png)
2. Set the execution space to Server or ServerOnly. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1727152502360be98b8648a034dcfb8a09a5a5855ba30.png) The implementation of the function set in this way is not passed to the client. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/166117015841552bb10e2fffd476b82770fe72c0a5787.png)

Update 2025-11-17 PM 08:15


# Test Servers

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.1&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Testing is essential to reliably updating the content of an already-released world. In order to detect and fix unexpected bugs in advance, creators can test various situations by opening a test server and distributing server keys to a limited number of people. Today, we will look at how to create, connect to, and close a test server.

# Creating a Test Server

Go to the detailed information page of a World released by creators. Press the [⋯] button to open the context menu and click the **[Open Test Server]** menu. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/168388306793000e3385abc3845c1bedfee355bc6139b.png)

You can enter the test server or copy the server key in the pop-up window that opens afterward. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1678952437542b433e6cb0b4642d29859720fd0e58da6.png)

# Connecting to a Test Server

Click **Join Test Server** to connect to the test server. ![3](https://mod-file.dn.nexoncdn.co.kr/bbs/16838831058084e2aff9938fc4bfa8420e5871b89ebc8.png)

Only those who have entered the server key in the Join Server window can connect to the test server. ![4](https://mod-file.dn.nexoncdn.co.kr/bbs/1678952466075b82cb5eadbf744b1818e6c99f67180aa.png)

# Closing a Test Server

After the test is over, creators can close the test server. There are two ways to close the test server.

- From the context menu on the World Details page
- From directly inside the test server

| World Details Page | Test server |
| :---: | :---: |
| ![5](https://mod-file.dn.nexoncdn.co.kr/bbs/1683883126287767cf3fed4234778ad1a85cc208d0030.png) | ![6](https://mod-file.dn.nexoncdn.co.kr/bbs/1678948554540846dd9f0284242a493994244bdc8131a.png) |

When the test server is closed, the server key is also destroyed.

Update 2025-11-17 PM 08:15


# Utilizing the Mobile Device Vibration Function

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.2&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=5m&amp;color=green)

# Course Introduction

Use the vibration function of mobile devices to give extra feedback to your players.

# MobileVibratorService

You can enable vibration on mobile devices by utilizing `MobileVibratorService`. This feature is still in testing and is only available on mobile devices, so it will not work normally when tested in the Maker.

# Example

Let's make it so that each time a button is pressed, a notification will pop up accompanied by a vibration.

![Example](https://mod-file.dn.nexoncdn.co.kr/bbs/16691656921273488fc31718d491dafd206dc89dd0996.gif)

1. Select **UI Editor - ui - DefaultGroup - Create Entity - Create Button** and place **UIButton_Vib**.
  - ImageRUID: e00ce931b027545449e68e06b0f0b411
2. Create the new **Vibrate** component and add it to **UIButton_Vib**.
3. Add ButtonClickEvent to **Vibrate** component and set it to **UIButton_vib** after changing to entity.```
Event Handler:
[entity] (/ui/DefaultGroup/UIButton_Vib)
HandleButtonClickEvent (ButtonClickEvent event)
{
    local Entity = event.Entity
    --------------------------------------------------------
    if _MobileVibratorService:IsHWSupported() then
    	_MobileVibratorService:Vibrate()
    	_UIToast:ShowMessage("Vibration On")
    end
}
```
4. Create a private World and test the vibration on your mobile device.

> **Learn more** Toast UI is editable in the UI Editor - ToastGroup.

Update 2025-11-17 PM 08:15


# Using the Gravity Sensor of Mobile Devices

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

You can check whether it supports the gyroscope sensor function in mobile devices and measure values by utilizing `MobileGyroscopeService`.

# MobileGyroscopeService

By using `MobileGyroscopeService`, you can learn where and how much force the device received when it moved with measurement of gravity, acceleration of gravity, and rotary acceleration of mobile devices. For example, you can use this service to measure how much the cellphone moved upward when you toss it up.

`MobileGyroScopeService` can be tested only on mobile devices. Check whether a device supports gyroscope sensor. If it does not, you'll need a guide.

```
void GyroscopeCheck (boolean onoff)
{
    if _MobileGyroscopeService:IsHWSupported() then
    	if _MobileGyroscopeService:IsEnabled() then
    		_MobileGyroscopeService:StopAndWait()
    	else
    		_MobileGyroscopeService:StartAndWait()	
    	end
    else
    	_UIToast:ShowMessage("Failed to start gyroscope")
    end
}
```

# Usage example

Let's make the ball move in the direction force is applied when a mobile device is tilted in a certain direction. ![GyroExample](https://mod-file.dn.nexoncdn.co.kr/bbs/1669112286682bf20fdee201444148bdcf22b3e9c2a8c.gif)

#### Making a Wall

1. Select **Switch to RecTileMap** in the context menu from **Hierarchy - World - maps - map01**.
2. Add **PhysicsSimulatorComponent** to **Hierarchy - World - maps - map01**.
3. Generate a new **Wall** Entity, and add **TransformComponent, SpriteRendererComponent, and CustomeFootholdComponent**.
4. Enter a wall-shaped RUID to SpriteRendererComponent - SpriteRUID and create the foothold as long as the sprite with **CustomFootholdComponent**.
  - SpriteRUID: 9b518d2cf3a549f4bdbbac8662fecd42
5. Add **PhysicsColliderComponent** and adjust the collision area to match the size of the sprite.
6. Add **PhysicsRigidbodyComponent** and set properties.
  - BodyType: Static
  - Friction: 0.5
  - Restitution 0.2
  - CollisionDetectionMode: Continuous
7. Create a rectangular enclosure by copying 3 created walls.

#### Making a Ball

1. Generate a new **TiltBall** Entity and add **TransformComponent and SpriteRendererComponent**.
2. Enter a ball-shaped RUID into SpriteRendererComponent - SpriteRUID.
  - SpriteRUID: 777ee92d25c84f839a12739590d149b6
3. Add **PhysicsColliderComponent** to TiltBall and adjust the collision area to match the sprite after setting **ColliderType** to **Circle**.
4. Add **PhysicsRigidbodyComponent** and set the property as follows.
  - BodyType: Dynamic
  - Mass: 1
  - Friction: 0.2
  - Restitution: 1
  - CollisionDetectionMode: Discrete
  - GravityScale: 1
  - SleepingMode: StartAwake

#### Making a Ball Move

1. Create a new **GyroscopeLogic**.
2. Add Property and specify TiltBall to BallEntityRef.```
Property:
[None]
EntityRef BallEntityRef = /maps/map01/TiltBall
[None]
number ForcePower = 100
```
3. Check whether a device supports gyroscope sensors and start value measurement by utilizing `MobileGyroscopeService:IsHWSupported()`.```
[client only]
void OnBeginPlay
{
    if _MobileGyroscopeService:IsHWSupported() then
    	local enabled = _MobileGyroscopeService:StartAndWait()
    	if enabled then
    		_UIToast:ShowMessage("Gyroscope Started!")
    	else
    		log_error("Failed to start gyroscope")
    	end
    end
}
```
4. Write as follows so that it moves according to the force the device received and its direction.```
void OnUpdate (number delta)
{
    if _MobileGyroscopeService:IsEnabled() then
    	local userAcceleration = _MobileGyroscopeService:GetUserAcceleration()
    	local userAccelDir = Vector2(userAcceleration.x, userAcceleration.y)
    	self:Tilt(userAccelDir)
    end
}

[server]
void Tilt (Vector2 direction)
{
    if direction.x > 0.2 or direction.y > 0.2 then
    	self.BallEntityRef.PhysicsRigidbodyComponent:ApplyForce(direction * self.ForcePower)	
    end
}
```
5. Release World, and check it on mobile.

##### Reference Guide

- [Making Footholds](/docs/?postId=71)
- [Utilization of RectTileMap](/docs/?postId=589)
- [Using Physics](/docs/?postId=757)

Update 2025-11-17 PM 08:15


# Using the Mobile Device Accelerometer

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=15m&amp;color=green)

# Course Introduction

You can check whether the acceleration sensor function in mobile devices is supported, and measure values by utilizing `MobileAccelerometerService`.

# MobileAccelerometerService

You can measure the slope of mobile devices by utilizing `MobileAccelerometerService`. MobileAccelerometerService is only supported for mobile devices with an accelerometer. Therefore, it is necessary to check whether the user who entered the World can play properly and provide a guide if the player's device is not compatible.

```
if _MobileAccelerometerService:IsHWSupported() then
    if _MobileAccelerometerService:IsEnabled() then
        _MobileAccelerometerService:Stop() 
    else
        _MobileAccelerometerService:Start()
    end
else
    _UIToast:ShowMessage("Failed to start Accelerometer")
end
```

# Example

Let's make a ball move in the direction the mobile device is tilted.

![AccExample](https://mod-file.dn.nexoncdn.co.kr/bbs/1669116956573f5e430d1d6b546baa73dab2a0ecd76f5.gif)

#### Making a Wall

1. Select **Switch to RecTileMap** in the context menu from **Hierarchy - World - maps - map01**.
2. Add **PhysicsSimulatorComponent** to **Hierarchy → World → maps → map01**.
3. Generate a new **Wall** entity and add **TransformComponent, SpriteRendererComponent, and CustomeFootholdComponent**.
4. Enter a wall-shaped RUID to SpriteRendererComponent → SpriteRUID and create the foothold as long as the sprite with **CustomFootholdComponent**.
  - SpriteRUID: 9b518d2cf3a549f4bdbbac8662fecd42
5. Add **PhysicsColliderComponent** and adjust the collision area to match the size of the sprite.
6. Add **PhysicsRigidbodyComponent** and set properties.
  - BodyType: Static
  - Friction: 0.2
  - Restitution 0.5
  - CollisionDetectionMode: Continuous
7. Create a rectangular enclosure by copying three created walls.

#### Making a Ball

1. Generate a new **TiltBall** entity and add **TransformComponent and SpriteRendererComponent**.
2. Enter a ball-shaped RUID into SpriteRendererComponent → SpriteRUID.
  - SpriteRUID: 777ee92d25c84f839a12739590d149b6
3. Add **PhysicsColliderComponent** to TiltBall and adjust the collision area to match the sprite after setting **ColliderType** to **Circle**.
4. Add **PhysicsRigidbodyComponent** and set the property as follows.
  - BodyType: Dynamic
  - Mass: 1
  - Friction: 0.2
  - Restitution: 1
  - CollisionDetectionMode: Discrete
  - GravityScale: 1
  - SleepingMode: StartAwake

#### Accelerometer

1. Create a new **AccelerometerLogic**.
2. Add Property and specify TiltBall to BallEntityRef.```
Property:
[None]
EntityRef BallEntityRef = /maps/map01/TiltBall
[None]
number ForcePower = 100
```
3. Start acceleration measurement after checking whether the device supports acceleration sensor by utilizing `MobileAccelerometerService:IsHWSupported()`.```
Method:
[clinet only]
void OnBeginPlay ()
{
    if _MobileAccelerometerService:IsHWSupported() then
    	_MobileAccelerometerService:Start()
    end
}
```
4. To measure the acceleration and move the ball using the device's tilt, write the following.```
void OnUpdate (number delta)
{
    if _MobileAccelerometerService:IsEnabled() then
    	local AccelerationDirection = _MobileAccelerometerService:GetLastAcceleration()
    	local direction = Vector2(AccelerationDirection.x, AccelerationDirection.y)
    	self:Tilt(direction)
    end
}

[server]
void Tilt (Vector2 direction)
{
    self.BallEntityRef.PhysicsRigidbodyComponent:ApplyForce(direction * self.ForcePower)
}
```

##### Reference Guide

- [Making Footholds](/docs/?postId=71)
- [Utilizing RectTileMap](/docs/?postId=589)
- [Using Physics](/docs/?postId=757)

Update 2025-11-17 PM 08:15


# Regular Expressions

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=20m&amp;color=green)

# Course Introduction

Regular expressions allow you to process text flexibly and efficiently. In addition to basic Lua string pattern matching, MapleStory Worlds supports regular expressions. The pattern-matching notation of regular expressions allows you to parse large amounts of text to perform the following things:

- Find specific character patterns
- Test the text effectiveness to see if it matches a predefined pattern
- Extract, edit, replace, and delete substrings

However, regular expressions can be complex, so it's better to use Lua string pattern matching for simple regular expression operations. For more complex operations, you can use the following reference guide to get started using regular expressions.

##### API Reference

[Regex](/apiReference/Misc/Regex)

##### Reference Guide

[Regular Expression Syntax](/docs/?postId=1043)

# Creator

You can use `Regex(String pattern)` to create a regular expression entity with a specific string pattern. For example, the following code will create a regular expression entity that finds "word".

```
-- A regular expression entity to find "word"
local regex = Regex("word")
```

When creating a regular expression entity, you can also use `RegexOption` to specify options. For example, you can set `RegexOption.IgnoreCase` as shown below to find a specified string pattern case without being case-sensitive.

```
-- Search for "word" without being case-sensitive
local regex = Regex("word", RegexOption.IgnoreCase)
```

# Property

You have a **boolean** type **IsRightToLeft** property. You can use this property to check for items that match the regular expression from right to left.

# Function

### IsMatch

`IsMatch(String origin)` checks whether an item matching a specified regular expression pattern exists in the origin string.

- Returns true if something matches the regular expression pattern.
- Returns false if nothing matches the regular expression pattern or if the regular expression fails due to a timeout.

```
-- Common
local pattern = "^[A-Z0-9]\\d{2}[A-Z0-9](-\\d{3}){2}[A-Z0-9]$"
local regex = Regex(pattern, RegexOption.IgnoreCase)
 
log(regex:IsMatch("1298-673-4192"))    --  true
log(regex:IsMatch("A08Z-931-468a"))    --  true
 
log(regex:IsMatch("_A90-123-129X"))    --  false
log(regex:IsMatch("12345-KKA-1230"))    --  false
log(regex:IsMatch("0919-2893-1256"))    --  false
```

`IsMatch(String origin, Int32 startIndex)` checks for any item that matches a specified regular expression pattern, starting at the startIndex(startIndex) of the origin string.

```
-- Specifying startIndex
local pattern = "[a-zA-Z0-9]\\d{2}[a-zA-Z0-9](-\\d{3}){2}[A-Za-z0-9]$"
local regex = Regex(pattern)

log(regex:IsMatch("Part Number: 1298-673-4192", 10))  -- true
log(regex:IsMatch("Part Number: 1298-673-4192", 15))  -- false
```

### Match

`Match(String origin)` searches for the first item in an origin string that matches a regular expression pattern.

```
local input = "One car red car blue car"
local pattern = "(\\w+)\\s+(car)"
     
local regex = Regex(pattern, RegexOption.IgnoreCase)
 
local match = regex:Match(input)
 
while match.Success do
    log(match.Text)
    match = match:NextMatch()
end
 
-- (Result)
-- One car
-- red car
-- blue car
```

`Match(String origin, Int32 startIndex)` searches for the first hit that matches a regular expression pattern, starting at the startIndex of the origin string. If the regular expression fails, returns nil.

```
-- Specifying startIndex
local origin = "123456789"
local pattern = "\\d"
 
local regex = Regex(pattern)
 
log(regex:Match(origin, 1).Text)      -- 1
log(regex:Match(origin, 3).Text)      -- 3
log(regex:Match(origin, 5).Text)      -- 5
```

`Match(String origin, Int32 startIndex, Int32 length)` searches for the first hit that matches a regular expression pattern within the specified length of the string, starting at the startIndex of the origin string. If the regular expression fails, returns nil.

```
-- Specifying startIndex and length
local origin = "123456789"
local pattern = "\\d+"
 
local regex = Regex(pattern)
 
log(regex:Match(origin, 1, 5).Text)   -- 12345
log(regex:Match(origin, 3, 3).Text)   -- 345
log(regex:Match(origin, 5, 1).Text)   -- 5
```

### Matches

`Matches(String origin)` searches for any hit in the origin string that matches a regular expression pattern.

```
local origin = "Who writes these notes and uses our paper?"
local pattern = "\\b\\w+es\\b"
 
local regex = Regex(pattern)
 
local matches = regex:Matches(origin)
 
log(#matches)     -- 3
 
for i, match in pairs(matches) do
    log(match.Text)
end
 
-- (Result)
-- writes
-- notes
-- uses
```

`Matches(String origin, Int32 startIndex)` searches for any hit that matches a regular expression pattern, starting at the startIndex of the origin string.

```
-- Specifying startIndex
local origin = "Who writes these notes and uses our paper?"
local pattern = "\\b\\w+es\\b"
 
local regex = Regex(pattern)
 
local firstMatch = regex:Match(origin)
 
local matches = regex:Matches(origin, firstMatch.Index + firstMatch.Length)
 
log(#matches)     -- 2
 
for i, match in pairs(matches) do
    log(match.Text)
end
 
-- (Result)
-- notes
-- uses
```

### Replace

`Replace(String origin, String replacement)` changes any hit in the origin string that matches a regular expression pattern with a replacement string.

```
-- Common
local origin = "This is   text with   far  too   much   white space."
local pattern = "\\s+"
 
local regex = Regex(pattern)
 
local result = regex:Replace(origin, " ")
 
log(result) -- "This is text with far too much white space."
```

`Replace(String origin, String replacement, Int32 count)` changes all hits in the origin string that match a regular expression pattern with the replacement strings, up to the specified number of times. If the regular expression fails, returns nil.

```
local origin = "This is   text with   far  too   much   white space."
local pattern = "\\s+"
  
local regex = Regex(pattern)
  
local result = regex:Replace(origin, " ", 4)
  
log(result) -- "This is text with far  too   much   white space."
```

`Replace(String origin, String replacement, Int32 count, Int32 startIndex)` changes all hits in the origin string that match a regular expression pattern with the replacement string up to the specified number of times, starting at the startIndex of the string origin. If the regular expression fails, returns nil.

```
-- Set the maximum number and starting position
local origin = "1 3 5 7 9 h e l l o w o r l d"
local pattern = "\\s+"
 
local regex = Regex(pattern)
 
local result = regex:Replace(origin, "", 4, 11)
 
log(result) -- "1 3 5 7 9 hello w o r l d"
```

### ReplaceByEvaluator

`ReplaceByEvaluator(String origin, function<RegexMatch>→string evaluator)` changes any hit that matches a regular expression pattern to the string returned by the evaluator. If the regular expression fails, returns nil.

```
local origin = "letter alphabetical missing lack release penchant slack acryllic laundry cease"
local pattern = "\\w+  "
 
local regex = Regex(pattern, RegexOption.IgnorePatternWhitespace)
 
---@param match RegexMatch
---@return string
local function evaluator(match)
    return match.Text.."("..tostring(match.Text:len())..")"
end
 
local result = regex:ReplaceByEvaluator(origin, evaluator)
 
log(result)   
-- "letter(6) alphabetical(12) missing(7) lack(4) release(7) penchant(8) slack(5) acryllic(8) laundry(7) cease(5)"
```

`ReplaceByEvaluator(String origin, function<RegexMatch>→string evaluator, Int32 count)` replaces all hits that match a regular expression pattern with strings returned by the evaluator, up to the specified number of times. If the regular expression fails, returns nil.

```
local origin = "letter alphabetical missing lack release penchant slack acryllic laundry cease"
local pattern = "\\w+  "
   
local regex = Regex(pattern, RegexOption.IgnorePatternWhitespace)
   
---@param match RegexMatch
---@return string
local function evaluator(match)
    return match.Text.."("..tostring(match.Text:len())..")"
end
   
local result = regex:ReplaceByEvaluator(origin, evaluator, 5)
   
log(result)  
-- "letter(6) alphabetical(12) missing(7) lack(4) release(7) penchant slack acryllic laundry cease"
```

`ReplaceByEvaluator(String origin, function<RegexMatch>→string evaluator, Int32 count, Int32 startIndex)` replaces all hits in the origin string that match a regular expression pattern with the strings returned by the evaluator, up to the specified number of times, starting at the startIndex of the origin string. If the regular expression fails, returns nil.

```
local origin = "letter alphabetical missing lack release penchant slack acryllic laundry cease"
local pattern = "\\w+  "
  
local regex = Regex(pattern, RegexOption.IgnorePatternWhitespace)
  
---@param match RegexMatch
---@return string
local function evaluator(match)
    return match.Text.."("..tostring(match.Text:len())..")"
end
  
local result = regex:ReplaceByEvaluator(origin, evaluator, 5, 21)
  
log(result)   
-- "letter alphabetical missing(7) lack(4) release(7) penchant(8) slack(5) acryllic laundry cease"
```

### Split

`Split(String origin)` splits the origin string based on the hits that match a regular expression pattern. If the regular expression fails, returns nil.

```
local origin = "plum-bear-pear"
local pattern = "-"
     
local regex = Regex(pattern)
     
local texts = regex:Split(origin)
 
log(#texts) -- 3
 
for i, text in pairs(texts) do
    log(text)
end
 
-- (Result)
-- plum
-- bear
-- pear
```

`Split(String origin, Int32 count)` splits the origin string on the hits that match a regular expression pattern, but only up to the specified maximum count of split strings. If the regular expression fails, returns nil.

```
-- Specifying count
local origin = "apple-apricot-plum-pear-banana"
local pattern = "-"
     
local regex = Regex(pattern)
     
local texts = regex:Split(origin, 4)
 
log(#texts) -- 4
 
for i, text in pairs(texts) do
    log(text)
end
 
-- (Result)
-- apple
-- apricot
-- plum
-- pear-banana
```

`Split(String origin, Int32 count, Int32 startIndex)` splits the origin string based on the hits that match a regular expression pattern, up to the specified maximum number of split strings, starting at the startIndex of the origin string. If the regular expression fails, returns nil.

```
local origin = "apple-apricot-plum-pear-banana"
local pattern = "-"
 
local regex = Regex(pattern)
 
local texts = regex:Split(origin, 4, 7)
 
log(#texts) -- 4
 
for i, text in pairs(texts) do
    log(text)
end
 
-- (Result)
-- apple-apricot
-- plum
-- pear
-- banana
```

# Regular Expression Option

You can use `RegexOption` to set options for regular expression operations.

| Option | Description |
| :---: | --- |
| IgnoreCase | Enables case-insensitive searching for matches. |
| IgnorePatternWhitespace | Ignores the whitespace without escape characters (backslashes) in the pattern. |
| RightToLeft | Changes the direction of the search. Enables searching from right to left, rather than left to right. |
| ExplicitCapture | Does not capture unnamed groups. Specifies that only explicitly named or numbered groups are valid captures. |
| Multiline | Enables the multiline mode. Changes the meaning of ^ and $ to match at the start and end of every line, not just the start and end of the entire string. |

| Singleline | Enables the single-line mode. Changes the meaning of the dot (.) to "match all characters", instead of all characters except the dot (.). |

Let's look at how to use each option with examples.

### IgnoreCase

Enables case-insensitive searching for matches.

```
-- Does not set IgnoreCase option
local pattern = "\\bthe\\w*\\b"
local input = "The man then told them about that event."
 
local noOptionRegex = Regex(pattern)
local matches = noOptionRegex:Matches(input)
log(#matches) -- 2
 
 
-- Sets IgnoreCase option
local optionRegex = Regex(pattern, RegexOption.IgnoreCase)
matches = optionRegex:Matches(input)
log(#matches) -- 3
```

### IgnorePatternWhitespace

Ignores the whitespace without escape characters (backslashes) in the pattern.

```
-- Does not set IgnorePatternWhitespace option
local pattern = "\\b \\(? ( (?>\\w+) ,?\\s? )+ [\\.!?] \\)? # Matches an entire sentence."
local input = "This is the first sentence. Is it the beginning of a literary masterpiece? I think not. Instead, it is a nonsensical paragraph."
 
local noOptionRegex = Regex(pattern)
local matches = noOptionRegex:Matches(input)
log(#matches) -- 0
 
-- Sets IgnorePatternWhitespace option
local optionRegex = Regex(pattern, RegexOption.IgnorePatternWhitespace)
matches = optionRegex:Matches(input)
log(#matches) -- 4
```

### RightToLeft

Changes the direction of the search. Enables searching from right to left, rather than left to right.

```
-- Does not set RightToLeft option 
local pattern = "\\bb\\w+\\s"
local input = "build11 band22 tab"
 
local noOptionRegex = Regex(pattern)
local matches = noOptionRegex:Matches(input)
 
log(noOptionRegex.IsRightToLeft)  -- false
 
for i, match in pairs(matches) do
    log(match.Text)
end
 
-- (Result)
-- build11
-- band22
 
-- Sets RightToLeft option 
local optionRegex = Regex(pattern, RegexOption.RightToLeft)
matches = optionRegex:Matches(input)
 
log(optionRegex.IsRightToLeft)    -- true
 
for i, match in pairs(matches) do
    log(match.Text)
end
 
-- (Result)
-- band22
-- build11
```

### ExplicitCapture

Uses parentheses to define the groups to be captured by default. This option allows you to name a group in the form of `(?<name>...`) when defining the group. When you use the `ExplicitCapture` option, unnamed groups will not be captured. This option captures only the groups that are numbered or explicitly named in the form of `(?<name>...)`.

```
-- Does not set ExplicitCapture option
local pattern = "^(?<first>\\d{3})-(\\d{4})-(\\d{4})-(\\d{4})-(\\d{4})-(\\d{4})-(\\d{4})-(?<last>\\d{3})$"
local input = "010-1111-2222-3333-4444-5555-6666-777"
 
local noOptionRegex = Regex(pattern)
local match = noOptionRegex:Match(input)
 
---@type table<any, RegexGroup>
local groups = match:GetGroups()
     
for j, group in pairs(groups) do
    log(group.Name)
end
 
-- (Result)
-- 1
-- 2
-- 3
-- 4
-- 5
-- 6
-- 7
-- first
-- last
 
 
-- Sets ExplicitCapture option
local optionRegex = Regex(pattern, RegexOption.ExplicitCapture)
match = optionRegex:Match(input)
---@type table<any, RegexGroup>
groups = match:GetGroups()
     
for j, group in pairs(groups) do
    log(group.Name)
end
 
-- (Result)
-- 1
-- first
-- last
```

### Multiline

Enables processing origin strings that are composed of multiple lines. Originally, `^` and `$` mean the start and end of the entire origin string. However, the `Multiline` option enables the `^` and `$` to match the start and end of each line, rather than the entire origin string. Each line is identified by a `\n` (line break).

```
-- Multiline option disabled
local pattern = "^(?<Name>\\w+)\\s(?<Number>\\d+)$"
local input = "Joe 164\nSam 208\nAllison 211\nGwen 171\n"
  
local noOptionRegex = Regex(pattern)
local matches = noOptionRegex:Matches(input)
  
log(#matches) -- 0
  
for i, match in pairs(matches) do
      
    ---@type table<any, RegexGroup>
    local groups = match:GetGroups()
      
    local nameCapture = groups["Name"]:GetCaptures()[1]
    local numberCapture = groups["Number"]:GetCaptures()[1]
     
    log("Name : "..nameCapture.Text..", Number : "..numberCapture.Text)
end
  
-- (Result)
-- (None)
 
-- Multiline option enabled
local optionRegex = Regex(pattern, RegexOption.Multiline)
matches = optionRegex:Matches(input)
  
log(#matches) -- 4
  
for i, match in pairs(matches) do
      
    ---@type table<any, RegexGroup>
    local groups = match:GetGroups()
      
    local nameCapture = groups["Name"]:GetCaptures()[1]
    local numberCapture = groups["Number"]:GetCaptures()[1]
     
    log("Name : "..nameCapture.Text..", Number : "..numberCapture.Text)
end
  
-- (Result)
-- Name : Joe, Number : 164
-- Name : Sam, Number : 208
-- Name : Allision, Number : 211
-- Name : Gwen, Number : 171  
```

### Singleline

Processes an entered string as if it is composed in a single line. By default, `Match()` ends when it meets `\n`, but with the `Singleline` option enabled, even if it meets `\n`, it continues.

```
-- Singleline option disabled 
local pattern = "^.+"
local input = "This is one line and\nthis is the second."
     
local noOptionRegex = Regex(pattern)
local match = noOptionRegex:Match(input)
 
log(match.Text)   -- "This is one line and"
 
 
-- Singleline option enabled 
local optionRegex = Regex(pattern, RegexOption.Singleline)
match = optionRegex:Match(input)
 
log(match.Text)   -- "This is one line and\nthis is the second."
```

### Applying Multiple Options

`RegexOption` allows you to apply multiple options at once.

```
local regex = Regex("line\\w+", RegexOption.Singleline | RegexOption.RightToLeft | RegexOption.IgnoreCase)
     
local matches = regex:Matches("lineFirst \n LineSecond \n LineLast")
     
for i, match in pairs(matches) do
    log(match.Text)
end
     
-- (Result)
-- LineLast
-- LineSecond
-- lineFirst
```

Update 2025-11-17 PM 08:15


# Regular Expression Syntax

![custom](https://img.shields.io/static/v1?label=Target&amp;message=Lv.3&amp;color=orange)![custom](https://img.shields.io/static/v1?label=Time&amp;message=10m&amp;color=green)

# Course Introduction

Regular expressions use patterns you input to match and find text. This course walks you through the specific categories of characters, operators, and delimiters you can use when defining a regular expression.

# Character Classes

Character classes match a character from a specific set.

| Character Classes | Desc | Patterns | Matches |
| --- | --- | --- | --- |
| `[`_character_group_`]` | Finds matches for every single character within _character_group_. By default, it is case-sensitive. | `[ae]` | `"a"` in `"gray"`; `"a"`, `"e"` in <br>`"lane"` |
| `[^`_character_group_`]` | Finds mismatches for every single character within _character_group_. By default, it is case-sensitive. | `[^aei]` | `"r"`, `"g"`, `"n"` in `"reign"` |
| `[`_first_`-`_last_`]` | Finds matches for every single character within the range from the _first_ to the _last_. | `[A-Z]` | `"A"`, `"B"` in `"AB123"` |
| `.` | `\nFinds matches for every single character except .`<br>To find the literal period character (or \u002E), you must precede it with an escape character (\.). | `a.e` | `"ave"` in `"nave"`<br>`"ate"` in `"water"` |
| `\\p{`_name_`}` | Finds matches for every single character in a named block, specified as a Unicode generic category or _name_. | `\\p{Lu}`<br>`\\p{IsCyrillic}` | `"C"`, `"L"` in `"City Lights"` <br>`"Д"`, `"Ж"` in `"ДЖem"` |
| `\\P{`_name_`}` | Finds mismatches for every single character in a named block, specified as a Unicode generic category or _name_. | `\\P{Lu}`<br>`\\P{IsCyrillic}` | `"i"`, `"t"`, `"y"` in `"City"` <br>`"e"`, `"m"` in `"ДЖem"` |
| `\\w` | Finds word characters. | `\\w` | `"I"`, `"D"`, `"A"`, `"1"`, and `"3"` in `"ID A1.3"` |
| `\\W` | Finds non-word characters. | `\\W` | `" "`, `"."` in `"ID A1.3"` |
| `\\s` | Finds whitespace characters. | `\\w\\s` | `"D "` in `"ID A1.3"` |
| `\\S` | Finds non-whitespace characters. | `\\s\\S` | `" _"` in `"int __ctr"` |
| `\\d` | Finds decimal numbers. | `\\d` | `"4"` in `"4 = IV"` |
| `\\D` | Matches a non-decimal character. | `\\D` | `" "`, `"="`, `" "`, `"I"`, and `"V"` in `"4 = IV"` |

# Character Escapes

Character Escapes mean that characters following the backslash character (\) in a regular expression should be interpreted as special characters or literals, as shown in the table below.

| Escaped characters | Desc | Patterns | Matches |
| --- | --- | --- | --- |
| `\t` | Finds tab character \u0009. | `(\\w+)\t` | `"item1\t"`, `"item2\t"` in `"item1\titem2\t"` |
| `\r` | Finds \u000D, the carriage return character. <br>(`\r` is different from `\n`, the newline character). | `\r\n(\\w+)` | `"\r\nThese"` in `"\r\nThese are\ntwo lines."` |
| `\v` | Finds vertical tab character \u000B. | `[\v]{2,}` | `"\v\v\v"` in `"\v\v\v"` |
| `\n` | Finds line break character \u000A. | `\r\n(\\w+)` | `"\r\nThese"` in `"\r\nThese are\ntwo lines."` |
| `\\`_Nnn_ | Specifies the characters using an octal expression. <br>(_nnn_ is configured with two or three digits). | `\\w\\040\\w` | `"a b"`, `"c d"` in `"a bc d"` |
| `\\x`_Nn_ | Specifies the characters using a hexadecimal expression. <br>(_nn_ is configured with two digits exactly.) | `\\w\\x20\\w` | `"a b"`, `"c d"` in `"a bc d"` |
| `\\u`_Nnnn_ | Finds the Unicode characters using their hexadecimal expression (_nnnn_, which is configured with exactly four digits). | `\\w\\u0020\\w` | `"a b"`, `"c d"` in `"a bc d"` |
| `\\` | Finds a character that is not recognized as an escaped character in this table or any other table in this topic, if found. For example, `\*` is the same as `\x2A`, and `\.` the same as `\x2E`. This allows the regular expression engine to distinguish between linguistic elements such as * or ? and character literals represented by `\*` or `\?`. | `\\d+[\\+-x\\*]\\d+` | `"2+2"` and `"3*9"` in `"(2+2) * 3*9"` |

# Anchors

Anchors or atomic zero-width assertions specify where to look for a match in the string. The anchors enable the regular expression engine to search for matches only at the specified locations, without passing through the string or using characters. For example, the `^` symbol allows it to search for the matches at the start of a line or string. `^http:` looks for "http:" only at the start of a line.

| Anchors | Desc | Patterns | Matches |
| --- | --- | --- | --- |
| `^` | Finds the matches at the start of a string. If multiline is enabled, looks for matches at the start of each line. | `^\\d{3}` | `"901"` in `"901-333-"` |
| `$` | Finds matches at the end of a string or before `\n` at the end of a string. If multiline is enabled, looks for matches at the end of the line or before `\n` at the end of a string. | `-\\d{3}$` | `"-333"` in `"-901-333"` |
| `\\A` | The matches must be only at the start of a string. (Not supporting multiple lines) | `\\A\\d{3}` | `"901"` in `"901-333-"` |
| `\\Z` | The matches must be at the end of a string or before the `\n` at the end of a string. | `-\\d{3}\\Z` | `"-333"` in `"-901-333"` |
| `\\z` | The matches must be only at the end of a string. | `-\\d{3}\\z` | `"-333"` in `"-901-333"` |
| `\\G` | Finds a match at the point where the previous match stops. If there is no previous match, it finds a new match at the position in the string where the new match starts. | `\\G\\(\\d\\)` | `"(1)"`, `"(3)"`, and`"(5)"` in `"(1)(3)(5)[7](9)"` |
| `\\b` | Finds matches on the boundary between a word character `\w` and a non-word character `\W`. | `\\b\\w+\\s\\w+\\b` | `"them theme"`, `"them them"` in `"them theme them them"` |
| `\\B` | Specifies that matches should not be found on the boundary between the characters. It performs the opposite operation with the `\\b` anchor. | `\\Bend\\w*\\b` | `"ends"`, `"ender"` in `"end sends endure lender"` |

# Grouping Constructs

Grouping constructs represent the subexpression of a regular expression and captures a substring of the origin string.

| Grouping Constructs | Desc | Patterns | Matches |
| --- | --- | --- | --- |
| `(`_subexpression_`)` | Captures a matching subexpression and assigns the ordinal numbers (starting with 2). | `(\\w)` | `"d"`, `"e"`, `"e"`, `"p"` of `"deep"` |
| `(?<`_name_`>`_subexpression_`)` or `(?'`_name_`'`_subexpression_`)` | Captures a matching subexpression into the named group. | `(?<double>\\w)\\k<double>` | `"ee"` in `"deep"` |
| `(?<`_name1_`-`_name2_`>`_subexpression_`)` or `(?'`_name1_`-`_name2_`'`_subexpression_`)` | Defines a balancing group. <br>In the format of the grouping construct, _name1_ is the current group (optional), _name2_ is a previously defined group, and _subexpression_ is any valid regular expression pattern. The definition of balancing group deletes the definition of _name2_ and saves the spacing between the _name1_ and the _name2_ in _name1_. | `(((?'Open'\\()[^\\(\\)]*)+((?'Close-Open'\\))[^\\(\\)]*)+)*(?(Open)(?!))$` | `"((1-3)*(3-1))"` <br>in `"3+2^((1-3)*(3-1))"` |
| `(?:`_subexpression_`)` | Defines a non-capturing group. | `Write(?:Line)?` | <br>`"WriteLine"` in `"Console.WriteLine()"` <br><br>`"Write"` in `"Console.Write(value)"` |
| `(?=`_subexpression_`)` | Looks for matching patterns <br>before the Positive Lookahead _subexpression_. | `\\b\\w+\\b(?=.+and.+)` | `"cats"`, `"dogs"` in `"cats, dogs <br>and some mice."` |
| `(?!`_subexpression_`)` | Looks for mismatched patterns <br>before the Negative Lookahead _subexpression_. | `\b\w+\b(?!.+and.+)` | `"and"`, `"some"`, `"mice"` in `"cats, dogs <br>and some mice."` |
| `(?<=`_subexpression_`)` | Looks for matching patterns <br>after the Positive Lookbehind _subexpression_. | `\\b\\w+\\b(?<=.+and.+)`<br>———————————<br>`\\b\\w+\\b(?<=.+and.*)` | `"some"`, `"mice"` in `"cats, dogs <br>and some mice."`<br>————————————<br>`"and"`, `"some"`, `"mice"` in `"cats, dogs <br>and some mice."` |
| `(?<!`_subexpression_`)` | Looks for mismatched patterns <br>after the Negative Lookbehind _subexpression_. | `\\b\\w+\\b(?<!.+and.+)`<br>———————————<br>`\\b\\w+\\b(?<!.+and.*)` | `"cats"`, `"dogs"`, `"and"` in `"cats, dogs <br>and some mice."`<br>————————————<br>`"cats"`, `"dogs"` in `"cats, dogs <br>and some mice."` |
| `(?>`_subexpression_`)` | Atomic group. | `(?>a\|ab)c` | `"ac"` in `"ac"` <br>Not found in `"abc"` |

# Quantifiers

Quantifiers specify the number of instances of characters, groups, or character classes to find in matches.

| Quantifiers | Desc | Patterns | Matches |
| --- | --- | --- | --- |
| `*` | Finds 0 or more transfer elements. | `a.*c` | `"abcbc"` in `"abcbc"` |
| `+` | Finds 1 or more transfer elements. | `be+` | `"bee"` in `"been"`, `"be"` in `"bent"` |
| `?` | Finds 0 or 1 transfer element. | `rai?` | `"rai"` in `"rain"` |
| `{`_N_`}` | Finds transfer elements exactly _n_ times. | `,\\d{3}` | `",043"` in `"1,043.6"`, <br>`",876"`, `",543"` and `",210"` in `"9,876,543,210"` |
| `{`_N_`,}` | Finds transfer elements at least _n_ times. | `\\d{2,}` | `"166"`, `"29"`, `"1930"` |
| `{`_N_`,`_M_`}` | Finds transfer elements at least _n_ times, but not more than _m_ times. | `\\d{3,5}` | `"166"`, `"17668"`<br>`"19302"` in `"193024"` |
| `*?` | Finds at least 0 or as few transfer elements as possible. | `a.*?c` | `"abc"` in `"abcbc"` |
| `+?` | Finds at least 1 or as few transfer elements as possible. | `be+?` | `"be"` in `"been"`, `"be"` in `"bent"` |
| `??` | Finds 0 or 1 transfer element, or as few as possible. | `rai??` | `"ra"` in `"rain"` |
| `{`_N_`}?` | Finds transfer elements exactly _n_ times. | `,\\d{3}?` | `",043"` in `"1,043.6"`, <br>`",876"`, `",543"` and `",210"` in `"9,876,543,210"` |
| `{`_N_`,}?` | Finds as few transfer elements as possible, at least _n_ times. | `\\d{2,}?` | `"166"`, `"29"`, `"1930"` |
| `{`_N_`,`_M_`}?` | Finds as few transfer elements as possible, at least _n_ to _m_ times. | `\\d{3,5}?` | `"166"`, `"17668"`<br>`"193"`, `"024"` in `"193024"` |

# Backreference Constructs

Backreference Constructs are useful for identifying repeated characters or substrings within a string.

| Backreference Constructs | Desc | Patterns | Matches |
| --- | --- | --- | --- |
| `\\k<`_name_`>` | Named backreference constructs. It finds the value of a named expression. | `(?<char>\\w)\\k<char>` | `"ee"` in `"seek"` |

# Alternation Constructs

Alternation Constructs modify the regular expressions to allow 'either/or' conditional matching.

| Alternation Constructs | Desc | Patterns | Matches |
| --- | --- | --- | --- |
| `\|` | Matches one element separated by a vertical bar (\|). | `th(e\|is\|at)` | `"the"`, `"this"` in `"this is the day."` |
| `(?(`_expression_`)`_Yes_`\|`_No_`)` or<br>`(?(`_expression_`)`_Yes_`)` | Matches _Yes_ if the regular expression pattern specified by the _expression_ is matched. Otherwise, it matches _No_ part. The _expression_ is interpreted as an assertion with zero width.<br>To avoid ambiguity with named or numbered capturing groups, if necessary, you can use explicit assertions as follows:<br>`(?( (?=`_expression_`) )`_Yes_`\|`_No_`)` | `(?(A)A\\d{2}\\b\|\\b\\d{3}\\b)` | `"A10"`, `"910"` <br>in `"A10 C103 910"` |
| `(?(`_name_`)`_Yes_`\|`_No_`)`or<br>`(?(`_name_`)`_Yes_`)` | Matches _Yes_ if there is a match for _name_ as a named or numbered capturing group. Otherwise, it matches _No_. | `(?<quoted>\")?(?(quoted).+?\"\|\\S+\\s)` | `"Dogs.jpg "`, `"\"Yiska playing.jpg\""` <br>in `"Dogs.jpg \"Yiska playing.jpg\""` |

# Substitutions

Substitutions interact with replacement patterns. They define **all or part of a substitute text for the matching text in the origin string**.

| Characters | Desc | Patterns | Replacement Pattern | Origin string | Result string |
| --- | --- | --- | --- | --- | --- |
| `${`_name_`}` | Substitutes the partial string that matches the named group. | `\\b(?<word1>\\w+)(\\s)(?<word2>\\w+)\\b` | `${word2} ${word1}` | `"one two"` | `"two one"` |
| `$$` | Substitutes "$" literal. | `\\b(\\d+)\\s?USD` | `$$$1` | `"103 USD"` | `"$103"` |
| `$&` | Substitutes a copy of the entire string that matches. | `\\$?\\d*\\.?\\d+` | `**$&**` | `"$1.30"` | `"**$1.30**"` |
| `$`` | Substitutes all the text in the origin string before the matching string. | `B+` | `$`` | `"AABBCC"` | `"AAAACC"` |
| `$'` | Substitutes all the text in the origin string after the matching string. | `B+` | `$'` | `"AABBCC"` | `"AACCCC"` |
| `$+` | Substitutes the last group captured. | `B+(C+)` | `$+` | `"AABBCCDD"` | `"AACCDD"` |
| `$_` | Substitutes the entire origin string. | `B+` | `$_` | `"AABBCC"` | `"AAAABBCCCC"` |

Update 2025-11-17 PM 08:15


# UI Group

The following are the UI groups that make up the Miner Simulator.

# HUDGroup

#### MineHUD

The HUD enabled when you enter the mine. This HUD contains the mine's field of view, exploration tools, depth, time spent, etc. ![MineHUD](https://mod-file.dn.nexoncdn.co.kr/bbs/169346279752076c5f4bc384b44568ae7c22d48b73ba3.png)

#### TownHUD

The HUD enabled when you enter the town. This HUD contains the Open Menu button and various menus. ![TownHUD](https://mod-file.dn.nexoncdn.co.kr/bbs/169346282676335d63efb228143d9b1ea4df2b3e37000.png)

#### HUD

This HUD is always enabled. ![HUD](https://mod-file.dn.nexoncdn.co.kr/bbs/169346285181385a664b04a7f40cd89c88401a8d93b6f.png)

# MineralExchangeGroup

#### MineralExchange

The Mineral Store UI. ![MineralExchange](https://mod-file.dn.nexoncdn.co.kr/bbs/16934629143267549d6f06eab41189d6d2642040898d0.png)

# EquipmentShopGroup

#### EquipmentShop

The Equipment Store UI. ![Equipment](https://mod-file.dn.nexoncdn.co.kr/bbs/16934648407879cbdd32c0e5e438fa34db33bb5635eb6.png)

# InventoryGroup

#### Inventory

The Inventory UI. ![Inventory](https://mod-file.dn.nexoncdn.co.kr/bbs/1693464954399481442df1149470c9e8bc34edce5e6d0.png)

#### EquipmentStorage

The Equipment Storage UI. ![EquipmentStorage](https://mod-file.dn.nexoncdn.co.kr/bbs/1693466011668d0e4a1d3a2bf4f2eb8ae060d7e112fe0.png)

# StatusGroup

#### Status

The UI to see the player's stats. ![StatusGroup](https://mod-file.dn.nexoncdn.co.kr/bbs/169346545486178a5814cd9334c368c703a18248f2bc1.png)

# MineResultGroup

#### GameResult

The UI on the Expedition Results screen that appears when you return to the town from the mine. ![MineResultGroup](https://mod-file.dn.nexoncdn.co.kr/bbs/1693466059842ea3bbd222e6544aea3aae8878f9035e3.png)

# MiningGameGroup

#### MiningGame

The mini-game UI that is enabled when a player interacts with a mineral vein in the mine. ![MiningGameGroup](https://mod-file.dn.nexoncdn.co.kr/bbs/1693466084729bdcb07ab3ae2430cab42cb4d1e4f09dc.png)

# PopupGroup

#### Popup_KeyBoxSuccess

The pop-up UI that appears when you mine a key chest in the mine. ![PopupGroup](https://mod-file.dn.nexoncdn.co.kr/bbs/16934661243436a642dca5a7d49519bfef4e1aa5a88f3.png)

# LoadingGroup

#### MineEnterance

The loading UI that is enabled when you enter the mine from the town. ![MineEnterance](https://mod-file.dn.nexoncdn.co.kr/bbs/1693466162088a41f941dce3a48a0af02856a284aae37.png)

#### Loading

The loading UI that is enabled when you enter the World for the first time, travel from town to town, and travel from mine to town. ![Loading](https://mod-file.dn.nexoncdn.co.kr/bbs/1693466147655f305b6077c894de79c8a50e89834cf81.png)

Update 2025-11-20 PM 02:03


# Tables

# CurrencyInfo

Dataset used to add a goods type. To add goods other than gold, add a row. Enter the Key value in the **Dest** column, and enter the translation result in the LocalizationTable.

| Name | Description |
| --- | --- |
| Name | The name of the goods. You must enter the **key** value. |
| RUID | The RUID of the image representing the goods. |
| Desc | Enter a description for the goods. Hover the mouse over the goods in your inventory to show this description. You must enter the **key** value. |

# EquipmentInfo

Dataset where you enter the equipment information. To add equipment level 5 or higher, add a row. Enter the **Key** value in the **Name, FlavorText** columns, and enter the translation result in the LocalizationTable.

| Name | Description |
| --- | --- |
| Cost | The price of the equipment. The same level of equipment costs the same price. You must enter only **number**. |
| Type1_Name | The name of the pickaxe. You must enter the **key** value. |
| Type1_RUID | Icon RUID of the pickaxe. Icon to display in the inventory or store. You must enter in the form of **Thumbnail://RUID**. |
| Type_Ability | The mining power of the pickaxe. You must enter only **number**. |
| Type1_FlavorText | The flavor text for the pickaxe. You must enter the **key** value. |
| Type2_Name | The name of the working clothes. You must enter the **key** value. |
| Type2_RUID | Icon RUID of the working clothes. Icon to display in the inventory or store. You must enter in the form of **Thumbnail://RUID**. |
| Type2_Ability | HP of the working clothes. You must enter only **number**. |
| Type2_FlavorText | The flavor text for the working clothes. You must enter the **key** value. |
| Type3_Name | The name of the bag. You must enter the **key** value. |
| Type3_RUID | Icon RUID of the bag. Icon to display in the inventory or store. You must enter in the form of **Thumbnail://RUID**. |
| Type3_Ability | The number of bags that can be stored. You must enter only **number**. |
| Type3_FlavorText | The flavor text for the bag. You must enter the **key** value. |
| Type4_Name | The name of the shoes. You must enter the **key** value. |
| Type4_RUID | Icon RUID of the shoes. Icon to display in the inventory or store. You must enter in the form of **Thumbnail://RUID**. |
| Type4_Ability | The MP value of the shoes. You must enter only **number**. |
| Type4_FlavorText | The flavor text of the shoes. You need to enter **key** value. |

# LocalizationTable

Table used in LocalizationTable. If you have a sentence that needs to be translated, add a row.

| Name | Description |
| --- | --- |
| Key | The key value. |
| Type | The categorization of the sentence. |
| Source | The place where the sentence is used. |
| ko | The result of Korean translation. |
| en | The result of English translation. |

# MapInfo

Table for map information. Add a row to add a new town, mine, etc. Enter the **Key** value in the **TownName, MineName** columns, and enter the translation result in the LocalizationTable.

| Name | Description |
| --- | --- |
| TownName | The name of the town. You must enter the **key** value. |
| MineName | The name of the mine. You must enter the **key** value. |
| RecPower_min1 | The minimum recommended mining power for Floor 1 of the mine. It is best to set the mining power required for a mine at 1/4 HP of the mineral vein. You must enter only **number**. |
| RecPower_max1 | The maximum recommended mining power for Floor 1 of the mine. It is best to set the maximum mining power for a mine at 1/4 HP of the next floor's mineral vein. You must enter only **number**. |
| RecPower_min2 | The minimum recommended mining power for Floor 2 of the mine. It is best to set the mining power required for a mine at 1/4 HP of the mineral vein. You must enter only **number**. |
| RecPower_max2 | The maximum recommended mining power for Floor 2 of the mine. It is best to set the maximum mining power for a mine at 1/4 HP of the next floor's mineral vein. You must enter only **number**. |
| RecPower_min3 | The minimum recommended mining power for Floor 3 of the mine. It is best to set the mining power required for a mine at 1/4 HP of the mineral vein. You must enter only **number**. |
| RecPower_max3 | The maximum recommended mining power for Floor 3 of the mine. It is best to set the maximum mining power for a mine at 1/4 HP of the next floor's mineral vein. You must enter only **number**. |
| HPUseRateInMine | The HP consumed in the mine per second. Regardless of the number of floors, a mine costs the same amount of HPs per second. |
| DefaultDepth1 | The depth of Floor 1 of the mine. The depth of a mine is measured by adding up all the floors of the mine. Therefore, the depth of the Floor 1 must always be **0**. |
| DefaultDepth2 | The depth of Floor 2 of the mine. Enter the last depth of Floor 1 and the next number. You must enter only **number**. |
| DefaultDepth3 | The depth of Floor 3 of the mine. Enter the last depth of Floor 2 and the next number. You must enter only **number**. |

# MineralInfo

A dataset of mineral information. Add a row to add a new mineral. Each row contains information about one mineral. The minerals you get as a base reward for mining are indices 1-3. Enter the Key value in the **Name, Type, Desc** columns, and enter the translation result in the LocalizationTable.

| Name | Description |
| --- | --- |
| Name | The name of the mineral. You must enter the **key** value. |
| RUID | Icon RUID of the mineral. |
| Cost | The price of the mineral when sold to a shop. You must enter only **number**. |
| Type | The type of the mineral. You must enter the **key** value. |
| Desc | The flavor text for the mineral. You must enter the **key** value. |

# ToolInfo

Dataset for the exploration tool information. You can edit the tool information by changing its content. Each row contains information about one exploration tool. Enter the Key value in the **Name, Desc** columns, and enter the translation result in the LocalizationTable.

| Name | Description |
| --- | --- |
| Name | The name of the exploration tool. You must enter the **key** value. |
| RUID | Icon RUID of the exploration tool. |
| Desc | The description of the exploration tool. You must enter the **key** value. |

# VeinInfo

Dataset containing the mineral vein information. The Miner Simulator Remake World has the mineral vein data up to Level 3. If you need a higher level of mineral vein, add a row and enter the data.

| Name | Description |
| --- | --- |
| Level | The level of the mineral vein. |
| HP | The max HP of the mineral vein. You must enter only **number**. |
| BonusGameChance | The chance of a bonus game appearing when mining the mineral vein. You must enter only **real number**. e.g. 0.1 |
| Bonus_JewerlyChance | The chance to receive a reward for winning the bonus game. You must enter only **real number**. |
| Bonus_FossilChance | The chance to receive a fossil reward for winning the bonus game. You must enter only **real number**. |
| Bonus_GoldChance | The chance to receive a gold reward for winning the bonus game. You must enter only **real number**. |
| Bonus_ChairChance | The chance to receive a chair reward for winning the bonus game. You must enter only **real number**. |
| Bonus_GoldAmount | The standard value of the amount of the gold reward for winning the bonus game. It is provided randomly within +- 20%, so you must enter only **number**. |
| KeyBoxHP | The max HP of the mineral vein, which is a key chest. You must enter only **number**. |

Update 2025-11-20 PM 02:03


# DefaultPlayerComponents

# ExtendPlayerControllerComponent

A component created by extending PlayerControllerComponent is used to implement the player's controls.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| - | boolean | IsDashCooltime | Checks whether it is in the dash cooldown state. If true, the dash is not possible. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| - | void | ActionDownJump | Function that prevents the down jump. |
| client | void | ActionDash | Function that makes the player dash. This function is called when LeftShift is received from KeyDownEventHandler. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | InputService | KeyDownEvent | Executes the ActionDash() function when the LeftShift is pressed. |

# PlayerData

Component that records, stores, and loads player data.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | boolean | IsLoadedData | Property that verifies that the data was loaded correctly. When saving the player's data in the SaveData() function, if the value of this property is false, it will not be saved. |
| None | SyncTable< number > | Currencies | Property that represents the amount of goods the player has. For example, if Currencies[1] = 500, the player has 500 gold. |
| None | SyncTable< number > | Items | The player's mineral quantity property. Mineral information can be found in the **MineralInfo dataset**. |
| None | SyncTable< number > | Equipments | The level information property of the equipment. When you purchase equipment, you must purchase it in order. |
| None | SyncTable< number > | EquipedEquipmentsIdx | The current equipment's index property. |
| Sync | number | TownAdmissions | Property that represents information about the town where the player is currently allowed to enter. If the value is 3, the player can enter up to Town 3. Default value is 1. This property is loaded as 1 when attempting to load data. |
| None | number | SaveRotTime | Property that stores data at intervals of the specified value. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | void | OnBeginPlay | Initializes properties on first access. Execute the LoadData() function to load data. |
| client | void | SyncTableClient | Executed when the value of **Table** changes on the server to synchronize the value with the client. |
| client | void | OnChangedTable | Function to call when SyncTableClient() is executed to use like OnSyncProperty(). It executes functions that are executed when properties are synchronized in the client. |
| server | void | LoadData | Function to import the player data stored in the DB. Called automatically when OnBeginPlay() is executed. |
| server | void | SaveData | Function to store the current player's data in the DB.<br><li>tryCount: If an error occurs while storing, it will automatically retry and increase the value by 1. If more than 5 attempts are made, the player will be kicked out of the World.</li> |
| server | void | SetAvatar | Applies the equipment that matches the index to the player's avatar. Avatar RUIDs are loaded from the **EquipmentInfo** dataset. |
| server | void | GetItems | When the player acquires a mineral, changes the property value to record the mineral's index and the quantity acquired. If the player gets more minerals than their bag capacity, adjusts the quantity. Calls self:PlayGetItemDirection when handling acquisition and displays the Item Acquisition UI. |
| server | void | RemoveAllItems | Function that changes the quantity of all minerals the player has to 0. It is called when selling minerals to the store. |
| server | void | GetCurrency | Function that records acquired goods.<ul><li>idx: Index of goods</li><li>amount: Acquired amount</li></ul> |
| server | void | GetTownAdmissions | Function that changes the value of the TownAdmissions property. Changes the value when the player smashes a key chest in the mine. |
| client | void | PlayGetItemDirection | UI effect that plays when the minerals or goods are acquired.<ul><li>idx: Index of minerals or goods acquired</li><li>amount: Amount</li><li>type: **item** in case of minerals, **currency** in case of goods</li></ul> |
| server | void | SellAllMinerals | Function executed when the **Sell All Minerals** is pressed in the Mineral Store. It deletes all minerals the player has and acquires gold equal to the value of the mineral. |
| client | void | SellAllMineralsOnClient | Function that plays a toast message on the client of the player who sold the mineral and refreshes the Mineral Store UI. Function executed by SellAllMinerals() which is executed on the server. |
| server | void | PurchaseEquipment | Function executed when an attempt is made to purchase equipment from the Equipment Store. It is executed on the server. If the equipment is unavailable for purchase, it returns and shows a warning message. <br>If the purchase succeeds, it changes self.Equipments[idx] = level and changes the self.Currencies[1] value by the price of the purchased equipment. The equipment purchase cost is retrieved from EquipmentInfo(). |
| client | void | PurchaseEquipmentOnClient | Function called by the PurchaseEquipment(). It will display a warning message if the purchase fails and play a purchase success effect if the purchase succeeds. |
| server | void | ChangeEquippedIdx | Function executed on the server when the player changes the equipped equipment in the Equipment Storage UI. It changes the EquippedEquipmentIdx property and executes the SetAvatar() function. |
| server only | void | OnEndPlay | Function that saves data when the player finishes the World. |
| server only | void | OnUpdate | If automatically saves data every 250 to 350 seconds. |
| client only | void | OnMapEnter | Sends yourself the MapEnterEvent based on the name of the map you accessed. Map name should be set according to the rules below.<ul><li>Mine: Mine0-0</li><li>Town: Town0</li></ul> |
| client only | void | OnSyncProperty | Function called when self.TownAdmissions is updated. |

# PlayerMineData

Component used by the player who enters the mine.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | SyncTable < number > | Tools | The quantity of tools the player has.<ul><li>Tools[1]: Quantity of ropes</li><li>Tools[2]: Quantity of trampolines</li><li>Tools[3]: Quantity of torches</li><li>Tools[4]: Quantity of potions</li></ul> |
| None | number | DefaultDepth | Value that is added to represent the depth of the mine. **1-1 Mine** starts at **0 m**. |
| None | number | Depth | Indicates the depth of the mine the player is currently in. |
| None | number | MaxDepth | Indicates the depth of the mine the player has reached. |
| None | number | Time | Indicates how long the player has been in the mine. |
| None | Entity | BlindEntity | Entity used by the Mining UI. |
| None | Entity | DepthEntity | Entity used by the Mining UI. |
| None | Entity | TimeEntity | Entity used by the Mining UI. |

#### Function

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Refreshes the HUD UI. |
| - | void | OnMapEnter | <ul><li>Client: If the player is in town, turns off the Mine HUD and removes the exploration tool quantity and all records. If the player is in the mine, turns on the Mine HUD and determines the default depth for the stage.</li><li>Server: Removes the torch entity in use.</li></ul> |
| client only | void | OnUpdate | **light** Adjusts the field of view proportional to the player's distance from the entity with a tag. Refreshes the information about the time spent in the mine and the depth reached based on the current location of the entity. |
| client | void | Die | Executed if the player is in the death condition from the mine. Terminates the mine play-related properties and prepares to finish the game.<br> Plays the ghost motion and finishes mining. Enables the game result screen and deletes all items acquired from the mine. |
| client | void | GetTools | Function executed when the player interacts with an exploration tool box in the mine. Acquires the exploration tool and refreshes the Exploration Tool UI. |
| client | void | UseTools | Function executed when the numbers 1 - 4 are pressed in the KeyDownHandler. |
| server | void | SpawnRope | Function called by the self:UseTool(). Spawns a rope.<br><li>ownerNickname: Nickname of the user who spawned the rope. It is indicated in the rope's NameTag as **ownerNickname's rope**.</li> |
| server | void | SpawnTrampoline | Function called by the self:UseTool(). Spawns a trampoline.<ul><li>ownerNickname: Nickname of the user who spawned the trampoline. It is indicated in the trampoline's NameTag as **ownerNickname's trampoline**.</li></ul> |
| server | void | SpawnTorch | Function called by the self:UseTools(). Spawns a torch and removes any existing torches. |
| client | void | UsePotion | Function called by the self:UseTools(). Uses potions and restores the player's HP. |
| client | void | SetMineFloorInfo | Function called by the OnMapEnter(). Refreshes the Mine HUD's floor and depth information for the map the player has entered and reflects this in the UI. |
| client | void | SetRecord | Function called by the OnUpdate(). Refreshes the depth of the mine and the time spent information of the mine the player has entered and reflects this in the UI. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | InputService | KeyDownEvent | Function to execute the UseTools() function when the numbers 1 - 4 are pressed. |

# PlayerStatus

Component that manages the player's stat information properties and functions.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| Sync | number | Power | Mining power. |
| Sync | number | HP | Current HP. |
| Sync | number | HPMax | Max HP. |
| Sync | number | MaxStorage | The maximum amount of minerals that can be stored. |
| Sync | number | MP | Current MP |
| Sync | number | MPMax | Max MP |
| Sync | number | HPUseAmount | The HP consumed in the mine per second. |
| Sync | number | HPRecoverRate | The rate of MP recovery per second. Default value is 1. |
| None | boolean | IsPlayingMine | Records whether the player is exploring in the mine. If false, the player is considered not exploring now. |
| None | Entity | WarningUI | The Warning UI. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnUpdate | Restores MP in real time. If the player is exploring in the mine, it drains HP. |
| client | void | UseMp | Function that consumes MP equal to the amount parameter. If the remaining MP is less than zero, it makes MP zero. |
| client | void | RecoverMP | Called by the OnUpdate. Recovers MP `0.2 * self.MPRecoverRate` per second. |
| client only | void | OnMapEnter | If the map the player has entered is a mine, enables the **Start Exploring** button on the loading screen. If the map the player has entered is a town, change HP, MP to HPMax, MPMax. |
| server | void | RefreshStatus | Function that refreshes stats based on the items the player has. |
| client | void | Hit | Function that reduces HP when hit by a trap. It consumes HP equal to `Damage` and pushes the player to (5,0) or (-5,0). |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | InputService | KeyDownEvent | When the player enters the mine and presses the `E` key while the Loading UI is on, finishes the loading and starts the exploration. |

Update 2025-11-20 PM 02:03


# InteractionObjectsComponents

# GuideKeyComponent

Enables the Guide UI when the player enters the range of an entity with this component.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | string | GuideText | The **Key** value of the text to appear in the Guide UI. You need to change the property attached to the entity. This property is automatically translated, so you should write it as a Key value. If necessary, add keys and data values to **LocalizationTable**. |
| None | Entity | GuideEntity | The Guide UI entity. It is specified automatically by the OnBeginPlay(). |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Specifies the self.GuideEntity. It puts the translation results into the Guide UI. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | self | InteractionEnterEvent | Enables the Guide UI when the player entity approaches an entity that contains this component. |
| client only | self | InteractionLeaveEvent | Enables the Guide UI when the player entity leaves the vicinity of an entity that contains this component. |
| client only | self | InteractionEvent | Disables the Guide UI when an interaction is started. |

# MiningTargetObject

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| Sync | number | Level | The level of the mineral vein or key chest. You need to change the value in the Property Editor window.<br><ul><li>Mineral Vein: Set the same as the number of the mine.</li><li>Key Chest: Set the same as the town number of the mine.</li><ul></ul></ul> |
| Sync | boolean | IskeyBox | Property that checks whether the entity is a key chest. The value is true if it is a key chest. It changes the property value directly to use. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Refreshes the name of NameTagComponent. It appears as **Lv.? Mineral Vein or Key Chest**. |
| server | void | GiveReward | Function that gives a reward for successful mining.<br>Finishes the function if normalSuccess is false, regardless of whether the bonus game was successful or not. If the mineral vein was mined, it will give a reward that matches the self.Level. If a key chest is mined, changes Playerdata.TownAdmissions to self.Level + 1.<ul><li>normalSuccess: The default success. If true, it is a success.</li><li>bonusSuccess: The success of the bonus game. If true, it is a success.</li><li>player: The player entity that will receive the reward.</li></ul> |
| client | void | SetKeyBoxResultUI | Function called by the self.GiveReward(). If the player acquired a key chest, enables the **Nth Town Unlocked** pop-up. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | self | InteractionEvent2 | Executes the mining game when an entity with this component interacts with the player entity. |
| - | InputService | KeyDownEvent | Press the Esc key to close the **Nth Town Unlocked** pop-up. |

# NPCInteractionComponent

Component that enables the UI by interacting with the NPC.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity | TargetUI | The UI entity to enable. You should change the property in the Property Editor window. |
| None | string | InteractionSoundRUID | The music source RUID to play when enabled. If there are no sounds to play, leave this blank. You should change the property in the Property Editor window. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | The overridden function. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | self | InteractionEvent2 | Enables UI when an entity with this component interacts with the player entity. |

# Portal_MineToMine

Component added to the portal from mine to mine.

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | The overridden function. Displays the name of the mine the player moved to and the recommended mining power. Loads the information from the MapInfo dataset. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | self | InteractionEvent2 | Executes the mine movement when an entity with this component interacts with the player entity. |

# Portal_MineToTown

Component added to the returning robot that moves from mine to town.

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | self | InteractionEvent2 | Executed when an entity with this component interacts with the player entity. Finishes the exploration and enables the End Exploration UI. |

# Portal_TownToMine

Component added to the portal from town to mine.

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | The overridden function. Displays the mine name and recommended mining power in the portal from town to mine. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | self | InteractionEvent2 | Executed when an entity with this component interacts with the player entity. Enables the Mine Loading UI and lets the player enter the mine. |

# Portal_TownToTown

Component added to the portal from town to town.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| Sync | number | DestinationTownIdx | Index of the destination town. You need to enter the value directly to the portal in the Property Editor window. |
| None | number | UseCooldown | The cooldown time before the portal can be used again. Returns if the UseCooldown7` value is 0 or more in the Interaction Event Handler of the Portal_TownToTown component. |

#### Function

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Displays the name of the destination town in the portal from town to town. Enables/disables child entities based on whether the player can move to the portal. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | self | InteractionEvent2 | Executed when an entity with this component interacts with the player entity. Moves the player to town if the player has permission to enter. Displays a Locked message if the player doesn't have permission to enter. |
| client only | localplayer | TownAdmissionUpdated | Executed when PlayerData.TownAdmission, the **LocalPlayer**'s town travel permission, is updated. If the player has permission to enter the town, the lock image in the portal will be disabled. |

# ToolBoxObject

Component attached to the exploration tool box inside the mine. When the player interacts with a tool box, the player acquires an exploration tool.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | number | reservatedTimerId | Property to prepare the situation where an exploration tool is acquired multiple times over a short period of time. Records the reserved **TimerId**. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | SetEnableToolBoxToastUI | Function that refreshes and enables the Acquisition Notification Pop-up UI that will be displayed when acquiring an exploration tool. Uses TimerService to close the Pop-up UI after 4.5 seconds and records the **id** in the self.reservatedTimerId. If there is already a recorded self.reservatedTimerId, removes the reservation. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | self | InteractionEnterEvent2 | Disables the Guide UI when the player entity approaches an exploration tool box. |
| client only | self | InteractionEnterLeaveEvent2 | Enables the Guide UI when the player entity moves away from an exploration tool box. |
| client only | self | InteractionEvent2 | Executed when the exploration tool box interacts with the player entity. Treats for the player to randomly acquire one of the exploration tools from 1 to 4. Disables the exploration tool box as well. |

# Tool_Trampoline

Component attached to the **Trampoline** among the exploration tools. When interacting, uses the trampoline to jump high in the Y-axis.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | number | Cooldown | The cooldown time before the trampoline can be used again. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnUpdate | Function that reduces the remaining cooldown time by delta. |
| client | void | UseTool | Function that applies the effect of using a trampoline. Makes the player jump towards the Y-axis. |

#### Entity Event Handler

| Execution Space Control | Event relayer | Name | Description |
| --- | --- | --- | --- |
| client only | self | InteractionEvent2 | Executed when the trampoline and the player entity interact. Calls the UseTool(). |

Update 2025-11-20 PM 02:03


# UI Components/Logics

# ItemToastMessage Logic

Logic that displays a toast message such as **Obtained ? items**. It is managed with SyncTable to use when the UI entities are placed. `{MessageTable, RUIDTable, TimeTable}` is a pair, and you must add the three as a pair when adding a new message. Also, new messages must be added to the front of the table.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | SyncTable < string > | MessageTable | The message to be displayed on the screen. |
| None | SyncTable < string > | RUIDTable | The item icon to be displayed on the screen. |
| None | SyncTable < number > | TimeTable | The time when the remaining messages are displayed. |
| None | SyncTable < Entity > | messageEntity | The entity to display the message for. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Initialize the property and find the entities to put in the **self.messageEntity** and put them in the table. |
| client only | void | OnUpdate | Manages item acquisition logs in real-time. It reflects the necessary message and RUID information in the UI. It sets the UI transparency based on the remaining time. |
| client | void | AddMessage | Add a new message. It is called by the PlayerData:PlayGetItemDirection() function.<ul><li>message: Contents to be entered.</li><li>ruid: RUID of the item or goods that will appear in the log.</li></ul> |

# UI_EquipmentShop

Component related to the Equipment Store UI.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | number | FilterIdx | Enables categorization of the equipment by type to display a list of products. |
| None | number | ShowingEquipmentLevel | Enables showing details of the product by tapping it. Displays the level of the equipment you're checking details for. Default value is 0. |
| None | boolean | IsPlayingDirection | Determines if the buying equipment effect is playing. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Function to disable the UI when the player enters the World. |
| client | void | RefreshUI | Function to refresh the amount of available goods, Filter button, and product list. It is executed when the player purchases a piece of equipment, reopens the Equipment Store after closing it, or presses the Type button. |
| client | void | ShowDetailPopup | Function to execute when the player presses one of the product lists. It refreshes and enables the details pop-up. It compares the price with amount of goods and enables the button if it is available to purchase. |
| client | void | PlayPurchaseDirection | Function to play the equipment purchase completion sound. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | InputService | KeyDownEvent | Close the UI by pressing the Esc key or the Close button. |
| - | [entity] /ui/EquipmentShopGroup/EquipmentShop<br>/DetailInfoPopup/Panel/Button_Buy | ButtonClick | Executed when the Purchase button is pressed in the details pop-up. Tries to purchase equipment based on the values of self.FilterIdx and self.ShowingEquipmentLevel. Closes the details pop-up after the purchase attempt. |

# UI_EquipmentShop_FilterButton

Component attached to the **Equipment Type Filter** button in the Equipment Store UI.

#### Entity Event Handler

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| - | self | ButtonClickEvent | Changes the FilterIdx of UI_EquipmentShop and execute the RefreshUI() if the player presses the button. |

# UI_EquipmentShop_SlotButton

Component attached to each My Product list in the Equipment Store UI.

#### Entity Event Handler

| Execution Space Control | Event relayer | Name | Description |
| --- | --- | --- | --- |
| - | self | ButtonClickEvent | Executes the UI_EquipmentShop:ShowDetailPopup() if the player presses each product list. |

# UI_EquipmentStorage Logic

Logic related to the Equipment Storage UI.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | number | FilterIdx | The primary type classification number of the equipment to display in the Equipment Storage UI. Default value is 1. |
| None | number | SecondFilterIdx | The secondary type classification number of the equipment to display in the Equipment Storage UI. Default value is 1.<ul><li>1: Pickaxe</li><li>2: Work Clothes</li><li>3: Bag</li><li>4: Shoes</li></ul> |
| None | number | ShowingItemIdx | The **Idx** of the item displayed in the equipment details pop-up. Default value is 0. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Function to disable the Equipment Storage UI when the player enters the World. |
| client | void | SetFilterIdx | In the Equipment Storage UI, press the Primary Type Filter button to change the equipment list and equip information to match the **idx**. |
| client | void | SetSecondFilterIdx | In the Equipment Storage UI, press the Secondary Type Filter button to change the equipment list and equip information to match the **idx**. |
| client | void | RefreshUI | Changes the entire UI to match the current data. If the data has changed on the client, you need to call it manually. |
| client | void | ShowDetailInfo | Changes the content of the details pop-up and makes UI changes when pressing the equipment device in the equipment list. |
| client | void | ShowMessageEquipmentChanged | Displays a toast message when the equipment is equipped or unequipped. |
| client | void | ApplyAvatarEntity | Changes the display of the avatar in the equipment storage when the equipped equipment changes. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | [entity] /ui/HUDGroup/TownHUD/Panel_menu3<br>/ScrollList/EquipmentButton | ButtonClickEvent | Handler called when the **Equipment Storage** button is pressed in the Town Menu UI. Close the menu list and refresh the Equipment Storage UI to open. |
| - | service | KeyDownEvent | When the Equipment Storage is open, press Esc to close it. If the details pop-up is open, close the pop-up only. |
| - | [entity] /ui/InventoryGroup/EquipmentStorage<br>/DetailInfoPopup/Button_Equip | ButtonClickEvent2 | Called when the Equip button is pressed in the details pop-up. Change **Idx** of the equipped equipment to the selected device, and close the pop-up. |
| - | [entity] /ui/InventoryGroup/EquipmentStorage<br>/DetailInfoPopup/Button_Equip_dismount | ButtonClickEvent3 | Called when the **Unequip** button is pressed in the details pop-up to unequip the equipment and close the pop-up. |

# UI_EquipmentStorage_FilterButton

Component attached to each Primary Filter button in the Equipment Storage UI.

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | self | ButtonClickEvent | Click the button to call the SetFilterIdx(idx) of UI_EquipmentStorage. |

# UI_EquipmentStorage_SecondFilterButton

Component attached to each Secondary Filter button in the Equipment Storage UI.

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | self | ButtonClickEvent | By clicking the button, return the SetSecondFilterIdx(idx) of UI_EquipmentStorage. |

# UI_EquipmentStorage_SlotButton

Component attached to each Storage List item in the Equipment Storage UI.

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | self | ButtonClickEvent | By clicking the button, return the ShowDetailInfo(idx) of UI_EquipmentStorage. |

# UI_GameResult

Component related to the Result UI that appears when an exploration in a mine ends.

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Function to disable the UI when the player enters the World. |
| client | void | SetResultUI | Function to update the game result screen. It is called by PlayerMineData:Die() when the player dies in the mine. If you use a returning robot, it is called by Portal_MineToTown:HandleInteractionEvent2().<ul><li>isSuccess: Indicates success or failure. False if it is called by a death, and true if it is called by the returning robot.</li><li>depth: The maximum depth.</li><li>time: Time you spent.</li><li>items: List of minerals obtained or lost in this exploration.</li></ul> |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | InputService | KeyDownEvent | If the Game Result UI is open and the **End Exploration** button is enabled, press E key to close the UI and teleport the player to the town. |

# UI_GameResult_ItemSlotButton

Component that shows information about the item attached to each item list in the Mine Result UI screen. ButtonStateChangeEvent is called when you hover the mouse over each item or press and hold on the screen.

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | self | ButtonStateChangeEvent | Shows the item information if the item is pressed. You can see it by hovering over the list on PC and pressing the list on mobile. |

# UI_HUD

Component related to the HUD.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity | Power | Entity that displays the mining power. |
| None | Entity | Money | Entity that displays the gold you have. |
| None | Entity | HPFill | UI entity that displays the HP. |
| None | Entity | HPText | UI entity that displays the HP as text. |
| None | Entity | MPFill | UI entity that displays the MP. |
| None | Entity | MPText | UI entity that displays the MP as text. |
| None | Number | UpdateTime | The time remaining until the next UI refresh. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | RefreshUI | Changes the HUD to match the current data. |
| client only | void | OnUpdate | Function to refresh the HUD. It calls the RefreshUI every 0.1 seconds. |
| client | void | RefreshToolUI | Refreshes the number of exploration tools the player has and displays different images based on the quantity. It is called when the exploration tool is acquired or consumed. |
| client | void | PlayToolEffect | Function that plays an effect on the HUD exploration tool icon. It is called when the exploration tool is acquired or consumed. <li>idx: Index of the acquired and consumed exploration tools</li> |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | InputService | KeyDownEvent | When the player is in a town, press F3 to open and close the menu. |

# UI_Inventory

Component related to the inventory.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | number | ShowingFilterIdx | Index that classifies the types of items to be displayed. |
| None | number | SelectedSlotIdx | Index of the item whose details are displayed. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Initialize the property and close the Inventory UI. |
| client | void | RefreshUI | Refresh the Inventory UI. Shows items that correspond to self.ShowingFilterIdx. It updates with new information when you get a new item, open the UI, or press the Filter button. |
| client | void | ShowDetailPopup | Press an item in the list of items you have to open the details pop-up. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | self | KeyDownEvent | Press `I` key to open and close UI. Press `Esc` key to close UI. If the details pop-up is open at this time, close the pop-up only. |
| - | [entity] ExitButton (/ui/InventoryGroup/Inventory<br>/Panel/TitlePanel/ExitButton) | ButtonClickEvent | Press the Close button to disable the UI. |

# UI_Inventory_FilterButton

Component attached to the Filter button in the inventory.

#### Entity Event Handler

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| - | self | ButtonClickEvent | Changes UI_Inventory.ShowingFilterIdx and executes UI_Inventory:RefreshUI(). |

# UI_Inventory_SlotButton

Component attached to each item in the inventory.

#### Entity Event Handler

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| - | self | ButtonClickEvent | Executes UI_Inventory:ShowDetailPopup(idx). |

# UI_Loading Logic

Logic related to the loading screens that appear when you first enter the World, travel from town to town, or return to town from the mine.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | boolean | IsLoading | Checks whether the loading window is open. Changes the value in the SetEnableLoading() function. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | SetEnableLoadingUI | Function to enable or disable the loading screens. When enabled, makes the transparency of all UIs on the loading screen to 1 and prevents the player from being moved. When disabled, makes the loading UI transparent for 0.5 seconds gradually and allows the player entity to be moved. |
| client only | void | OnBeginPlay | When you enter the World for the first time, calls self:SetEnableLoadingUI(true) and then calls self:SetEnableLoadingUI(false) 3 seconds later using TimerService. |

# UI_MapEnteredManager

Component that disables the UI. Used to travel to a town or mine.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | boolean | AutoDisableOnTown | Set to true if LocalPlayer is an unnecessary UI when while entering a town. |
| None | boolean | AutoDisableOnMine | Set to true if LocalPlayer is an unnecessary UI while entering a mine. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | LocalPlayer | LocalPlayerMapEntered | Sends the LocalPlayerMapEntered event to the player entity in PlayerData:OnMapEnter() whenever the player enters another map and disables the UI. |

# UI_MineralExchange

Component related to the Mineral Store UI.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Change the entity to disable when entering the World for the first time. |
| client | void | RefreshUI | Function to update the Mineral Store UI. It is called when all minerals are sold or when the Mineral Store UI is open. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | InputService | KeyDownEvent | Press the `E` key to sell all the minerals you have in the Mineral Store. Press the `Esc` key to close the Mineral Store UI. Minerals are sold on the server. |

# UI_MiningGame

Component related to the mini-game that runs when mining.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | boolean | IsKeyBox | Verifies that it is possible to earn a key chest in the current mini-game. |
| None | boolean | IsPlaying | Determines whether the mini-game is in progress. If the value is true, the arrow moves in OnUpdate(). |
| None | number | LeftHitChance | The remaining hitting chances. 5 chances for normal mineral veins and 10 chances for key chests. <br> Ends the mini-game if the remaining Mineral Vein HP is 0 or higher, but the LeftHitChance property is 0 or less. |
| None | number | OreHPMax | The max HP of the mineral vein currently being mined. |
| None | number | OreHP | The remaining HP of the mineral vein currently being mined. |
| None | boolean | ContainBonusGame | Determines whether the mini-game contains a bonus game. Determines whether a bonus game is activated when you first interact with the mineral vein. Change the value to true if there is a bonus game. |
| None | boolean | IsPlayingBonusGame | Determines whether the bonus game is in progress. The bonus game is played when self.ContainBonusGame is **true** and all normal hits are successful. Change the value of IsPlayingBounesGame to true if the self.ContainBonusGame is **true** when mining is successful in Hit(). |
| None | Entity | TimingArrow | The arrow UI entity that will move in OnUpdate(). |
| None | Entity | CurrentTarget | The entity of mineral vein currently being mined. |
| None | number | PlayingTime | The time value for determining the position of the Arrow UI in OnUpdate(). |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | Initialize | Function to initialize various properties to start the mining game. Called when interacting with a mineral vein.<ul><li>VeinLevel: Level of the mineral you interacted with</li><li>VeinEntity: Entity of the mineral vein you interacted with</li><li>IsKeyBox: Whether the mineral vein has a key</li></ul> |
| client | void | SetTimingBarPosition | Function that randomizes the position of the timing area in the mini-game. If it's a bonus game, turns off the Main Game UI and enables the Bonus Game UI. |
| client only | void | OnBeginPlay | Assign the entity to self.TimingArrow. |
| client only | void | OnUpdate | Make the arrow move back and forth during the mini-game. Move the arrow to the position of the value by adding self.PlayingTime += delta. |
| client | void | Hit | Function that handles the hitting. Called when the player presses the `Mine` button and the `E` key. |
| client | void | ExitGame | Function to end the mini-game. Called when `Esc` is pressed during the game or when a success/failure condition is met in self:Hit(). |
| client | void | ForcedExitGame | Function to force the mini-game to end. Called when a player dies during the game. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | InputService | KeyDownEvent | Initially, the Mini-game UI is enabled, and the mini-game is started when the player presses `E`. During mini-games, press `E` to hit. |
| - | InputService | KeyDownEvent2 | Press the `Esc` key to close the Mini-game UI. If the game is in progress, force to end it and close the UI. |

# UI_RainbowText

TextComponent text color will change at regular intervals.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | Number | Time | Property used to change the color at regular intervals. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnUpdate | Changes the color in 3-second intervals. |

# UI_Status Logic

Logic related to the My Stats UI.

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client only | void | OnBeginPlay | Closes the Stats UI when you enter the World for the first time. |
| client | void | RefreshUI | Refreshes the Stats UI. Function is called every time the server updates the stats.<ul><li>base: Default value for the stats.</li><li>increase: Amount of increase (%).</li><li>final: The final value calculated by applying the increase value to the base value.</li></ul> |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| - | InputService | KeyDownEvent | Press `Esc` to close UI. |
| - | [entity] /ui/HUDGroup/TownHUD/Panel_menu3<br>/ScrollList/StatusButton | ButtonClickEvent | Press the **Stats** button to execute this handler. Close the Menu UI and open the Stats UI. |

Update 2025-11-20 PM 02:03


# Models

# Guide_Key

Guide UI model that is enabled when the player approaches an interactive entity. Guide UI is included in models that require interaction, such as NPCs, mineral veins, and exploration tool boxes. ![GuideKey](https://mod-file.dn.nexoncdn.co.kr/bbs/16941518548902bee49148d3c449aa1eb5d18e7dc980a.png)

# Guide_Portal_TownToMine

Guide UI model enabled when the player approaches the portal from the town to the mine. ![Portal_TownToMine](https://mod-file.dn.nexoncdn.co.kr/bbs/16941522105747a0e548bffdf43a58f4e1590860898b5.png)

# Guide_Portal_TownToTown

Guide UI model enabled when the player approaches the portal from town to town. ![PortalTownToTown](https://mod-file.dn.nexoncdn.co.kr/bbs/1694152240385246f4580544b422099d87fcdf49ff317.png)

# Portal_MineToMine

Portal model from mine to mine. This model includes the Guide UI. ![Portal_TownToMine](https://mod-file.dn.nexoncdn.co.kr/bbs/16941522105747a0e548bffdf43a58f4e1590860898b5.png)

# Portal_TownToMine

Portal model from town to mine. This model includes the Guide UI. ![Portal_TownToMine](https://mod-file.dn.nexoncdn.co.kr/bbs/1696491598419c4b21bd086e4415992666435fa6d7364.png)

# Portal_TownToTown

Portal model from town to town. This model includes the Guide UI. ![PortalTowntoTown](https://mod-file.dn.nexoncdn.co.kr/bbs/1694152465297023c65f89637414586456e9e3b646434.png)

# npc_returnRobot

Returning robot model from mine to town. ![npcReturnRobot](https://mod-file.dn.nexoncdn.co.kr/bbs/169415373372374e59a2bb8374b0695902e9b263b9df8.png)

# npc_weaponShop

The Equipment Merchant NPC model. When changing the appearance, you need to change the **SpriteRUID** of **SpriteRendererComponent**. When changing the NPC name, you need to change the **Name** of **NameTagComponent**. ![npc_weaponShop](https://mod-file.dn.nexoncdn.co.kr/bbs/169415227281286f5a729f9264e1bb9045f99baef1a0e.png)

# npc_sell

The Mineral Merchant NPC model. When changing the appearance, you need to change the SpriteRUID** of **SpriteRendererComponent. When changing the NPC name, you need to change the **Name** of **NameTagComponent**. ![npcSell](https://mod-file.dn.nexoncdn.co.kr/bbs/16941538202550ed807a540594e9d9e2a9a17f8029083.png)

# MiningTarget

Mineral vein that is to be placed in the mine. Place it in the mine and change the **Level** of **MiningTargetObject component**. ![MiningTarget](https://mod-file.dn.nexoncdn.co.kr/bbs/16941478714945063532b851f4c54b17a7ae1a6abb71f.png)

# ToolBox

Exploration tool box to be placed in the mine. ![ToolBox](https://mod-file.dn.nexoncdn.co.kr/bbs/16941481697741fb75c3bf93e46bbb58fbc9cb2bdac32.png)

# Tools_Rope

Rope model spawned by the player. ![ToolRope](https://mod-file.dn.nexoncdn.co.kr/bbs/1694149116046de39e3497b1546b287e60f56d190520f.png)

# Tools_Torch

Torch model spawned by the player. ![toolTorch](https://mod-file.dn.nexoncdn.co.kr/bbs/169414913950497f66e725c574435ac280410bbece203.png)

# Tools_Trampoline

Trampoline model spawned by the player. ![ToolTrampoline](https://mod-file.dn.nexoncdn.co.kr/bbs/16941517867250038a69591ed4c3290d020a798cac81f.png)

# object_light

Object model that lights up the field of view as the player gets closer to the mine. ![object_light](https://mod-file.dn.nexoncdn.co.kr/bbs/1694151820475703fe08bbc4c4b4c8d73159265730dc7.png)

Update 2025-11-20 PM 02:03


# Expanding the Remake World without Script

# Making Portals

#### Portal from Town to Town

Let's place the Portal_TownToTown model and change its property value to make the player travel from town to town.

1. For the portal model that moves the player to town, place the **Workspace - MyDesk - Models - Portal - Portal_TownToTown** in the Scene. ![PortalTownToTown](https://mod-file.dn.nexoncdn.co.kr/bbs/169407345576958fcb84b535b476a9deaedaa9ea14e18.png)
2. Change the SortingLayer value of SpriteRendererComponent to **Layer1**. ![SortingLayer](https://mod-file.dn.nexoncdn.co.kr/bbs/1694073479466ef8f252e06344befadd2ee708c83327c.png)
3. In the Property Editor window, change the **DestinationTownIndex** property value of the Portal_TownToTown component to the index value of the destination town. ![DestinationTownIndex](https://mod-file.dn.nexoncdn.co.kr/bbs/1694073499868138d82902ac64200b8f654dcd9c1e864.png)

#### Portal from Town to Mine

Let's place the Portal_TownToMine model and change its property value to make the player travel from town to mine. The mine portal is designed to move the player to the right mine based on the location of town. For example, in Town1, the player moves to the Mine1-1, and in Town2, the player moves to the Mine2-1. Therefore, when adding new towns and mines, they should be named according to the naming conventions for existing maps.

1. Place the **Workspace - Models - Portal - Portal_TownToMine** in the Scene. ![PortalTownToMine](https://mod-file.dn.nexoncdn.co.kr/bbs/16940741976881e5bf9d0e3b842859f49ce086b1339e4.png)
2. Change the SortingLayer value of SpriteRendererComponent to **Layer1**. ![SortingLayer](https://mod-file.dn.nexoncdn.co.kr/bbs/1694073479466ef8f252e06344befadd2ee708c83327c.png)

#### Destination Setting when Returning to Town

You can use objects to specify where the character arrives when returning to town from the mine.

1. Find and place the appropriate preset in **Preset List - Object**.
2. Rename it to **object_returnPoint**.

> **Learn More** Due to the _TeleportService:TeleportToEntityPath(_UserService.LocalPlayer, string.format("/maps/Town%d/object_returnPoint",townIdx)) code in the UI_GameResult's **HandleKeyDownEvent**, it will find the location to return to town from the mine if you simply rename it to **object_returnPoint**.

![object_returnPoint](https://mod-file.dn.nexoncdn.co.kr/bbs/1694078193760f07ab3174fa044399b114e8d2426ae1a.png)

# Placing an NPC

Let's place an NPC model to create a Mineral Store and a Weapon Store in the town. NPC models do not require any modifications. Place it wherever you want and rename it.

1. In **Workspace - MyDesk - NPC**, place the **npc_sell, npc_weaponShop** in the Scene. ![NpcModel](https://mod-file.dn.nexoncdn.co.kr/bbs/16940782193189b10e64e079d4283beb0c5575f6f7c8d.png)
2. Rename it in the **Name** of NameTagComponent.
3. Change the SortingLayer value of SpriteRendererComponent to **Npc**.

# Customize Mine

#### Set up a Ladder

1. In **Preset List - Ladder**, select a ladder and place it in the Scene.
2. Adjust the **SpeedFactor value of ClimbableComponent** to control the speed of movement on the ladder. ![SpeedFactor](https://mod-file.dn.nexoncdn.co.kr/bbs/1694069458364c5f11bdc69db4bc2a111fe6021becf54.png)

#### Place a Returning Robot

Let's place a returning robot model in the mine, so the player can return to town. Place it wherever you want.

1. Find and place the **WorkSpace - MyDesk - Models - Portal - npc_returnRobot**. ![returnRobotModel](https://mod-file.dn.nexoncdn.co.kr/bbs/169407140336819164d4d5e52455dac917aaf7c2163b8.png)
2. Change the SortingLayer value of SpriteRendererComponent to **Npc**.

#### Add a Mineral Vein Level

1. Find and place the **Workspace - MyDesk - Models - MiningTarget**. ![MiningTargetModel](https://mod-file.dn.nexoncdn.co.kr/bbs/1694069983687de4b328c30cb459ab644cfb00b0fbdc4.png)
2. Change the **Level** value in the **MiningTargetObject** component to change the amount of HP required for mining. The mineral vein level should be the same difficulty as the mineral vein order. The Mineral vein level for Mine1-3 should be **3**, Mine2-1 should be **4**, etc. When you add a mineral vein level, you need to add the level of gems that you acquire in the bonus game. ![MiningTarget](https://mod-file.dn.nexoncdn.co.kr/bbs/1694069434204dda5f137834b447da7553a3b0c8f91f4.png)
3. Open the **WorkSpace - MyDesk - Tables - VeinInfo** and add data. Add data from all columns according to the level. For information on each row, refer to [Tables](docs?postId=1083).

# Add New Equipment

1. Select the **Workspace - MyDesk - Tables - EquipmentInfo** to open the dataset. If you added new equipment, you must add a row and enter the equipment information. For information on each row, please refer to [Tables](docs?postId=1083). ![EquipmentInfo](https://mod-file.dn.nexoncdn.co.kr/bbs/1694069696514b1df5a9962da49089547f6f611dba76f.png)
2. Add the pickaxe information to **Type1_RUID**. The equipment you use must use resources from the **Resource Storage - avataritem - 2H Weapon** category. ![2HWeapon](https://mod-file.dn.nexoncdn.co.kr/bbs/17272549083571350626520174607ba939682aee65148.png)
3. Add the working clothes information to **Type2_RUID**. The equipment you use must use resources from the **Resource Storage - avataritem - Coat** category. ![coat](https://mod-file.dn.nexoncdn.co.kr/bbs/172725494853645184dcc654443abadeb392e52c3f62e.png)
4. Add the bag to **Type3_RUID**. The equipment you use must use resources from the **Resource Storage - avataritem - Cape** category. ![cape](https://mod-file.dn.nexoncdn.co.kr/bbs/1727255012584f3bd7f10e3504000a320a31c3535e568.png)
5. Add the shoes to **Type4_RUID**. The equipment you use must use resources from the **Resource Storage - avataritem - Shoes** category.

> **Tip** When using an RUID as a thumbnail, attach the RUID with **thumbnail://**.

Update 2025-11-20 PM 02:03


# Expanding the Remake World with Script

Let's modify the existing components of the Miner Simulator or add new entities and components to create your own World.

# Change Potion Effect

Let's restore a player's MP instead of HP when they use a potion from the mine. Modify the UsePotion() function of the **Workspace - MyDesk - Components - DefaultPlayerComponents - PlayerMineData** component. ![mp](https://mod-file.dn.nexoncdn.co.kr/bbs/169441955335422b6690d1eab4fa09f37984661a38032.gif)

```
local recoveryAmount = self.Entity.PlayerStatus.MPMax * 0.2

if recoveryAmount > (self.Entity.PlayerStatus.MPMax - self.Entity.PlayerStatus.MP) then
    recoveryAmount = self.Entity.PlayerStatus.MPMax - self.Entity.PlayerStatus.MP
end

-- Play Effect
_EffectService:PlayEffectAttached("015d476c71a3403ca6bab62c26888d4b", self.Entity, Vector3.zero, 0, Vector3.one)

-- Damage Skin
_DamageSkinService:Play(self.Entity, "0910d8fa5eac47dbbff4f30e9fb07a50", 0, {recoveryAmount}, DamageSkinTweenType.Default, false)
    
self.Entity.PlayerStatus.MP += recoveryAmount
```

# Trap Creation

Let's create a trap that jumps up when the player entity enters a certain area. ![trap](https://mod-file.dn.nexoncdn.co.kr/bbs/169449983411878a425308beb41d0a2f10740703d1591.gif)

1. Place the **Preset List - Trap - trap-26** in the Scene.
2. Change the SortingLayer under the SpriteRendererComponent for the **trap-26** entity to **Background**.
3. Create a new **Trap_RiseupTrap** entity. Add the **SpriteRendererComponent, TransformComponent, and TriggerComponent** and place it above the trap. ![1](https://mod-file.dn.nexoncdn.co.kr/bbs/16944195854068319f10165a0477eb4f38d05250c0506.png)
4. Move the **trap-26** position to under the Trap_RiseupTrap entity. ![2](https://mod-file.dn.nexoncdn.co.kr/bbs/1694419605271fc93377519cf4b748cee4b09710805a9.png)
5. Create a new `Trap_RiseupTrap` component, and add it to the **Trap_RiseupTrap entity**.
6. Add a `TriggerEnterEvent` to the Entity Event Handler and write the following. It will make it so that a collision is triggered only when a local player touches the trap.```
Event Handler:
[self]
HandleTriggerEnterEvent(TriggetEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: TriggerComponent
    -- Space: Server, Client
    ---------------------------------------------------------

    -- Parameters
    local TriggerBodyEntity = event.TriggerBodyEntity    
    ---------------------------------------------------------

    if TriggerBodyEntity ~= _UserService.LocalPlayer then
        return
    end
}
```
7. Add the **boolean** type `IsActivated` property so that the trap can rise to a set height.```
Property:
[None]
boolean IsActivated = false
```
8. Continue with the following below **HandleTriggerEnterEvent**.```
if self.IsActivated == true then
    return
end

self.IsActivated = true
local trap = self.Entity:GetChildByName("trap-26")

local riseUp = function()
    trap.TransformComponent:Translate(0,0.5)
end

-- Up after 0.5 seconds
_TimerService:SetTimerOnce(riseUp, 0.5)

local down = function()
    trap.TransformComponent:Translate(0,-0.5)
    self.IsActivated = false
end

-- Down after 2 seconds
_TimerService:SetTimerOnce(down,2)
```
9. Add `TrapTriggerComponent` to the **trap-26** entity and save the appriate collider size.
10. The amount of damage dealt when touching the trap can be set by changing the `Damage` property value from TrapTriggerComponent.

# Modify Aerial Jump

![DoubleJump](https://mod-file.dn.nexoncdn.co.kr/bbs/169450346531860fedc0682f64970aa3bab855a382db4.gif)

1. Add the **KeyDownEvent** to ExtendPlayerControllerComponent Entity Event Handler. You need to add conditions so that only players who enter the key using UserService can do the aerial jump.```
Event Handler:
[service: InputService]
HandleKeyDownEvent(KeyDownEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: InputService
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local key = event.key
    ---------------------------------------------------------

    -- Conditions are added using UserService so that only players who enter the key can move the avatar.
    if _UserService.LocalPlayer ~= self.Entity then
        return
    end
    if key == KeyboardKey.Space or key == KeyboardKey.LeftAlt then
        if self.Entity.RigidbodyComponent:IsOnGround() == false then
            self:ActionDoubleJump()
        end
    end
}
```
  > **Tip** You can see the keys that you can enter from [KeyboardKey](/apiReference/Enums/KeyboardKey).
2. Add the new **LeftAirJumpCount** property to the **ExtendPlayerController** component.```
Property:
 [None]
 number LeftAirJumpCount = 1
```
3. Create the new ActionDoubleJump() function to **ExtendPlayerControllerComponent**.```
Method:
[client]
void ActionDoubleJump()
{
    if self.LeftAirJumpCount <= 0 then
        return
    end

    local currentSpeed = self.Entity.RigidbodyComponent.RealMoveVelocity

    self.Entity.RigidbodyComponent:SetForce(Vector2(currentSpeed.x,10))
    self.LeftAirJumpCount -= 1
}
```
4. Add FootholdEnterEvent and write as follows so that the player avatar can double jump after touching the terrain. When the LocalPlayer touches the terrain using UserService, reset the value of **LeftAirJumpCount** to 1.```
Event Handler:
[client only]
HandleFootholdEnterEvent(FootholdEnterEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: RigidbodyComponent
    -- Space: Server, Client
    ---------------------------------------------------------

    -- Parameters
    local Entity = event.Entity
    local Foothold = event.Foothold
    ---------------------------------------------------------

    if _UserService.LocalPlayer ~= self.Entity then
        return
    end

    self.LeftAirJumpCount = 1
}
```
5. In the ActionDoubleJump() function, write as follows to play a sound and effect for each jump.```
_SoundService:PlaySound("2eb793d54f25463dba5917b8b518f0e5", 1)
_EffectService:PlayEffectAttached("e7addadf676d415cab98b6bd867eaf82", self.Entity, Vector3.zero, 0, Vector3.one)
```

# Creating UI Tooltips

#### Creating HP Bar Guide UI

Let's make the Description UI appear when you hover over or touch the HP bar. ![DescPanel](https://mod-file.dn.nexoncdn.co.kr/bbs/1694495925525ab55bbc6c25b4713b8ccc053cfcb73a3.gif)

1. Add the new **UI_MouseHoverGuide** component in the **Workspace - MyDesk - Component - UI**.```
Property:
[None]
Entity TargetPanel = nil

Event Handler:
[self]
HandleButtonStateChangedEvent(ButtonStateChangeEvent event)
{
    --------------- Native Event Sender Info ----------------
    -- Sender: ButtonComponent
    -- Space: Client
    ---------------------------------------------------------

    -- Parameters
    local state = event.state
    ---------------------------------------------------------

    if (Environment:IsMobilePlatform() == true and state == ButtonState.Pressed) 
    or (Environment:IsPCPlatform() == true and state == ButtonState.Hover) then    

        if self.TargetPanel == nil then
            return
        end

        self.TargetPanel.Enable = true
    else
        if self.TargetPanel == nil then
            return
        end

        self.TargetPanel.Enable = false
    end
}
```

1. Add the UI_MouseHoverGuide component in the **Hierarchy - ui - HUDGroup - HUD - PlayerInfo - HP**.
2. In the Property Editor window, set the **TargetPanel** property to **HPDescPane or MPDescPanel**.

#### Randomly Displaying Message

Let's change the tip on the loading screen that appears when the player enters the mine from town. You can make the messages in DataSet appear at random. ![RandomeTipMessage](https://mod-file.dn.nexoncdn.co.kr/bbs/1694495955844212538efd0384a5c8412f6df5678f977.gif)

1. Create a new **TipMessageInfo** DataSet.
2. Create the **Message** column and write the content to appear in the chat balloon. ![TipMessageDataSet](https://mod-file.dn.nexoncdn.co.kr/bbs/169448376328415bd77dd50a74edc9f5b7638786f7641.png)
3. Add the following code to HandleInteractionEvent2() of the **Portal_TownToMine** component.```
local tipMessageTable = _DataService:GetTable("TipMessageInfo")

local tipMessageEntity = _EntityService:GetEntityByPath("/ui/LoadingGroup/MineEnterance/TipMessage")

-- Display randomly 1-3 times
local messageIdx = _UtilLogic:RandomIntegerRange(1,3)
local message = tipMessageTable:GetCell(messageIdx,1)

tipMessageEntity.TextComponent.Text = message
```

Update 2025-11-20 PM 02:03


# UI Group

# 000_BroadCastGroup

A smaller version of the system messages panel. ![BroadcastPannel](https://mod-file.dn.nexoncdn.co.kr/bbs/1701683683489e40c2853ec124a39866d513272e9e80d.png)

# 000_LoadingGroup

The Loading Screen UI used when entering another map. ![LoadingGroup](https://mod-file.dn.nexoncdn.co.kr/bbs/1701684186994778565c639f144da9f6e52017a4b59e2.png)

# 001_LobbyGroup

UI used in the lobby. Shows mobile control buttons, game preparation, matching information, etc. ![LobbyGroup](https://mod-file.dn.nexoncdn.co.kr/bbs/1701684199129813bc47b4b9f4895b7e4db7ee2b692dd.png)

# 002_IntroGroup

Button that displays the ready time and ready button on the intro map. ![IntroGroup](https://mod-file.dn.nexoncdn.co.kr/bbs/1701684210563547da42814384db5bfd64732feb9b5ef.png)

# 003_InGameGroup

UI used in the game. Displays control buttons, minimap, player status, etc. ![InGameGroup](https://mod-file.dn.nexoncdn.co.kr/bbs/17017444928907419bd63b049485189149d014771abb4.png)

# 004_OutroGroup

The Game Result UI. Displays player avatars, win/loss results, goods acquired, rank points, etc. ![Outrogroup](https://mod-file.dn.nexoncdn.co.kr/bbs/17017445364593ce978520f6c45dd95e3c051bd534b9d.png)

Update 2025-11-17 PM 08:15


# 01_Player_Component

This folder pertains to models, components, and logic.

# PlayerInGameStatus

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | number | teamNumber | Indicates the player's team number. 1 is Team A, the tagger, and 2 is Team B, the runaway. |
| None | number | hp | Indicates the player's HP. |
| None | boolean | alive | Indicates whether the player is alive or dead. |
| None | SyncTable<string, string> | playerInteractionState | Table that manages the player's interaction status. |
| None | SyncTable<string, boolean> | playerStatusEffect | Table that manages the player's abnormal status. |
| None | SyncTable<string, number> | playerStatusEffectStack | Table that manages the player's abnormal status stack. |
| None | SyncTable<string, number> | playerStatusEffectAmount | Table that manages the player's abnormal status change. |
| None | SyncTable<string, number> | playerStatusEffectTime | Table that manages the player's abnormal status duration. |
| None | SyncTable<string, number> | playerStatusEffectTimer | Table that manages the player's abnormal status duration timer. |

#### Functions

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| server | void | InteractionStateChangeUI | Checks the interaction status corresponding to the current status. Calls the UI that matches the interaction. |
| server | void | InvicibleSet | Function that makes the player invincible. |
| server | void | ChangeSpeedSet | Function that changes the speed of the player. |
| server only | void | OnEndPlay | Checks whether the player has left the game or intro map. |

#### Entity Event Handler

| Synchronization | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| server only | self | TriggerEnterEvent | Event that checks whether the player has been hit. |

# PlayerInfo

Component that manages the player's status in out-of-game.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | number | money | The player's goods value. |
| None | number | rankPoint | The player's rank value. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| server only | void | OnMapEnter | Function that calls the function of `MapEnterLogic` for the map each time the map is changed. |
| client only | void | OnInitialize | Function that removes actions of the `W`, `A`, `S`, and `D` keys. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | InputService | KeyDownEvent | Function that calls the emote function. |

Update 2025-11-17 PM 08:15


# 02_Player_Logic

# MapEnterLogic

Logic that contains functions that are called when the player enters another map. In the OnMapEnter function, calls the function in the logic that corresponds to the map where the player has moved to.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity (/ui/000_LoadingGroup) | loadingUI | Loading screen UI. |
| None | Entity (/ui/001_LobbyGroup) | lobbyUI | Lobby group UI. |
| None | Entity (/ui/002_IntroGroup) | introUI | Intro group UI. |
| None | Entity (/ui/003_InGameGroup) | ingameUI | In-game group UI. |
| None | Entity (/ui/004/004_OutroGroup) | outroUI | Outro group UI. |
| None | ComponentRef | ingameInfo | InGameInfo component in the common. Set the ComponentRef as InGameInfo component. Set the value as /common. |
| None | ComponentRef | introManager | IntroManager component in the intro map. Set the ComponentRef as IntroManager component. Set the value as /maps/002_Intro. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | UISetting | Function that compares the names of the map the player moved to and enables the appropriate UI. |
| server only | void | LobbyMapEnter | Called if the map the player moved to is a lobby map. Gets the goods and rank score values and sets the UI related to the matching. |
| server only | void | IntroMapEnter | Called if the map the player moved to is the intro map. Increments the value of inPlayerNum by 1 to check that the player has accessed the intro map. |
| server only | void | InGameMapEnter | Called if the map the player moved to is an in-game map. Calls the InGameManagerPlayerSetting() function for the player setting to prepare the game. |
| server only | void | OutroMapEnter | Called if the map the player moved to is an outro map. Calls the ingameInfo:GetGameReward() function to get rewards based on the result of the game. |
| client | void | LoadingUISet | Function to enable/disable the Loading Screen UI. |

# PlayerDataLogic

Logic that manages the player's goods and rank data/UI.

#### Property

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity (/ui/001_LobbyGroup/Money/MoneyTxt) | moneyTxtUI | Text UI that shows the value of the goods/rank score used in the Lobby UI. |
| None | Entity (/ui/001_LobbyGroup/RankPoint/RankPointTxt) | rankPointTxtUI | Text UI that shows the value of the goods/rank score used in the Lobby UI. |
| None | boolean | getRewardMoneyCheck | Variable that checks whether the player has received a goods reward based on the result of the game. |
| None | boolean | getRewardRankPointCheck | Variable that checks whether the player has received a rank score reward based on the result of the game. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| server only | void | GetMoneyData | Function that gets the player's goods from the DB. Function that gets the value of the imported goods. It updates the UI information with the value of the imported goods. |
| server only | void | SetMoneyData | Function that gets the player's goods from the DB and applies the addMoney parameter to save the data again. Refreshes UI information together. |
| server only | void | GetRankPointData | Function that gets a player's rank score from the DB. |
| server only | void | SetRankPointData | Gets the player's rank score from the DB and stores the changed rank score back to the DB. |
| client | void | MoneyUIUpdate | Function to update the Goods UI. |
| client | void | RankPointUIUpdate | Function to update the Rank UI. |
| server only | void | RankIn | Function to register the ranking. Stores the changed rank score, player ID, and nickname to the RankingDB and calls the function to update the UI. |
| server | void | RankUpdate | Loads the stored Ranking DB. Function that updates the Ranking UI by sorting the scores in the DB in descending order. |

Update 2025-11-17 PM 08:15


# 03_Player_Emoticon

# EmoticonData

Table that manages data related to emotes used by players.

| Name | Description |
| --- | --- |
| Key | Key value that calls emotes, used by converting the value to KeyboardKey. |
| RUID | RUID value of the emote. |
| Scale | Value to adjust images that are too large or too small, since different RUIDs have different size values. |
| PivotY | Value to adjust the y-axis position, since different RUIDs also have different pivots. |
| Explain | Reference value that describes the image. This value is not used for the World behavior. |

# EmoticonLogic

Logic that has emote-related functions used by the layer.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | SyncTable<string, boolean> | PlayerEmotionOn | Table that checks if an emote is currently in use. The 'key' value has the player's ID, and the 'value' has the true/false value to check if it is currently being used. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| server | void | SpawnEmoticon | Function that creates the emote entities to float overhead. Returned if the current emote is already being played or if the player does not exist. |
| client | void | EmoticonClient | Function that displays emotes above the avatar's head. Returned without displaying an emote only when the player's in-game HP reaches 0. |

Update 2025-11-17 PM 08:15


# 001_Lobby

# LobbyMatchManager

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | number | matchInterval | Variable that sets the matching wait time. |
| None | number | minPlayerNum | Variable that sets the minimum number of users required for matching. |
| None | number | maxPlayerNum | Variable that sets the maximum number of users that can be matched to a single game. |
| None | SyncTable<string, string> | playerReadyState | Variable table that stores the player's ready status. The 'key' value stores the player's ID, and the 'value' stores the player's status as "Ready", "Idle", "Quit", etc. |
| None | SyncTable<string, number> | playerReadyTimeStamp | Variable table that stores the server time when each player was ready. Used to set the matching priorities. The 'key' value stores the player's ID, and the 'value' stores the server time when the player was ready. |
| None | string | LobbyState | Variable that stores the status of the current lobby. It stores "Start" status if it is matchable and stores "Idle" status otherwise. |
| None | number | instanceRoomNumber | Variable that sets the number of the instance room. To avoid overlapping, it is created by adding 1 to the number of previously created instance rooms when creating an instance room after matching. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| server only | void | OnInitialize | Acts as a function to initialize various setting values when the World is created for the first time. |
| server | void | SetPlayerReadyState | Stores the player's ready status in the playerReadyState and the server time in the playerReadyTimeStamp and calls the ReadyPlayerCountCheck to check the number of players. |
| server only | void | ReadyCountTimer | Function that checks the preparation time if the player is ready. Uses the TimerService to record how many seconds the player is matching and calls the UI with the `ReadyStateTxtUI()` function. |
| server | void | ReadyPlayerCountCheck | Function that checks the number of players that are ready. It checks the playerReadyState, prepares the game if there are more than enough players to match, and maintains the matching status if there are not enough players. |
| server | void | StartCountDownTimer | Function that performs the game-ready count by calling a corresponding function when enough players for matching are ready. Calls the LaunchRoom() function when the count reaches 0. |
| server only | void | LaunchRoom | Function that creates instance rooms and sends the matched players to them. Function that checks the matching priorities of the preparation players, randomizes the map and roles, moves the players to the created room, and sends the relevant game data. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| server only | UserService | UserEnterEvent | When a player joins the game, sets their ready status to "Idle", the waiting status. All of the following event handlers, including this one, call the SetPlayerReadyState() function. |
| server only | UserService | UserLeaveEvent | When the player leaves the game, sets the ready status to "Quit", the left status. |
| client only | [entity] ReadyBtn(/ui/001_LobbyGroup/ReadyState/ReadyBtn) | ButtonClickEvent | When the player presses the Ready to Play button, sets the player's ready status to "Ready". |
| client only | [entity] CancelBtn(/ui/001_LobbyGroup/ReadyState/CancelBtn) | ButtonClickEvent2 | When the player presses the Ready to Play button, set the player's ready state to "Idle". |

# LobbyUI

Logic that manages the UIs used in the Lobby Map, excluding the matching-related UIs.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity (/ui/001_LobbyGroup//MenuBtn) | menuBtn | Menu button. |
| None | Entity (/ui/001_LobbyGroup/MenuPanel) | menuPanel | Menu panel. |
| None | Entity (/ui/001_LobbyGroup/RankList/popup/Leaderboard/ScrollLayout) | rankScrollLayout | Ranking list panel. |
| None | Entity (/ui/001_LobbyGroup/RankList/popup/Leaderboard/ScrollLayout/rank0) | rank0 | Ranking list sample. |
| None | Entity (/ui/001_LobbyGroup/RankList/popup/Leaderboard/My_rank) | myrankBoard | Player Information UI. |
| None | Entity (/ui/001_LobbyGroup/RankList) | rankPanel | Ranking panel. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | RankingUpdateUI | Function that gets the ranking table received from the data logic as a variable to display it in the UI. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | [entity] MenuBtn (ui/001_LobbyGroup/MenuBtn) | ButtonClickEvent | Event that displays the menu panel when the Menu button is pressed. |
| client only | [entity] RankBtn (ui/001_LobbyGroup/MenuPanel/RankBtn) | ButtonClickEvent2 | Event that displays the ranking panel when the Ranking button in the menu panel is pressed. |
| client only | [entity] XBtn (/ui/001_LobbyGroup/RankList/popup/XBtn) | ButtonClickEvent3 | Event that turns off the ranking panel when the X button within the ranking panel is pressed. |

# MatchUI

Logic that manages the matching-related UIs used in the Lobby Map.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity (/ui/001_LobbyGroup/ReadyState/TimeTxt) | readyStateTxtUI | Text UI that displays the current player's matching status. |
| None | Entity (/ui/001_LobbyGroup/ReadyState/ready_count) | readyCountTxtUI | Text UI that displays the number of players currently in the ready status. |
| None | Entity (/ui/001_LobbyGroup/ReadyState/ReadyBtn) | readyBtn | Ready button. |
| None | Entity (/ui/001_LobbyGroup/ReadyState/CancelBtn) | cancelBtn | Ready Cancel button. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | ReadyStateTxtUI | Function that displays the current matching status in the readyStateTxtUI. <br>Start: Matched in n seconds. <br> Ready: Matching for n seconds..<br>Idle: Press the Ready to Play button |
| client | void | ReadyCountUI | Function that displays the users currently in ready status in the readyCountTxtUI. |
| client | void | ReadyBtnStateChange | Function that displays the Ready/Ready Cancel buttons, depending on the player's ready status. |

Update 2025-11-17 PM 08:15


# 002_Intro

# IntroManager

Component that manages the system of the intro map.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | Component | ingameInfo | Variable that has the InGameInfo component of the common. |
| None | SyncTable<string, string> | playerIntroReadyState | Checks the player's ready status on the intro map. 'key' saves the Player Id, and 'value' saves the player's status as Ready or Idle. |
| None | number | inPlayerNum | The number of players matched. |
| None | number | readyCount | The number of players who are ready on the intro map. |
| None | number | introTime | The preparation timeout for the intro map. |
| None | Entity (/maps/002_Intro/ASpawnSet) | aSpawnSet | The parent entity of Team A's SpawnLocation. |
| Sync | Entity (/maps/002_Intro/BSpawnSet) | bSpawnSet | The parent entity of Team B's SpawnLocation. |
| None | boolean | gameStop | Checks whether the game is progressing normally. Changes to true if the player leaves the game while the intro is being prepared. |

#### Method

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| server only | void | OnBeginPlay | Function that checks if all players have successfully connected. Calls the IntroStart() function. |
| server only | void | IntroStart | Function that moves the player to the start position and turns on the intro timer. |
| server | void | IntroReadyStateChange | Function that changes the player's ready status in the intro map. |
| server | void | InGameMove | Function that moves the player to the in-game map. |

#### Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | [entity] ReadyBtn (/ui/001_IntroGroup/ReadyBtn) | ButtonClickEvent | Event that changes the game ready status on the intro map to "Ready" when the Ready button is pressed. |

# IntroUI

Logic that manages all the UIs of the intro map.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity (/ui/002_IntroGroup/IntroTimer) | timeTxtUI | Text UI that displays the remaining time. |
| None | Entity (/ui/002_IntroGroup/ReadyBtn) | readyBtnUI | Intro Ready Button UI. |
| None | Entity (/ui/002_IntroGroup/UserCharacterPanel/ATeamScroll) | aTeamScrollLayout | The team member panel scroll layout for Team A. |
| None | Entity (/ui/002_IntroGroup/UserCharacterPanel/ATeamScroll/ATeamScroll0) | aTeamScroll0 | The team member display panel for Team A. |
| None | Entity (/ui/002_IntroGroup/UserCharacterPanel/BTeamScroll) | bTeamScrollLayout | The team member panel scroll layout for Team B. |
| None | Entity (/ui/002_IntroGroup/UserCharacterPanel/BTeamScroll/BTeamScroll0) | bTeamScroll0 | The team member display panel for Team B. |
| None | Component | ingameInfo | InGameInfo component of the common. |

#### Method

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | ReadyCheckUI | Function that checks the ready status of a player to enable/disable the ready mark in the player scroll panel. |
| client | void | IntroTimerUI | Function that displays the remaining intro ready time. |
| client | void | PlayerScrollSet | Function that checks the matching players and refreshes the UI with information such as the player's avatar and nickname in the top TeamScroll of the team. |

Update 2025-11-17 PM 08:15


# 003_InGame

# InGameManager

Component that manages the overall in-game system.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | Component | ingameInfo | Variable that has the InGameInfo component of the common. |
| None | string | inGameState | Variable that has the in-game progress status. Has the status of "Ready", "Play", "End", etc. |
| None | number | inGameTime | Variable that has the remaining time during in-game play. |
| None | number | aliveBTeamPlayerCount | Variable that has the number of alive players on Team B during in-game play. |
| None | number | clearTargetCount | Variable that has the number of holes currently blocked by Team B during in-game play. |
| None | number | closeTargetNum | Variable that has the number of holes that Team B must block during in-game play. |
| None | SyncTable< Entity > | deathPlayers | Variable table that has the entities of dead Team B players during in-game play. |
| None | number | ATeamPlayerCount | Variable for the number of Team A players. |

#### Method

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| server only | void | PlayerSetting | Function called when the player moves to the in-game map. It is responsible for changing the player's status according to their team and ensuring they are connected. |
| server only | void | TargetSetting | Function that sets the number of holes at the start of the game to match the total number of players. |
| server only | void | GameReadyCheck | Function called when the player moves to the in-game map. Checks whether all players have finished loading, and if so, calls the GameStart (game start function). |
| server only | void | GameStart | Function that starts the game. Has scripts related to the game start, calls functions for UI settings, changing player position, hole setting, etc., and has an in-game timer. |
| server only | void | GameOver | Function that saves the win/loss data and sends the player to the outro map when the game ends. |
| server only | void | PlayerAttack | Function called when a Team A player collides with a Team B player. Decreases the HP of the Team B player and knocks both players back in opposite directions after further processing according to their HP. |
| server only | void | PlayerDeath | Function called if a Team B player's HP becomes 0 or they escape. Sets the player to the dead status. (Makes the player invisible, hides motions/chat balloons/emotes.) |
| server only | void | PlayerPosCheck | Function that calls the MinimapPlayerUIUpdate function to repeat the timer to receive the player's position and display it on the minimap in real time. |
| server only | void | PlayerSpawn | Function that randomizes the player's starting position and moves the player at the start of the game. |

# TargetComponent

Component that manages hole objects.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | boolean | Clear | Checks whether the hole is blocked. When the targetGage becomes 100, changes the value to true. |
| None | SyncTable<Entity, boolean> | playerInteraction | Checks how many players are currently interacting. |
| None | number | targetGage | The gauge of the hole. If it reaches 100, the hole is considered blocked. |
| None | number | gageOnTimer | Variable that contains the timer to increase the gauge of the hole. |
| None | number | gagePerSecond | Variable that contains the value of the gauge that increases per frequency. |
| None | number | timerCycle | Variable that contains the frequency value of the timer that increases the gauge. |

#### Method

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| server only | void | OnBeginPlay | Function that specifies the value of the variable that needs to be initialized. |
| server only | void | gageUp | Function that calls a timer that increases the gauge if there is a player who is interacting. |
| server only | void | playerInteractionCheck | Function that checks the player's interaction status. |
| server | void | TargetClear | Function called when the gauge reaches 100. Function that changes the hole to a fully blocked status. |
| server | void | TargetLightSet | Function that controls the effects seen on the hole entities when interacting with them. |

#### Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| server only | self | InteractionEnterEvent | Event that changes the player's status to interactable when the player is touched. |
| server only | self | InteractionEvent | Event that changes the player's status to blocking the hole and calls playerInteracitonCheck() when the player interacts. |
| server only | self | InteractionLeaveEvent | Event that changes the interaction status to false when the player moves away, making the player unable to interact. |

# InGameUI

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity | resultScreen | Screen UI to show the results of the game |
| None | Entity | targetGageUI | UI that displays the target gauge |
| None | Entity | targetGageBar | Gauge Bar UI (purple part) |
| None | Entity | interactionUI | Guide UI displayed when interaction is possible |
| None | Entity | ingameTimeTxt | UI that displays the remaining time |
| None | Entity | bTeamScrollUI | UI that displays information such as the player status of Team B |
| None | Entity | targetListUI | UI that displays the status of the hole to be blocked |
| None | Entity | EmoticonPCUI | Emoji UI used on PC |
| None | Entity | EmoticonMobileUI | Emoji List UI used on mobile |
| None | Entity | chatAndEmoPanelOffBtnUI | Fullscreen Sized Transparent Button UI used to make the List UI Enable 'false' even when the nearby area is touched while the Emoji List UI is displayed |
| None | Entity | minMapPanel | Minimap Panel UI |
| None | Entity | miniMapBackGround | Minimap Background UI |
| None | Entity | minMapTargetIcon0 | Minimap Hole Sample Icon UI |
| None | Entity | minMapATeamIcon0 | Minimap Team A Player Position Sample Icon UI |
| None | Entity | miniMapBTeamIcon0 | Minimap Team B Player Position Sample Icon UI |
| None | SyncTable<string, number> | mapInfo | Variable table that contains the in-game map size and minimap panel size information. (Information Item: Left, Right, Top, Bottom, Width, Height) The 'key' value contains the map information item, and the 'value' contains the value corresponding to the item. |

#### Method

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | ResultScreenUpdate | Function that displays the results window corresponding to the game results. |
| client | void | InGameTimerUIUpdate | Function that displays the in-game timer in the UI. |
| client | void | TargetGageUIUpdate | Function that displays the Gauge UI when the player interacts with the hole. |
| client | void | InteractionUIUpdate | Function that updates the Interaction Guide UI when the player is able to interact with another entity. |
| client | void | TeamBHpUIUpdate | Function that updates the Scrolling UI with the HP of Team B players whenever it changes. |
| client | void | TeamBInfoUIUpdate | Function that updates the Scrolling UI with the basic information (avatar, nickname) of the Team B players. |
| client | void | TeamBListUIUpdate | Function that sets the scroll layout of Team B players. |
| client | void | TargetListUpdate | Function that displays the number of holes to be blocked in the UI. |
| client | void | EmoticonListUpdate | Function updates the Emoji list in the UI according to the PC or Mobile environment. |
| client | void | MinimapSetUIUpdate | Function that stores the map information in the mapinfo table and updates the minimap background in the UI. |
| client | void | MinimapPlayerUIUpdate | Function that refreshes the player's position on the minimap. |
| client | void | MinimapTargetUIUpdate | Function that refreshes the hole position on the minimap. |

#### Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | [entity] EBtn(/ui/003_InGameGroup/Mobile_only_UI/EBtn) | ButtonClickEvent | Button click event that opens the emoji panel on mobile. |
| client only | [entity] ChatAndEmoOffBtn(/ui/003_InGameGroup/ChatAndEmoOffBtn) | ButtonClickEvent2 | Button click event that causes the emoji panel to close when the player touches anywhere outside the mobile emoji panel. |

Update 2025-11-17 PM 08:15


# 004_Outro

# OutroManager

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | SyncTable<string, number> | playerOutroTime | Manages the result check time per player. The 'key' is the PlayerId, and the 'value' is the result check time value. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| server only | void | OutroTimerSet | Function that calls the timer for result check time. Moves the players to the lobby when the time is up. |
| server | void | MoveToLobby | Function that moves the players to the lobby. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| client only | [entity] NextPhaseBtn (/ui/004_OutroGroup/ResultFrame/PageControllers/NextPhaseBtn) | ButtonClickEvent | Call the MoveToLobby() function to move the players to the lobby when the button is clicked. |

# OutroUI

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity | outroTimer | Timer Number UI. |
| None | Entity | resultUI | The UI that displays the win/loss image. |
| None | Entity | getRankPointUI | Ranking Point UI. |
| None | Entity | getMoneyUI | Goods UI. |
| None | Entity | playerAvatarUI | Avatar UI. |
| None | Entity | nickNameTxtUI | Nickname UI. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | outroTimerUI | Function that displays the result check time in the UI. |
| client | void | outroGameResultUI | Function that displays the win/loss result and changes the facial expression of the UI avatar. |
| client | void | outroGetRankPointUI | Function that displays the ranking point based on game results in the UI. |
| client | void | outroGetMoneyUI | Function that displays the goods acquired based on the result of the game in the UI. |

# InGameInfo

Component that manages the entire intro, in-game, and outro systems.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | string | ingameMapName | Stores randomly assigned in-game map names. |
| None | SyncTable<string, number> | playerTeamNumber | Stores the player's team number. The 'key' is the PlayerId, and the 'value' is the value of the player's team number. |
| None | SyncTable<string, number> | playerNumber | The player's team number. |
| None | SyncTable<string, boolean> | playerLoadingCheck | Checks that the players are in-game. |
| None | number | playerCount | Stores the number of people matched in the game. |
| None | string | winnerTeam | Stores the winning team at the end of the game. |
| None | number | aTeamNum | The number of players on Team A. |
| None | number | bTeamNum | The number of players on Team B. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| server only | void | GetGameReward | Calls a function that checks the game results and stores the values of goods and link points. |

#### Entity Event Handler

| Execution Space Control | Event Relayer | Name | Description |
| --- | --- | --- | --- |
| server only | RoomService | PlayerTeamSetEvent | Stores the player's team number and in-team number. |
| server only | RoomService | InGameSetEvent | Stores randomly assigned in-game map names and the number of users matched. |

Update 2025-11-17 PM 08:15


# Broadcast

# BroadcastLogic

Logic that manages the system's message system.

#### Property

| Synchronization | Type | Name | Description |
| --- | --- | --- | --- |
| None | Entity | broadcastSType | Small Message UI. |
| None | Entity | broadcastLType | Large Message UI. |
| None | SyncTable | sTypeMessageTable | Message that uses the BroadcastPanel_S. |
| None | SyncTable | lTypeMessageTable | Message that uses the BroadcastPanel_L. |
| None | boolean | sTypeBroadcastOn | Checks that BroadcastPanel_S is in use. |
| None | boolean | lTypeBroadcastOn | Checks that BroadcastPanel_L is in use. |

#### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | BroadCastMessageLocalization | Function that performs the localization before entering a message. |
| client | void | BroadCastMessageIn | Function that checks whether a system message can be called. |
| client | void | PlayingMessage | Function that calls a message corresponding to the type and displays it in the UI. |

# SoundLogic

Logic that calls the various sound effects.

### Function

| Execution Space Control | Type | Name | Description |
| --- | --- | --- | --- |
| client | void | HitSound | Logic that calls the various hit sound effects. |
| client | void | TargetEndSound | Function that calls the sound effect when the hole is blocked. |
| client | void | GameResultSound | Function that calls sound effects based on the game results. |
| client | void | SystemMessageSound | Functions that call the system message sound effects. |
| client | void | HurtSound | Function that calls the sound effects based on the location of the injured player. |
| client | void | ClockSound | Function that calls clock sound effects based on a given type. |
| client | void | DeathSound | Function that calls the sound effects based on the location of the dead player. |

Update 2025-11-17 PM 08:15

